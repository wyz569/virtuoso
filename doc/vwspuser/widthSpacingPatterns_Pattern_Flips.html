
<html><head><title>Pattern Flips</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="komal" />
<meta name="CreateDate" content="2023-10-19" />
<meta name="CreateTime" content="1697769947" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Design Rule Driven software that provides feedback regarding design constraint violations" />
<meta name="DocTitle" content="Virtuoso Width Spacing Patterns User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Pattern Flips" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vwspuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-19" />
<meta name="ModifiedTime" content="1697769947" />
<meta name="NextFile" content="widthSpacingPatterns_Width_Spacing_Pattern_Support_in_Virtuoso_Tools.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="widthSpacingPatterns.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Width Spacing Patterns User Guide -- Pattern Flips" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Assisted Space-Based Routing" />
<meta name="prod_subfeature" content="Width Spacing Pattern Editor" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vwspuserIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vwspuserTOC.html">Contents</a></li><li><a class="prev" href="widthSpacingPatterns.html" title="Width Spacing Patterns">Width Spacing Patterns</a></li><li style="float: right;"><a class="viewPrint" href="vwspuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="widthSpacingPatterns_Width_Spacing_Pattern_Support_in_Virtuoso_Tools.html" title="Width Spacing Pattern Support in Virtuoso Tools">Width Spacing Pattern Support  ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Width Spacing Patterns User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:Pattern_Flips" title="Pattern Flips"></a><h2>
<a id="pgfId-1106075"></a><a id="66250"></a>P<a id="wspPatternFlipping"></a>attern Flips</h2>

<p>
<a id="pgfId-1106076"></a>In a standard WSP grid, the pattern offset is always relative to the bottom-left edge of a region and the pattern tracks are applied toward the top-right edge of the region. This is also referred to as <em>stepping</em>. </p>
<p>
<a id="pgfId-1106077"></a>A common placement strategy flips instances in alternating rows so that they can share a common power or ground rail. This strategy requires that routing tracks for these instances be flipped in the same manner. </p>
<p>
<a id="pgfId-1106078"></a>The following example has three rows of devices. The devices in the middle row are flipped. This allows the middle row to share the power rail with the row below it and share the ground rail with the row above it. </p>

<p>
<a id="pgfId-1106091"></a></p>
<div class="webflare-div-image">
<img width="668" height="297" src="images/widthSpacingPatterns-5.gif" /></div>

<p>
<a id="pgfId-1106092"></a>A common usage model is to define the WSP period to match the row height. If this model was used for the example above, the figure would represent three periods. The tracks in the middle region must be flipped so that they align with the existing wires in the instance master. </p>
<p>
<a id="pgfId-1106093"></a>Pattern flipping can be applied to the global grid or to a pattern region and is set with reference to the<em> first period</em>. The first period can be flipped or not flipped, as specified by the <em>repeat mode</em>, and all other periods alternate accordingly. </p>

<h3>
<a id="pgfId-1106094"></a>Identification of the First Period</h3>

<ul><li>
<a id="pgfId-1106095"></a>For global grids, the first period is anchored by the offset reference. Usually this is the period closest to the bottom-left edge of the PR boundary or origin axis, unless the global grid offset is larger than one period. <ul><li>
<a id="pgfId-1106096"></a>Consider a cellview with a vertical global grid (horizontal tracks) where the offset reference is &quot;boundary&quot; and the global grid offset is 10nm. The bottom edge of the first period is 10nm above the bottom edge of the PR boundary.<br /><ffi2-fig-frame-in-2 id="#id1106822">
<a id="pgfId-1106822"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="606" height="297" src="images/widthSpacingPatterns-6.gif" /></div></li><li>
<a id="pgfId-1106097"></a>Consider a cellview with its global grid offset reference set to &quot;origin&quot; and a horizontal grid direction (vertical tracks). If the global grid offset is zero, then the period with the left edge at the vertical origin axis is the first period.<br /><ffi2-fig-frame-in-2 id="#id1106977">
<a id="pgfId-1106977"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="606" height="307" src="images/widthSpacingPatterns-7.gif" /></div></li></ul></li><li>
<a id="pgfId-1106098"></a>For regions, the first period is at the bottom-left of the region shape.</li></ul>












<h3>
<a id="pgfId-1106125"></a>Repeat Modes</h3>

<p>
<a id="pgfId-1107217"></a>Repeat modes determine how a pattern is interpreted for use in adjacent periods. The allowed and default repeat modes are specified on a <h-hot><a actuate="user" class="URL" href="../ascitechfile/chap4.html#wsp_widthSpacingPattern" show="replace" xml:link="simple">widthSpacingPattern</a></h-hot>; the repeat mode can be specified in the layout on global grids and pattern regions.</p>
<p>
<a id="pgfId-1107219"></a>The allowed repeat mode attribute (<code>&#39;allowedRepeatMode</code>) indicates how a pattern is allowed to repeat when a region stretches across more than one period, and the default repeat mode attribute (<code>&#39;defaultRepeatMode</code>) is used to initialize the repeat mode on regions and global grids when they are first created. </p>
<p>
<a id="pgfId-1107214"></a>In a layout:</p>
<ul><li>
<a id="pgfId-1106150"></a>A repeat mode can be defined at the following two levels:<ul><li>
<a id="pgfId-1106151"></a>On a region: A region has a set of allowed patterns and a repeat mode can be specified for each pattern.</li><li>
<a id="pgfId-1106152"></a>On a global grid: Each global grid also has a set of allowed patterns and a repeat mode can be specified for each pattern. A global grid in a cellview is identified by a global <code>widthSpacingSnapPatternDef</code>. </li></ul></li><li>
<a id="pgfId-1106154"></a>A repeat mode defined on a global grid or a pattern region can be of one of the following types:<ul><li>
<a id="pgfId-1106155"></a><em>Stepped</em>: The pattern is the same in every period.</li><li>
<a id="pgfId-1106156"></a><em>Flipped Odd</em>: The pattern is flipped in every other period. The first period is not flipped.</li><li>
<a id="pgfId-1106157"></a><em>Flipped Even</em>: The pattern is flipped in every other period. The first period is flipped.</li></ul></li></ul>






<p>
<a id="pgfId-1106158"></a>A repeat mode is not inherited and does not have a look-up precedence. As a result, when the repeat mode of the global grid changes, the regions on that global grid are not affected. However, when a region with a pattern for which the repeat mode is set is copied, the repeat mode is also copied to the newly created region.</p>
<p>
<a id="pgfId-1106159"></a>The following example illustrates how a pattern in a region appears when &quot;even&quot; and &quot;odd&quot; flipped repeat modes are applied to the pattern:</p>

<p>
<a id="pgfId-1106228"></a></p>
<div class="webflare-div-image">
<img width="668" height="515" src="images/widthSpacingPatterns-8.gif" /></div>

<p>
<a id="pgfId-1106229"></a>When a starting color is assigned to the pattern, the starting color always applies to the bottom-most track in the pattern, regardless of whether the pattern is flipped or not. This ensures tracks have alternating colors across the cellview.</p>

<h4>
<a id="pgfId-1106230"></a>Patterns with Zero Offset</h4>

<p>
<a id="pgfId-1106231"></a>When a pattern has zero offset, the centerline of the first track is located on the period line or the bottom edge of the region. In a legal pattern, the height of the pattern needs to be compatible with the period and the height of the region. Therefore, a track at offset zero is also present on the top period line or the top region boundary. When a pattern with zero offset is flipped, the top and bottom tracks overlap and are merged into one single track. </p>
<p>
<a id="pgfId-1106232"></a>The following example illustrates how a pattern with zero offset appears when &quot;even&quot; and &quot;odd&quot; flipped repeat modes are applied to the pattern in a region:</p>

<p>
<a id="pgfId-1148945"></a><a id="17423"></a><a id="84714"></a></p>
<div class="webflare-div-image">
<img width="668" height="503" src="images/widthSpacingPatterns-9.gif" /></div>
<h4><em>
<a id="pgfId-1148949"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1148711"></a><a href="widthSpacingPatterns_Width_Spacing_Pattern_Support_in_Virtuoso_Tools.html#59562">Width Spacing Pattern Support in Virtuoso Tools</a></p>
<p>
<a id="pgfId-1149631"></a><a href="widthSpacingPatterns.html#46850">Width Spacing Patterns</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="widthSpacingPatterns.html" id="prev" title="Width Spacing Patterns">Width Spacing Patterns</a></em></b><b><em><a href="widthSpacingPatterns_Width_Spacing_Pattern_Support_in_Virtuoso_Tools.html" id="nex" title="Width Spacing Pattern Support in Virtuoso Tools">Width Spacing Pattern Support  ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>