
<html><head><title>Guidelines for Current Return Path in Models that Use Clarity 3D Solver</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="deeptig" />
<meta name="CreateDate" content="2023-10-23" />
<meta name="CreateTime" content="1698056977" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Electromagnetic Solver Assistant for Virtuoso RF Solution" />
<meta name="DocTitle" content="Virtuoso Electromagnetic Solver Assistant User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Guidelines for Current Return Path in Models that Use Clarity 3D Solver" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="emAssistant" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-23" />
<meta name="ModifiedTime" content="1698056977" />
<meta name="NextFile" content="chap1a_tk_Specifying_Ports_for_Clarity_Models_in_Package_Layout.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design,Custom IC Design" />
<meta name="PrevFile" content="chap1a_tk_Grouping_Ports_Created_for_Clarity_Models.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Cross-Platform Solutions" />
<meta name="Product" content="Virtuoso Layout Suite,Virtuoso System Design Environment" />
<meta name="ProductFamily" content="Virtuoso Layout Suite,Cross-Platform Solutions" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Electromagnetic Solver Assistant User Guide -- Guidelines for Current Return Path in Models that Use Clarity 3D Solver" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Virtuoso Electromagnetic Simulations" />
<meta name="prod_subfeature" content="S-Parameter Model Setup" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="emAssistantIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="emAssistantTOC.html">Contents</a></li><li><a class="prev" href="chap1a_tk_Grouping_Ports_Created_for_Clarity_Models.html" title="Grouping Ports Created for Clarity Models">Grouping Ports Created for Cla ...</a></li><li style="float: right;"><a class="viewPrint" href="emAssistant.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap1a_tk_Specifying_Ports_for_Clarity_Models_in_Package_Layout.html" title="Specifying Ports for Clarity Models in Package Layout">Specifying Ports for Clarity M ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Electromagnetic Solver Assistant User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:ct_Guidelines_for_Current_Return_Path_in_Models_that_Use_Clarity_3D_Solver" title="Guidelines for Current Return Path in Models that Use Clarity 3D Solver"></a><h2>
<a id="pgfId-1269441"></a><a id="45441"></a>Guidelines for Current Return Path in Models that Use Clarity 3D Solver</h2>

<p>
<a id="pgfId-1270672"></a>You can specify the current return path for a model in the <em>Current Return Path</em> field on the <em>Selection</em> tab of the Electromagnetic Solver assistant. The current return path is an important consideration when deciding about the approach to create ports for a model. </p>
<p>
<a id="pgfId-1270998"></a>If you know where to place the negative edges of the ports and you want full control on the ports, choose <em>Local Reference</em> on the <em>Selection</em> tab. You can begin with automatic port generation, but you can modify the settings or create new ports as per your requirements.</p>
<p>
<a id="pgfId-1271045"></a>If you are not sure about the negative edges of ports, and you want Layout MXL to automatically identify the current return, ensure that the model can be enclosed in a perfectly conducting box on all sides, and choose <em>PEC Ground Ring</em> and proceed with automatic port generation.</p>
<p>
<a id="pgfId-1270021"></a>You can consider the following guidelines while choosing a current return path:</p>
<ul><li>
<a id="pgfId-1269465"></a>The <code>Local Reference</code> current return path can be used in all possible cases and there is no limitation for the length and alignment of port extensions, but you need to find the correct ground for each port by connecting it to the real ground metal or plane below it or next to it.</li><li>
<a id="pgfId-1269442"></a>The <em>PEC Ground Ring</em> option works best for simple passives, such as inductors, when the instances can be placed within a boundary. Placing port extensions might not be feasible in complex scenarios because extensions that cross over each other or other metals can result in shorts.</li><li>
<a id="pgfId-1269443"></a>Clarity 3D Solver supports only rectangular deembedding zones. When choosing <em>PEC Ground Ring</em>, ensure that all the ports are aligned to the boundary with the same length and the same starting point. Otherwise, deembedding is not perfect. If the above-mentioned requirements are not met, it is recommended to choose <em>Local Reference</em> as the current return path. <br />
<a id="pgfId-1269444"></a>Consider the following example where the left port for the upper instance needs to be placed on the left boundary edge even if it is far away from the instance.<br />
<a id="pgfId-1269448"></a><div class="webflare-div-image">
<img width="668" height="502" src="images/chap1a-38.gif" /></div>
<a id="pgfId-1269449"></a>When deembedding is done for the above example, the cutting zones are properly placed in such a way that only port extensions are eliminated from the model, as shown below.<br />
<a id="pgfId-1269453"></a><div class="webflare-div-image">
<img width="668" height="427" src="images/chap1a-39.gif" /></div>
<a id="pgfId-1269454"></a>If the port extensions are of different sizes, the deembedding zone needs to be wide enough to cover the longest port extension of one device. In that case, there are chances that the cutting zones cover a part of real geometry of other devices, as shown in the example given below.<br />
<a id="pgfId-1269458"></a><div class="webflare-div-image">
<img width="668" height="666" src="images/chap1a-40.gif" /></div>
<a id="pgfId-1269459"></a>This is not a desired case. The deembedding zone is a zone where the effect of port extensions is calculated and removed from the model. If a real geometry is falling in the deembedding zone or cutting zone, as shown above, it results into the loss of the device details from the model. Only the effect of a part of device that is falling in the non-cutting zone is considered for model creation.<br />
<a id="pgfId-1269460"></a>Therefore, it is necessary to create the model in such a way that the cutting zones correctly overlap the port extensions on all sides, as shown in the figure given below. <br />
<a id="pgfId-1269464"></a><div class="webflare-div-image">
<img width="668" height="777" src="images/chap1a-41.gif" /></div></li></ul>






















<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap1a_tk_Grouping_Ports_Created_for_Clarity_Models.html" id="prev" title="Grouping Ports Created for Clarity Models">Grouping Ports Created for Cla ...</a></em></b><b><em><a href="chap1a_tk_Specifying_Ports_for_Clarity_Models_in_Package_Layout.html" id="nex" title="Specifying Ports for Clarity Models in Package Layout">Specifying Ports for Clarity M ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>