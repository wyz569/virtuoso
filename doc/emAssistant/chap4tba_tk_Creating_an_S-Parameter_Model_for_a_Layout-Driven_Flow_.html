
<html><head><title>Creating an S-Parameter Model for a Layout-Driven Flow</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="deeptig" />
<meta name="CreateDate" content="2023-10-23" />
<meta name="CreateTime" content="1698056994" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Electromagnetic Solver Assistant for Virtuoso RF Solution" />
<meta name="DocTitle" content="Virtuoso Electromagnetic Solver Assistant User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Creating an S-Parameter Model for a Layout-Driven Flow" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="emAssistant" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-23" />
<meta name="ModifiedTime" content="1698056994" />
<meta name="NextFile" content="chap4tba_tk_Extracting_Models_for_a_Cross-Fabric_Design.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design,Custom IC Design" />
<meta name="PrevFile" content="chap4tba_tk_Creating_an_S-Parameter_Model_for_the_Complete_Layout_Passive_Devices_.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Cross-Platform Solutions" />
<meta name="Product" content="Virtuoso Layout Suite,Virtuoso System Design Environment" />
<meta name="ProductFamily" content="Virtuoso Layout Suite,Cross-Platform Solutions" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Electromagnetic Solver Assistant User Guide -- Creating an S-Parameter Model for a Layout-Driven Flow" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="task" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Virtuoso Electromagnetic Simulations" />
<meta name="prod_subfeature" content="Extracted View,S-Parameter View" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="emAssistantIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="emAssistantTOC.html">Contents</a></li><li><a class="prev" href="chap4tba_tk_Creating_an_S-Parameter_Model_for_the_Complete_Layout_Passive_Devices_.html" title="Creating an S-Parameter Model for the Complete Layout (Passive Devices)">Creating an S-Parameter Model  ...</a></li><li style="float: right;"><a class="viewPrint" href="emAssistant.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap4tba_tk_Extracting_Models_for_a_Cross-Fabric_Design.html" title="Extracting Models for a Cross-Fabric Design">Extracting Models for a Cross- ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Electromagnetic Solver Assistant User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:tk_Creating_an_S-Parameter_Model_for_a_Layout-Driven_Flow_" title="Creating an S-Parameter Model for a Layout-Driven Flow"></a><h2>
<a id="pgfId-1263339"></a><a id="45283"></a>Creating an S-Parameter Mod<a id="blackbox"></a>el for a Layout-Driven Flow </h2>
<p>
<a id="pgfId-1263340"></a>When you do not have a schematic or the connectivity information in the schematic is incomplete, you can run the layout-driven flow in which the entire information is taken from the layout. After the model is simulated, you can use the S-parameter file to create a schematic view that you can use to run simulations.</p>
<p>
<a id="pgfId-1263341"></a>To create models in this scenario, you can use the full cellview and exclude the instances of active cells, such as MOSFET, NFET, PFET, or BJT. When you exclude these instances, automatic port generation creates ports on all the pins of the excluded cells.</p>
<p>
<a id="pgfId-1263342"></a>To create a model for a layout-driven flow:</p>

<ol><li>
<a id="pgfId-1263343"></a>Open the layout view in Virtuoso Layout MXL and set the workspace to <code>Electromagnetic</code>.</li><li>
<a id="pgfId-1263344"></a>Select <em>Extract Full Cellview</em> in the Electromagnetic Solver assistant.<br />
<a id="pgfId-1263345"></a>The default list of instances, nets, and referenced models is removed from the <em>Selection</em> tab.</li><li>
<a id="pgfId-1263346"></a>Click <em>Edit the list of excluded cells</em>.<br />
<a id="pgfId-1263354"></a><div class="webflare-div-image">
<img width="607" height="368" src="images/chap4tba-25.gif" /></div>
<a id="pgfId-1263355"></a>The tool looks for the cells that have a symbol view and displays their names in the <em>Excluded Cells</em> list.<br />
<a id="pgfId-1263359"></a><div class="webflare-div-image">
<img width="607" height="368" src="images/chap4tba-26.gif" /></div></li><li>
<a id="pgfId-1263360"></a>Select the check boxes to the left of the cell names that you need to exclude from the model.<br />
<a id="pgfId-1263361"></a>Alternatively, press <code>Ctrl</code> and click the names of all the cells to be excluded. Next, right-click and choose <em>Check</em>.</li><li>
<a id="pgfId-1263362"></a>After the selection of the cells to be excluded is complete, click anywhere out of this list to complete editing of the list.<br />
<a id="pgfId-1263363"></a>The <em>Excluded Cells</em> list shows all the cells you selected.</li><li>
<a id="pgfId-1263364"></a>(Optional) Click <em>Select cut type</em> to choose a shape for the cutting boundary and create a boundary to define the area to be used in the model.<br />
<a id="pgfId-1263368"></a><div class="webflare-div-image">
<img width="607" height="124" src="images/chap4tba-27.gif" /></div></li><li>
<a id="pgfId-1263369"></a>Click <em>Highlight shapes inside the cutting boundary except those in excluded cells </em>and verify the shapes on the layout canvas. <br />
<a id="pgfId-1263373"></a><div class="webflare-div-image">
<img width="663" height="496" src="images/chap4tba-28.gif" /></div></li><li>
<a id="pgfId-1263374"></a>Click <em>Automatically generate ports</em> on the <em>Ports</em> tab to generate ports for the cells in the model. <br />
<a id="pgfId-1263375"></a>The tool uses the general rules to create ports for the included devices. <br />
<a id="pgfId-1263376"></a>For excluded cells, it creates a port at each pin of an excluded cell. In the example below, ports are created at all three pins of <code>mos_wrapper1</code>.<br />
<a id="pgfId-1263380"></a><div class="webflare-div-image">
<img width="657" height="474" src="images/chap4tba-29.gif" /></div></li><li>
<a id="pgfId-1263381"></a>(Optional) Specify options on the <em>Pre-Process</em> tab to run shape simplification.</li><li>
<a id="pgfId-1263382"></a>Generate and view mesh.</li><li>
<a id="pgfId-1263383"></a>Run simulation for the model.<br />
<a id="pgfId-1263384"></a>After the simulation is run successfully, the status of the model is changed to <code>done</code> and the path to the S-parameter file is displayed on the <em>Results</em> tab.</li><li>
<a id="pgfId-1263385"></a>Click <em>Create Simulation Schematic</em> to create a schematic using the S-Parameters.<br />
<a id="pgfId-1263386"></a>The Create Simulation Schematic form is displayed.<br />
<a id="pgfId-1263390"></a><div class="webflare-div-image">
<img width="586" height="170" src="images/chap4tba-30.gif" /></div></li><li>
<a id="pgfId-1263391"></a>Specify a name for the new schematic view to be created and click <em>OK</em>.<br />
<a id="pgfId-1263392"></a>Virtuoso creates a new schematic cellview and adds it to the library. You can open it from the Library Manager.<br />
<a id="pgfId-1263396"></a><div class="webflare-div-image">
<img width="661" height="482" src="images/chap4tba-31.gif" /></div>
<a id="pgfId-1265486"></a>This schematic contains an instance of the S-parameter port and symbols for the excluded cells. The schematic pins are created only for the layout pins that have a port. If common node net exists and is not set to <code>gnd!</code>, a pin is created. <br />
<a id="pgfId-1263397"></a>Conversely, if a pin on a schematic symbol has no port defined, it is connected to a net that has the <code>EMX</code> property set. When a schematic symbol pin has no corresponding S-parameter port, check the EMX string property on the corresponding excluded instance in the layout. The property should be in the format pinName1=netName1 pinName2=netName2. For example, B=GND, which means you can connect pin B of the schematic symbol to the net GND. Once the property is found, check if the pin name is listed in the property. If it is, connect it to the net specified in the property. If there is no property on the instance or the pin is not part of the property, the pin is connected to the same net as the nport common node.</li></ol>




















































<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap4tba_tk_Creating_an_S-Parameter_Model_for_the_Complete_Layout_Passive_Devices_.html" id="prev" title="Creating an S-Parameter Model for the Complete Layout (Passive Devices)">Creating an S-Parameter Model  ...</a></em></b><b><em><a href="chap4tba_tk_Extracting_Models_for_a_Cross-Fabric_Design.html" id="nex" title="Extracting Models for a Cross-Fabric Design">Extracting Models for a Cross- ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>