
<html><head><title>Extracting Models for a Cross-Fabric Design</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="deeptig" />
<meta name="CreateDate" content="2023-10-23" />
<meta name="CreateTime" content="1698056996" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Electromagnetic Solver Assistant for Virtuoso RF Solution" />
<meta name="DocTitle" content="Virtuoso Electromagnetic Solver Assistant User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Extracting Models for a Cross-Fabric Design" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="emAssistant" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-23" />
<meta name="ModifiedTime" content="1698056996" />
<meta name="NextFile" content="chap_CPDA.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design,Custom IC Design" />
<meta name="PrevFile" content="chap4tba_tk_Creating_an_S-Parameter_Model_for_a_Layout-Driven_Flow_.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Cross-Platform Solutions" />
<meta name="Product" content="Virtuoso Layout Suite,Virtuoso System Design Environment" />
<meta name="ProductFamily" content="Virtuoso Layout Suite,Cross-Platform Solutions" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Electromagnetic Solver Assistant User Guide -- Extracting Models for a Cross-Fabric Design" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="task" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Virtuoso Electromagnetic Simulations" />
<meta name="prod_subfeature" content="Extracted View,Cross-Fabric Simulation" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="emAssistantIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="emAssistantTOC.html">Contents</a></li><li><a class="prev" href="chap4tba_tk_Creating_an_S-Parameter_Model_for_a_Layout-Driven_Flow_.html" title="Creating an S-Parameter Model for a Layout-Driven Flow">Creating an S-Parameter Model  ...</a></li><li style="float: right;"><a class="viewPrint" href="emAssistant.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap_CPDA.html" title="Authoring Custom Passive Devices">Authoring Custom Passive Devic ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Electromagnetic Solver Assistant User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:tk_Extracting_Models_for_a_Cross-Fabric_Design" title="Extracting Models for a Cross-Fabric Design"></a><h2>
<a id="pgfId-1263400"></a><a id="89843"></a>Extracting Models for a Cross-<a id="multiFabric"></a>Fabric Design</h2>

<p>
<a id="pgfId-1263401"></a>Cross-fabric extraction allows you to create a model across IC, package and board. This lets you capture the full coupling between fabrics in a single 3D simulation. Virtuoso Layout MXL takes care of all the work normally involved in combining IC and package geometry into a merged model.</p>
<p>
<a id="pgfId-1263403"></a>You can read a blog on this feature <h-hot><a actuate="user" class="URL" href="https://community.cadence.com/cadence_blogs_8/b/cic/posts/virtuoso-meets-maxwell-cross-fabric-em-extraction" show="replace" xml:link="simple">here</a></h-hot>.</p>
<p>
<a id="pgfId-1263404"></a>The Electromagnetic Solver assistant allows you to extract models for a cross-fabric design using Clarity 3D Solver simulator. The objective is to pick objects from different fabrics and generate a common model for them.</p>
<p>
<a id="pgfId-1263406"></a>A cross-fabric extraction typically runs on a layout cellview that contains at least two different fabrics. Multiple fabrics of either of the IC, package, module, or a board type can be stacked up. Each fabric can have its own technology database and can be connected with other fabrics using balls, bumps, or wirebonds.</p>
<p>
<a id="pgfId-1263407"></a>The following diagram shows an example of a layer stack containing two fabrics where the IC on top is flipped and connected using bumps:</p>

<p>
<a id="pgfId-1263411"></a></p>
<div class="webflare-div-image">
<img width="666" height="632" src="images/chap4tba-32.gif" /></div>

<p>
<a id="pgfId-1263412"></a>In your designs, you can have ICs that are not flipped and are attached using bond wires, as shown in the following example.</p>

<p>
<a id="pgfId-1263416"></a></p>
<div class="webflare-div-image">
<img width="666" height="660" src="images/chap4tba-33.gif" /></div>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1263417"></a>
Currently, Virtuoso Layout MXL does not support multiple instances of a fabric placed side-by-side on the outer fabric. This feature works only on a vertical stack of fabrics.</div>

<p>
<a id="pgfId-1263418"></a>For a cross-fabric model extraction in Virtuoso, you begin with the board layout cellview, which is the top fabric or cellview. The board contains an abstract instance of a package TILP Pcell. The package would further contain an abstract instance of an IC layout or another module. There can be various such layers depending on your design.</p>
<p>
<a id="pgfId-1263419"></a>Each of the package, module, or IC layouts have their own models. For a cross-fabric design, the objective is to extract a model for the outer-most fabric. Each fabric in the stack would reference the models of other fabrics placed within it. For example, the package would reference the model for the IC instantiated in it.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1263420"></a>
For cross-fabric extraction, it is required that the top-level fabrics in the design refer the models of the lower-level fabrics instantiated in them. Therefore, it is essential to follow the <strong>bottom-up approach for model creation</strong>. For example, create a model for an IC, which is referenced in the model for a package, which is further referenced in the model for a board.</div>

<p>
<a id="pgfId-1263421"></a>If you have a layer stack ready for extraction, ensure that the following prerequisites are met:</p>
<ul><li>
<a id="pgfId-1263422"></a>Each package and board fabric has a dielectric layer on top and bottom. If not already created, you can use the Layer Stack Editor command in the <em>RF-Module</em> menu to add dielectric layers.</li><li>
<a id="pgfId-1263423"></a>The height of the balls and bumps for each abstract instance equal to or higher than the height of the solder mask. You can use the Ball and Bump Editor command in the <em>RF-Module</em> menu to modify the dimensions.</li></ul>

<p>
<a id="pgfId-1263424"></a>Next, you can proceed with the steps given below to run model extraction for a cross-fabric design.</p>
<ol><li>
<a id="pgfId-1263425"></a>Open the outer-most fabric in Virtuoso Layout MXL.</li><li>
<a id="pgfId-1263427"></a>Choose <em>Module &#8211; Edit-in-Concert</em> to enable the <a actuate="user" class="URL" href="../vrf/co_design.html#firstpage" show="replace" xml:link="simple">Co-Design mode</a> where you can view and edit die packages and their corresponding die layouts synchronously.<br />
<a id="pgfId-1263428"></a>The following example of a sample design shows the board layout along with the package, and die layouts associated with it opened in the Co-Design mode.<br />
<a id="pgfId-1263432"></a><div class="webflare-div-image">
<img width="668" height="669" src="images/chap4tba-35.gif" /></div></li><li>
<a id="pgfId-1263433"></a>Identify the objects you want to include in the cross-fabric model. These objects could include one or more nets, or instances from this layout.</li><li>
<a id="pgfId-1263434"></a>If required, create a cutting boundary to define the area to be considered for this fabric.<br />
<a id="pgfId-1263435"></a>You can create cutting boundaries at any level in a cross-fabric model. The cutting boundary for any level defines the region to be used for the fabric at that level. However, the cutting boundary defined for the top-most fabric again cuts through all the fabrics in the design.</li><li>
<a id="pgfId-1263436"></a>Following the bottom-up approach, open the layout of the lowest fabric and define a model using the required objects from this layout.<br />
<a id="pgfId-1263437"></a>You can use the select one or more objects on the <em>Selection</em> tab to highlight all the objects on different fabrics.<br />
<a id="pgfId-1263438"></a>For the example design shown above, if you select an inductor, two bumps, one MIMCAP, and three nets to be included in a model, the setup appears as shown below.<br />
<a id="pgfId-1263442"></a><div class="webflare-div-image">
<img width="668" height="575" src="images/chap4tba-36.gif" /></div></li><li>
<a id="pgfId-1263443"></a>Ensure that you choose the Clarity 3D Solver simulator for model generation. <br />
<a id="pgfId-1263444"></a>Only Clarity 3D models with the <em>Current Return Path</em> set as <code>Local Reference</code> can be referenced from other models.</li><li>
<a id="pgfId-1263445"></a>Create and validate ports.</li><li>
<a id="pgfId-1263446"></a>Focus on the layout view for the fabric above the previous one and do the following:<ol><li>
<a id="pgfId-1263447"></a>Create a new model and choose the <code>Clarity</code> simulator.</li><li>
<a id="pgfId-1263448"></a>Select objects to be included from this layout.</li><li>
<a id="pgfId-1263452"></a>Click the die abstract and click <img width="31" height="24" src="images/chap4tba-37.gif" />
 on the <em>Selection</em> tab of Electromagnetic Solver assistant.<br />
<a id="pgfId-1263453"></a>The Select EM Models form is displayed. All the models that can be referenced for the selected die abstract are listed in this form.<br /><ffi2-fig-frame-in-2 id="#id1263457">
<a id="pgfId-1263457"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="523" src="images/chap4tba-38.gif" /></div>
<a id="pgfId-1263458"></a>If the list of EM models is empty, ensure that the models you want to reference are using the Clarity 3D simulator and have the <em>Current Return Path</em> set as <code>Local Reference</code>.</li><li>
<a id="pgfId-1263459"></a>Select a model to be included for the die abstract.</li><li>
<a id="pgfId-1263460"></a>Click <em>OK</em>.<br />
<a id="pgfId-1263461"></a>The selected model is shown in the <em>Referenced Models</em> tree on the <em>Selection</em> tab of the Electromagnetic Solver assistant, as shown below.<br /><ffi2-fig-frame-in-2 id="#id1263465">
<a id="pgfId-1263465"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="532" src="images/chap4tba-39.gif" /></div></li></ol></li><li>
<a id="pgfId-1263466"></a>Similarly, create models for all fabrics in the design and add reference for the die abstracts to be included in the model.</li><li>
<a id="pgfId-1263467"></a>After defining the model at the top level, choose<em> Simulation &#8211; Create and Edit</em> to extract a <code>.clf</code> file and send it to Clarity 3D Solver.<br />
<a id="pgfId-1263468"></a>During this step, Virtuoso processes the selected shapes according to the settings given in the models. For example, it merges the IC stack, which appears as one in the Layer Manager in Clarity 3D Solver.</li><li>
<a id="pgfId-1263469"></a>Enable the 3D view in Clarity 3D window, and validate the fabric layers and selected objects. <br />
<a id="pgfId-1263470"></a>For the above example, the 3D view of the model appears as shown below.<br />
<a id="pgfId-1263474"></a><div class="webflare-div-image">
<img width="668" height="510" src="images/chap4tba-40.gif" /></div></li><li>
<a id="pgfId-1263475"></a>Run simulation in Clarity 3D Layout to create n-ports that are saved in an S-param touchstone file.<br />
<a id="pgfId-1263476"></a>The touchstone file produced by cross-fabric EM simulation contains a header with all nets and instances from all fabrics. </li><li>
<a id="pgfId-1263477"></a>Review the resulting ports on the <em>Results</em> tab of the Electromagnetic Solver assistant and proceed with the creation of an extracted view as explained in <a href="chap4tba_tk_Creating_Extracted_Views_from_Models.html#24512">Creating Extracted Views from Models</a> that you can use to run simulations in Virtuoso ADE Assembler.<br />
<a id="pgfId-1263481"></a>
<a id="pgfId-1151814"></a></li></ol>



















































<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap4tba_tk_Creating_an_S-Parameter_Model_for_a_Layout-Driven_Flow_.html" id="prev" title="Creating an S-Parameter Model for a Layout-Driven Flow">Creating an S-Parameter Model  ...</a></em></b><b><em><a href="chap_CPDA.html" id="nex" title="Authoring Custom Passive Devices">Authoring Custom Passive Devic ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>