
<html><head><title>Creating Fluid Guard Rings (New GUI)</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="komal" />
<meta name="CreateDate" content="2023-10-07" />
<meta name="CreateTime" content="1696686745" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use the Fluid Guard Ring feature of Virtuoso Layout Suite" />
<meta name="DocTitle" content="Virtuoso Fluid Guard Ring User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Creating Fluid Guard Rings (New GUI)" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="fgrguide" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-07" />
<meta name="ModifiedTime" content="1696686745" />
<meta name="NextFile" content="createFGR.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="installFGR.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Fluid Guard Ring User Guide -- Creating Fluid Guard Rings (New GUI)" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="fgrguideIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="fgrguideTOC.html">Contents</a></li><li><a class="prev" href="installFGR.html" title="Installing Fluid Guard Rings">Installing Fluid Guard Rings</a></li><li style="float: right;"><a class="viewPrint" href="fgrguide.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="createFGR.html" title="Creating Fluid Guard Rings (Old GUI)">Creating Fluid Guard Rings (Ol ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Fluid Guard Ring User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>3
<a id="pgfId-1082893"></a></h1>
<h1>
<a id="pgfId-1103144"></a><hr />
<a id="93790"></a>Creating Fluid Guard Rings (New GUI)<hr />
</h1>

<p>
<a id="pgfId-1118506"></a>After you have installed a fluid guard ring (FGR) as a device class in the technology file, Virtuoso Layout Suite lets you create and edit the FGRs. For more information about FGR installation, see <a href="installFGR.html#93790">Installing Fluid Guard Rings</a>.</p>
<p>
<a id="pgfId-1108705"></a>You can create FGRs by using the wrap or interactive mode. You can also create FGRs as concentric rings.</p>
<p>
<a id="pgfId-1122897"></a>You can create fluid guard rings using the new GUI, <a href="formDesc.html#82061">Create Fluid Guard Ring Form (New GUI)</a>, which offers enhanced usability with a simplified and user-friendly interface which is a single-page GUI with intuitive option categorization. You can also specify the asymmetric enclosure for FGR layers. This functionality requires adding new FGR devices using the Install Guard Ring form.</p>
<p>
<a id="pgfId-1128435"></a>The new Create Guard Ring functionality also supports advanced constraints that ensure creation of a DRC-compliant guard ring by getting the correct contact spacing from the appropriate constraint. Additionally, the <code>.xfgrRules</code> file lets you override constraint precedence, updating the default values of the device parameters, and adding the attributes to enable the auto FGR functionality without updating the technology file.</p>
<p>
<a id="pgfId-1123086"></a>You can dynamically view all the shapes of an FGR while creating, stretching, or splitting it. For more information, see <a href="createxFGR.html#69641">Technology Rules Applied During Fluid Guard Ring Creation</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1099096"></a>Ensure that the <em>Display Stop Level </em>(<em>Options &#8211; Display</em>) is set to a value higher than <code>0</code> for viewing FGR layers. At <em>Stop Level</em> <code>0</code>, an FGR is visible as an instance in the design.</div>

<h2>
<a id="pgfId-1128452"></a>Override the Default Values in the Install Guard Ring Form </h2>

<p>
<a id="pgfId-1128453"></a>You can use the<code> .xfgrRules</code> file to override the default values specified in the Install Guard Ring form for fluid guard ring devices. The <code>.xfgrRules</code> file is saved in the technology library. You can use <code>.xfgrRules</code> file to setup new functionalities, such as Auto FGR, and hide FGR devices from the Create Guard Ring form. You can also use this file to define device parameter defaults and constraints precedence order. </p>
<p>
<a id="pgfId-1128454"></a>The <code>.xfgrRules</code> file defines multiple device specifications that are used while creating an FGR. </p>

<h3>
<a id="pgfId-1128455"></a>Examples of <code>.xfgrRules</code> file</h3>

<p>
<a id="pgfId-1128456"></a>In the following example, the constraint precedence for cut spacing, metal enclosure, and diffusion enclosure are specified. Also, net name and contact spacing around cuts have been specified.</p>

<p>
<a id="pgfId-1128462"></a></p>
<div class="webflare-div-image">
<img width="667" height="224" src="images/createxFGR-2.gif" /></div>

<p>
<a id="pgfId-1128630"></a></p>
<p>
<a id="pgfId-1128632"></a></p>
<p>
<a id="pgfId-1128634"></a></p>
<p>
<a id="pgfId-1128636"></a></p>
<p>
<a id="pgfId-1128638"></a></p>
<p>
<a id="pgfId-1128640"></a></p>
<p>
<a id="pgfId-1128642"></a></p>
<p>
<a id="pgfId-1128644"></a></p>
<p>
<a id="pgfId-1128646"></a></p>
<p>
<a id="pgfId-1128648"></a></p>
<p>
<a id="pgfId-1128650"></a></p>
<p>
<a id="pgfId-1128652"></a></p>
<p>
<a id="pgfId-1128463"></a>In the following example, the device name specified in the first set of properties is (), which means that the constraint precedence is applicable to all devices in the current technology. Also, all device in the current technology are hidden because <code>vfoGRHideDeviceInForms</code> has been specified. </p>
<p>
<a id="pgfId-1128723"></a>The next set of properties specifies the constraint precedence for the device, <code>nFGR</code>. The default contact spacing order is specified in <code>contSpacingOrder</code>. The default metal enclosure order is specified in <code>metalEnclosureOrder</code>. The default diffusion enclosure order is specified in <code>diffusionEnclosureOrder</code>. The net name for <code>nFGR</code> is <code>VDD</code>. This value overwrites the value defined for all the devices above. Also, the <code>nFGR</code> device is visible in the Create Fluid Guard Ring form.</p>

<p>
<a id="pgfId-1128624"></a></p>
<div class="webflare-div-image">
<img width="668" height="293" src="images/createxFGR-3.gif" /></div>

<p>
<a id="pgfId-1128474"></a>Supported Constraint Orders, Parameters, and Attributes</p>
<p>
<a id="pgfId-1128475"></a>The following table lists the default constraint order for cut spacing, metal-cut enclosures, and diffusion-cut enclosures:</p>
<table class="webflareTable" id="#id1128476">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1128478">
<a id="pgfId-1128478"></a>Name</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1128480">
<a id="pgfId-1128480"></a>Default Order</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128482"></a><code>contSpacingOrder</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128926"></a><a href="../ascitechconstr/constr_via_re_minLargeViaArraySpacing.html">minLargeViaArraySpacing<br />minLargeNeighborViaArrayCutSpacing <br /></a><a href="../ascitechconstr/constr_via_re_minLargeViaArrayCutSpacing.html">minLargeViaArrayCutSpacing<br />minNeighborViaSpacing<br />viaSacing<br />minCutClassSpacing<br />minViaSpacing<br />minSpacing<br />mfgGridResolution</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128494"></a><code>metalEnclosureOrder</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128497"></a><a href="../ascitechconstr/constr_extension_re_minOppExtension.html">minOppExtension<br />minExtensionDistance</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1128500"></a><code>diffusionEnclosureOrder</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128504"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128507"></a><a href="../ascitechconstr/constr_extension_re_minOppExtension.html">minOppExtension<br />minExtensionDistance</a></p>
</td>
</tr>
</tbody></table>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1128509"></a>You can specify the constraints listed above in any order. </div>
<p>
<a id="pgfId-1128547"></a>The following table lists the supported parameters for the .<code>xfgrRules</code> file:</p>
<table class="webflareTable" id="#id1128510">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1128512">
<a id="pgfId-1128512"></a>Parameter Name</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1128514">
<a id="pgfId-1128514"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128516"></a><code>netName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128518"></a>Specifies connectivity to fluid guard ring</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128520"></a><code>xContSpacing</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128522"></a>Specifies the contact spacing</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128524"></a><code>xDiffEnclCont</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128526"></a>Specifies inside diffusion enclosure</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128528"></a><code>xFGRx2DiffEnclCont</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128530"></a>Specifies outside diffusion enclosure</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128532"></a><code>yDiffEnclCont</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128534"></a>Specifies diffusion enclosure on length side</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128536"></a><code>xMetEnclCont</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128538"></a>Specifies inside diffusion enclosure</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128540"></a><code>xFGRx2MetEnclCont</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128542"></a>Specifies outside diffusion enclosure</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128544"></a><code>yMetEnclCont</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128546"></a>Specifies metal enclosure on length side</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1128569"></a>The following table lists the supported attributes for the .<code>xfgrRules</code> file:</p>
<table class="webflareTable" id="#id1130913">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1128550">
<a id="pgfId-1128550"></a>Attribute Name</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1128552">
<a id="pgfId-1128552"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128554"></a><code>vfoAssociatedRings </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128556"></a>Associates secondary fluid guard rings to primary fluid guard rings</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128558"></a><code>vfoAssociatedDevices</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128560"></a>Associates Pcell devices to fluid guard rings</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1128562"></a><code>vfoGrHideDeviceInForms</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128566"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1128568"></a>Hides the FGR devices from the Create Fluid Guard Rins Form</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1130821"></a>If you enable the XFGR_ENHANCED_OUTERRING_ SUPPORT Shell environment variable, besides the devices section, the following additional sections are available in the .<code>xfgrRules</code> file:</p>
<ul><li>
<a id="pgfId-1132550"></a><code>deviceConf</code>: Lets you define the configurations corresponding to a device. For a device, there could be multiple device configurations which can be used. The <code>deviceConf</code> overrides the value if that is already defined in devices section for a device. </li><li>
<a id="pgfId-1131193"></a><code>virtualDevice</code>: Lets you define virtual devices and its outer rings.</li></ul>


<h3>
<a id="pgfId-1131397"></a>Example</h3>
<p>
<a id="pgfId-1132639"></a></p>
<div class="webflare-div-image">
<img width="668" height="659" src="images/createxFGR-4.gif" /></div>

<p>
<a id="pgfId-1130724"></a>You can use the <code>virtualDevice</code> section in the .<code>xfgrRules</code> file to define a set of outer-rings. The <code>virtualDevice</code> section supports <code>deviceConf</code> only, and is only available in the Device field in the Create Fluid Guard Ring form. </p>
<p>
<a id="pgfId-1130867"></a>If you want to create a multi-ring fluid guard ring device, define the <code>virtualDevice</code> section in the <code>.xfgrRules</code> file.</p>

<h2>
<a id="pgfId-1105133"></a>Creating a Fluid Guard Ring</h2>

<p>
<a id="pgfId-1105134"></a>To create an FGR:</p>
<ol><li>
<a id="pgfId-1083186"></a>In the design window, choose <em>Create &#8211; Fluid Guard Ring</em>.<br />
<a id="pgfId-1083190"></a>This opens the <a href="formDesc.html#82061">Create Fluid Guard Ring Form (New GUI)</a>.<br />
<a id="pgfId-1126910"></a><div class="webflare-div-image">
<img width="666" height="578" src="images/createxFGR-5.gif" /></div></li><li>
<a id="pgfId-1083191"></a>Select the creation method you want to use for creating the FGR, <em>Wrap</em> or <em>Interactive</em>. The following creation methods are available:<ul><li>
<a id="pgfId-1097168"></a><a href="createxFGR.html#89721">Creating an FGR Using the Wrap Creation Method</a><ul><li>
<a id="pgfId-1119131"></a><a href="createxFGR.html#90676">Creating an FGR using Place at Minimum Distance</a></li><li>
<a id="pgfId-1126281"></a><a href="createxFGR.html#28775">Creating an FGR using the Reference Layer</a></li><li>
<a id="pgfId-1126315"></a><a href="createxFGR.html#86985">Creating an FGR using Enclose By</a></li></ul></li><li>
<a id="pgfId-1119106"></a><a href="createxFGR.html#72387">Creating an FGR Using the Interactive Creation Method</a><ul><li>
<a id="pgfId-1115370"></a><a href="createxFGR.html#16754">Creating a Rectangle Shape FGR</a></li><li>
<a id="pgfId-1126377"></a><a href="createxFGR.html#36732">Creating a Polygon Ring Shape FGR</a></li><li>
<a id="pgfId-1126395"></a><a href="createxFGR.html#69694">Creating a Polygon Fill Shape FGR</a></li><li>
<a id="pgfId-1126413"></a><a href="createxFGR.html#87493">Creating a Path Shape FGR</a><br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1103504"></a>
Alternatively, you can enable the <em>Guardring</em> toolbar from the <em>Window &#8211; Toolbars</em> menu and click the required icon for creating the related type of FGR. This also opens the <a href="formDesc.html#82061">Create Fluid Guard Ring Form (New GUI)</a>. The default tab displayed is based on the icon selected.</div></li></ul></li></ul></li><li>
<a id="pgfId-1103530"></a>Configure the settings for creating an instance of the FGR device.</li><li>
<a id="pgfId-1083204"></a>Create the FGR in the selected mode.</li><li>
<a id="pgfId-1083221"></a>At any point, press <code>F3</code> to bring up the Create Guard Ring form to change mode settings or to change the mode.</li><li>
<a id="pgfId-1104946"></a>Press <code>Esc</code> or click <em>Cancel</em> in the form to create the FGRs.</li></ol>






















<p>
<a id="pgfId-1132141"></a>If you enable the XFGR_ENHANCED_OUTERRING_ SUPPORT Shell environment variable, the <em>Use</em> and <em>Width</em> columns are displayed in the table in the Outer Rings section of the <a href="formDesc.html#82061">Create Fluid Guard Ring Form (New GUI)</a>. The <em>Use</em> field lets you select the device in the table while creating outer rings. The <em>Width</em> field displays the width of the outer ring.</p>

<p>
<a id="pgfId-1132115"></a></p>
<div class="webflare-div-image">
<img width="666" height="264" src="images/createxFGR-7.gif" /></div>
<h3>
<a id="pgfId-1104947"></a>Managing Visibility of Devices in the Create Guard Ring Form</h3>

<p>
<a id="pgfId-1104948"></a>You can restrict users from creating FGRs using a particular device. As a result, the device is not be listed in the <em>Device</em> drop-down list box of each tab on the Create Guard Ring form. For detailed information, refer to the <a href="hideDevice.html#34553">Hiding a Device from Create Guard Ring Form</a> section.</p>
<p>
<a id="pgfId-1105112"></a>In case, you want to use a specific device to create its instances in the layout and do not see it listed in the <em>Device</em> drop-down list box, it means the device is hidden. For information about making such a device visible on the form, refer to the <a href="hideDevice.html#98972">Making a Hidden Device Visible on Install and Create Forms</a> section.</p>

<h2>
<a id="pgfId-1108458"></a><a id="89721"></a>Creating an FGR Using the Wrap Creation Method<a id="xFGRwrapMode"></a></h2>

<p>
<a id="pgfId-1106972"></a>In the wrap creation method, an FGR is created around the objects you select.</p>

<p>
<a id="pgfId-1119253"></a></p>
<div class="webflare-div-image">
<img width="666" height="409" src="images/createxFGR-8.gif" /></div>

<ol><li>
<a id="pgfId-1120606"></a>Set the <em>Creation Method</em> to <em>Wrap</em>.</li><li>
<a id="pgfId-1119434"></a>Set the <em>Shape </em>to <em>Rectangular</em> or <em>Rectilinear</em><em>.</em></li><li>
<a id="pgfId-1119357"></a>Select the <em>Device</em>, <em>Contact Rows</em>, <em>Path Width</em>, and <em>Net Name</em> based on the FGR you want to create.</li><li>
<a id="pgfId-1119257"></a>In the <em>Wrap Settings</em> section, select a <em>Wrap Type</em>. You can choose from the following options:<ul><li>
<a id="pgfId-1119809"></a><em>Place at Minimum Distance</em>: Identifies whether the <code>minSpacing</code> rule defined for the object layers, which include both original and derived layers, should be used to compute the spacing between the FGR and the object.</li><li>
<a id="pgfId-1119842"></a><em>Reference Layer</em>: Lets you create the FGR around a selected set of objects by specifying the spacing between a pair of layers. When you choose the <em>Reference Layer</em> option you define the layer list and the spacing value to be maintained for the specified layer pair.</li><li>
<a id="pgfId-1119859"></a><em>Enclose By</em>: Lets you create an FGR around the bounding box of the selected object.</li></ul></li></ol>







<h4>
<a id="pgfId-1124788"></a><a id="90676"></a>Creating an FGR using Place at Minimum Distance</h4>

<ol><li>
<a id="pgfId-1119987"></a>Click the object around which you want to create the FGR.<br />
<a id="pgfId-1119900"></a>An FGR is automatically created around the clicked object.<br />
<a id="pgfId-1119904"></a><div class="webflare-div-image">
<img width="657" height="355" src="images/createxFGR-9.gif" /></div></li><li>
<a id="pgfId-1119905"></a>Select an area on the layout that covers one or multiple objects.</li><li>
<a id="pgfId-1119906"></a>Press <code>Shift</code> and click an area to select more objects to add them to the selection.</li><li>
<a id="pgfId-1119907"></a>Press <code>Ctrl</code> and click an object to remove it from the selection.</li><li>
<a id="pgfId-1126518"></a>An FGR is automatically created around the area selected objects.<br />
<a id="pgfId-1119912"></a><div class="webflare-div-image">
<img width="671" height="270" src="images/createxFGR-10.gif" /></div>
<a id="pgfId-1119917"></a>If <em>Wrap Common</em> is selected, the following parameters determine whether a common or individual FGRs will enclose the selected devices:<ul><li>
<a id="pgfId-1119918"></a>Distance between the devices to be wrapped around</li><li>
<a id="pgfId-1119919"></a>Path width of the FGR</li><li>
<a id="pgfId-1119920"></a>Distance of the FGR from the devices</li></ul><br />
<a id="pgfId-1119921"></a>A common FGR is created if the individual FGRs overlap and merge and <em>Wrap Common</em> is selected. To create a common FGR, reduce the distance between devices or increase the <em>Path Width</em> or <em>Enclose by</em> values.<br />
<a id="pgfId-1119922"></a>If <em>Wrap Common</em> is off, the FGR wrap-around is created around individually clicked or area selected shapes, as shown below.<br />
<a id="pgfId-1127223"></a><div class="webflare-div-image">
<img width="668" height="242" src="images/createxFGR-11.gif" /></div></li><li>
<a id="pgfId-1120288"></a>Specify the settings in the <em>Implant Layers Settings</em> section.</li><li>
<a id="pgfId-1119927"></a>Specify the number of rings in the <em>Number of Outer Rings</em> field on the <em>Outer Rings</em> section. For each <em>Ring Number </em>in the table, specify values in the following fields:<ul><li>
<a id="pgfId-1120113"></a><em>Device</em>: Name of the FGR device.</li><li>
<a id="pgfId-1119928"></a><em>Rows</em>: Number of contact rows.</li><li>
<a id="pgfId-1119929"></a><em>Distance</em>: Distance between the consecutive rings. This option is enabled only if you have selected <em>Enclose By</em>.</li><li>
<a id="pgfId-1119930"></a><em>Net Name</em>: Name of the net to which the outer ring.<br />
<a id="pgfId-1119931"></a>The example below shows one concentric FGRs created around the central rectangular object. A part of the form shows the settings on the <em>Outer Rings</em> tab.<br />
<a id="pgfId-1124785"></a><div class="webflare-div-image">
<img width="668" height="513" src="images/createxFGR-12.gif" /></div></li></ul></li></ol>

































<h4>
<a id="pgfId-1124853"></a><a id="28775"></a>Creating an FGR using the Reference Layer</h4>

<p>
<a id="pgfId-1125054"></a>You can create FGR around a selected set of objects by specifying the spacing between a pair of layers. When you choose the <em>Reference Layer</em> option you define the layer list and the spacing value to be maintained for the specified layer pair.The table entries are automatically saved in a file. Whenever you choose the reference layer wrap, this table will be automatically be populated for the selected FGR device. </p>
<p>
<a id="pgfId-1125177"></a>The generated FGR instance honors the spacing value specified for each relevant pair and maintains the symmetric spacing on all sides of the object. If there is no specified reference layer no guard ring is created for that object.</p>

<p>
<a id="pgfId-1125250"></a></p>
<div class="webflare-div-image">
<img width="668" height="506" src="images/createxFGR-13.gif" /></div>
<h4>
<a id="pgfId-1119935"></a><a id="86985"></a>Creating an FGR using Enclose By</h4>

<p>
<a id="pgfId-1125313"></a>An FGR is created around the bounding box of the selected object.</p>

<p>
<a id="pgfId-1125277"></a></p>
<div class="webflare-div-image">
<img width="668" height="514" src="images/createxFGR-14.gif" /></div>
<h3>
<a id="pgfId-1105882"></a>Creating an FGR Au<a id="autoFGR"></a>tomatically</h3>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1114894"></a>Auto FGR creation using the wrap creation method is not supported for advanced nodes or custom FGRs.</div>
<p>
<a id="pgfId-1112474"></a>In the Auto FGR creation mode for wrap, an FGR is created around the selected objects using the default values of the parameters specified in the FGR device definition in the technology file.</p>
<p>
<a id="pgfId-1112674"></a>FGRs can be created in Auto mode if the <code>vfoAssociatedDevices</code> and <code>vfoAssociatedRings</code> properties are specified in the technology file. The example below shows these properties.</p>

<a id="pgfId-1112809"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
tfcDefineDeviceProp(</pre>
<a id="pgfId-1112810"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
; (viewName deviceName propName propValue)</pre>
<a id="pgfId-1112811"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
  (layout pgr vfoAssociatedDevices &quot;nmos1v;nmos1v_hvt&quot;)</pre>
<a id="pgfId-1112812"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
  (layout pgr vfoAssociatedRings &quot;ngr;pgr&quot;)</pre>
<a id="pgfId-1112798"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
)</pre>

<p>
<a id="pgfId-1114322"></a>If any of the above properties are specified in the technology file, and there is at least one VLS-based or native FGR device defined in technology file, the option <em>Choose Device Automatically</em> option is enabled. The FGR is automatically created based on these properties in the technology file.</p>
<p>
<a id="pgfId-1127352"></a>You need to enable the <em>Choose Device Automatically</em> option in the Create Fluid Guard Ring form and click the device on the canvas to create an FGR automatically. The device around which the FGR needs to be created can be an MOS device instance or an FGR instance. In addition, the <code>vfoAssocitedRings</code> property should be specified for creating rings of FGRs on top of another FGR. </p>

<p>
<a id="pgfId-1114583"></a></p>
<div class="webflare-div-image">
<img width="622" height="493" src="images/createxFGR-15.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1112470"></a>When creating an auto FGR, the <em>Place at Minimum Distance</em> option is selected by default. However, you choose any option from the <em>Wrap Type</em> field.</div>
<p>
<a id="pgfId-1113520"></a>If you specify more than one outer ring, you can specify the rows and net names for subsequent rings.</p>

<p>
<a id="pgfId-1113704"></a></p>
<div class="webflare-div-image">
<img width="626" height="530" src="images/createxFGR-16.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1125670"></a>When creating the outer rings, the wrap type settings are inherited from the parent or first ring.</div>

<h2>
<a id="pgfId-1120377"></a><a id="72387"></a>Creating an FGR Using the Interactive Creation Method</h2>

<p>
<a id="pgfId-1120372"></a>In the <em>Interactive </em>creation method, an FGR is created. </p>

<p>
<a id="pgfId-1120496"></a></p>
<div class="webflare-div-image">
<img width="656" height="497" src="images/createxFGR-17.gif" /></div>

<ol><li>
<a id="pgfId-1120524"></a>Select <em>Interactive</em> from the <em>Creation Method</em> option.</li><li>
<a id="pgfId-1120485"></a>Set the <em>Shape</em><em> option to <em>Rectangle</em></em>, <em>Polygon Ring</em>, <em>Polygon Fill</em>, or <em>Path</em>.</li></ol>

<p>
<a id="pgfId-1120817"></a>The FGR is created based on the options you select for the selected shape. </p>

<h3>
<a id="pgfId-1120683"></a><a id="16754"></a>Creating a Rectangle Shape FGR</h3>

<p>
<a id="pgfId-1120684"></a>In this mode, an FGR is created based on the rectangle you draw.</p>

<p>
<a id="pgfId-1120688"></a></p>
<div class="webflare-div-image">
<img width="656" height="496" src="images/createxFGR-18.gif" /></div>

<ol><li>
<a id="pgfId-1120692"></a>Set up the options on the Create Fluid Guard Ring form, as required.</li><li>
<a id="pgfId-1120693"></a>Click to define the opposite corners of the rectangle around the object for which you want to create the FGR.<br />
<a id="pgfId-1120694"></a>A rectangular FGR gets created around the object. In this illustration, a rectangular FGR is created around multiple objects.<br />
<a id="pgfId-1120705"></a><div class="webflare-div-image">
<img width="669" height="335" src="images/createxFGR-19.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1120706"></a>The Enclose By option in wrap mode is available for Interative, Rectangle creation mode.</div></li></ol>







<p>
<a id="pgfId-1120714"></a>If you have installed the FGR device with the <em>Cover Interior</em> check box selected for the Implant/Well layer (<a href="formDesc.html#71866">Layers</a> section), the rectangular FGR enclosure is filled with the implant or well layer, as shown below.</p>

<p>
<a id="pgfId-1129277"></a></p>
<div class="webflare-div-image">
<img width="641" height="345" src="images/createxFGR-20.gif" /></div>

<p>
<a id="pgfId-1120725"></a></p>

<h3>
<a id="pgfId-1120728"></a><a id="36732"></a>Creating a Polygon Ring Shape FGR</h3>

<p>
<a id="pgfId-1120729"></a>In this mode, an FGR is created based on the polygon you draw.</p>

<p>
<a id="pgfId-1120733"></a></p>
<div class="webflare-div-image">
<img width="662" height="517" src="images/createxFGR-21.gif" /></div>

<ol><li>
<a id="pgfId-1120737"></a>Set up the options as required.</li><li>
<a id="pgfId-1120738"></a>Click to define the points of the polygon.<br />
<a id="pgfId-1120739"></a>A polygon ring type FGR gets created.<br />
<a id="pgfId-1125990"></a><div class="webflare-div-image">
<img width="641" height="332" src="images/createxFGR-22.gif" /></div></li></ol>





<h3>
<a id="pgfId-1120750"></a><a id="69694"></a>Creating a Polygon Fill Shape FGR</h3>

<p>
<a id="pgfId-1126065"></a>In this mode, an FGR is created based on the polygon you draw and the polygon area is filled with FGR. You can use this method to fill up spaces between objects.</p>

<p>
<a id="pgfId-1126069"></a></p>
<div class="webflare-div-image">
<img width="662" height="504" src="images/createxFGR-23.gif" /></div>

<ol><li>
<a id="pgfId-1126070"></a>Set up the options as required.</li><li>
<a id="pgfId-1126071"></a>Click to define the points of the polygon.<br />
<a id="pgfId-1126072"></a>A polygon fill type FGR gets created.<br />
<a id="pgfId-1126076"></a><div class="webflare-div-image">
<img width="641" height="306" src="images/createxFGR-24.gif" /></div></li></ol>





<h3>
<a id="pgfId-1083291"></a><a id="87493"></a>Creating a Path Shape FGR</h3>

<p>
<a id="pgfId-1083292"></a>In this mode, an FGR is created along the path you draw.</p>

<p>
<a id="pgfId-1083296"></a></p>
<div class="webflare-div-image">
<img width="657" height="475" src="images/createxFGR-25.gif" /></div>

<ol><li>
<a id="pgfId-1083300"></a>Set up the options, as required.</li><li>
<a id="pgfId-1083301"></a>Click to define the points of the path around the object around which you want to create an FGR.</li><li>
<a id="pgfId-1083302"></a>Double-click or press <code>Enter</code> to complete the path.<br />
<a id="pgfId-1083303"></a>A path-shaped FGR is created around the object. You can control the width of the FGR by using the <em>Path Width</em> field. <br />
<a id="pgfId-1095573"></a><div class="webflare-div-image">
<img width="405" height="312" src="images/createxFGR-26.gif" /></div><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1097280"></a>
You cannot create a path-type FGR that is self-intersecting.</div></li></ol>







<h2>
<a id="pgfId-1108953"></a>Asymmetric Enclosures</h2>

<p>
<a id="pgfId-1121712"></a>You can create an asymmetric enclosure of shapes around the fluid shape in FGR. You can define different outside, bottom, or left and inside, top, or right enclosures for implant, metal and diffusion shapes. You can also only specify negative enclosure values for implant layers. </p>
<p>
<a id="pgfId-1121820"></a>You can specify different and positive and different values for inside and outside enclosures of implant or well layers with respect to diffusion as shown in the figure below.</p>

<p>
<a id="pgfId-1122042"></a></p>
<div class="webflare-div-image">
<img width="668" height="384" src="images/createxFGR-28.gif" /></div>

<p>
<a id="pgfId-1122046"></a>You can specify negative and different values for inside and outside enclosures of implant or well layers with respect to diffusion as shown in the figure below.</p>

<p>
<a id="pgfId-1122050"></a></p>
<div class="webflare-div-image">
<img width="668" height="377" src="images/createxFGR-29.gif" /></div>

<p>
<a id="pgfId-1122089"></a>You can specify negative values for outside enclosures of implant or well layers with respect to diffusion so that they are retracted inside the diffusion shape as shown in the figure below. In this case, the <em>Cover</em> option is selected.</p>

<p>
<a id="pgfId-1122093"></a></p>
<div class="webflare-div-image">
<img width="668" height="391" src="images/createxFGR-30.gif" /></div>

<p>
<a id="pgfId-1122094"></a>You can specify negative and different values for inside and outside enclosures of implant or well layers with respect to diffusion as shown in the figure below.</p>

<p>
<a id="pgfId-1122098"></a></p>
<div class="webflare-div-image">
<img width="668" height="396" src="images/createxFGR-31.gif" /></div>
<h2>
<a id="pgfId-1121209"></a>DRD Rules Check</h2>

<p>
<a id="pgfId-1092050"></a>While creating an FGR, you can also specify the design-rule-driven (DRD) rules that need to be checked and applied during the process. This can be done by accessing the <em><a actuate="user" class="URL" href="../drdedit/appA.html#DRDOptionsForm" show="replace" xml:link="simple">DRD Options</a></em> form through the <em>DRD</em> toolbar or the <em>Options</em> &#8212; <em>DRD Edit </em>menu.</p>
<p>
<a id="pgfId-1092065"></a>Use the <em>DRD Options</em> form to enable the <em>Enforce</em>, <em>Notify</em>, or <em>Post Edit</em> mode at the <em>current cellview</em>, <em>current to bottom</em>, <em>current to stop level</em>, or <em>current to user level</em> hierarchy depth. The following image illustrates annotations to indicate the violation of the minimum spacing (<code>minSpacing</code>) rule. This notification is displayed if the <code>minSapcing</code> constraint is selected for <em>Notify</em> mode under the <em>Filters</em> tab of the DRD Options form.</p>

<p>
<a id="pgfId-1092072"></a></p>
<div class="webflare-div-image">
<img width="643" height="257" src="images/createxFGR-32.gif" /></div>

<p>
<a id="pgfId-1097755"></a>For more information about the <em>DRD Options</em> form, see <h-hot><a actuate="user" class="URL" href="../drdedit/appA.html#firstpage" show="replace" xml:link="simple">DRD Form Descriptions</a></h-hot> in the<em> Virtuoso Design Rule Driven Editing User Guide</em>.</p>

<h2>
<a id="pgfId-1097041"></a><a id="69641"></a>Technology Rules Applied During Fluid Guard Ring Creation<a id="fgrCreateTechRules"></a></h2>

<p>
<a id="pgfId-1123036"></a>The following table lists the technology rules that are applicable during the creation of an FGR:</p>
<table class="webflareTable" id="#id1127858">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1122992">
<a id="pgfId-1122992"></a>Form Field</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1122994">
<a id="pgfId-1122994"></a>Applicable Technology Rule(s)</span>
<span class="tbl-head" id="#id1122995">
<a id="pgfId-1122995"></a><em>(Listed in order of precedence)</em></span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1122997"></a>Contact Dimension</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1123001"></a><a href="../ascitechconstr/constr_length_width_re_minWidth.html">minWidth</a> and <a href="../ascitechconstr/constr_length_width_re_maxWidth.html">maxWidth</a> of cut layer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1123003"></a>Contact Spacing</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1123006"></a><a href="../ascitechconstr/constr_via_re_minLargeViaArrayCutSpacing.html">minLargeViaArrayCutSpacing<br />minLargeNeighborViaArrayCutSpacing <br /></a><a href="../ascitechconstr/constr_via_re_minLargeViaArraySpacing.html">minLargeViaArraySpacing</a><a href="../ascitechconstr/constr_via_re_minNeighborViaSpacing.html">minNeighborViaSpacing<br />viaSpacing(4 &#8230;)<br /><code>viaSpacing</code>(3 &#8230;)<br /></a><a href="../ascitechconstr/constr_spacing_oneLayer_re_minSpacing_One_layer.html">minSpacing (One layer)</a><a href="../ascitechconstr/constr_via_re_minNeighborViaSpacing.html">(&#8230;) <br /></a><a href="../ascitechconstr/constr_via_re_minViaSpacing_One_layer.html">minViaSpacing (One layer)</a><a href="../ascitechfile/chap2.html#mfgGridResolutionConstraint">mfgGridResolution</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1123015"></a>Diffusion Over Contact (Inside/Top/Right)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1123018"></a>Minimum of <a href="../ascitechconstr/constr_extension_re_minOppExtension.html">minOppExtension</a> rule (a, b)<br /><a href="../ascitechconstr/constr_extension_re_minExtensionDistance.html">minExtensionDistance</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1123021"></a>Diffusion Over Contact (Outside/Bottom/Left)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1123023"></a>Minimum of <a href="../ascitechconstr/constr_extension_re_minOppExtension.html">minOppExtension</a> rule(a, b)<br /><a href="../ascitechconstr/constr_extension_re_minExtensionDistance.html">minExtensionDistance</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127744"></a>Diffusion Over Contact (End of Line)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127746"></a>Maximum of <a href="../ascitechconstr/constr_extension_re_minOppExtension.html">minOppExtension</a> rule (a, b)<br /><a href="../ascitechconstr/constr_extension_re_minExtensionDistance.html">minExtensionDistance</a></p>
</td>
</tr>
</tbody></table>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1127831"></a>The applicable technology rules for metal and implant layers are similar to the diffusion over contact rules listed in the above table.</div>
<p>
<a id="pgfId-1123037"></a>You can install an FGR with its implant layer enclosure value less than the default value defined in the technology file.</p>

<h4><em>
<a id="pgfId-1097081"></a>Important Points to Remember</em></h4>

<ul><li>
<a id="pgfId-1098948"></a>If a technology rule is not been defined in the technology file, but is used by an FGR, the system considers its value as zero. For example, the <code>minOppExtension</code> rule is used for identifying the enclosure values of a contact. If this rule is not defined in the technology file when creating an FGR, the system considers the enclosure values as zero.</li><li>
<a id="pgfId-1104894"></a>If you have selected the <em>Cover Interiors</em> option in the Create Fluid Guard Ring form for the Implant/Well layer (<a href="formDesc.html#71866">Layers</a> section), the <code>minWidth</code> technology rule is not checked at the time of creating the wrap-type and closed path-type FGRs.</li><li>
<a id="pgfId-1106750"></a>You can install an FGR device with an implant layer enclosure value less than the technology default. For example, consider an FGR device in <code>gpdk045</code> with <code>Oxide</code>, <code>cont</code>, and <code>Metal1</code> as the layers (diffusion, contact, and metal respectively), and <code>NWell</code> as the implant. The minimum enclosure of <em>Nwell over diffusion (Oxide)</em> in the technology file is <code>0.09</code>. Despite this, you can install the FGR device <code>0.06</code> (with a warning message).</li><li>
<a id="pgfId-1106751"></a>By default, when an FGR is created in the <em>Wrap</em> mode with the <em>Place at Minimum Distance</em> selected, the spacing between the guard ring and the object is computed based on the <code>minSpacing</code> rule defined for the object layers around which the FGR is created. The object layer includes both original and derived layers.</li></ul>



<p>
<a id="pgfId-1122679"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="installFGR.html" id="prev" title="Installing Fluid Guard Rings">Installing Fluid Guard Rings</a></em></b><b><em><a href="createFGR.html" id="nex" title="Creating Fluid Guard Rings (Old GUI)">Creating Fluid Guard Rings (Ol ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>