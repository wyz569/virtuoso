
<html><head><title>check_vias</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-10-17" />
<meta name="CreateTime" content="1697541438" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Space-based Router Tcl commands" />
<meta name="DocTitle" content="Virtuoso Space-based Router Command Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="check_vias" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vsrcmdref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-17" />
<meta name="ModifiedTime" content="1697541438" />
<meta name="NextFile" content="verifyT_re_check_width.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="verifyT_re_check_vertex_spacing.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Space-based Router Command Reference -- check_vias" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="command reference" />
<meta name="prod_feature" content="Automatic Space-Based Routing Tcl Interface" />
<meta name="prod_subfeature" content="Verify Commands" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vsrcmdrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vsrcmdrefTOC.html">Contents</a></li><li><a class="prev" href="verifyT_re_check_vertex_spacing.html" title="check_vertex_spacing">check_vertex_spacing</a></li><li style="float: right;"><a class="viewPrint" href="vsrcmdref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="verifyT_re_check_width.html" title="check_width">check_width</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Space-based Router Command Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_check_vias" title="check_vias"></a><h3>
<a id="pgfId-1135467"></a><a id="72454"></a><a id="check_vias"></a>c<a id="marker-1246712"></a>heck_vias</h3>
<a id="pgfId-1267519"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
check_vias
-lpp <strong>{</strong><code><em>s_layerlpp&#8230;</em></code><strong>}</strong> 
[ -stack_check ] 
[ -numcuts_check ] 
[ -extension_check ] 
[ -stacklimit_check ] 
[ -inter_layer_check ] 
[ -include_pins [ true | false ] ] 
[ -output_lpp <code><em>s_lpp</em></code> ] 
[ -region <strong>{</strong><code><em>f_xlo</em></code> <code><em>f_ylo</em></code> <code><em>f_xhi</em></code> <code><em>f_yhi</em></code><strong>}</strong> ] 
[ -top_level_only ] 
[ -annotate [ true | false ] ] 
[ -clear_annotations ] 
[ -annotation_limit <code><em>i_count</em></code> ] 
[ -error_limit <code><em>i_count</em></code> ] 
[ -no_sync ] 
[ -silent | -verbose ] 
[ -threads <code><em>i_threads</em></code> ] 
[ -check_mode [soft|hard] ] 
[ -trim_corners ] </pre>
<h4>
<a id="pgfId-1267520"></a>Description</h4>

<p>
<a id="pgfId-1135469"></a>Checks for via violations in stacking, numcuts and extensions, in the entire active design or a specific region. Violating shapes can be output and/or annotated. </p>
<p>
<a id="pgfId-1270927"></a>The GUI equivalent for this command is <em>Verify&#8212;Shapes</em>.</p>

<h4>
<a id="pgfId-1135470"></a>Arguments</h4>
<table class="webflareTable" id="#id1135471">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1259823"></a><code>-annotate [ true | false ]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135473"></a><code> </code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135475"></a>Specifies whether to mark violations. The annotations are added to the <code>annotation:violation</code> purpose of the given via layer and are listed by the check name and the layer under <em>Via Checks </em>in the Violations page of the Annotation Browse. By default, annotations are added.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1135485"></a><code>-annotation_limit </code><span class="webflare-courier-new" style="white-space:pre"><em>i_count</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135491"></a>  </p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135493"></a>Specifies the maximum number of violations to create annotations for. By default, annotations are created for up to 1000 violations. Specify <code>-annotation_limit -1</code> to choose no limit.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1208018"></a><code>-check_mode {soft|hard}</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1150421"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1150423"></a>Chooses soft or hard constraint lookup. Default is <code>hard</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135497"></a><code>-clear_annotations</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135499"></a>Removes existing violation annotations of the same check type and input layers before performing this check. If not specified, existing violations are not cleared.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135503"></a><code>-error_limit </code><span class="webflare-courier-new" style="white-space:pre"><em>i_count</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135505"></a>Specifies the maximum number of errors to detect before stopping. By default, there is no limit. A value of -1 chooses no limit.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135509"></a><code>-extension_check</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135511"></a>Checks for via extension (via enclosure) violations (<code>minExtension</code>, <code>minDualExtension</code>, <code>minRedundantViaSetback</code>, <code>minCenterLineExtension</code>). Default is <code>false</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1246318"></a><code>-include_pins [ true | false ]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1246301"></a>  </p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1246303"></a>Specifies whether via pin shapes are checked. Default is <code>true</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135517"></a><code>-inter_layer_check</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135519"></a>Invokes via to via interlayer checks. Default is <code>false</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135523"></a><code>-lpp </code><strong>{</strong><span class="webflare-courier-new" style="white-space:pre"><em>s_layerlpp&#8230;</em></span><strong>}</strong> </p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135525"></a>Specifies the via layers or layer purposes to check.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135529"></a><code>-no_sync</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135531"></a>Prevents the OpenAccess database from being updated with the output shapes. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135535"></a><code>-numcuts_check</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135537"></a>Causes via objects and via instances to be checked for the minimum number of cuts required when connecting between two wide wire shapes or when connecting a wide shape to a pin. Default is <code>false</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135541"></a><code>-output_lpp </code><span class="webflare-courier-new" style="white-space:pre"><em>s_lpp</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135543"></a>Adds violating shapes to the specified output layer purpose. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1135547"></a><code>-region </code><strong>{</strong><span class="webflare-courier-new" style="white-space:pre"><em>f_xlo</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>f_ylo</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>f_xhi</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>f_yhi</em></span><strong>}</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135553"></a>  </p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135555"></a>Specifies the boundary points for the area to check. If not specified, the entire design in the active artwork window is checked.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135559"></a><code>-silent</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135561"></a>Turns off detailed messages during checking.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135565"></a><code>-stack_check</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135567"></a>Causes via objects to be checked for stackability with other via objects. Works in conjunction with <a href="technologyT_re_set_via_stackability.html#34238">set_via_stackability</a>. Default is <code>false</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1150504"></a><code>-stacklimit_check</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1150506"></a>Checks cut layers against the via stack limit given by the <code>viaStackLimit</code> constraint. If the via stack limit is <span class="webflare-courier-new" style="white-space:pre"><em>k</em></span>, at most <span class="webflare-courier-new" style="white-space:pre"><em>k</em></span> consecutive cut layers may be aligned, otherwise a violation results for every intersection of <span class="webflare-courier-new" style="white-space:pre"><em>k</em></span>+1 cuts that are aligned. Default is <code>false</code>.</p>
<p>
<a id="pgfId-1150555"></a>For an example, refer to <a href="verifyT_re_check_vias.html#67102">Via Stack Limit Check</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1148113"></a><code>-threads </code><span class="webflare-courier-new" style="white-space:pre"><em>i_threads</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1148115"></a>Specifies the number of threads or processors to use in parallel to run this command. By default, if multi-threading has been enabled, the session threads are used, otherwise, one processor is used.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135574"></a><code>-top_level_only</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135576"></a>Restricts checks to shapes and areas associated with the top level geometry. By default, all levels are checked.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135580"></a><code>-trim_corners</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135582"></a>Specifies that corners be trimmed for checking.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135586"></a><code>-verbose</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135588"></a>Outputs a message for each error found during the check.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1135592"></a>Value Returned</h4>
<table class="webflareTable" id="#id1135593">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135595"></a><span class="webflare-courier-new" style="white-space:pre"><em>i_count</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135597"></a>Indicates the number of violating vias found.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135599"></a><code>-1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135601"></a>The command did not run due to a syntax error or a missing required argument.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1135603"></a>Examples</h4>

<p>
<a id="pgfId-1135604"></a>The following example checks for numcut, via stack, and extension violations for vias on layers V2, V3 and V1 in the area currently being viewed in the active window and shows the results.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1135605"></a>check_vias -numcuts_check -stack_check -extension_check -region [get_window_area] -lpp {V2 V3 V1}<br />Running check_vias<br />V2:ALL -- 0 Stacked via violations found<br />V2:ALL -- 0 Numcut Via violations found<br />V2:ALL -- 16 Via Extension violations found<br />Running check_vias<br />V3:ALL -- 0 Stacked via violations found<br />V3:ALL -- 0 Numcut Via violations found<br />V3:ALL -- 0 Via Extension violations found<br />Running check_vias<br />V1:ALL -- 6 Stacked via violations found<br />V1:ALL -- 1 Numcut Via violations found<br />V1:ALL -- 0 Via Extension violations found<br />check_vias completed in 0.1s (elapsed), using 0.0s/0.0s0.1s<br />(user/kernel/total CPU).<br />23</pre>
<h4><em>
<a id="pgfId-1150525"></a><a id="67102"></a>Via Stack Limit Check</em></h4>

<p>
<a id="pgfId-1150526"></a>The following commands set the maximum stack to two consecutive vias for cut layers <code>VIA1</code>, <code>VIA2</code>, <code>VIA3</code>, and <code>VIA4</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1150540"></a>set_constraint_parameter -name lowerLayer -LayerValue VIA1<br />set_constraint_parameter -name upperLayer -LayerValue VIA4<br />set_constraont -constraint viaStackLimit -IntValue 2</pre>

<p>
<a id="pgfId-1150546"></a>If the optional parameters are not specified, the stack limit applies to the lowest cut layer containing shapes up to the top-most cut layer. If the <code>lowerLayer</code> parameter is specified as a non-cut layer, it will be snapped up to the closest cut layer containing shapes. If the <code>upperLayer</code> parameter is specified as a non-cut layer, it will be snapped down to the closest cut layer. If there are a total of less than <span class="webflare-courier-new" style="white-space:pre"><em>k</em></span>+1 layers where the stack limit is <span class="webflare-courier-new" style="white-space:pre"><em>k</em></span>, then no stack limit is applied. The following command will flag a violation if vias are stacked on more than two consecutive cut layers (for example, <code>VIA1</code>, <code>VIA2,</code> and <code>VIA3</code>, or <code>VIA2</code>, <code>VIA3</code>, and <code>VIA4)</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1150568"></a>check_vias -stacklimit_check </pre>
<h4><em>
<a id="pgfId-1270860"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1270864"></a><a href="verifyT.html#73445">Verify Commands</a></p>
<p>
<a id="pgfId-1270881"></a><a href="systemT_re_enable_multithreading.html#85815">enable_multithreading</a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1270852"></a></pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="verifyT_re_check_vertex_spacing.html" id="prev" title="check_vertex_spacing">check_vertex_spacing</a></em></b><b><em><a href="verifyT_re_check_width.html" id="nex" title="check_width">check_width</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>