
<html><head><title>balance_route</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-10-17" />
<meta name="CreateTime" content="1697541430" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Space-based Router Tcl commands" />
<meta name="DocTitle" content="Virtuoso Space-based Router Command Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="balance_route" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vsrcmdref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-17" />
<meta name="ModifiedTime" content="1697541430" />
<meta name="NextFile" content="spnet_routeT_re_report_balanced_length.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="spnet_routeT_Spine-style_Routing_Commands.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Space-based Router Command Reference -- balance_route" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="command reference" />
<meta name="prod_feature" content="Automatic Space-Based Routing Tcl Interface" />
<meta name="prod_subfeature" content="Specialty Routing Commands" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vsrcmdrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vsrcmdrefTOC.html">Contents</a></li><li><a class="prev" href="spnet_routeT_Spine-style_Routing_Commands.html" title="Spine-style Routing Commands">Spine-style Routing Commands</a></li><li style="float: right;"><a class="viewPrint" href="vsrcmdref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="spnet_routeT_re_report_balanced_length.html" title="report_balanced_length">report_balanced_length</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Space-based Router Command Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_balance_route" title="balance_route"></a><h3>
<a id="pgfId-1052517"></a><a id="46249"></a>b<a id="marker-1052741"></a>alance_route</h3>
<a id="pgfId-1052518"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
balance_route
{-set <code><em>d_setObj</em></code> | -net1 <code><em>s_netName</em></code> -net2 <code><em>s_netName</em></code>} 
-spine_on_layers <strong>{</strong><code><em>s_layerName</em></code>&#8230;<strong>}</strong> 
[ -ignore_pins_in_instances <strong>{</strong><code><em>s_instanceName&#8230;</em></code><strong>}</strong> 
| -ignore_pins_in_set <code><em>d_setObj</em></code> ] 
[ -half_shield [ true | false ] ] 
[ -multiple_spines [ true | false ] ] 
[ -pin_pair_dist <code><em>f_distance</em></code> ] 
[ -spine_dist <code><em>f_distance</em></code> ] 
[ -tie_pins_to_spine [ true | false ] ] </pre>
<h4>
<a id="pgfId-1228202"></a>Description</h4>

<p>
<a id="pgfId-1052519"></a>Balances the geometry for clock pairs in a given set (<code>-set)</code>, or for a single net pair (<code>-net1 -net2</code>). By default, a single spine is created, but multiple spines can be used (<code>-multiple_spines true</code>). </p>
<p>
<a id="pgfId-1091225"></a>To get a list of net pairs ordered by decreasing calculated spine length, run <h-hot>report_balanced_length</h-hot>. Then use the list to balance route the net pairs in order for the best results.</p>
<p>
<a id="pgfId-1091224"></a>Power should be routed before using this command because the router will attempt to snap the spine to power rails. </p>

<h4>
<a id="pgfId-1052520"></a>Arguments</h4>
<table class="webflareTable" id="#id1052521">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1052523"></a><code>-half_shield [ true | false ]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052527"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052529"></a>When <code>true</code>, half-shields each net of a given clock pair with an existing power rail. When <code>false</code>, only one net of each clock pair is half-shielded.</p>
<p>
<a id="pgfId-1052530"></a>Default: <code>true</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1052532"></a><code>-ignore_pins_in_instances </code><strong>{</strong><span class="webflare-courier-new" style="white-space:pre"><em>s_instanceName</em></span>&#8230;<strong>}</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052536"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052538"></a>Ignores pins for the specified instances when placing the spine. The ignored pins will be connected but will not influence the position of the spine.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1052540"></a><code>-ignore_pins_in_set </code><span class="webflare-courier-new" style="white-space:pre"><em>d_setObj</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052544"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052546"></a>Ignores pins for the instances in the set when placing the spine. The ignored pins will be connected but will not influence the position of the spine.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1052548"></a><code>-multiple_spines {true|false ] ]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052552"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052554"></a>When <code>true</code>, creates multiple spines close to pin pairs. When <code>false</code>, taps connect pins to a single spine.<br />Default: <code>false</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052556"></a><code>-net1 </code><span class="webflare-courier-new" style="white-space:pre"><em>s_netName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052558"></a>Balance routes the specified net with the net given by <code>-net2</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052560"></a><code>-net2 </code><span class="webflare-courier-new" style="white-space:pre"><em>s_netName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052562"></a>Balance routes the specified net with the net given by <code>-net1</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1052564"></a><code>-pin_pair_dist </code><span class="webflare-courier-new" style="white-space:pre"><em>f_distance</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052568"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052570"></a>Pairs pins of the nets for balance routing when pins are within the specified distance (in microns) of each other. Pins that are not paired will not be considered when generating the spine, but will be routed. If no pairs are found that meet the distance criteria, no routing will be done.</p>
<p>
<a id="pgfId-1052571"></a>Default: <code>0.5</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052573"></a><code>-set </code><span class="webflare-courier-new" style="white-space:pre"><em>d_setObj</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052575"></a>Balance routes nets in the set. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1080256"></a><code>-spine_dist </code><span class="webflare-courier-new" style="white-space:pre"><em>f_distance</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1080258"></a>Will consider clustering pins into a single spine if they are within the specified distance. </p>
<p>
<a id="pgfId-1080263"></a>Default: <code>pin_pair_dist*2</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1052577"></a><code>-spine_on_layers </code><strong>{</strong><span class="webflare-courier-new" style="white-space:pre"><em>s_layername</em></span>&#8230;<strong>}</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052581"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052583"></a>Creates spines on the specified layers.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1052585"></a><code>-tie_pins_to_spine [ true | false ]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052589"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052591"></a>If <code>true</code>, ties pins to the generated spine. If <code>false</code>, pins in the net are not tied to the spine, but guides are drawn to indicate where pin connections are needed. <br />Default: <code>true</code></p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1052593"></a>Examples</h4>

<p>
<a id="pgfId-1052594"></a>The following figure shows how the <code>half_shield</code> argument affects the placement of balanced routes.</p>

<p>
<a id="pgfId-1052624"></a></p>
<div class="webflare-div-image">
<img width="668" height="338" src="images/spnet_routeT-11.gif" /></div>

<p>
<a id="pgfId-1052625"></a>The following figure shows a generalized example of balance routing using a single spine (default) compared with multiple spines. </p>

<p>
<a id="pgfId-1052713"></a></p>
<div class="webflare-div-image">
<img width="668" height="292" src="images/spnet_routeT-12.gif" /></div>

<p>
<a id="pgfId-1052714"></a>The following command balances routes on nets N1 and N2 using multiple spines and with half-shields on both nets. When creating the spine, pins of instance INST1 are ignored, only pin pairs from N1 and N2 that are within 0.7 microns of each other will influence the placement of the spine, and layers M1 and M2 will be used to the route the spine.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1052715"></a>balance_route -net1 N1 -net2 N2 -spine_on_layers {M1 M2} -ignore_pins_in_instances INST1 -pin_pair_dist 0.7 -multiple_spines true -half_shield true</pre>
<h4><em>
<a id="pgfId-1228089"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1228093"></a><h-hot>Specialty Route Commands</h-hot></p>
<p>
<a id="pgfId-1228121"></a><h-hot>report_balanced_length</h-hot></p>
<p>
<a id="pgfId-1228141"></a><h-hot>report_net_stats</h-hot></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1228081"></a></pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="spnet_routeT_Spine-style_Routing_Commands.html" id="prev" title="Spine-style Routing Commands">Spine-style Routing Commands</a></em></b><b><em><a href="spnet_routeT_re_report_balanced_length.html" id="nex" title="report_balanced_length">report_balanced_length</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>