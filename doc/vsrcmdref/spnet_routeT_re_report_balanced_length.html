
<html><head><title>report_balanced_length</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-10-17" />
<meta name="CreateTime" content="1697541430" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Space-based Router Tcl commands" />
<meta name="DocTitle" content="Virtuoso Space-based Router Command Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="report_balanced_length" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vsrcmdref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-17" />
<meta name="ModifiedTime" content="1697541430" />
<meta name="NextFile" content="spnet_routeT_re_report_spine_nets.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="spnet_routeT_re_balance_route.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Space-based Router Command Reference -- report_balanced_length" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="command reference" />
<meta name="prod_feature" content="Automatic Space-Based Routing Tcl Interface" />
<meta name="prod_subfeature" content="Specialty Routing Commands" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vsrcmdrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vsrcmdrefTOC.html">Contents</a></li><li><a class="prev" href="spnet_routeT_re_balance_route.html" title="balance_route">balance_route</a></li><li style="float: right;"><a class="viewPrint" href="vsrcmdref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="spnet_routeT_re_report_spine_nets.html" title="report_spine_nets">report_spine_nets</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Space-based Router Command Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_report_balanced_length" title="report_balanced_length"></a><h3>
<a id="pgfId-1091095"></a><a id="39674"></a>r<a id="marker-1091094"></a>eport_balanced_length</h3>
<a id="pgfId-1091096"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
report_balanced_length
-set1 <code><em>d_setObj</em></code> 
-set2 <code><em>d_setObj</em></code> 
-file <code><em>s_fileName</em></code> 
-spine_on_layers <strong>{</strong><code><em>s_layerName&#8230;</em></code><strong>}</strong> 
[ -ignore_pins_in_instances <strong>{</strong><code><em>s_instanceName&#8230;</em></code><strong>}</strong> 
| -ignore_pins_in_set <code><em>d_setObj</em></code> ] 
[ -half_shield [ true | false ] ] 
[ -multiple_spines [ true | false ] ] 
[ -pin_pair_dist <code><em>f_distance</em></code> ] 
[ -spine_length [ true | false ] ] </pre>
<h4>
<a id="pgfId-1228241"></a>Description</h4>

<p>
<a id="pgfId-1091097"></a>Outputs an ordered list of net names to the named file. The list is created by calculating the balanced spine length for each net from set1 and its paired net from set2, and listing the pairs in order, starting with the longest spine length, to the shortest. Use the output to prioritize the routing of the nets for <code>balance_route</code>, which uses the same arguments to configure the spine.</p>

<h4>
<a id="pgfId-1091098"></a>Arguments</h4>
<table class="webflareTable" id="#id1091099">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091101"></a><code>-file </code><span class="webflare-courier-new" style="white-space:pre"><em>s_fileName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091103"></a>Outputs an ordered list of balanced nets to the named file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1091105"></a><code>-half_shield [ true | false ]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091109"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091111"></a>When <code>true</code>, half-shields each net of a given clock pair with an existing power rail. When <code>false</code>, only one net of each clock pair is half-shielded.</p>
<p>
<a id="pgfId-1091112"></a>Default: <code>true</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1091114"></a><code>-ignore_pins_in_instances </code><strong>{</strong><span class="webflare-courier-new" style="white-space:pre"><em>s_instanceName</em></span>&#8230;<strong>}</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091118"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091120"></a>Ignores pins for the specified instances when placing the spine. The ignored pins will be connected but will not influence the position of the spine.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1091122"></a><code>-ignore_pins_in_set </code><span class="webflare-courier-new" style="white-space:pre"><em>d_setObj</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091126"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091128"></a>Ignores pins for the instances in the set when placing the spine. The ignored pins will be connected but will not influence the position of the spine.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1091130"></a><code>-multiple_spines [ true | false ] ]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091134"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091136"></a>When <code>true</code>, creates multiple spines close to pin pairs. When <code>false</code>, taps connect pins to a single spine.<br />Default: <code>false</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1091138"></a><code>-pin_pair_dist </code><span class="webflare-courier-new" style="white-space:pre"><em>f_distance</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091142"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091144"></a>Pairs pins of the nets for balance routing when pins are within the specified distance (in microns) of each other. Pins that are not paired will not be considered when generating the spine, but will be routed. If no pairs are found that meet the distance criteria, no routing will be done.</p>
<p>
<a id="pgfId-1091145"></a>Default: <code>0.5</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091147"></a><code>-set1 </code><span class="webflare-courier-new" style="white-space:pre"><em>s_netName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091149"></a>Calculates the balanced spine length for each net in this set and its pair from the <code>-set2</code> set.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091151"></a><code>-set2 </code><span class="webflare-courier-new" style="white-space:pre"><em>s_netName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091153"></a>Calculates the balanced spine length for each net in this set and its pair from the <code>-set1</code> set.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1091155"></a><code>-spine_length [ true | false ]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091159"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091161"></a>Determines whether the spine length measurement is included in the output.</p>
<p>
<a id="pgfId-1091162"></a>Default: <code>false</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1091164"></a><code>-spine_on_layers </code><strong>{</strong><span class="webflare-courier-new" style="white-space:pre"><em>s_layername</em></span>&#8230;<strong>}</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091168"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091170"></a>Creates spines on the specified layers.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1091172"></a>Examples</h4>

<p>
<a id="pgfId-1091173"></a>The following example includes a procedure for ordering net pairs in a file for balanced routing by their calculated spine length (<code>clockSort</code>), and a procedure to balance route the net pairs in decreasing spine length order (<code>clockRoute</code>). </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091174"></a># clockSort<br /># Input:  infile is a file containing two net names per row<br /># Output: outfile is a file containing the sorted net pair names by decreasing <br />#&#160;&#160;       spine length; includes calculated spine length for each pair.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091175"></a>proc clockSort {infile outfile} {<br />
&#160;&#160;set clkset1 [create_set]<br />  set clkset2 [create_set]<br />
&#160;&#160;set fileID [open $infile r]<br />  while {[gets $fileID line ] &gt;= 0} {<br />    set clk1 [lindex [split $line \t] 0]<br />    set clk2 [lindex [split $line \t] 1]<br />    set clkset1 [or_sets -set1 [find_net -name $clk1 -ignore_case true \<br />      -no_wildcard true -silent] -set2 $clkset1]<br />    set clkset2 [or_sets -set1 [find_net -name $clk2 -ignore_case true \<br />      -no_wildcard true -silent] -set2 $clkset2]<br />  }<br />  report_balanced_length -set1 $clkset1 -set2 $clkset2 -file $outfile \<br />    -spine_length true <br />  close $fileID</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091176"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091177"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091178"></a># clockRoute<br /># Input: infile is the name of a file containing two net names per row<br />#&#160;&#160;      The nets are balance routed, one pair at a time.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091179"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091180"></a>proc clockRoute {infile} {<br />
&#160;&#160;set fileID [open $infile r]<br />  while {[gets $fileID line ] &gt;= 0} {<br />    set clk1 [lindex [split $line \t] 0]<br />    set clk2 [lindex [split $line \t] 1]<br />    set tmppair [or_sets -set1 [find_net -name $clk1 -ignore_case true \<br />      -no_wildcard true ] -set2 [find_net -name $clk2 -ignore_case true \<br />      -no_wildcard true ] ]<br />    balance_route -set $tmppair <br />  }<br />  close $fileID<br />}</pre>

<p>
<a id="pgfId-1091181"></a>The following commands sort a list of net pairs in <code>nets_in.txt</code> by decreasing spine length, then balance routes the pairs, one-at-a-time.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091182"></a>clockSort nets_in.txt nets_sorted.txt<br />clockRoute nets_sorted.txt</pre>

<p>
<a id="pgfId-1091183"></a>Example input file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091184"></a>eclk1 lclk1<br />eclk2 lclk2<br />eclk3 lclk3</pre>

<p>
<a id="pgfId-1091185"></a>Example output file (includes the optional calculated spine length for each net pair):</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091186"></a>eclk2 lclk2 10.2<br />eclk1 lclk1 8.1<br />eclk3 lclk3 6.4</pre>
<h4><em>
<a id="pgfId-1231067"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1231068"></a><h-hot>Specialty Route Commands</h-hot></p>
<p>
<a id="pgfId-1231092"></a><h-hot>balance_route</h-hot></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1231059"></a></pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="spnet_routeT_re_balance_route.html" id="prev" title="balance_route">balance_route</a></em></b><b><em><a href="spnet_routeT_re_report_spine_nets.html" id="nex" title="report_spine_nets">report_spine_nets</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>