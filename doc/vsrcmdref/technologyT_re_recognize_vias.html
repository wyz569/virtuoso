
<html><head><title>recognize_vias</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-10-17" />
<meta name="CreateTime" content="1697541435" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Space-based Router Tcl commands" />
<meta name="DocTitle" content="Virtuoso Space-based Router Command Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="recognize_vias" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vsrcmdref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-17" />
<meta name="ModifiedTime" content="1697541435" />
<meta name="NextFile" content="technologyT_re_report_purpose_map.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="technologyT_re_map_purpose.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Space-based Router Command Reference -- recognize_vias" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="command reference" />
<meta name="prod_feature" content="Automatic Space-Based Routing Tcl Interface" />
<meta name="prod_subfeature" content="Technology Commands" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vsrcmdrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vsrcmdrefTOC.html">Contents</a></li><li><a class="prev" href="technologyT_re_map_purpose.html" title="map_purpose">map_purpose</a></li><li style="float: right;"><a class="viewPrint" href="vsrcmdref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="technologyT_re_report_purpose_map.html" title="report_purpose_map">report_purpose_map</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Space-based Router Command Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_recognize_vias" title="recognize_vias"></a><h3>
<a id="pgfId-1045121"></a><a id="97152"></a>r<a id="marker-1035552"></a>ecognize_vias</h3>
<a id="pgfId-1064425"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
recognize_vias 
-lib <code><em>s_libName</em></code> 
[ -append {true | false} ] 
[ -cmd_file <code><em>s_fileName</em></code> ] 
[ -force ] 
[ -ignore_case ] 
[ -ignore_layers <strong>{</strong><code><em>s_layerName</em></code> &#8230;<strong>}</strong> ]
[ -no_save ] 
[ -name_pattern <code><em>s_viaExpr</em></code> ] 
[ -remove_existing ] 
[ -view <code><em>s_viewName</em></code> ]</pre>
<h4>
<a id="pgfId-1064426"></a>Description</h4>

<p>
<a id="pgfId-1035535"></a>Performs a<a id="marker-1035553"></a>utomatic via recognition by evaluating every cellview in the given library. A custom via definition is added to the technology file for each cellview that meets the via conditions listed below. If the cellview type is not a via cellview, the cell type is changed in the library.</p>
<p>
<a id="pgfId-1035659"></a>Use of this command can change the data in your technology database file, <code>tech.db</code>, and should be used with caution because others in your group might also be using the file.</p>
<p>
<a id="pgfId-1035892"></a>The <code>recognize_vias</code> command requires that layer definitions (<a href="technologyT_re_change_layer.html#13604">change_layer</a>) exist in the OpenAccess technology file to mark the material type and the mask number appropriately. In addition, the technology file may not already contain custom via definitions. Review and verify the technology information using the <a href="technologyT_re_tech_info.html#72359">tech_info</a> command before you load the design.</p>
<p>
<a id="pgfId-1035543"></a>When you use this command, every cellview in the technology library is evaluated for the following conditions:</p>
<ul><li>
<a id="pgfId-1035544"></a>The cellview contains three layer purpose pair headers.</li><li>
<a id="pgfId-1035545"></a>There is one cut layer.</li><li>
<a id="pgfId-1035554"></a>The other two layers are the above and below layers (based on their mask numbers) to the cut layer. </li><li>
<a id="pgfId-1035555"></a>The above layer is of material type &quot;wire&quot;.</li><li>
<a id="pgfId-1035556"></a>The below layer is of material type &quot;wire&quot; or &quot;poly&quot;.</li><li>
<a id="pgfId-1035557"></a>The above layer has one shape.</li><li>
<a id="pgfId-1035558"></a>The below layer has one shape.</li></ul>






<p>
<a id="pgfId-1035596"></a>The command has the following limitations:</p>
<ul><li>
<a id="pgfId-1035597"></a>Does not check that the above and below shapes enclose the cut layer shapes.</li><li>
<a id="pgfId-1035598"></a>Does not define vias to P or N diffusion.</li></ul>


<h4>
<a id="pgfId-1035561"></a>Arguments</h4>
<table class="webflareTable" id="#id1035562">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040528"></a><code>-append {true|false}</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040530"></a>If true, appends to a list of existing via definitions. If false, the command will check for existing via definitions in the technology library and will not run if via definitions already exist.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035575"></a><code>-cmd_file </code><span class="webflare-courier-new" style="white-space:pre"><em>s_fileName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035577"></a>Writes a Tcl script of <a href="technologyT_re_add_custom_via_def.html#53449">add_custom_via_def</a> commands for each cellview that meets the via criteria instead of updating the technology file. This allows you to evaluate the vias found and remove any that have been improperly identified. You can source the script to add the via definitions.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040532"></a><code>-force</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040534"></a>Forces vias to be recognized even when the cut layer is not completely within the two metal layers. By default, the via is only recognized when the cut layer is completely within the two metal layers.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040536"></a><code>-ignore_case</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040538"></a>If name_pattern is set, then case is ignored when matching cellnames.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1042568"></a><code>-ignore_layers </code><strong>{</strong><span class="webflare-courier-new" style="white-space:pre"><em>s_layerName</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>&#8230;</em></span><strong>}</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038905"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038907"></a>Ignores the given layers during evaluation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035579"></a><code>-lib </code><span class="webflare-courier-new" style="white-space:pre"><em>s_libName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035581"></a>Specifies the library to scan.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1042598"></a><code>-name_pattern </code><span class="webflare-courier-new" style="white-space:pre"><em>s_viaExpr</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038932"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038934"></a>Automatically recognizes cellviews whose names match the given expression as via cells.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035564"></a><code>-no_save</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035566"></a>Prevents custom via definitions and cellview changes from being saved to the library and the technology file. When you exit Space-based Router and Chip Optimizer, a dialog will appear that lets you save these changes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040544"></a><code>-remove_existing</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040546"></a>Removes all via definitions before starting.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040540"></a><code>-view </code><span class="webflare-courier-new" style="white-space:pre"><em>s_viewName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040542"></a>Specifies the view name in the given library to scan for via cells. By default, the <code>layout</code> view is scanned.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1035703"></a>Examples</h4>

<p>
<a id="pgfId-1035914"></a>The following command creates a file, <code>via_def_cmds.tcl</code>, of <code>add_custom_via_def</code> commands that can be sourced to create custom via definitions for the <code>newTiny</code> library.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035915"></a>recognize_vias -lib &quot;newTiny&quot; -cmd_file via_def_cmds.tcl</pre>
<h4><em>
<a id="pgfId-1065989"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1065993"></a><a href="technologyT.html#94766">Technology Commands</a></p>
<p>
<a id="pgfId-1066020"></a><a href="technologyT_re_add_custom_via_def.html#53449">add_custom_via_def</a></p>
<p>
<a id="pgfId-1066058"></a><a href="technologyT_re_tech_info.html#72359">tech_info</a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065957"></a></pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="technologyT_re_map_purpose.html" id="prev" title="map_purpose">map_purpose</a></em></b><b><em><a href="technologyT_re_report_purpose_map.html" id="nex" title="report_purpose_map">report_purpose_map</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>