
<html><head><title>set_spine_nets</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-10-17" />
<meta name="CreateTime" content="1697541430" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Space-based Router Tcl commands" />
<meta name="DocTitle" content="Virtuoso Space-based Router Command Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="set_spine_nets" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vsrcmdref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-17" />
<meta name="ModifiedTime" content="1697541430" />
<meta name="NextFile" content="spnet_routeT_re_spine_route.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="spnet_routeT_re_set_route_is_spine.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Space-based Router Command Reference -- set_spine_nets" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="command reference" />
<meta name="prod_feature" content="Automatic Space-Based Routing Tcl Interface" />
<meta name="prod_subfeature" content="Specialty Routing Commands" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vsrcmdrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vsrcmdrefTOC.html">Contents</a></li><li><a class="prev" href="spnet_routeT_re_set_route_is_spine.html" title="set_route_is_spine">set_route_is_spine</a></li><li style="float: right;"><a class="viewPrint" href="vsrcmdref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="spnet_routeT_re_spine_route.html" title="spine_route">spine_route</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Space-based Router Command Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_set_spine_nets" title="set_spine_nets"></a><h3>
<a id="pgfId-1057214"></a><a id="86384"></a>s<a id="marker-1072648"></a>et_spine_nets</h3>
<a id="pgfId-1115021"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
set_spine_nets 
{-net <strong>{</strong><code><em>s_netName</em></code>&#8230;<strong>}</strong> | -set <code><em>d_setObj</em></code>} 
[ -bias_mode {middle | side | ratio} ] 
[ -clear [ true | false ] ]
[ -direction {vertical | horizontal} 
[ -layers <strong>{</strong><code><em>s_layerName</em></code>&#8230;<strong>}</strong> ] 
[ -max_cluster_dist <code><em>f_distance</em></code> ] 
[ -max_pins <code><em>i_count</em></code>] 
[ -optimize_cluster_ratio <code><em>i_ratio</em></code>] 
[ -tap_type {direct | short_steiner | steiner | tree}] 
[ -trunk_rule_spec <code><em>s_routeSpecName</em></code> ] 
[ -trunk_type 
  { single_driver | single_median | single_middle | 
  | single_in_channel | multi_in_channel 
  | narrow_middle | narrow_median | wide | tree} ] </pre>
<h4>
<a id="pgfId-1228379"></a>Description</h4>

<p>
<a id="pgfId-1115025"></a>Sets parameters for spine routing. Usually, this is not required before running <code>spine_route</code> because the spine router can automatically tune the routing based on the configuration of the net. Use this command before running <code>spine_route</code> to force the spine router to use certain settings. </p>
<p>
<a id="pgfId-1115029"></a>The spine router will normally use a <code>narrow_middle</code>, <code>narrow_median</code> or <code>wide</code> trunk type, depending on the aspect ratio of the net and the location of the receiver pins. If you issue this command without arguments, the spine router will use a <code>single_median</code> trunk type instead.</p>
<p>
<a id="pgfId-1115033"></a>To check the spine parameters that were set by this command, use <code>report_spine_nets</code>.</p>

<h4>
<a id="pgfId-1115034"></a>Arguments</h4>
<table class="webflareTable" id="#id1115035">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1115037"></a><code>-bias_mode {middle | side | ratio}</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115043"></a>  </p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115045"></a>(Applies only for <code>-trunk_type single_in_channel</code> and <code>-trunk_type multi_in_channel</code>) Specifies the preferred placement for an individual spine in a channel.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115049"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115051"></a><code>middle</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115053"></a>Places the spine at the center of the associated channel.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115055"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115057"></a><code>ratio</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115059"></a>(Default) Places the spine at a position relative to the ratio of the receiving pins on both sides of the channel. The distance from the spine to the edges of the sides have the same ratio as the pins on the two sides. The spine will be closer to the side with more pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115061"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115063"></a><code>side</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115065"></a>Places the spine toward the side with more receiving pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115067"></a><code>-clear [ true | false ]</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115069"></a>Resets parameters that are set by this command to their default settings.</p>
<p>
<a id="pgfId-1115070"></a>Default: <code>false</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1115074"></a><code>-direction {vertical | horizontal}</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115080"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115082"></a>(Applies only if the <code>trunk_type</code> is <code>single_driver</code>, <code>single_median</code>, <code>single_in_channel</code>, or <code>multi_in_channel</code>) Sets the spine direction. By default, the longer aspect of the bounding box of the net pins is used.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115086"></a><code>-layers </code><strong>{</strong><span class="webflare-courier-new" style="white-space:pre"><em>s_layerName</em></span><strong>}</strong> </p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115088"></a>Sets preferred layers for the spine. The lowest layer that matches the spine&#8217;s direction will be preferred. If only one layer is given, it will be used, even when the direction of the spine is perpendicular to the layer&#8217;s routing direction for <code>single_driver</code> and <code>single_median</code> trunk types only. </p>
<p>
<a id="pgfId-1115089"></a>Default: preferred or valid layers for the net </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1122045"></a><code>-max_cluster_dist </code><span class="webflare-courier-new" style="white-space:pre"><em>f_distance</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1122051"></a>  </p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1122053"></a>Specifies the maximum distance between clustered pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1122057"></a><code>-max_pins </code><span class="webflare-courier-new" style="white-space:pre"><em>i_count</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1122059"></a>Specifies the maximum number of pins in a tap cluster.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115093"></a><code>-net </code><strong>{</strong><span class="webflare-courier-new" style="white-space:pre"><em>s_netName&#8230;</em></span><strong>}</strong></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115095"></a>Sets parameters only for nets in the list.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1122063"></a><code>-optimize_cluster_ratio </code><span class="webflare-courier-new" style="white-space:pre"><em>i_ratio</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1122069"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1122071"></a>Used with <code>-max_pins</code> and <code>-max_cluster_dist</code> to fine-tune clustering. Suggested settings are greater than 2, and 3 is a good average. A value of 3 specifies that a pin will be clustered if the extra distance for clustering (connecting the pin to a neighbor pin) is less than 1/3 of the original distance from the pin to the spine.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115099"></a><code>-set </code><span class="webflare-courier-new" style="white-space:pre"><em>d_setObj</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115101"></a>Sets parameters only for nets in the set.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115105"></a><code>-tap_type </code><span class="webflare-courier-new" style="white-space:pre"><em>s_tapType</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115107"></a>Specifies the topology of the taps.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115111"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115113"></a><code>direct</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115115"></a>Connects each tap directly to the trunk. This is the default when <code>trunk_type</code> is <code>single_driver</code> or <code>single_median</code>, and for narrow topologies.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115117"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115119"></a><code>short_steiner</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115121"></a>This is a type of <code>steiner</code> tap that allows only local clustering. This is the default when <code>trunk_type</code> is not <code>single_driver</code> or <code>single_median</code>, and the net topology is nearly equal in height and width (has an aspect ratio near one).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115123"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115125"></a><code>steiner</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115127"></a>Connects to the nearest receiver group or to the trunk, whichever is closest.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115129"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115131"></a><code>tree</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115133"></a>The tap topology is determined automatically by <code>spine_route</code> based on the aspect ration of the bounding box of the net&#8217;s receiver pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1115138"></a><code>-trunk_rule_spec </code><span class="webflare-courier-new" style="white-space:pre"><em>s_routeSpecName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115144"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115146"></a>Specifies the route spec to use for the trunk.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1115150"></a><code>-trunk_type </code><span class="webflare-courier-new" style="white-space:pre"><em>s_trunkType</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115156"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115158"></a>Specifies the trunk style.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115162"></a>  </p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115164"></a><code>multi_in_channel</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115168"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115170"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115172"></a>(Requires <code>-direction</code> to specify the direction of the trunk spines) Makes a trunk by placing spines in channels between instance rows containing receivers, then connecting the spines to a perpendicular main trunk and the drivers.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115174"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115176"></a><code>narrow_median</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115178"></a>Makes a trunk that is aligned with the median coordinate in the direction of the spine.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115180"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115182"></a><code>narrow_middle</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115184"></a>Makes a trunk that is aligned with the middle of the net&#8217;s bounding box.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115186"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115188"></a><code>single_driver</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115190"></a>Makes a single trunk that connects directly to the driver. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115192"></a>  </p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1115194"></a><code>single_in_channel</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115198"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115200"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115202"></a>(Requires <code>-direction</code> to specify the direction of the trunk) Makes a single trunk in a channel close to the center of the net&#8217;s bounding box. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115204"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115206"></a><code>single_median</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115208"></a>Makes a single trunk that is located at the median coordinate in the spine direction. This is the default.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115210"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115212"></a><code>tree</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115214"></a>The trunk placement is determined automatically by <code>spine_route</code> based on the aspect ratio of the net and the topology of the receivers and drivers.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115219"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115221"></a><code>wide</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1115223"></a>Makes a trunk by clustering the receivers to identify representatives, then forming a tree where every driver-to-representative path is a shortest path. This is typically used when the net is approximately equal in height and width.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1057340"></a>Examples</h4>

<p>
<a id="pgfId-1057344"></a>The following command causes <code>spine_route</code> to route using <code>single_median</code> trunks instead of one of the normal trunk type defaults: <code>narrow_middle</code>, <code>narrow_median</code> or <code>wide</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057345"></a>set_spine_nets</pre>

<p>
<a id="pgfId-1057346"></a>The following commands create a single vertical spine on the M2 layer that is connected to the driver.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057347"></a>set_spine_nets -net net1 -trunk_type single_driver -layers M2 -direction vertical<br />spine_route -net net1</pre>
<h4><em>
<a id="pgfId-1231493"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1231494"></a><h-hot>Specialty Route Commands</h-hot></p>
<p>
<a id="pgfId-1231519"></a><h-hot>report_spine_nets</h-hot></p>
<p>
<a id="pgfId-1231536"></a><h-hot>spine_route</h-hot></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1231481"></a></pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="spnet_routeT_re_set_route_is_spine.html" id="prev" title="set_route_is_spine">set_route_is_spine</a></em></b><b><em><a href="spnet_routeT_re_spine_route.html" id="nex" title="spine_route">spine_route</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>