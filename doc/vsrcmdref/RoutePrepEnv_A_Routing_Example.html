
<html><head><title>A Tcl Routing Script Example</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-10-17" />
<meta name="CreateTime" content="1697541423" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Space-based Router Tcl commands" />
<meta name="DocTitle" content="Virtuoso Space-based Router Command Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="A Tcl Routing Script Example" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vsrcmdref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-17" />
<meta name="ModifiedTime" content="1697541423" />
<meta name="NextFile" content="RoutePrepEnv_Checking_and_Fixing_Routing_Results.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="RoutePrepEnv_Minimizing_Potential_Violations.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Space-based Router Command Reference -- A Tcl Routing Script Example" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Routing Environment" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vsrcmdrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vsrcmdrefTOC.html">Contents</a></li><li><a class="prev" href="RoutePrepEnv_Minimizing_Potential_Violations.html" title="Minimizing Potential Violations">Minimizing Potential Violation ...</a></li><li style="float: right;"><a class="viewPrint" href="vsrcmdref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="RoutePrepEnv_Checking_and_Fixing_Routing_Results.html" title="Checking and Fixing Routing Results">Checking and Fixing Routing Re ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Space-based Router Command Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:A_Routing_Example" title="A Tcl Routing Script Example"></a><h2>
<a id="pgfId-1234105"></a>A Tcl Routing Script Example<a id="23377"></a></h2>

<p>
<a id="pgfId-1234108"></a>The following is an example of a simple Tcl routing script for Virtuoso Space-based Router. The script assumes that you have already opened your design.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234110"></a>set_treat_via_as_abstract -abstract true<br />set metal_layers [get_layers -material metal]<br />set_treat_blockage_as_metal -layers $metal_layers -min_width false -min_space true -override true -force_min_space false<br />global_route<br />local_route<br />croute<br />detail_route </pre>
<h3>
<a id="pgfId-1234111"></a>Output Example</h3>

<p>
<a id="pgfId-1234112"></a>The following is an example of Transcript area output when the routing script is invoked. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234113"></a>set_treat_via_as_abstract -abstract true <br />0<br />set metal_layers [get_layers -material metal] <br />&quot;metal1&quot; &quot;metal2&quot; &quot;metal3&quot;<br />set_treat_blockage_as_metal -layers $metal_layers -min_width false -min_space true -override true -force_min_space false<br />0</pre>

<p>
<a id="pgfId-1234114"></a>During global route, congestion analysis is run at the start and end of each pass. The initial congestion analysis divides the design into square gcells, determines the resources available for each gcell, and outputs a congestion (<code>Gcell</code>) summary.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234115"></a>global_route </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234116"></a>Begin design analysis...<br />End design analysis 0.0s (kernel), 0.0s (user), 0.0s (elapsed), 131.7MB vm, 131.9MB peak vm<br />Begin congestion analysis...<br />    Tracks per gcell = 20   Track pitch = 0.6500   Master Unit = 2000<br />    Layer Metal1 Wire-to-wire pitch = 0.6000 Wire-to-via pitch = 0.6500<br />    Layer Metal2 Wire-to-wire pitch = 0.6000 Wire-to-via pitch = 0.6500<br />    Layer Metal3 Wire-to-wire pitch = 0.6000 Wire-to-via pitch = 0.6500<br />Begin initializing gcell grid...<br />        Begin layer stack...<br />        End layer stack 0.0s (kernel), 0.0s (user), 0.0s (elapsed), 131.7MB vm, 131.9MB peak vm<br />    End initializing gcell grid 0.0s (kernel), 0.0s (user), 0.0s (elapsed), 131.7MB vm, 131.9MB peak vm<br />    Begin building gcells...<br />        Adding gcells...<br />    End building gcells 0.0s (kernel), 1.0s (user), 1.0s (elapsed), 133.6MB vm, 133.6MB peak vm<br />    Standard cell design (based on internal analysis)<br />    Begin analyzing gcells...<br />    End analyzing gcells 0.0s (kernel), 0.0s (user), 0.0s (elapsed), 133.6MB vm, 133.6MB peak vm<br />    Begin update routing congestion...<br />    End update routing congestion 0.0s (kernel), 0.0s (user), 0.0s (elapsed), 133.6MB vm, 133.6MB peak vm<br />    Gcell summary</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234117"></a>  Layer/type  #Gcell  #Overcon %Overcon &lt;10% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100% Blk%<br />  ---------------------------------------------------------------------------------------<br />  Metal1:cell     2209     0 ( 0.00%)    0   4   3   3  10  18  24  23  11   0    0    0<br />  Metal1:edge     2162     0 ( 0.00%)    0   8   7   4   9  12   9  10  16  20    0    0<br />  Metal2:cell     2209     0 ( 0.00%)  100   0   0   0   0   0   0   0   0   0    0    0<br />  Metal2:edge     2162     0 ( 0.00%)   98   0   0   0   0   0   0   0   0   0    0    0<br />  Metal2:down-via 2209     0 ( 0.00%)<br />  Metal3:cell     2209     0 ( 0.00%)   97   2   0   0   0   0   0   0   0   0    0    0<br />  Metal3:edge     2162     0 ( 0.00%)   93   6   0   0   0   0   0   0   0   0    0    0<br />  Metal3:down-via 2209     0 ( 0.00%)<br />  ---------------------------------------------------------------------------------------<br />End congestion analysis 0.0s (kernel), 1.0s (user), 1.0s (elapsed), 133.6MB vm, 133.6MB peak vm</pre>

<p>
<a id="pgfId-1234118"></a>The congestion summary indicates the following:</p>
<ul><li>
<a id="pgfId-1234119"></a>The number of gcells for each metal layer by type: cell, edge, and down-via</li><li>
<a id="pgfId-1234120"></a>The number and percentage of overcongested gcells for each grouping</li><li>
<a id="pgfId-1234121"></a>The gcell resource usage (The <code>&lt;10%</code> column is the number of gcells using less than 10% of their resources, the <code>10%</code> column is the number of gcells using at least 10% but less than 20% of their resources, and so on)</li><li>
<a id="pgfId-1234122"></a>The number of gcells with 100% blockage (<code>Blk%</code>)</li></ul>




<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234123"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234124"></a>Full routing...<br />Begin global router initialization...<br />    Automatic layer assignment is enabled<br />    Full pin access check is enabled<br />    Detailed pin escape is disabled<br />    Local detail route is disabled<br />    Begin update routing congestion...<br />    End update routing congestion 0.0s (kernel), 0.0s (user), 0.0s (elapsed), 132.5MB vm, 133.6MB peak vm<br />    Begin initializing guides...<br />    End initializing guides 0.0s (kernel), 1.5s (user), 1.5s (elapsed), 134.1MB vm, 134.9MB peak vm<br />    Begin pin access check...<br />    End pin access check 0.0s (kernel), 2.5s (user), 2.5s (elapsed), 134.1MB vm, 134.9MB peak vm<br />    Begin prepare nets...<br />    End prepare nets 0.0s (kernel), 0.0s (user), 0.0s (elapsed), 134.1MB vm, 134.9MB peak vm<br />    Metal1 layer density = 70%<br />    Metal2 layer density = 70%<br />    Metal3 layer density = 100%<br />Begin net prioritization...<br />    End net prioritization 0.0s (kernel), 0.0s (user), 0.0s (elapsed), 134.7MB vm, 134.9MB peak vm<br />End global router initialization 0.0s (kernel), 4.1s (user), 4.1s (elapsed), 134.7MB vm, 134.9MB peak vm<br />Begin global route...<br />        #Priority net count:<br />        Class   0 <br />             5697 <br />        ####################<br /># = LAYER DETAILS<br />==========================================================================================<br />|        |   |    Total |     Horizontal    |      Vertical     |   Guide |   Down Vias  |<br />|  Layer |Dir|   Length |  Detail |  Global |  Detail |  Global |  Length | Total | Guide|<br />|----------------------------------------------------------------------------------------|<br />| Metal1 | H | 360495.55|    0.00 |    0.00 |    0.00 |    0.00 |360495.55|     0 |    0 |<br />| Metal2 | V |    459.47|    0.00 |    0.00 |    0.00 |    0.00 |  459.47 |    43 |   43 |<br />| Metal3 | H |      0.00|    0.00 |    0.00 |    0.00 |    0.00 |    0.00 |    23 |   23 |<br />|----------------------------------------------------------------------------------------|<br />| Totals |   | 360955.02|    0.00 |    0.00 |    0.00 |    0.00 |360955.02|    66 |   66 |<br />| Percent|   |   100.00 |    0.00 |    0.00 |    0.00 |    0.00 |  100.00 |       |      |<br />==========================================================================================<br /></pre>

<p>
<a id="pgfId-1234125"></a>The first routing summary gives the guide lengths and the total lengths from the preroutes. Here, there is no global routing length. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234126"></a>Begin 1st global routing pass...<br />    End 1st global routing pass 0.0s (kernel), 2.8s (user), 2.9s (elapsed), 140.0MB vm, 140.6MB peak vm<br />    Gcell summary<br />  Layer/type  #Gcell  #Overcon %Overcon &lt;10% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100% Blk%<br />  ---------------------------------------------------------------------------------------<br />  Metal1:cell    2209        0 ( 0.00%)   0   4   3   3  10  18  24  23  12   0    0    0<br />  Metal1:edge    2162        0 ( 0.00%)   0   8   7   4  10  12   9  10  16  20    0    0<br />  Metal2:cell    2209        0 ( 0.00%)   9   7  14  18  20  20   8   0   0   0    0    0<br />  Metal2:edge    2162        0 ( 0.00%)   7  10  14  18  21  17   8   0   0   0    0    0<br />  Metal2:down-via2209        0 ( 0.00%)<br />  Metal3:cell    2209        0 ( 0.00%)   8  11  15  17  16  12  12   5   1   0    0    0<br />  Metal3:edge    2162        0 ( 0.00%)   6   9  15  17  15  14  12   6   1   0    0    0<br />  Metal3:down-via2209        0 ( 0.00%)<br />  ---------------------------------------------------------------------------------------<br /># = LAYER DETAILS ==========================================================================================<br />|        |   |    Total |     Horizontal    |      Vertical     |   Guide |   Down Vias  |<br />|  Layer |Dir|   Length |  Detail |  Global |  Detail |  Global |  Length | Total | Guide|<br />|----------------------------------------------------------------------------------------|<br />| Metal1 | H |    436.98|    0.00 |   434.02|    0.00 |     2.96|    0.00 |     0 |    0 |<br />| Metal2 | V | 182674.93|    0.00 |   228.71|    0.00 |182446.22|    0.00 | 20611 |    0 |<br />| Metal3 | H | 198775.35|    0.00 |198446.62|    0.00 |   328.73|    0.00 | 24585 |    0 |<br />|----------------------------------------------------------------------------------------|<br />| Totals |   |381887.26 |    0.00 |199109.35|    0.00 |182777.91|    0.00 | 45196 |    0 |<br />| Percent|   |   100.00 |    0.00 |   52.14 |    0.00 |   47.86 |    0.00 |       |      |<br />==========================================================================================<br /></pre>

<p>
<a id="pgfId-1234127"></a>After the first global routing pass, all guide length has been replaced by global routes.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234128"></a>Begin 2nd global routing pass...<br />    End 2nd global routing pass 0.0s (kernel), 0.6s (user), 0.6s (elapsed), 140.3MB vm, 140.6MB peak vm<br />    Gcell summary<br />  Layer/type  #Gcell  #Overcon %Overcon &lt;10% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100% Blk%<br />  ---------------------------------------------------------------------------------------<br />  Metal1:cell    2209        0 ( 0.00%)   0   4   3   3  10  18  24  23  12   0    0    0<br />  Metal1:edge    2162        0 ( 0.00%)   0   8   7   4  10  12   9  10  16  20    0    0<br />  Metal2:cell    2209        0 ( 0.00%)   8   6  12  18  26  21   5   0   0   0    0    0<br />  Metal2:edge    2162        0 ( 0.00%)   7   8  12  20  26  19   4   0   0   0    0    0<br />  Metal2:down-via2209        0 ( 0.00%)<br />  Metal3:cell    2209        0 ( 0.00%)   7  10  14  16  17  14  13   4   0   0    0    0<br />  Metal3:edge    2162        0 ( 0.00%)   6   8  13  17  16  15  14   6   1   0    0    0<br />  Metal3:down-via2209        0 ( 0.00%)<br />  ---------------------------------------------------------------------------------------<br /># = LAYER DETAILS ==========================================================================================<br />|        |   |    Total |     Horizontal    |      Vertical     |   Guide |   Down Vias  |<br />|  Layer |Dir|   Length |  Detail |  Global |  Detail |  Global |  Length | Total | Guide|<br />|----------------------------------------------------------------------------------------|<br />| Metal1 | H |    450.02|    0.00 |   447.06|    0.00 |    2.96 |    0.00 |     0 |    0 |<br />| Metal2 | V | 183274.32|    0.00 |   226.70|    0.00 |183047.62|    0.00 | 20617 |    0 |<br />| Metal3 | H | 205556.42|    0.00 |205229.03|    0.00 |  327.39 |    0.00 | 24769 |    0 |<br />|----------------------------------------------------------------------------------------|<br />| Totals |   | 389280.76|    0.00 |205902.79|    0.00 |183377.97|    0.00 | 45386 |    0 |<br />| Percent|   |    100.00|    0.00 |    52.89|    0.00 |    47.11|    0.00 |       |      |<br />==========================================================================================<br />Begin 3rd global routing pass...<br />    End 3rd global routing pass 0.0s (kernel), 1.5s (user), 1.5s (elapsed), 140.4MB vm, 140.6MB peak vm<br />    Gcell summary<br />  Layer/type  #Gcell  #Overcon %Overcon &lt;10% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100% Blk%<br />  ---------------------------------------------------------------------------------------<br />  Metal1:cell    2209        0 ( 0.00%)   0   3   2   4  10  18  24  22  12   0    0    0<br />  Metal1:edge    2162        0 ( 0.00%)   0   6   7   5  10  12   9  10  16  20    0    0<br />  Metal2:cell    2209        0 ( 0.00%)   8   5  10  17  33  24   0   0   0   0    0    0<br />  Metal2:edge    2162        0 ( 0.00%)   6   7  11  19  34  18   1   0   0   0    0    0<br />  Metal2:down-via2209        0 ( 0.00%)<br />  Metal3:cell    2209        0 ( 0.00%)   6   9  12  15  17  19  17   1   0   0    0    0<br />  Metal3:edge    2162        0 ( 0.00%)   4   7  11  16  16  18  19   5   0   0    0    0<br />  Metal3:down-via2209        0 ( 0.00%)<br />  ---------------------------------------------------------------------------------------<br /># = LAYER DETAILS ==========================================================================================<br />|        |   |    Total |     Horizontal    |      Vertical     |   Guide |   Down Vias  |<br />|  Layer |Dir|   Length |  Detail |  Global |  Detail |  Global |  Length | Total | Guide|<br />|----------------------------------------------------------------------------------------|<br />| Metal1 | H |    838.26|    0.00 |   834.99|    0.00 |    3.26 |    0.00 |     0 |    0 |<br />| Metal2 | V | 184276.54|    0.00 |   229.93|    0.00 |184046.61|    0.00 | 20636 |    0 |<br />| Metal3 | H | 213740.70|    0.00 |213419.88|    0.00 |  320.82 |    0.00 | 25010 |    0 |<br />|----------------------------------------------------------------------------------------|<br />| Totals |   | 398855.50|    0.00 |214484.80|    0.00 |184370.70|    0.00 | 45646 |    0 |<br />| Percent|   |    100.00|    0.00 |   53.78 |    0.00 |   46.22 |    0.00 |       |      |<br />==========================================================================================<br />Begin 4th global routing pass...<br />    End 4th global routing pass 0.0s (kernel), 3.3s (user), 3.3s (elapsed), 140.6MB vm, 140.6MB peak vm<br />    Gcell summary<br />  Layer/type  #Gcell  #Overcon %Overcon &lt;10% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100% Blk%<br />  ---------------------------------------------------------------------------------------<br />  Metal1:cell     2209       0 ( 0.00%)   0   3   3   4  10  18  24  22  12   0    0    0<br />  Metal1:edge     2162       0 ( 0.00%)   0   6   7   5  10  12   9  10  16  20    0    0<br />  Metal2:cell     2209       0 ( 0.00%)   7   5   8  17  45  16   0   0   0   0    0    0<br />  Metal2:edge     2162       0 ( 0.00%)   5   5  10  21  43  12   0   0   0   0    0    0<br />  Metal2:down-via2209        0 ( 0.00%)<br />  Metal3:cell     2209       0 ( 0.00%)   5   6  10  15  20  23  17   1   0   0    0    0<br />  Metal3:edge     2162       0 ( 0.00%)   4   5   9  16  19  19  21   4   0   0    0    0<br />   Metal3:down-via2209       0 ( 0.00%)<br />  ---------------------------------------------------------------------------------------<br /># = LAYER DETAILS ==========================================================================================<br />|        |   |    Total |     Horizontal    |      Vertical     |   Guide |   Down Vias  |<br />|  Layer |Dir|   Length |  Detail |  Global |  Detail |  Global |  Length | Total | Guide|<br />|----------------------------------------------------------------------------------------|<br />| Metal1 | H |    804.41|    0.00 |   798.69|    0.00 |     5.71|    0.00 |     0 |    0 |<br />| Metal2 | V | 183542.31|    0.00 |   253.77|    0.00 |183288.54|    0.00 | 20644 |    0 |<br />| Metal3 | H | 221058.46|    0.00 |220734.97|    0.00 |   323.49|    0.00 | 25214 |    0 |<br />|----------------------------------------------------------------------------------------|<br />| Totals |   | 405405.17|    0.00 |221787.43|    0.00 |183617.74|    0.00 | 45858 |    0 |<br />| Percent|   |    100.00|    0.00 |    54.71|    0.00 |    45.29|    0.00 |       |      |<br />==========================================================================================<br />End global route 0.2s (kernel), 8.5s (user), 8.7s (elapsed), 140.6MB vm, 140.8MB peak vm<br />Begin writing global routes...<br />    Begin update routing congestion...<br />    End update routing congestion 0.0s (kernel), 0.3s (user), 0.3s (elapsed), 141.5MB vm, 142.2MB peak vm<br /># = LAYER DETAILS ==========================================================================================<br />|        |   |    Total |     Horizontal    |      Vertical     |   Guide |   Down Vias  |<br />|  Layer |Dir|   Length |  Detail |  Global |  Detail |  Global |  Length | Total | Guide|<br />|----------------------------------------------------------------------------------------|<br />| Metal1 | H |    804.41|    0.00 |   798.69|    0.00 |     5.71|    0.00 |     0 |    0 |<br />| Metal2 | V | 182749.74|    0.00 |   252.46|    0.00 |182497.28|    0.00 | 20617 |    0 |<br />| Metal3 | H |  218981.9|    0.00 |218660.32|    0.00 |   321.60|    0.00 | 23876 |    0 |<br />|----------------------------------------------------------------------------------------|<br />| Totals |   | 402536.07|    0.00 |219711.48|    0.00 |182824.59|    0.00 | 44493 |    0 |<br />| Percent|   |    100.00|    0.00 |    54.58|    0.00 |   45.42 |    0.00 |       |      |<br />==========================================================================================<br />5578 nets written.<br />    22411 routes written.<br />End writing global routes 0.0s (kernel), 2.0s (user), 2.1s (elapsed), 141.5MB vm, 142.2MB peak vm<br />Begin reclaim memory...<br />End reclaim memory 0.0s (kernel), 0.0s (user), 0.0s (elapsed), 139.3MB vm, 142.2MB peak vm<br />0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234129"></a></pre>

<p>
<a id="pgfId-1234130"></a>Local route escapes pins and replaces any disconnects with guides between the ends of the new connections and the existing global routes to keep the connectivity legal.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234131"></a>local_route <br />Begin local route...<br />    Escaping 19872 instTerms and 0 terms<br />    Starting with 0 unroutes and 0 shapes in violation<br />    Escaped 19872, failed 0<br />    final results : unroutes     0  errors     0  violatees     0  weak     0  offgrid     0<br />End local route 0.0s (kernel), 14.6s (user), 14.7s (elapsed), 141.9MB vm, 142.2MB peak vm<br />Cpu time (local_route): 14.61sec<br />Elapsed time (local_route): 14.68sec<br />0</pre>

<p>
<a id="pgfId-1234132"></a>The <code>croute</code> command lays down as many wires as possible along routing conduits. Its goal is to keep the remaining missing connections short in length and to ensure that spacing violations that are created in this step can be corrected in the detail route step.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234133"></a>croute </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234134"></a>max memory before CRoute: 142.2meg
total_shape_seen 121355; total_shape_used 30461; total_intra_used 5371; total_intra_pinned 0
cpu time (constructConduits): 0.44sec
max memory after data prep: 145.0meg
## Assigned in passes: 
p0 = 8722 
p1 = 16548 
p2 = 0 
p3 = 0 
## Failure type 1: 0 2: 0, 3: 0
## Bend counts: total 3203 ; type2 (partial blockage) 555 ; type4 (cross blockage) 0 
## Off Track: direct  3859 ; indirect 2896 ; diff Z direct  0 ; indirect 634 ;other pins: 6135 
## Miss Lineup same Z: direct  1886 ; indirect  1707 ; diff Z direct 0 ; indirect 539
## Violation: Space 12 ; Net 0 ; LoBound 0 ; HiBound 0 ;Shape 0
## Tangle:&#160;&#160;&#160;&#160; Tangle 8 ; OutOfVCG 0 
## spacing saved 38273 ; spacing called 71234
## Assigned in passes: 
p0 = 0 
p1 = 0 
p2 = 4626 
p3 = 1644 
## Failure type 1: 0 2: 0, 3: 0
## Bend counts: total 2956 ; type2 (partial blockage) 670 ; type4 (cross blockage) 0 
## Off Track: direct  3689 ; indirect 4160 ; diff Z direct  0 ; indirect 882 ;other pins: 6576 
## Miss Lineup same Z: direct  2141 ; indirect  2836 ; diff Z direct 0 ; indirect 1222
## Violation: Space 38 ; Net 0 ; LoBound 0 ; HiBound 0 ;Shape 0
## Tangle:&#160;&#160;&#160;&#160; Tangle 86 ; OutOfVCG 0 <br />## spacing saved 186604 ; spacing called 340808<br />length on layer  1:     12926360; via from layer: 5652<br />length on layer  2:    425017720; via from layer: 17788<br />length on layer  3:    458425547; via from layer: 0<br />length on layer  4:            0; via from layer: 0<br />length on layer  5:            0; via from layer: 0<br />length on layer  6:            0; via from layer: 0<br />Grand total length:    896369627; via: 23440; Embeded ratio:  0.68<br />cpu time (track assignment): 5.11sec<br />total cpu time (croute [trackAssignment+embed]): 7.23sec<br />max memory after embed: 148.8meg<br />memory added by CRoute:  6.6meg<br />### area push time 5.09sec ktime 0.00sec; attempted 3233, succeeded 2789<br />Max memory used after pushing: 148.8meg<br />### area pack time   4.73sec ktime   0.00sec; attempted 23940 Pack failed 10872<br />Memory usage after packing: 149.1meg<br />max memory after packing: 149.1meg<br />### critic time   2.90sec<br />max memory after critic: 149.1meg<br /># = LAYER DETAILS ==========================================================================================<br />|        |   |    Total |     Horizontal    |      Vertical     |   Guide |   Down Vias  |<br />|  Layer |Dir|   Length |  Detail |  Global |  Detail |  Global |  Length | Total | Guide|<br />|----------------------------------------------------------------------------------------|<br />| Metal1 | H |   2910.57|  421.90 |    0.00 |    0.00 |    0.00 |  2488.67|     0 |     0|<br />| Metal2 | V | 223552.07|  3267.85|    0.00 | 96234.38|    0.00 |124049.85| 20479 |   598|<br />| Metal3 | H | 189880.43|137930.25|    0.00 |  491.59 |    0.00 | 51458.59| 13153 | 10301|<br />|----------------------------------------------------------------------------------------|<br />| Totals |   | 416343.07|141620.00|    0.00 | 96725.97|    0.00 |177997.11| 33632 | 10899|<br />| Percent|   |    100.00|   34.02 |    0.00 |    23.23|    0.00 |    42.75|       |      |<br />==========================================================================================<br />Current memory after Croute =   145.4961meg (max memory =   149.1484meg)<br />total cpu time (croute): 20.09sec</pre>

<p>
<a id="pgfId-1234135"></a>Here, global routes have been replaced by detail routes and guides.</p>
<p>
<a id="pgfId-1234139"></a>In the final step of the routing flow, Space-based Router and Chip Optimizer attempts to complete all connections according to the design rules. In this example, one cycle is run with multiple passes. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234140"></a>detail_route </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234141"></a>Begin droute...<br />    Starting with 19487 guides<br />    Begin cycle 1...<br />[pass  1 index  1 begin] rips 22005  (unroutes 19487  errors  2518  violatees     0  weak     0  offgrid     0 giveUp     0)<br />[pass  1 end ] 68.30 secs, 68.30 secs total<br />[pass  2 index  2 begin] rips  5613  (unroutes  3106  errors  1655  violatees   852  weak     0  offgrid     0 giveUp     0)<br />[pass  2 end ] 71.69 secs, 139.99 secs total<br />[pass  3 index  3 begin] rips  9547  (unroutes    36  errors  3893  violatees  5618  weak     0  offgrid     0 giveUp     0)<br />[pass  3 end ] 125.80 secs, 265.79 secs total<br />[pass  4 index  4 begin] rips  7267  (unroutes     0  errors  4192  violatees  3075  weak     0  offgrid     0 giveUp     0)<br />[pass  4 end ] 117.64 secs, 383.43 secs total<br />[pass  5 index  5 begin] rips  2357  (unroutes     0  errors  1802  violatees   555  weak     0  offgrid     0 giveUp     0)<br />[pass  5 end ] 68.80 secs, 452.23 secs total<br />[pass  6 index  6 begin] rips  1712  (unroutes     0  errors   948  violatees   764  weak     0  offgrid     0 giveUp     0)<br />[pass  6 end ] 20.33 secs, 472.56 secs total<br />[pass  7 index  7 begin] rips   817  (unroutes     0  errors   578  violatees   239  weak     0  offgrid     0 giveUp     0)<br />[pass  7 end ] 37.49 secs, 510.05 secs total<br />[pass  8 index  8 begin] rips   591  (unroutes     0  errors   341  violatees   250  weak     0  offgrid     0 giveUp     0)<br />[pass  8 end ] 11.73 secs, 521.78 secs total<br />[pass  9 index  9 begin] rips   360  (unroutes     0  errors   263  violatees    97  weak     0  offgrid     0 giveUp     0)<br />[pass  9 end ] 7.23 secs, 529.01 secs total<br />[pass 10 index 10 begin] rips   307  (unroutes     0  errors   222  violatees    85  weak     0  offgrid     0 giveUp     0)<br />[pass 10 end ] 6.37 secs, 535.38 secs total<br />[pass 11 index  6 begin] rips   194  (unroutes     0  errors   190  violatees     4  weak     0  offgrid     0 giveUp     0)<br />[pass 11 end ] 6.28 secs, 541.66 secs total<br />[pass 12 index  7 begin] rips   236  (unroutes     0  errors   153  violatees    83  weak     0  offgrid     0 giveUp     0)<br />[pass 12 end ] 15.09 secs, 556.75 secs total<br />[pass 13 index  8 begin] rips   233  (unroutes     0  errors   122  violatees   111  weak     0  offgrid     0 giveUp     0)<br />[pass 13 end ] 23.61 secs, 580.36 secs total<br />[pass 14 index  9 begin] rips   136  (unroutes     0  errors    93  violatees    43  weak     0  offgrid     0 giveUp     0)<br />[pass 14 end ] 2.63 secs, 583.00 secs total<br />[pass 15 index 10 begin] rips    71  (unroutes     0  errors    49  violatees    22  weak     0  offgrid     0 giveUp     0)<br />[pass 15 end ] 2.46 secs, 585.46 secs total<br />[pass 16 index  6 begin] rips    31  (unroutes     0  errors    29  violatees     2  weak     0  offgrid     0 giveUp     0)<br />[pass 16 end ] 1.38 secs, 586.84 secs total<br />[pass 17 index  7 begin] rips    37  (unroutes     0  errors    28  violatees     9  weak     0  offgrid     0 giveUp     0)<br />[pass 17 end ] 4.23 secs, 591.07 secs total<br />[pass 18 index  8 begin] rips    52  (unroutes     0  errors    26  violatees    26  weak     0  offgrid     0 giveUp     0)<br />[pass 18 end ] 6.78 secs, 597.85 secs total<br />[pass 19 index  9 begin] rips    34  (unroutes     0  errors    22  violatees    12  weak     0  offgrid     0 giveUp     0)<br />[pass 19 end ] 1.52 secs, 599.37 secs total<br />[pass 20 index 10 begin] rips    32  (unroutes     0  errors    19  violatees    13  weak     0  offgrid     0 giveUp     0)<br />[pass 20 end ] 1.43 secs, 600.80 secs total<br />[pass 21 index  6 begin] rips    17  (unroutes     0  errors    17  violatees     0  weak     0  offgrid     0 giveUp     0)<br />[pass 21 end ] 1.19 secs, 602.00 secs total<br />[pass 22 index  7 begin] rips    28  (unroutes     0  errors    28  violatees     0  weak     0  offgrid     0 giveUp     0)<br />[pass 22 end ] 2.67 secs, 604.67 secs total<br />[pass 23 index  8 begin] rips    24  (unroutes     0  errors    14  violatees    10  weak     0  offgrid     0 giveUp     0)<br />[pass 23 end ] 4.95 secs, 609.62 secs total<br />[pass 24 index  9 begin] rips    17  (unroutes     0  errors    13  violatees     4  weak     0  offgrid     0 giveUp     0)<br />[pass 24 end ] 0.39 secs, 610.01 secs total<br />[pass 25 index 10 begin] rips     4  (unroutes     0  errors     4  violatees     0  weak     0  offgrid     0 giveUp     0)<br />[pass 25 end ] 0.02 secs, 610.03 secs total</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234142"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1234143"></a>Pass  1=    68.30s(atmp   20376/v  792/f 3437)Avg   0.00s Size  14.02 Rip  1.0 Push   0.00s Err 2518 Sn    0 Gd 19487 Gp    0 Wk    0 fb   0 fx   0 <br />Pass  2=    71.69s(atmp    3726/v  228/f   66)Avg   0.02s Size  22.64 Rip  1.2 Push   0.00s Err 2507 Sn 2123 Gd 3106 Gp    0 Wk    0 fb   0 fx   0 <br />Pass  3=   125.80s(atmp    3612/v  805/f    0)Avg   0.03s Size  27.19 Rip  4.1 Push   0.00s Err 9511 Sn  433 Gd   36 Gp    0 Wk    0 fb   0 fx   0 <br />Pass  4=   117.64s(atmp    1994/v  613/f    0)Avg   0.06s Size  36.29 Rip  5.9 Push   6.09s Err 7267 Sn  283 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass  5=    68.80s(atmp     529/v  187/f    0)Avg   0.13s Size  44.52 Rip  8.4 Push   0.00s Err 2357 Sn  138 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass  6=    20.33s(atmp     573/v  218/f    0)Avg   0.04s Size  24.45 Rip  4.8 Push   2.26s Err 1712 Sn   37 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass  7=    37.49s(atmp     197/v   75/f    0)Avg   0.19s Size  53.59 Rip  9.3 Push   0.00s Err  817 Sn   36 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass  8=    11.73s(atmp     212/v   85/f    0)Avg   0.06s Size  33.63 Rip  5.4 Push   1.33s Err  591 Sn   12 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass  9=     7.23s(atmp     114/v   44/f    0)Avg   0.06s Size  24.35 Rip  6.3 Push   1.27s Err  360 Sn   13 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 10=     6.37s(atmp     101/v   39/f   81)Avg   0.06s Size  63.31 Rip  9.6 Push   0.00s Err  307 Sn   13 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 11=     6.28s(atmp      77/v   31/f    3)Avg   0.08s Size  33.17 Rip  5.4 Push   0.66s Err  194 Sn   10 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 12=    15.09s(atmp      69/v   14/f    0)Avg   0.22s Size  64.96 Rip  9.4 Push   0.00s Err  236 Sn   10 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 13=    23.61s(atmp     637/v  275/f  253)Avg   0.04s Size  54.58 Rip  9.5 Push   0.33s Err  233 Sn    7 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 14=     2.63s(atmp      32/v    9/f    0)Avg   0.08s Size  35.67 Rip  7.0 Push   0.18s Err  136 Sn   30 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 15=     2.46s(atmp      33/v   10/f   26)Avg   0.07s Size  77.91 Rip  6.2 Push   0.00s Err   71 Sn    7 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 16=     1.38s(atmp      13/v    3/f    0)Avg   0.11s Size  42.89 Rip  6.5 Push   0.09s Err   31 Sn    5 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 17=     4.23s(atmp      11/v    0/f    0)Avg   0.38s Size  74.46 Rip  8.8 Push   0.00s Err   37 Sn    2 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 18=     6.78s(atmp     158/v   55/f   89)Avg   0.04s Size  55.50 Rip 11.5 Push   0.11s Err   52 Sn    2 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 19=     1.52s(atmp       9/v    1/f    0)Avg   0.17s Size  44.39 Rip  8.7 Push   0.10s Err   34 Sn    5 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 20=     1.43s(atmp      16/v    5/f   15)Avg   0.09s Size  88.58 Rip  7.5 Push   0.00s Err   32 Sn    2 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 21=     1.19s(atmp       8/v    1/f    0)Avg   0.15s Size  54.53 Rip  6.0 Push   0.05s Err   17 Sn    2 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 22=     2.67s(atmp      10/v    3/f    0)Avg   0.27s Size  82.53 Rip 11.1 Push   0.00s Err   28 Sn    4 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 23=     4.95s(atmp      96/v   39/f   47)Avg   0.05s Size  55.86 Rip 11.6 Push   0.04s Err   24 Sn    2 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 24=     0.39s(atmp       4/v    0/f    0)Avg   0.10s Size  53.84 Rip  6.3 Push   0.01s Err   17 Sn    4 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />Pass 25=     0.02s(atmp       1/v    0/f    0)Avg   0.02s Size  91.47 Rip  4.0 Push   0.00s Err    4 Sn    2 Gd    0 Gp    0 Wk    0 fb   0 fx   0 <br />        final results (cycle  1):  errors     2  unroutes     0  weak     0  offgrid     0 giveUp     0<br />        Begin Search and Repair...<br />        End Search and Repair 0.0s (kernel), 0.0s (user), 0.0s (elapsed), 148.9MB vm, 167.2MB peak vm<br />    End cycle 1 7.8s (kernel), 10m6.3s (user), 10m17.7s (elapsed), 148.9MB vm, 167.2MB peak vm<br />End droute 7.8s (kernel), 10m6.3s (user), 10m17.8s (elapsed), 148.9MB vm, 167.2MB peak vm<br />Ending guides 0<br />Cpu time (detail_route): 614.06sec<br />Elapsed time (detail_route): 617.78sec<br />0</pre>

<p>
<a id="pgfId-1234144"></a>When the routing script is finished, the results for the detail route step indicate whether the routing completed successfully. In this example, there are some errors and no remaining guides. </p>

<h4><em>
<a id="pgfId-1347511"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1347515"></a><a href="RoutePrepEnv.html#74538">Preparing the Routing Environment</a></p>
<p>
<a id="pgfId-1347532"></a><a href="RoutePrepEnv_Checking_and_Fixing_Routing_Results.html#91272">Checking and Fixing Routing Results</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="RoutePrepEnv_Minimizing_Potential_Violations.html" id="prev" title="Minimizing Potential Violations">Minimizing Potential Violation ...</a></em></b><b><em><a href="RoutePrepEnv_Checking_and_Fixing_Routing_Results.html" id="nex" title="Checking and Fixing Routing Results">Checking and Fixing Routing Re ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>