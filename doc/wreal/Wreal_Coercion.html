
<html><head><title>Wreal Coercion</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677668832" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Digital-centric Mixed-signal Verification methodology that enables top-level verification at digital speed." />
<meta name="DocTitle" content="Real Number Modeling Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Wreal Coercion" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Analog Mixed-Signal,Digital Mixed-Signal," />
<meta name="prod_subfeature" content="wreal , Wreal/Real Nets," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="wreal" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677668832" />
<meta name="NextFile" content="Wreal_Table_Models.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Multiple_Driven_Wreals.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Real Number Modeling Guide -- Wreal Coercion" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="wreal2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="wrealTOC.html">Contents</a></li><li><a class="prev" href="Multiple_Driven_Wreals.html" title="Multiple_Driven_Wreals">Multiple_Driven_Wreals</a></li><li style="float: right;"><a class="viewPrint" href="wreal.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Wreal_Table_Models.html" title="Wreal_Table_Models">Wreal_Table_Models</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Real Number Modeling Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Wreal Coercion</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p>During the elaboration phase, the connectivity of a mixed-signal design is computed. This also involves determining and attaching types, such as logic type and electrical type to interconnects (wires). The Verilog-AMS LRM only allows wreal ports and nets to connect to wires. In this case, the wires get resolved to the type wreal. This process is called coercion to wreal (wreal coercion).</p>

<p>When a wire/interconnect is connected to a net of the type <code>wreal</code>, <code>SV real,</code> or <code>VHDL real</code>, it is coerced to <code>wreal</code> as well. Such coercion occurs across multiple hierarchical levels. The coercion process allows a seamless connection of devices without worrying about the interconnects and their types. This offers tremendous value in terms of model portability across various design configurations. In a different configuration, interconnect might be used to connect electrical ports &#8211; this works seamlessly without any change in the source code.</p>

<p>The following example illustrates the wreal coercion function:</p>

<p><code>`include &quot;disciplines.vams&quot;</code></p>

<p><code>module top();</code><br /><code>&#160; wire w;</code><br /><code>&#160; sub1 I1 (w);</code><br /><code>&#160; sub2 I2 (w);</code><br /><code>endmodule</code></p>

<p><code>module sub1(foo);</code><br /><code>&#160; output foo;</code><br /><code>&#160; source I1  (foo);</code><br /><code>endmodule</code></p>

<p><code>module sub2(foo);</code><br /><code>&#160; input foo;</code><br /><code>&#160; sink   I3  (foo);</code><br /><code>endmodule</code></p>

<p>Some levels of hierarchy and the connection between the blocks are implemented using wires. Note that we have not defined any discipline or type for the wires. This is essential to give the elaborator the flexibility to choose the appropriate wire type. The following example illustrated how to use electrical definitions for the&#160;<code>source</code> and <code>sink</code> modules:</p>

<p><code>`include &quot;disciplines.vams&quot;</code></p>

<p><code>module source (r);</code><br /><code>&#160; output r;</code><br /><code>&#160; electrical  r;</code><br /><code>&#160; analog begin</code><br /><code>&#160; &#160; V(r) &lt;+ sin($abstime * 1e4);</code><br /><code>&#160; &#160; $bound_step(1e-5); // limit the step size</code><br /><code>&#160; end</code></p>

<p><code>endmodule // send</code></p>

<p><code>module sink (r);</code><br /><code>&#160; input r;</code><br /><code>&#160; electrical r;</code></p>

<p><code>&#160; analog begin</code><br /><code>&#160; &#160; $display(&quot; voltage = %f&quot;, V(r));</code><br /><code>&#160; end</code><br /><code>endmodule</code></p>

<p>The entire wire hierarchy in the three top-level modules becomes electrical due to the connection of the wires to the electrical ports. Using exactly the same top-level hierarchy with different leaf-level blocks results in different wire type and discipline assignment.</p>

<p><code>`include &quot;disciplines.vams&quot;</code></p>

<p><code>module source(r);</code><br /><code>&#160; output r;</code><br /><code>&#160; wreal  r;</code><br /><code>&#160; real      realnumber;</code><br /><code>&#160; initial begin</code><br /><code>&#160; &#160; #1 realnumber = `wrealXState;</code><br /><code>&#160; &#160; #1 realnumber = `wrealZState;</code><br /><code>&#160; &#160; #1 realnumber = 2.2;</code><br /><code>&#160; &#160; #1 realnumber = 1.1;</code><br /><code>&#160; &#160; #1 $stop;</code><br /><code>   end</code><br /><code>   assign r = realnumber;</code><br /><code>endmodule // send</code></p>

<p><code>module sink (r);</code><br /><code>&#160; input r;</code><br /><code>&#160; wreal r;</code><br /><code>&#160; always @(r) begin</code><br /><code>&#160; &#160; $display(&quot; real value = %f&quot;, r);</code><br /><code>&#160; end</code><br /><code>endmodule</code></p>

<p>In this case, the top-level wires are coerced to a wreal wire type. Thus, the coercion mechanism enables a straightforward reuse of testbench and sub-level hierarchies even if leaf-level blocks are swapped out by wreal blocks. Explicit definitions of wreal wire type in the upper levels of the hierarchy are not necessary.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>A wreal wire that is used in any behavioral context, such as source and sink blocks should be declared explicitly as wreal type. This ensures that the object used in the behavioral code has a well-defined type. The coercion mechanism is used for pure interconnect wires only.</p>
</div>
</div>

<p>Related Topics</p>
<ul><li><a href="Advanced_Wreal_Modeling_Features.html">Advanced Wreal Modeling Features</a></li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Multiple_Driven_Wreals.html" id="prev" title="Multiple_Driven_Wreals">Multiple_Driven_Wreals</a></em></b><b><em><a href="Wreal_Table_Models.html" id="nex" title="Wreal_Table_Models">Wreal_Table_Models</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>