
<html><head><title>Wreal Table Models</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677668833" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Digital-centric Mixed-signal Verification methodology that enables top-level verification at digital speed." />
<meta name="DocTitle" content="Real Number Modeling Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Wreal Table Models" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Digital Mixed-Signal,Analog Mixed-Signal," />
<meta name="prod_subfeature" content="Wreal/Real Nets,wreal ," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="wreal" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677668833" />
<meta name="NextFile" content="Wreal_Connections_to_VHDL_real_and_SystemVerilog_real.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Wreal_Coercion.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Real Number Modeling Guide -- Wreal Table Models" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="wreal2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="wrealTOC.html">Contents</a></li><li><a class="prev" href="Wreal_Coercion.html" title="Wreal_Coercion">Wreal_Coercion</a></li><li style="float: right;"><a class="viewPrint" href="wreal.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Wreal_Connections_to_VHDL_real_and_SystemVerilog_real.html" title="Wreal_Connections_to_VHDL_real_and_SystemVerilog_real">Wreal_Connections_to_VHDL_real ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Real Number Modeling Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Wreal Table Models</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p>You can use the Verilog-AMS&#160;<code style="letter-spacing: 0.0px;">$table_model</code>&#160;function known from analog Verilog-A , Verilog-AMS blocks and digital&#160;context (such as in an initial or an always block) with wreal independent variables.</p>

<p>The following is an example illustrating how to use the&#160;<code style="letter-spacing: 0.0px;">$table_model</code>&#160;function and the different options to the function.&#160;</p>

<p><code>`include &quot;disciplines.vams&quot;</code><br /><code>`timescale 1ns / 1ps</code></p>

<p><code>module top();</code><br /><code>&#160; wreal s, vdd;</code><br /><code>&#160; logic out;</code><br /><code>&#160; real r;</code><br /><code>&#160; vco f1 (out, vdd, s);</code></p>

<p><code>&#160; initial begin</code><br /><code>&#160; &#160; #10 r = 1.234;</code><br /><code>&#160; &#160; #10 r = 5;</code><br /><code>&#160; &#160; #10 r = 0.45;</code><br /><code>&#160; &#160; #10 r = 23;</code><br /><code>&#160; &#160; #10 r = 4.2;</code><br /><code>&#160; &#160; #1 $stop;</code><br /><code>&#160; end</code><br /><code>&#160; assign s = r;</code><br /><code>&#160; assign vdd = 1.1;</code></p>

<p><code>endmodule</code></p>

<p><code>module vco(out, vdd, vctrl);</code><br /><code>&#160; output out;</code><br /><code>&#160; logic out;</code><br /><code>&#160; input  vdd, vctrl;   </code><br /><code>&#160; wreal  vdd, vctrl;</code><br /><code>&#160; reg &#160;&#160;&#160;&#160;     osc = 1&#39;b0;</code><br /><code>&#160; real      tableFreq, halfper; </code></p>

<p><code>&#160; always @(vdd, vctrl) begin</code><br /><code>&#160; &#160; tableFreq = $table_model(vdd, vctrl,&quot;./vcoFreq.tbl&quot;, </code><br /><code>&#160; &#160; &quot;3CC,1EL&quot;);</code><br /><code>&#160; &#160; halfper = 1/(2*tableFreq);</code><br /><code>&#160; end</code></p>

<p><code>&#160; always begin</code><br /><code>&#160; &#160; #halfper osc = !osc;</code><br /><code>&#160; end</code></p>

<p><code>&#160; assign out = osc;</code><br /><code>endmodule</code></p>

<p>The example above calculates the VCO output frequency according to the table in the text file&#160;<code>vcoFrep.tbl</code>. This file is shown below:</p>

<p><code>#VDD&#160; &#160; &#160; VCNTL   &#160;&#160;&#160;&#160; Freq/GHz</code><br /><code>1&#160; &#160; &#160; &#160; &#160;0&#160; &#160; &#160; &#160; &#160; 9.81</code><br /><code>1&#160; &#160; &#160; &#160; &#160;0.4&#160; &#160; &#160; &#160; 1.05</code><br /><code>1&#160; &#160; &#160; &#160; &#160;0.8&#160; &#160; &#160; &#160; 1.41</code><br /><code>1.1&#160; &#160; &#160; &#160;0&#160; &#160; &#160; &#160; &#160; 9.88</code><br /><code>1.1&#160; &#160; &#160; &#160;0.45&#160; &#160; &#160; &#160;1.29</code><br /><code>1.1&#160; &#160; &#160; &#160;0.9&#160; &#160; &#160; &#160; 1.52</code><br /><code>1.2&#160; &#160; &#160; &#160;0&#160; &#160; &#160; &#160; &#160; 9.95</code><br /><code>1.2&#160; &#160; &#160; &#160;0.5&#160; &#160; &#160; &#160; 1.37</code><br /><code>1.2&#160; &#160; &#160; &#160;1&#160; &#160; &#160; &#160; &#160; 1.69</code></p>

<p>Assuming that the <code>VDD=1.1</code> and <code>VCNTRL=0.45</code>, the output frequency would be 1.29 GHz. For values between the definition points (for example, VCNTRL=0.687), a linear or third-order spline interpolation is used.</p>

<p>Also, you can use the&#160;<code>$table_model&#160;</code>function to model the behavior of a design by interpolating between and extrapolating outside of data points.&#160;The syntax of the table model file, as shown in the example below, is identical to the&#160;<code>$table_model</code> function</p>

<p>The following example uses the control string &quot;&quot;<code style="letter-spacing: 0.0px;">3CC,1EL</code>&quot;&quot;, which specifies a 3rd order spline interpolation of the&#160;<code style="letter-spacing: 0.0px;">vdd</code>&#160;variable, while the&#160;<code style="letter-spacing: 0.0px;">vctrl&#160;</code>variable entries in the table are interpolated in a linear method. Input values for&#160;<code style="letter-spacing: 0.0px;">vdd</code>&#160;below 1.0 or above 1.2 are clamped to 1.0 and 1.2 respectively. Input values below 0.0 for&#160;<code style="letter-spacing: 0.0px;">vctrl</code>&#160;results in an error, while larger value than 1.0 is extrapolated linearly.</p>

<p><code>table_model_declaration ::=&#160;&#160;</code><br /><code>$table_model(variables , table_source [ , ctrl_string ] )</code></p>

<p><code>sub_ctrl_string ::=</code><br /><code>  &#160;&#160;&#160;&#160;    &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;I</code><br /><code>&#160; &#160; &#160; &#160; |  &#160;&#160;&#160;&#160;D</code><br /><code>&#160; &#160; &#160; &#160; |&#160; &#160; &#160;[ degree_char ] [ extrap_char [ extrap_char ]]</code></p>

<p><code>degree_char ::=</code><br /><code>&#160; &#160; &#160; &#160; 1 | 2 | 3</code></p>

<p><code>extrap_char ::=</code><br /><code>&#160; &#160; &#160; &#160; C | L | S | E</code></p>

<p>where:</p>
<ul><li><strong><code>ctrl_string</code></strong>: Controls the numerical aspects of the interpolation process. It consists of sub-control strings for each dimension.</li><li><strong><code>I</code> (ignore)</strong>: Ignores the corresponding dimension (column) in the data file. You might use this setting to skip over-index numbers. For example, when you associate the I (ignore) value with a dimension, you must not specify a corresponding variable for that dimension.</li><li><strong><code>D</code> (discrete)</strong>: Ignore interpolation for this dimension. If the software cannot find the exact value for the dimension in the corresponding dimension in the data file, it issues an error message and the simulation stops.</li><li><strong><code>degree_char</code></strong>: Specifies the degree of the splines used for interpolation. Important values for the degree are 1 and 3. The default value is 1, which results in a linear interpolation between data points. 3 specifies a 3rd order spline interpolation.</li><li><strong><code>extrap_char</code></strong>: Controls how the simulator evaluates a point that is outside the region of sample points included in the data file.&#160;You can specify the extrapolation method to be used for each end of the sample point region.&#160;<ul><li><strong><code>C</code>&#160;(clamp)</strong>: Uses a horizontal line that passes through the nearest sample point, also called the end point, to extend the model evaluation.&#160;</li><li><strong><code>L</code>&#160;(linear)</strong>: Models the extrapolation through a tangent line at the end point. This&#160;is the default method,&#160;</li><li><strong><code>S</code>&#160;(spline)</strong>: Uses the polynomial for the nearest segment (the segment at the end) to evaluate a point beyond the interpolation area.&#160;</li><li><strong><code>E</code>&#160;(error)</strong>: Issues a warning when the point to be evaluated is beyond the interpolation area.</li></ul><br />When you do not specify an&#160;<code style="letter-spacing: 0.0px;">extrap_char</code>&#160;value, the linear extrapolation method is used for both ends. When you specify only one <code>extrap_char</code> value, the specified extrapolation method is used for both ends. When you specify two <code>extrap_char</code> values, the first character specifies the extrapolation method for the end with the smaller coordinate value, and the second character specifies the method for the end with the larger coordinate value.</li></ul><h4 id="WrealTableModels-RelatedTopics:">Related Topics:</h4>
<ul><li>The &quot;Interpolating with Table Models&quot; section in the&#160;<em>Cadence Verilog-AMS Language Reference</em>&#160;guide</li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Wreal_Coercion.html" id="prev" title="Wreal_Coercion">Wreal_Coercion</a></em></b><b><em><a href="Wreal_Connections_to_VHDL_real_and_SystemVerilog_real.html" id="nex" title="Wreal_Connections_to_VHDL_real_and_SystemVerilog_real">Wreal_Connections_to_VHDL_real ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>