
<html><head><title>Fully Colored Backannotation Flow</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="komal" />
<meta name="CreateDate" content="2023-10-07" />
<meta name="CreateTime" content="1696686169" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Multi-Patterning Technology with advanced node designs" />
<meta name="DocTitle" content="Virtuoso Multi-Patterning Technology User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Fully Colored Backannotation Flow" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vmptuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-07" />
<meta name="ModifiedTime" content="1696686169" />
<meta name="NextFile" content="fcb_Enhancements_in_the_Layer_Map_File_Format.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="DataIO.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Multi-Patterning Technology User Guide -- Fully Colored Backannotation Flow" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="DFII on OpenAccess,Layout XL" />
<meta name="prod_subfeature" content="Coloring,Multi-Patterning Technology" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vmptuserIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vmptuserTOC.html">Contents</a></li><li><a class="prev" href="DataIO.html" title="MPT Import and Export">MPT Import and Export</a></li><li style="float: right;"><a class="viewPrint" href="vmptuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="fcb_Enhancements_in_the_Layer_Map_File_Format.html" title="Enhancements in the Layer Map File Format">Enhancements in the Layer Map  ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Multi-Patterning Technology User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>7
<a id="pgfId-1093717"></a></h1>
<h1>
<a id="pgfId-1093723"></a><hr />
<a id="14926"></a>Fully Colored Backannotation Flow<hr />
</h1>

<p>
<a id="pgfId-1093733"></a>In the Fully Colored Backannotation flow, the shapes and nets in a design that were manually color locked will retain their color and locked state. Shapes that are not color locked or are gray will be colored using a third-party engine for decomposition and a <code>colorAnnotate </code>utility to backannotate color.</p>
<p>
<a id="pgfId-1093726"></a>The Fully Colored Backannotation flow is shown in the following figure.</p>

<p>
<a id="pgfId-1095535"></a></p>
<div class="webflare-div-image">
<img width="668" height="595" src="images/fcb-2.gif" /></div>

<p>
<a id="pgfId-1093382"></a>The Fully Colored Backannotation flow steps are:</p>

<ol><li>
<a id="pgfId-1095680"></a><a id="97194"></a>Creating the Layer Map File<br />
<a id="pgfId-1093383"></a>To use the Fully Colored Backannotation flow, you must have a layer map file that maps the data to color annotations using the <code>Color Annotate</code> field. The same layer map file can be used for all the steps in the flow. For more information, see <a href="fcb_Enhancements_in_the_Layer_Map_File_Format.html#11055">Enhancements in the Layer Map File Format</a>.</li><li>
<a id="pgfId-1093388"></a><a id="25326"></a>Translating Data to a Stream File<br />
<a id="pgfId-1093389"></a>Use XStream Out to translate the data to a Stream file (<code>.gds</code>) for input to the third-party color engine. For more information, refer to <em><a actuate="user" class="URL" href="../transrefOA/transrefOATOC.html#firstpage" show="replace" xml:link="simple">Design Data Translator&#8217;s Reference</a></em></li><li>
<a id="pgfId-1093391"></a><a id="91822"></a>Assigning Colors to Unlocked and Uncolored Shapes Using a Third-Party Color Engine<br />
<a id="pgfId-1093392"></a>Use the third-party tool to assign colors to all the shapes that are not color locked in the database, including gray (uncolored) shapes. During this process, previously colored shapes can change colors. The third-party tool outputs a Stream file that consists of color annotations only for the shapes that were colored by the third-party tool. </li><li>
<a id="pgfId-1093394"></a><a id="11689"></a>Merging Locked Shapes with Shapes Colored by the Third-Party Color Engine<br />
<a id="pgfId-1093395"></a>Use the new <code>colorAnnotate</code> utility to merge the original data with the color annotations in the third-party tool Stream file output. For more information, see <a href="fcb_colorAnnotate_Utility.html#90692">colorAnnotate Utility</a>. The color-locked shapes in the original data are not changed. All other shapes are colored according to the color assignments from the third-party tool. At the end of this step, all shapes will be colored.</li><li>
<a id="pgfId-1093400"></a><a id="66534"></a>Creating a Stream File with All Colors Locked<br />
<a id="pgfId-1093401"></a>Use XStream Out with the new <em>Map All Colors to Locked</em> option to create a Stream file in which all shapes are colored and locked. For information about using the XStream Out GUI, see <a actuate="user" class="URL" href="../transrefOA/chap2.html#fcb_xstrMapAllColorsToLocked" show="replace" xml:link="simple">New Map All Colors to Locked Option in XStream Out</a>.</li></ol>



















<h4><em>
<a id="pgfId-1095832"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1095849"></a><a href="fcb_Enhancements_in_the_Layer_Map_File_Format.html#11055">Enhancements in the Layer Map File Format</a></p>
<p>
<a id="pgfId-1095899"></a><a href="fcb_colorAnnotate_Utility.html#90692">colorAnnotate Utility</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="DataIO.html" id="prev" title="MPT Import and Export">MPT Import and Export</a></em></b><b><em><a href="fcb_Enhancements_in_the_Layer_Map_File_Format.html" id="nex" title="Enhancements in the Layer Map File Format">Enhancements in the Layer Map  ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>