
<html><head><title>Quick Abstract Inference</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="leenap" />
<meta name="CreateDate" content="2023-07-12" />
<meta name="CreateTime" content="1689152508" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="" />
<meta name="DocTitle" content="Mixed Signal (MS) Interoperability Guide" />
<meta name="DocType" content="Methodology" />
<meta name="FileTitle" content="Quick Abstract Inference" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="dmsflow" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-07-12" />
<meta name="ModifiedTime" content="1689152508" />
<meta name="NextFile" content="Netlist-Driven_Mixed_Signal_Design_Flow.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design,Digital IC Design," />
<meta name="PrevFile" content="Virtuoso_Digital_Implementation.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Innovus," />
<meta name="Product" content="Virtuoso Layout Suite,Innovus," />
<meta name="ProductFamily" content="Virtuoso Layout Suite,Innovus," />
<meta name="ProductVersion" content="22.13" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Mixed Signal (MS) Interoperability Guide -- Quick Abstract Inference" />
<meta name="Version" content="22.13" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="dmsflow221" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.20.001" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="dmsflowTOC.html">Contents</a></li><li><a class="prev" href="Virtuoso_Digital_Implementation.html" title="Virtuoso_Digital_Implementation">Virtuoso_Digital_Implementatio ...</a></li><li style="float: right;"><a class="viewPrint" href="dmsflow.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Netlist-Driven_Mixed_Signal_Design_Flow.html" title="Netlist-Driven_Mixed_Signal_Design_Flow">Netlist-Driven_Mixed_Signal_De ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Mixed Signal (MS) Interoperability Guide<br />Product Version 22.13, Last Updated in July 2023</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <div style="width: 100%; font-size: 32px; text-align: left;               font-weight: bold;">7</div>
<h1 style="margin: 4px 0 4px;"><span>Quick Abstract Inference</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p></p>
<div class="toc-macro rbtoc1689152473287">
<ul class="toc-indentation">
<li><a href="#QuickAbstractInference-OverviewofQuickAbstractInference">Overview of Quick Abstract Inference</a></li>
<li><a href="#QuickAbstractInference-WhyAbstractsAreStillRequiredforStandardCells">Why&#160;Abstracts Are Still Required for Standard Cells</a></li>
<li><a href="#QuickAbstractInference-HowQAIWorks">How QAI Works</a>
<ul class="toc-indentation">
<li><a href="#QuickAbstractInference-RulesforAbstractInference">Rules for Abstract Inference</a></li>
<li><a href="#QuickAbstractInference-DetailedDescriptionofDataObjects">Detailed Description of Data Objects</a></li>
<li><a href="#QuickAbstractInference-BlockageModelinginQAI">Blockage Modeling in QAI</a>
<ul class="toc-indentation">
<li><a href="#QuickAbstractInference-ControllingQAIThroughCellviewProperties">Controlling QAI Through Cellview Properties</a></li>
<li><a href="#QuickAbstractInference-ControllingQAIThroughUser-definedProperties">Controlling QAI Through User-defined Properties</a></li>
<li><a href="#QuickAbstractInference-ControllingQAIUsingDesignOverrides">Controlling QAI Using Design Overrides</a></li>
</ul>
</li>
<li><a href="#QuickAbstractInference-QAIPinModeling">QAI Pin Modeling</a></li>
<li><a href="#QuickAbstractInference-AntennaAnnotationUtilityforCreatingAccurateAntennaInformationfortheInnovusFlow">Antenna Annotation Utility for Creating Accurate Antenna Information for the Innovus Flow</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="QuickAbstractInference-OverviewofQuickAbstractInference"><span class="cad-head-number">7.1 </span>Overview of Quick Abstract Inference</h2>

<p>The Quick Abstract Inference (QAI) feature in Innovus is intended to support a specific use case in which a block-level designer in Virtuoso is working on a cellview and does not want to create a new abstract view after each update. The block designer will simply deliver the layout without abstract generation in Virtuoso.&#160;Innovus has the ability to create an on-the-fly abstract from a layout view if the abstract is not available in the OpenAccess database. The process of abstract generation happens during design initialization in Innovus, based on the physical data information in the cellview. Innovus can also control the&#160;abstract generation based on certain properties given either in the cellview or in the top OpenAccess design by the Virtuoso user.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955985.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai_A.PNG" data-linked-resource-id="425955985" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955985.png" width="640" /></span></p>
<h2 id="QuickAbstractInference-WhyAbstractsAreStillRequiredforStandardCells"><span class="cad-head-number">7.2 </span>Why&#160;Abstracts Are Still Required for Standard Cells</h2>

<p>Many foundries create optimized standard cell abstracts, which are then included as part of the Virtuoso <span style="">Process Design Kit (</span>PDK) or added during the creation of an<span style="">&#160;OpenAccess PDK (MSOA PDK)</span>. The standard cell abstracts are needed by tools in the Place-and-Route environment to optimize the performance of many steps, such as clock tree synthesis, placement, and routing. Other information in the standard cell abstracts is used by Innovus to perform various functions. For example, the properties of the standard cell abstracts help direct various implementation steps in Innovus. Here are some of the properties that are not generally present in the layout view of a standard cell, but are needed in the abstract to drive the Innovus implementation flow.</p>
<ul><li>The standard cell abstracts have <code>cellType == core</code>. If this property is not present in the abstracts, Innovus will treat the cells as <code>CLASS BLOCK</code>&#160;instead of core cells, which are&#160;<code>CLASS CORE</code>.</li><li>The standard cell abstracts have a siteDef which is required for the placement step in Innovus.</li><li>Often, the antenna information is not included in the layout view of a standard cell. The antenna information is used by NanoRoute to detect and fix antenna violations during routing.</li></ul>
<p>For information on creation of an MSOA PDK, refer to the <a href="Technology_Data_Preparation.html">Technology Data Preparation</a> chapter.</p>
<h2 id="QuickAbstractInference-HowQAIWorks"><span class="cad-head-number">7.3 </span>How QAI Works</h2>

<p><span class="fontredcadence">
<p>During design initialization, Innovus reads the library cells (LEF equivalent) from the list of reference libraries provided by the<code>&#160;init_oa_ref_lib</code>&#160;variable.</p>
</span></p>

<p>As there can be many views of a cell, the name of the abstract view to look for is provided by the&#160;<code><span class="fontredcadence">init_abstract_view</span></code>&#160;<span class="fontredcadence">variable</span>.&#160;The OAX reader reads all the cells present in the reference libraries, irrespective of whether or not these cells are used inside the design. This results in some performance penalty when there are many cells in the library that are not used in the design but are still read into Innovus. To avoid this performance issue, library cells are processed on demand. This means that if the library name of a particular cell is not defined in the list of reference libraries, Innovus reads that particular cell from its corresponding binding (lib/cell/view) in the OpenAccess design database. This on-demand processing helps improve performance by reading only those library cells that are actually required by the design. For example, IP block libraries are generally not provided in the reflib list and they are read using on-demand processing.&#160;</p>

<p>Another aspect of on-demand processing is determining the type of the view that is bound. The binding could point to an under-development IP (layout view) or its abstract equivalent. Innovus detects the view type automatically by applying heuristic methods. For the layout view, Innovus uses the Quick Abstract Inference (QAI) feature to infer internally the abstract equivalent from the layout information during design import. This process is called on-the-fly abstract inference.</p>

<p>A summary report is printed in the&#160;<code><em>design</em>.oaread.rpt</code>&#160;file. This report contains the summary of all the blocks read by inferring the layout view of the block.</p>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>For automatic abstract inference, pin shapes and <code>prBoundary</code> must be available in the layout view.</p>
</div>
</div>

<p>Innovus supports dual views. A dual view is a layout view that also contains abstract &#160;information, such as&#160;<code>prBoundary</code>, antenna, site, symmetry, and cell type, in the same cellview. A dual view&#160;can be used both as a layout in Virtuoso and as an abstract in Innovus through QAI.&#160;</p>

<p><strong>Note:&#160;</strong>You need not generate abstracts each time you change the layout view of the block. To generate detailed abstracts after finalizing the block design, use the Virtuoso Abstract Generator.</p>

<p></p>
<h3 id="QuickAbstractInference-RulesforAbstractInference"><span class="cad-head-number">7.3.1 </span>Rules for Abstract Inference</h3>

<p>The following table describes the behavior of auto-abstract inference when the following data objects are present in the layout view. To know more about these data objects, refer to&#160;<a href="#QuickAbstractInference-dataobjdesc">Detailed Description of Data Objects</a>.</p>
<div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /></colgroup><tbody><tr><td class="confluenceTd">
<p><strong>Data objects in the<br />cell layout view</strong></p>
</td>
<td class="confluenceTd">
<p><strong>Behavior of Innovus if the data object is present<br />in the layout view</strong></p>
</td>
<td class="confluenceTd">
<p><strong>Behavior of Innovus if the data object is not present<br />in the layout view or its value is null</strong></p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><a href="#QuickAbstractInference-Pin">Pin</a></p>
</td>
<td class="confluenceTd">
<p>All the top-level pin shapes are copied to the abstract view, along with shapes on the same layer that enclose the pin shapes. Check the <a href="#QuickAbstractInference-qaipin">QAI Pin Modeling</a> section for details.</p>
</td>
<td class="confluenceTd">
<p>No pins appear in the abstract view.</p>

<p><strong>Note: </strong>Create pins as required at the top level.</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><a href="#QuickAbstractInference-Celltype">Cell type</a></p>
</td>
<td class="confluenceTd">
<p>The specified type is considered.</p>

<p><strong>Note: </strong>If the cell type is <code>none</code>, then the <code>BLOCK</code> cell type is assigned by default.</p>
</td>
<td class="confluenceTd">
<p>The default type <code>BLOCK</code> is considered.</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p>Cover Obstruction</p>

<p>Virtuoso commands for applying obstruction up to metal layer <code>Metalx</code>:</p>

<p><br /></p>

<p><code>cv=geGetEditCellView()</code></p>

<p><code>dbCreateCoverObstruction(cv~&gt;prBoundary</code></p>

<p><code>techGetLayerMaskNumber(techGetTechFile(cv) &quot;Metalx&quot;))</code></p>

<p><br /></p>

<p><code>dbDeleteObject(cv~&gt;prBoundary~&gt;coverObstruction)</code></p>
</td>
<td class="confluenceTd">
<p>Obstructions are created only on the routing layers up to the <code>Metalx</code> routinglayer specified.</p>

<p><br /></p>

<p>Gets ID of currently open cellview.</p>

<p>Specifies the top metal layer to be obstructed.</p>

<p><br /></p>

<p>Removes the cover blockage created by <code>dbCreateCoverObstruction</code></p>
</td>
<td class="confluenceTd">
<p>The tool automatically determines the top metal layer used in the design hierarchy.</p>

<p>All layers up to the top layer are blocked.</p>

<p><br /></p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><a href="#QuickAbstractInference-prBoundary">prBoundary</a></p>
</td>
<td class="confluenceTd">
<p>Exact region as enclosed by <code>prBoundary</code> is taken.</p>
</td>
<td class="confluenceTd">
<p><code>prBoundary</code> is required for the cell types <code>CORE</code> and <code>ENDCAP</code>.&#160;</p>

<p>If you do not specify <code>prBoundary</code> for cells other than core, auto-abstract inference will set its value to zero. However, while reading this data, Innovus tries to auto compute the box for the cell from the pin shapes, if possible.</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><a href="#QuickAbstractInference-Symmetry">Symmetry</a></p>
</td>
<td class="confluenceTd">
<p>The specified symmetry option is taken.</p>

<p><strong>Note: </strong>If the symmetry value is <code>none</code>, then the default value <code>XYR90</code> is considered.</p>
</td>
<td class="confluenceTd">
<p>The default value <code>XYR90</code> is taken.</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><a href="#QuickAbstractInference-Site">Site</a></p>
</td>
<td class="confluenceTd">
<p>The values specified in the layout are copied without any changes.</p>
</td>
<td class="confluenceTd">
<p>If the <code>SITE</code> value is not specified for cell types <code>CORE</code> and <code>ENDCAP</code>, an error message is displayed.</p>

<p>For other cell types, it is left blank.</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><a href="#QuickAbstractInference-Antenna">Antenna</a></p>
</td>
<td class="confluenceTd">
<p>The values specified in the layout are copied without any changes.</p>
</td>
<td class="confluenceTd">
<p>A warning message is displayed. This message describes the number of cells and missing antenna values for <code>SIGNAL</code>, <code>SCAN</code>, <code>CLOCK</code>, and <code>RESET</code> pins.</p>
</td>
</tr>
</tbody></table></div>

<p></p>

<p><span class="confluence-anchor-link" id="QuickAbstractInference-dataobjdesc"></span></p>
<h3 id="QuickAbstractInference-DetailedDescriptionofDataObjects"><span class="cad-head-number">7.3.2 </span>Detailed Description of Data Objects</h3>

<p>The following table describes the data objects that are used for inferring the abstracts:</p>
<div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /></colgroup><tbody><tr><td class="confluenceTd">
<p><strong>Data Object</strong></p>
</td>
<td class="confluenceTd">
<p><strong>Description</strong></p>
</td>
</tr>
<tr><td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-anchor-link" id="QuickAbstractInference-Pin"></span>Pin</p>
</div>
</td>
<td class="confluenceTd">
<p>Specifies a physical shape through which one block connects to other blocks in a netlist.</p>
</td>
</tr>
<tr><td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-anchor-link" id="QuickAbstractInference-Celltype"></span>Cell type</p>
</div>
</td>
<td class="confluenceTd">
<p>Specifies various cell types, such as <code>CORE</code>, <code>ENDCAP</code>, <code>COVER</code>, <code>RING</code>, <code>BLOCK</code>, and <code>PAD</code>.</p>
</td>
</tr>
<tr><td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-anchor-link" id="QuickAbstractInference-prBoundary"></span><code>prBoundary</code></p>
</div>
</td>
<td class="confluenceTd">
<p>Specifies the block boundary for place-and-route applications. Any shape or instance created for the block should be enclosed within the <code>prBoundary</code>.</p>
</td>
</tr>
<tr><td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-anchor-link" id="QuickAbstractInference-Symmetry"></span>Symmetry</p>
</div>
</td>
<td class="confluenceTd">
<p>Specifies the possible orientation of the block.</p>
</td>
</tr>
<tr><td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-anchor-link" id="QuickAbstractInference-Site"></span>Site</p>
</div>
</td>
<td class="confluenceTd">
<p>Provides placement for the family of macros, such as I/O, core, block, analog, digital, short, tall, and so on, in a design.</p>
</td>
</tr>
<tr><td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-anchor-link" id="QuickAbstractInference-Antenna"></span>Antenna</p>
</div>
</td>
<td class="confluenceTd"><div class="content-wrapper">
<p>During deep sub-micron wafer fabrication, gate damage can occur when excessive static charges accumulate and discharge, passing high current through a gate.</p>

<p>If the area of the layer connected directly to the gate or connected to the gate through lower layers is large relative to the area of the gate and the static charges are discharged through the gate, the discharge can damage the oxide that insulates the gate and cause the chip to fail. This phenomenon is called the process antenna effect (PAE).</p>

<p>Run Virtuoso Abstract Generator to obtain the antenna value.</p>

<p>For more information, see the <a class="message-url" href="../lefdefref/lefdefrefTOC.html">LEF/DEF Language Reference</a>.</p>
</div>
</td>
</tr>
</tbody></table></div>

<p><span class="confluence-anchor-link" id="QuickAbstractInference-qaiblock"></span></p>
<h3 id="QuickAbstractInference-BlockageModelinginQAI"><span class="cad-head-number">7.3.3 </span>Blockage Modeling in QAI</h3>

<p>During the abstract generation process, Innovus models blockages in the following two ways:</p>
<ul><li>
<p><em>Detailed modeling</em> - In this type of modeling, Innovus models each shape, such as a pin, wire, or blockage, exactly as it is in the generated abstract, and the <em>Obstruction</em>&#160;is limited to the bbox where shapes exist in the <code>prBoundary</code>.&#160;</p>
</li><li><em>Full obstruction modeling</em> - In this type of modeling, Innovus covers the whole block (excluding base layers) with an <em>Obstruction</em> over&#160;the <code>prBoundary</code>&#160;for any shapes that appear in the layout.&#160;</li></ul><h4 id="QuickAbstractInference-ControllingQAIThroughCellviewProperties"><span class="cad-head-number">7.3.3.1 </span>Controlling QAI Through Cellview Properties</h4>

<p>You can control how abstracts are generated during QAI by using cellview properties, such as <code>cellType</code>.&#160;</p>
<ul><li>
<p>For <code>CORE</code>&#160;or <code>COVER</code>&#160;cell types, Innovus applies detailed modeling to blockages/shapes during QAI, as shown below.&#160;<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955980.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai_B.PNG" data-linked-resource-id="425955980" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955980.png" width="620" /></span><br />The modelling based on <code>cellType = core</code> can be used to model standard cells.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><ol><li><span>B</span><span>ase layers, such as OD, POLY, and NWELL, will not appear in the inferred objects.&#160;</span></li><li><strong>QAI may not work correctly with the&#160;self-aligned double patterning (SADP) process in advanced nodes. For example, although trim layers work for <span style="">parameterized cells (PCells)</span>, they are not taken care of currently for standard cells and blocks.</strong></li></ol></div>
</div>
</li><li>For <code>BLOCK</code>&#160;or <code>NONE</code>&#160;cell types, Innovus&#160;applies full obstruction modeling to blockages/shapes during QAI, as shown below.&#160;<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955979.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai_C.PNG" data-linked-resource-id="425955979" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955979.png" width="620" /></span><br />Blockages will&#160;be present up to the top layer (<code>M5</code> in the above diagram) in the inferred abstract.</li></ul><h4 id="QuickAbstractInference-ControllingQAIThroughUser-definedProperties"><span class="cad-head-number">7.3.3.2 </span>Controlling QAI Through User-defined Properties</h4>

<p>You can control how blockage modeling is done for <code>BLOCK</code>&#160;or <code>DEFAULT</code>&#160;cell type by specifying the top layer. When you do so, full obstruction modeling is limited to the specified top layer and detailed modeling is done on the layers above it. For example, consider the layout view below of a macro having cell type <code>BLOCK</code>. By default, the inferred abstract should have full obstruction up to <code>M5</code>. However, as the user-specified top layer is <code>M3</code>, the inferred abstract has full obstruction up to <code>M3</code> and detailed modeling above it.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955978.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai_Case3.PNG" data-linked-resource-id="425955978" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955978.png" width="620" /></span></p>

<p><span>The top layer can be specified and COVER obstruction be set on the cell using the following SKILL command:</span></p>

<p><code><span>cv = geGetEditCellView()</span></code><br /><code><span>dbCreateCoverObstruction(cv~&gt;prBoundary&#160; &#160; &#160;&#160;</span></code><br /><code><span>techGetLayerMaskNumber(techGetTechFile(cv) &quot;M3&quot;))</span></code></p>

<p><span>Specifying the top layer explicitly is useful in cases where routing is sparse on the upper layers. Specifying the top layer implies that the wiring on the layers above it is not sensitive to cross-coupling to the digital wiring that may be routed nearby and therefore detailed modeling would be applied to these layers. Without the detailed modeling on these layers, the top-level router would have to detour around the block for all of the layers in the cellview.&#160;</span></p>

<p><span>Detailed modeling is not recommended for all layers of a block due to potential cross-coupling impact on internal nodes.</span></p>
<h5 id="QuickAbstractInference-QAIBehaviorinSpecificUseCases"><span>QAI Behavior in Specific Use Cases</span></h5>
<p><span>Keep in mind the following notes on QAI behavior in the specific use cases listed below:</span></p>
<ul><li><span>If you specify a cover obstruction on a <code>cellType = cover</code> cellview, the tool will give the following warning message and ignore the cover obstruction:<br /></span><code><span>WARN: (IMPOAX-1597): Cover Obstruction is defined for cell &#39;<em>cellName</em>&#39;. Cell is of type core/cover. Cover Obstruction will be ignored by the tool</span></code></li><li><span>If you specify a cover obstruction above the used layers for a block, there will be obstruction from the first routing layer to the specified layer (no detailed obstruction modeling in this case).</span></li><li><span>Any user-drawn layout blockages are ignored if they have the <code>+ PUSHDOWN</code> attribute as they apply to the current level in the layout and not the level above. This is same as Innovus behavior and means that those blockages are not considered during QAI.</span></li><li><span>Consider the case below of a block with a missing sub-block. In the layout view below, B1 is the block inside top for which QAI is needed. Block B1 has pins/shapes in M4 and M5. Inside B1, B2 is a sub-block with missing master. If you try to create a quick abstract for Block B1 and:</span><ul><li><span>Block B1 is of cell type <code>BLOCK</code>, the tool will not find the master for B2 during QAI. The tool will assume B2<strong>&#160;</strong>has all the base tech metal layers, although B1 only has layers up to M5. In the abstract, full blockages (M0 to AP) will be dumped, as shown in Inferred Abstract (a).<br /></span></li><li><span>Block B1 is of cell type <code>COVER</code>, the tool does detailed modelling and assumes all the base tech metal layers in the instance area of the missing master, as shown in Inferred Abstract (b).&#160;<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955984.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai_UseCases.PNG" data-linked-resource-id="425955984" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955984.png" width="620" /></span><br /></span></li></ul></li></ul><h4 id="QuickAbstractInference-ControllingQAIUsingDesignOverrides"><span class="cad-head-number">7.3.3.3 </span>Controlling QAI Using Design Overrides</h4>

<p>If you need to control the quick abstract generation but the block layout has been frozen, you may prefer to specify override information on the top design instead of editing the block or asking the block owner to update the block. Virtuoso/OpenAccess allows different overrides to be specified on different instances of the same cell. By storing the override information on the design cellview property, the same overrides can be applied to all instances of a given cell.</p>

<p>Use the <code>INVS_QAI_CELL_OVERRIDE&#160;<em>string</em></code>&#160;property to specify all cell-based overrides. Apply this&#160;property on the design cellview, so that all instances of the specified cell(s) will have the same setting.&#160;&#160;Its string value has the following format:</p>

<p><code>[CELL <em>cellName</em> [TYPE <em>cellType</em>] [TOP_LAYER <em>topLayer</em>] [SYMMETRY <em>symmetry</em>] [SITE <em>siteName</em>]] ...</code></p>

<p>Here:</p>
<ul><li><em><code>cellName</code></em>&#160;is the name of the cell to which you need to apply the overrides.</li><li><em><code>cellType</code></em>&#160;specifies the type of the cell. To check valid values, see&#160;<a href="#QuickAbstractInference-Celltype">Cell type</a>.</li><li><em><code>topLayer</code></em>&#160;is the top layer name used for&#160;<code>dbCreateCoverObstruction</code>.</li><li><em><code>symmetry</code></em>&#160;specifies orientation. See&#160;<a href="#QuickAbstractInference-Symmetry">Symmetry</a>.</li><li><em><code>siteName</code></em>&#160;specifies the name of the site. This applies only to <code>core</code>, <code>pad</code>, and <code>endcap</code>&#160;cell types.</li></ul>
<p>The string value can contain multiple cells, with each CELL keyword starting a new set. Each set can contain one or more of TYPE, TOP_LAYER, SYMMETRY, and SITE keyword-value pairs.&#160;For example, to set an override for two blocks, <code>ring_osc</code>&#160;and&#160;<code>div_ckt</code>, in a top design, you can write the override property as follows:</p>

<p><code>INVS_QAI_CELL_OVERRIDE CELL ring_osc TYPE block TOP_LAYER M5 CELL div_ckt TYPE block TOP_LAYER M3</code></p>
<h5 id="QuickAbstractInference-HowtoSettheOverridePropertyinaDesign"><code>How to Set the Override Property in a Design</code></h5>
<p>Use the following steps to set the&#160;<code>INVS_QAI_CELL_OVERRIDE</code> property in a design:</p>
<ol><li>Open the top-level design in&#160;<em>Virtuoso Layout Suite.</em></li><li>Open the Edit CellView Properties form by pressing the&#160;<code>Shift+Q</code>&#160;keys.<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955983.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai_cellviewprop.png" data-linked-resource-id="425955983" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955983.png" width="620" /></span></li><li>Open the <em>Property</em> page and then click the&#160;<em>Add</em>&#160;button.</li><li>In the Add Property form, specify&#160;<code>INVS_QAI_CELL_OVERRIDE</code> as the property name and click <em>OK</em>.<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955982.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai_addprop.png" data-linked-resource-id="425955982" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955982.png" width="620" /></span></li><li>In the&#160;<code>INVS_QAI_CELL_OVERRIDE</code>&#160;property text box, specify the properties to override. <br />In this example, the value is:&#160;<code>CELL INV54 TYPE CORE TOP_LAYER M3 SYMMETRY X</code>.<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955981.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai_cellviewaddprop.png" data-linked-resource-id="425955981" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955981.png" width="620" /></span></li><li>Click OK to apply the property setting and close the Edit Cellview Properties form.</li></ol>
<p><span class="confluence-anchor-link" id="QuickAbstractInference-qaipin"></span></p>
<h3 id="QuickAbstractInference-QAIPinModeling"><span class="cad-head-number">7.3.4 </span>QAI Pin Modeling</h3>

<p>The pin modeling methodology has improved in the latest Innovus release. Previously, QAI just copied the&#160;terminal~&gt;pin shapes to the Innovus abstract representation, resulting in opens when&#160;the pins in the layout were derived from label/text locations.&#160;For example, consider an input layout cellview in which the top-level wiring abuts to shapes in the block. Here,&#160;the upper pin is VXL compliant, and the lower pin could be from GDSII with the&#160;<em style="letter-spacing: 0.0px;">Create Pins from Text</em>&#160;feature in Virtuoso or Virtuoso Layout Editor. As QAI would just copy the&#160;terminal~&gt;pins, resulting in opens on connections to A and B in the Innovus view of the block.&#160;</p>
<div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /></colgroup><tbody><tr><th class="confluenceTh">Input Layout Cellview</th><th class="confluenceTh">Innovus view of top level and block, <br />as processed by QAI, in previous releases</th></tr>
<tr><td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955986.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai1.PNG" data-linked-resource-id="425955986" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955986.png" width="330" /></span></p>
</div>
</td>
<td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955987.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai2.PNG" data-linked-resource-id="425955987" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955987.png" width="330" /></span></p>
</div>
</td>
</tr>
</tbody></table></div>

<p>From the 21.10 release, QAI attempts to find additional wire shapes&#160;that enclose the pin shape&#160;and are on the same layer as the term~&gt;pin shape. For instance, in this example, QAI&#160;assumes that the pin shapes are&#160;enclosed by the shape that touches the boundary , resulting in the following&#160;Innovus view of the top level and block with no opens:</p>
<div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /></colgroup><tbody><tr><th class="confluenceTh">Innovus view of top level and block, <br />as processed by QAI from this release</th></tr>
<tr><td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/425955988.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai3.PNG" data-linked-resource-id="425955988" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425955977/425955988.png" width="350" /></span></p>
</div>
</td>
</tr>
</tbody></table></div>

<p>Note that the enhanced QAI pin modeling considers only level 0 shapes. There is no &quot;shape tracing&quot;; only the shapes that are on the same layer and that enclose the pin are added to the Innovus pin shapes.</p>

<p><span class="fontdefaultcadence">
<p>This feature is on by default. If you do not want to include shapes that enclose the layout pin shapes as part of the pins during pin modeling, set the&#160;<code>setOaxMode -encloseQuickAbstractPins</code>&#160;parameter to&#160;<code>false</code>.&#160;&#160;</p>
</span></p>

<p><span>If there are completely overlapping pin port shapes on the same layer,&#160;</span>QAI pin modeling merges the pin port shapes and creates one pin for NanoRoute.&#160;Consider the example below for processing&#160;terminals~&gt;pins.&#160;</p>
<div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /></colgroup><tbody><tr><th class="confluenceTh">Input layout cellview</th><th class="confluenceTh">Innovus view of top level and block, <br />as processed by QAI from this release</th></tr>
<tr><td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/481821595.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai4.PNG" data-linked-resource-id="481821595" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" height="250" src="attachments/425955977/481821595.png" /></span></p>
</div>
</td>
<td class="confluenceTd"><div class="content-wrapper">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425955977/481821596.png" data-linked-resource-container-id="425955977" data-linked-resource-container-version="4" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="qai5.PNG" data-linked-resource-id="481821596" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" height="250" src="attachments/425955977/481821596.png" /></span></p>
</div>
</td>
</tr>
</tbody></table></div>

<p><span class="fontdefaultcadence">
<p>Merging of overlapping (including redundant) pin shapes occurs before the wiring enclosure step and is not impacted by the&#160;<code>setOaxMode -encloseQuickAbstractPins</code>&#160;parameter setting.&#160;</p>
</span></p>
<h3 id="QuickAbstractInference-AntennaAnnotationUtilityforCreatingAccurateAntennaInformationfortheInnovusFlow"><span class="cad-head-number">7.3.5 </span>Antenna Annotation Utility for Creating Accurate Antenna Information for the Innovus Flow</h3>

<p>As mentioned earlier in this section, when the Open Access flow is invoked in Innovus, if a macro block/cell does not have abstract views provided, Quick Abstract Inference (QAI) creates an abstract view on the fly, in addition to the already available layout view. This abstract has only the basic information for the block/cell, such as&#160;<code>prBoundary</code>, pin, and site information; it does not contain the process antenna information. The process antenna information is needed by routers, such as NanoRoute, to fix and repair the violations that are generated when using the process antenna information available on the pins. One way to process the antenna information accurately is to annotate the layout with the antenna. This can be done by specifying the layer, poly, gate, and oxide information through the antenna options file&#160;and then running the&#160;antenna annotation utility (<code>antenna_annotate.csh</code>&#160;script file) available in the directory below:</p>

<p>The antenna annotation utility (<code>antenna_annotate.csh</code>&#160;script file) is available in the directory below.&#160;</p>

<p><code><em>&lt;Innovus Installation directory&gt;</em>/lnx86/share/innovus/gift/MixedSignal/Utilities/skill</code></p>

<p>&#160;You can execute the antenna annotation utility with the desired layout and the options file. This utility runs the Abstract Generator, which extracts the antenna information from&#160;the antenna options file and annotates it to the layout.&#160;When automatic abstract inference is done, the antenna information is included in the abstract created through abstract inference.&#160;</p>

<p>In addition to the&#160;<code>antenna_annotate.csh</code>&#160;script,&#160;the skill directory above has&#160;the readme file,&#160;<code>annotate_antenna.readme.txt</code>, which is necessary for creation of the options file. The readme file also contains the command usage of the script.</p>

<p>A sample test case named <code>Antenna_annotation.tar.gz</code>&#160;is also available for the users to test the utility. Please see the readme file inside the test case directory for more information.</p>

<p><strong>Note</strong>: Before invoking the script, make sure that the Abstract Generator path is set and the necessary license is available.</p>

<p><span class="confluence-anchor-link" id="QuickAbstractInference-qaipin"></span></p>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Virtuoso_Digital_Implementation.html" id="prev" title="Virtuoso_Digital_Implementation">Virtuoso_Digital_Implementatio ...</a></em></b><b><em><a href="Netlist-Driven_Mixed_Signal_Design_Flow.html" id="nex" title="Netlist-Driven_Mixed_Signal_Design_Flow">Netlist-Driven_Mixed_Signal_De ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>