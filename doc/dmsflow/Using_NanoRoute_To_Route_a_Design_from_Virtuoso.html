
<html><head><title>Using NanoRoute To Route a Design from Virtuoso</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="leenap" />
<meta name="CreateDate" content="2023-07-12" />
<meta name="CreateTime" content="1689152522" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="" />
<meta name="DocTitle" content="Mixed Signal (MS) Interoperability Guide" />
<meta name="DocType" content="Methodology" />
<meta name="FileTitle" content="Using NanoRoute To Route a Design from Virtuoso" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="dmsflow" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-07-12" />
<meta name="ModifiedTime" content="1689152522" />
<meta name="NextFile" content="Design_and_Core_Boundary_in_Innovus.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design,Digital IC Design," />
<meta name="PrevFile" content="Placing_Standard-cell-based_Designs_from_Virtuoso.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Innovus," />
<meta name="Product" content="Virtuoso Layout Suite,Innovus," />
<meta name="ProductFamily" content="Virtuoso Layout Suite,Innovus," />
<meta name="ProductVersion" content="22.13" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Mixed Signal (MS) Interoperability Guide -- Using NanoRoute To Route a Design from Virtuoso" />
<meta name="Version" content="22.13" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="dmsflow221" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.20.001" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="dmsflowTOC.html">Contents</a></li><li><a class="prev" href="Placing_Standard-cell-based_Designs_from_Virtuoso.html" title="Placing_Standard-cell-based_Designs_from_Virtuoso">Placing_Standard-cell-based_De ...</a></li><li style="float: right;"><a class="viewPrint" href="dmsflow.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Design_and_Core_Boundary_in_Innovus.html" title="Design_and_Core_Boundary_in_Innovus">Design_and_Core_Boundary_in_In ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Mixed Signal (MS) Interoperability Guide<br />Product Version 22.13, Last Updated in July 2023</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <div style="width: 100%; font-size: 32px; text-align: left;               font-weight: bold;">16</div>
<h1 style="margin: 4px 0 4px;"><span>Using NanoRoute To Route a Design from Virtuoso</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p></p>
<div class="toc-macro rbtoc1689152475008">
<ul class="toc-indentation">
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-Overview">Overview</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-WhatAreRoutingTracks?">What Are Routing Tracks?</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-GuidelinesforUsingInnovusToRouteaDesignfromVirtuoso">Guidelines for Using Innovus To Route a Design from Virtuoso</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-InteroperabilityofRoutingTracks">Interoperability of Routing Tracks</a>
<ul class="toc-indentation">
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-SupportedUseModelsfortheInteroperabilityofRoutingTracks">Supported Use Models for the Interoperability of Routing Tracks</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-Roleofadd_tracksintheInteroperabilityofRoutingTracks">Role of add_tracks in the Interoperability of Routing Tracks</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-RoleofsetOaxMode-updateModeintheInteroperabilityofRoutingTracks">Role of setOaxMode -updateMode in the Interoperability of Routing Tracks</a></li>
</ul>
</li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-TrackAlignmentinInnovus">Track Alignment in Innovus</a>
<ul class="toc-indentation">
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-RelationshipBetweenWireWidth,RoutingTrackPitch,andMinimumSpacingRequirement">Relationship Between Wire Width, Routing Track Pitch, and Minimum Spacing Requirement</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-AlignmentofI/OPinswithRoutingTracks">Alignment of I/O Pins with Routing Tracks</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-AlignmentofI/OPinswithNon-Uniform-PitchTracksinLowerTechnologyNodes">Alignment of I/O Pins with Non-Uniform-Pitch Tracks in Lower Technology Nodes</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-AccesstoI/OPinswithDoublePatterningLayersinLowerTechnologyNodes">Access to I/O Pins with Double Patterning Layers&#160;in Lower Technology Nodes</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-AccesstoStandard-CellI/OPinsinLowerTechnologyNodes">Access to Standard-Cell I/O Pins&#160;in Lower Technology Nodes</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-AccesstoStandard-CellI/OPinswithDoublePatterningLayers">Access to Standard-Cell I/O Pins with Double Patterning Layers</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-TrackPatternswithNon-UniformPitch">Track Patterns with Non-Uniform Pitch</a></li>
<li><a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-TrackPatternswithNon-UniformPitchandNon-DefaultWidth">Track Patterns with&#160;Non-Uniform Pitch&#160;and Non-Default Width</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="UsingNanoRouteToRouteaDesignfromVirtuoso-Overview"><span class="cad-head-number">16.1 </span>Overview</h2>

<p>You can use the Innovus router, NanoRoute, to route a cell view that was originally created in Virtuoso. Two use models are available for this flow; you can use NanoRoute to route either&#160;a standard-cell-based block in the design or&#160;the top level of the design.</p>

<p>As discussed in the <a href="Routing_Constraint_Interoperability.html">Routing Constraint Interoperability</a> chapter, interoperable routing constraints can be created in Virtuoso and later be used by NanoRoute in Innovus. When routing a standard-cell-based block with NanoRoute, it is recommended that you do the standard cell placement as well in Innovus, especially at the lower technology nodes. The OpenAccess-based Mixed Signal flow is ideal for this capability because the entire implementation can be done in Innovus and the resulting cell view can be made available to Virtuoso with no translation.</p>

<p>If you plan to make ECO changes on a cell view using Innovus, then using NanoRoute to route this cell view will make the design friendly for running NanoRoute in the ECO mode. During ECO mode routing, NanoRoute will reroute any nets that were affected by the ECO changes, such as change of cell, insertion of new cell, or change of I/O pin location, through the <code><span class="fontredcadence">ecoRoute</span></code> command.</p>
<h2 id="UsingNanoRouteToRouteaDesignfromVirtuoso-WhatAreRoutingTracks?"><span class="cad-head-number">16.2 </span>What Are Routing Tracks?</h2>

<p>In Innovus, a routing track defines the routing grid for the signal router of regular nets. These routing tracks provide guide lines for routing and are used by the router, NanoRoute, to determine the preferred locations and directions for routes. Typically, the tracks patterns are uniformly-spaced, orthogonal patterns extending across the whole design. The routing tracks are, by default, invisible in the main layout window of Innovus. To view the routing tracks in design, select the <em>Visibility</em> check box next to the <em>Track</em> object type in the control panel. In the image below, the routing grid for M1 are displayed as blue lines:</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956152.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="trackvisibility.png" data-linked-resource-id="425956152" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956152.png" width="640" /></span></p>

<p>Note that the display of <code>W= 0</code>&#160;does not mean that the net is to be routed with a wire of 0 width. <code>W= 0</code>&#160;means that the default width is specified for the tracks, where default width is the width specified in the LEFDefaultRouteSpec in the technology library. If a non-default width is specified for the tracks, the display will show the exact width value.&#160;</p>

<p>To view the tracks better, you may deselect the&#160;<em>Visibility</em> check boxes of&#160;other object types, such as <em>Instance</em>, <em>Route</em>, and <em>Row</em>. You can also turn off other routing layers. For example, turn off any layers other than M1 if only M1 routing grid is to be viewed.</p>

<p>For a cell view that has its floorplan created in Virtuoso with floorplan but with no rows and no <span style="">Width Spacing Patterns (</span>WSPs<span style="">)</span>, Innovus will insert the rows and tracks accordingly during the import process of the design.</p>

<p>Typically, the routing tracks for each metal routing layer have uniformed spacing, called <code>pitch</code>. The first horizontal track starts from the bottom and the distance between the first track and the bottom edge of the core area is called <code>offset</code>. These specifications are commonly found in the LEFDefaultRouteSpec constraint group in the technology library.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956151.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="pitchAndOffset.png" data-linked-resource-id="425956151" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956151.png" width="500" /></span></p>

<p>For the above example, the values are specified in the technology file as follows:</p>

<p><code>&#8220;LEFDefaultRouteSpec&#8221; nil &#8220;LEFDefaultRouteSpec&#8221;</code></p>

<p><code>...</code></p>

<p><code>routingGrids (</code></p>

<p><code>&#160; ( horizontalPitch&#160;&#160;&#160; &#8220;M1&#8221; 0.2 )</code></p>

<p><code>&#160; ( verticalPitch&#160;&#160;&#160;&#160;&#160; &#8220;M1&#8221; 0.19 )</code></p>

<p><code>&#160; ( horizontalOffset&#160; &#160;&#8220;M1&#8221; 0.1 )</code></p>

<p><code>&#160; ( verticalOffset&#160;&#160;&#160;&#160; &#8220;M1&#8221; 0.095 }</code></p>

<p>Alternatively, in the Technology LEF file, the equivalent statements are:</p>

<p><code>LAYER M1</code></p>

<p><code>...</code></p>

<p><code>PITCH 0.2 0.19 ;</code></p>

<p><code>OFFSET 0.1 0.095;</code></p>
<h2 id="UsingNanoRouteToRouteaDesignfromVirtuoso-GuidelinesforUsingInnovusToRouteaDesignfromVirtuoso"><span class="cad-head-number">16.3 </span>Guidelines for Using Innovus To Route a Design from Virtuoso</h2>
<ul><li>If I/O pins are created and placed in Virtuoso and their corresponding nets are to be routed in Innovus, do not specify the placement attribute to be <code>None</code>&#160;or <code>Unplaced</code>&#160;as then the router in Innovus will view them as not physically placed and will not able to route. The router will issue a message similar to the following:<br /><code>#WARNING (NRIG-39) NanoRoute cannot route to pin PIN/output9 of net output9 because it might be a logical pin and does not have physical shapes. To fix the problem, check the pin connection in the netlist and ensure the pin shapes exist in the floorplan.<br /></code><br />It is recommended to update the placement attribute of I/O pins to <code>Fixed</code>&#160;(<code>Locked</code>/<code>Cover</code> is fine too) if no adjustment of the placement location is to be done in Innovus or <code>Placed</code> if adjustment is expected. <br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956156.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="editpin.png" data-linked-resource-id="425956156" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956156.png" width="500" /></span></li><li>For I/O pins created in Virtuoso, it is recommended that the depth of the pin shapes should be large enough to meet the minimum area rule (MAR), if such a rule exists. In most cases, the router in Innovus can add wires to increase the depth of pin shapes to meet the minimum area rule during the detailed routing of the whole design. However, ensuring that the pin shapes have appropriate depth upfront will ease the burden on the router and may prevent creation of DRC violations in corner cases.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956155.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="MAR.png" data-linked-resource-id="425956155" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956155.png" /></span></li></ul>
<p></p>
<ul><li>The detailed abstract of the standard cells to be routed in the design should be loaded into Innovus during design initialization (through the <code><span class="fontredcadence">init_oa_ref_lib</span></code> <span class="fontredcadence">variable</span>), especially for good quality of routing result in the lower technology nodes.</li></ul><ul><li>The Core Boundary in Innovus affects the way routing tracks are created. Refer to the&#160;<a href="Design_and_Core_Boundary_in_Innovus.html">Design and Core Boundary in Innovus</a>&#160;chapter for more details of core boundary and its relationship with track creation.</li><li>
<p>Alignment of routing tracks with the I/O pins of the design or the standard cells are critical, especially in smaller nodes. Improper alignment may result in bad quality of result. Refer to the <a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-talign">Track Alignment in Innovus</a> section for more information on aligning tracks with other objects, such as the I/O pins of design and cells.</p>
</li></ul><h2 id="UsingNanoRouteToRouteaDesignfromVirtuoso-InteroperabilityofRoutingTracks"><span class="cad-head-number">16.4 </span>Interoperability of Routing Tracks</h2>

<p>A higher percentage of mixed signal designs are being implemented at lower semiconductor process nodes. At these nodes, tools that are used to implement the custom portion of the mixed signal design have to adhere to certain structures for implementing the routing requirement of the design. Traditionally, place and route tools used for implementing the digital portion of mixed signal designs have had to create routes based on certain track definitions.&#160;For mixed signal designs using lower semiconductor process nodes, these two different methods of creating routes must be aligned. Otherwise, issues can crop up during the assembly of the overall design, which may require changes to the content that has already been implemented.</p>

<p>For lower process nodes, Virtuoso requires a Width Spacing Pattern (WSP) to be created and used when routes are created in the tool. An example of a WSP created for <code>METAL1</code>&#160;in Virtuoso is given below:</p>

<p><code>dbCreateWidthSpacingPattern(cv &quot;oax_pattern1_cv&quot;</code><br /><code> &#160;&#160;&#160;&#160;&#160;&#160;&#160; &#39;(((0.020 0.070)) ((0.020 0.040)) ((0.020 0.040)) ((0.020 0.040)) ((0.020 0.040)) ((0.020 0.70)))&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </code><br /><code> &#160;&#160;&#160;&#160;&#160;&#160;&#160; 0.0 ; Assume offset 0 from the axis and use the space in the pattern</code><br /><code> )</code><br /><code> dbCreateWidthSpacingSnapPatternDef(cv &quot;oax_M1WSP_cv&quot; list(&quot;METAL1&quot;&#160; &quot;track&quot;) </code><br /><code> &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;vertical&quot;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ; direction</code><br /><code> &#160;&#160;&#160;&#160;&#160;&#160;&#160; 0.30&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ; period</code><br /><code> &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;oax_pattern1_cv&quot;&#160;&#160;&#160; ; default active pattern</code><br /><code> &#160;&#160;&#160;&#160;&#160;&#160;&#160; list(list(&quot;METAL1&quot;)) ; snapping layers</code><br /><code> &#160;&#160;&#160;&#160;&#160;&#160;&#160; 0.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ; offset from PR Boundary or axis</code><br /><code> &#160;&#160;&#160;&#160;&#160;&#160;&#160; list(&quot;oax_pattern1_cv&quot;)&#160; ; list of possible patterns</code><br /><code> )</code></p>

<p>The graphical representation of the tracks defined by this WSP is shown below:</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956158.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="Track.PNG" data-linked-resource-id="425956158" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956158.png" width="640" /></span></p>
<h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-SupportedUseModelsfortheInteroperabilityofRoutingTracks"><span class="cad-head-number">16.4.1 </span>Supported Use Models for the Interoperability of Routing Tracks</h3>
<h4 id="UsingNanoRouteToRouteaDesignfromVirtuoso-UseModelA"><span class="cad-head-number">16.4.1.1 </span>Use Model A</h4>

<p>In a mixed signal flow in which the custom content is created in Virtuoso and the digital content in Innovus, a user may create a WSP in Virtuoso and mark it as the active WSP to be used for implementing the digital content of the design. In this case, Innovus must read and convert the user-created, active WSP to track patterns that are used by the router in Innovus.</p>

<p>Note that a specific cell view may have many different WSPs. However, only the active WSP would be converted to routing track patterns in Innovus. &#160;This use model is depicted in the diagram below.</p>

<p><span class="fontredcadence">
<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956160.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="WSP.PNG" data-linked-resource-id="425956160" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956160.png" /></span></p>

<p><strong>Use Model A: The active WSP is&#160;<strong><strong>automatically&#160;</strong></strong>converted to routing tracks in Innovus.</strong></p>
</span></p>

<p>In this flow, the active WSP is directly stored in the Innovus DB as routing tracks. However, if you later use database access routines to change the routing tracks in the database, Innovus will create an additional WSP with the following naming convention:</p>

<p><code>invs_&lt;<em>layer_name&gt;</em>_wsp // WSP Name</code></p>

<p>Once the design is saved in Innovus, you can see both the original WSP as well as the Innovus-generated one.</p>
<h4 id="UsingNanoRouteToRouteaDesignfromVirtuoso-UseModelB"><span class="cad-head-number">16.4.1.2 </span>Use Model B</h4>

<p>In this use model, you do not create any WSP in Virtuoso or do not mark any of the WSPs as active. This use model should be used if you wish to run NanoRoute in Innovus on either a standard-cell-based block in the design or the top-level design and take the results back to Virtuoso. NanoRoute has the ability to create the most efficient routing tracks for a specific design or cell view. You can take advantage of this capability to make Innovus generate a WSP automatically based on the routing tracks in Innovus. This Innovus-generated WSP can then be used for wire editing or other applications in Virtuoso. &#160;This process is done automatically in the OpenAccess flow when saving the design.</p>

<p>In this flow, the track patterns in Innovus can be created using the Innovus <code>add_tracks</code>&#160;command, with the following two options at a minimum: <code>-width_pitch_pattern</code> and&#160;<code>-keep_default_width</code>.</p>

<p>The WSP created during <code><span class="fontredcadence">saveDesign</span></code>&#160;by Innovus will have the following naming convention:</p>

<p><code>invs_&lt;layer_name&gt;_wsspd // Snap Pattern Def &#160;name</code></p>
<div class="pbi_avoid">
<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956157.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="UMB_WSP.PNG" data-linked-resource-id="425956157" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956157.png" /></span></p>

<p><strong>Use Model B: No active WSP exists, and Innovus routing tracks are used to create WSPs.</strong></p>
</div>
<h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-Roleofadd_tracksintheInteroperabilityofRoutingTracks"><span class="cad-head-number">16.4.2 </span>Role of add_tracks in the Interoperability of Routing Tracks</h3>

<p>The <code>add_tracks</code>&#160;command is used in Innovus for creating the complex routing track patterns required in lower technology nodes.</p>

<p>In some lower technology nodes, specific track pattern definitions are required by the foundry so that the tool can generate the most efficient routing results for the design. It is possible to make the Innovus-generated routing tracks compatible with Virtuoso so that a WSP can be created from the routing tracks used by Innovus. If <code>add_tracks</code>&#160;is used in Innovus, you need to make sure that the following two options are part of the syntax for the <code>add_tracks</code>&#160;command because the use of these options with the <code>add_tracks</code>&#160;command makes the generated tracks interoperable with the WSPs in Virtuoso. The two options are<br /><code>-width_pitch_pattern</code> and&#160;<code>-keep_default_width</code>.&#160;</p>

<p>The <code>-keep_default_width</code>&#160;parameter&#160;has no argument. However, the syntax for the <code>-width_pitch_pattern</code> pattern&#160;is as follows:&#160;</p>

<p><code>-width_pitch_pattern {{<em>layer1 offset offset width width pitch pitch</em> [<em>width width pitch pitch</em>]...} [{<em>layer2 ...</em>}]...}</code></p>

<p><span class="fontredcadence"><h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-RoleofsetOaxMode-updateModeintheInteroperabilityofRoutingTracks"><span class="cad-head-number">16.4.3 </span>Role of setOaxMode -updateMode in the Interoperability of Routing Tracks</h3>

<p><code>setOaxMode</code>&#160;is an Innovus command that controls the behavior of the Innovus tool when run in the OpenAccess mode. One of the options for this command is&#160;<code>-updateMode false | true | auto</code>.&#160;</p>

<p>When&#160;<code>setOaxMode -updateMode</code>&#160;is&#160;set to&#160;<code>true</code>, Innovus retains and writes back all custom objects, such as Fig-groups, Modegen cells, and so on. Therefore, if a design containing such custom objects is brought into Innovus for modifications, it would be best to set&#160;<code>-updateMode</code>&#160;to&#160;<code>true</code>.</p>

<p>When &#160;<code>setOaxMode -updateMode</code>&#160;is&#160;set to&#160;<code>false</code>, Innovus ignores the custom objects in the design. This mode is typically used when working on a digital block of a mixed signal design, where the implementation is being done using Innovus. In this situation, there are no custom objects that Innovus needs to retain.</p>

<p>If there is more than one WSP in the design, it is important to specify&#160;<code>setOaxMode -updateMode true</code>&#160;if you wish to retain the non-active WSPs as part of the design. Similarly,&#160;if WSP regions or WSP families are to be preserved in the round trip to Innovus, <code>setOaxMode -updateMode true</code> is required. Innovus will not recognize either of these WSP types, but will retain the information and send it back to Virtuoso.&#160;</p>
</span></p>

<p><span class="confluence-anchor-link" id="UsingNanoRouteToRouteaDesignfromVirtuoso-talign"></span></p>
<h2 id="UsingNanoRouteToRouteaDesignfromVirtuoso-TrackAlignmentinInnovus"><span class="cad-head-number">16.5 </span>Track Alignment in Innovus</h2>

<p>For aligning tracks with objects such as I/O pins, several points need to be considered. These are:</p>
<h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-RelationshipBetweenWireWidth,RoutingTrackPitch,andMinimumSpacingRequirement"><span class="cad-head-number">16.5.1 </span>Relationship Between Wire Width, Routing Track Pitch, and Minimum Spacing Requirement</h3>

<p>NanoRoute prefers to create routes along the routing grid with tracks being the center-line of wires. However, NanoRoute has the flexibility to create off-grid wires, where necessary. For example, an off-grid wire may be created to make a connection to an off-grid I/O pin. Nevertheless, that will mostly incur the loss of the adjacent track segment. The impact of the misalignment between certain I/O pins and routing tracks depends on the wire width, routing track pitch, and the minimum spacing requirements specified in the technology.</p>

<p>In the image on the left below, the routing pitch of M2 is 0.2um and the wire width of M2 is 0.08um. If the minimum spacing is 0.08, an off-grid wire with its center-line of not more than 0.04um deviation from the grid is still okay.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956150.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="off-grid.png" data-linked-resource-id="425956150" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956150.png" width="640" /></span></p>

<p>However, on certain technology nodes, it is possible that the minimum spacing requirement is the exact difference between the pitch and the wire width (0.12um in the case above). As a result, any off-grid M2 wire segment will make the area bounded by the orange box shown in the image on the right above unusable for the creation of an M2 wire. The router will not be able to use that portion of the M2 track for connections to other pins. Under such conditions, especially in a highly-dense design, the alignment of routing tracks with I/O pins and standard-cell pins becomes critical. This will be explained in detail in subsequent sections.</p>
<h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-AlignmentofI/OPinswithRoutingTracks"><span class="cad-head-number">16.5.2 </span>Alignment of I/O Pins with Routing Tracks</h3>

<p>The I/O pins must be aligned with the routing tracks for optimal quality of result. The following diagram shows a sample routing result of I/O pins that are not aligned with routing tracks. In this example, the non-alignment of the pins with the tracks does not result in any DRC violation but incurs loss of adjacent routing track. However, in some other cases, non-aligned pins can create routing congestion and DRC violations due to non-optimal spacing between off-grid and on-grid wires.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956149.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="off-grid2.png" data-linked-resource-id="425956149" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956149.png" width="640" /></span></p>

<p>In addition, some lower-technology nodes require wires to be rectangular in shape. In such cases, the non-rectangular shape of the wire above will be considered as a DRC violation.</p>

<p>To avoid such issues in a design imported from Virtuoso into Innovus, the designer must have the desired routing track pattern or WSP in mind if the I/O pins are to be created in Virtuoso and the pins must be aligned with these tracks (WSPs). Note that if both the routing tracks and I/O pins are generated by Innovus, there won&#8217;t be any issue because the I/O pins created by Innovus are always snapped to the routing track.</p>

<p>The following example shows the result of I/O pins aligning with the routing track.&#160;</p>
<div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The preferred routing direction of M3 is horizontal in this example. By turning on the&#160;<em>Visibility</em> check box for only <em>Pref Track</em>&#160;on the control panel, you can view and analyze tracks more easily.</p>
</div>
</div>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956154.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="pinAlignedWithTrack.png" data-linked-resource-id="425956154" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956154.png" width="640" /></span></p>

<p>The yellow triangles in the design are symbols displayed in Innovus to help you locate the I/O pins and to determine their direction. A yellow triangle with its tip pointing in represents an input port, whereas a&#160;yellow triangle with its tip pointing out represents an output port. Bi-directional input/output ports are represented with yellow diamonds, instead of a triangles.</p>
<div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>As the tip of the triangle is at the centerline of the rectangular pin shape, the alignment of the I/O pin with the track and can be determined easily by checking whether the tip touches the track.</p>
</div>
</div>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956153.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="pinTip.png" data-linked-resource-id="425956153" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956153.png" /></span></p>

<p>Innovus also provides the <code>check_tracks</code>&#160;command&#160;to check for off-grid pins. Here&#39;s an example from a sample report showing off-tracks I/O pins in the design:</p>

<p><code>#Detail Summary of Off-Track Pins:</code></p>

<p><code>#Off Track Top Level Pin out3</code></p>

<p><code>#Off Track Top Level Pin out2</code></p>

<p><code>#Off Track Top Level Pin out16</code></p>
<h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-AlignmentofI/OPinswithNon-Uniform-PitchTracksinLowerTechnologyNodes"><span class="cad-head-number">16.5.3 </span>Alignment of I/O Pins with Non-Uniform-Pitch Tracks in Lower Technology Nodes</h3>

<p>In lower technology nodes, I/O pins may be placed so as to follow a specific track pattern with non-uniform spacing (or pitch). If a cell view does not contain a WSP that can be converted to routing tracks, then Innovus by default creates routing tracks with uniform pitch. This will result in misalignment between certain I/O pins and routing tracks. The image below illustrates the issue.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956148.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="misalignedpins.png" data-linked-resource-id="425956148" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956148.png" width="640" /></span></p>

<p>If the routing is not dense and pins are spread apart widely, the router may be able to route to the pins successfully with off-grid wires and no DRC violation. However, if the area is highly congested, routability issues may arise. In such a case, you can use the <code>add_tracks</code>&#160;command to specify a track pattern with non-uniform pitch. Refer to the <a href="#UsingNanoRouteToRouteaDesignfromVirtuoso-nup_track">Track pattern with non-uniform pitch</a>&#160;subsection for more details and examples.</p>
<h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-AccesstoI/OPinswithDoublePatterningLayersinLowerTechnologyNodes"><span class="cad-head-number">16.5.4 </span>Access to I/O Pins with Double Patterning Layers&#160;in Lower Technology Nodes</h3>

<p>For I/O pins that are assigned to metal routing layers that use double patterning, the router has to add wires of the right mask number to make a connection to the I/O pins. You can use the <code>-mask_pattern</code>&#160;option of the <code>add_tracks</code>&#160;command to specify the mask order of the routing track pattern. For example, for the following diagram, you can specify the mask order&#160;as <code>M3 1 2</code> to guide the router.&#160;</p>

<p>Note that specifying&#160;<code>-mask_pattern</code>&#160;is optional as the router is able to determine the mask order automatically in most cases. Nevertheless, it is a good practice to guide the router by specifying the mask order if this piece of design information is already known.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956147.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="maskPattern.png" data-linked-resource-id="425956147" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956147.png" /></span></p>
<h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-AccesstoStandard-CellI/OPinsinLowerTechnologyNodes"><span class="cad-head-number">16.5.5 </span>Access to Standard-Cell I/O Pins&#160;in Lower Technology Nodes</h3>

<p>In addition to the I/O pins of the design, the routing track pattern also affects the quality of the routing result on the standard-cell I/O pin connections. While creating routes to make a connection to the I/O pins of a standard cell, a router can either add a wire to the same metal layer as the I/O pins or drop a via onto the&#160;I/O pin geometries. If a standard-cell I/O pin has no or few intersections&#160;with the routing track, it may create a DRC violation or block the routes to another pin, causing an open. This kind of problem is called a standard-cell pin access issue.</p>

<p>Consider the &#39;Before routing&#39; image on the left hand side below. Pin B and Pin A can be accessed by the M1 wire or the VIA1 via with the routing tracks (blue dashed lines) generated at right locations. The image on the right shows one possible routing result. The router connects Pin B through VIA1 and the M2 wire and connects Pin A with the M1 wire.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956146.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="pinAccessIssue.png" data-linked-resource-id="425956146" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956146.png" width="640" /></span></p>

<p>To illustrate how the routing track pattern affects the routing result, the image on the left below shows the same standard cell with the routing tracks for M1 not created at the right locations. For Pin B, if the router adds M1 from the right by following either of the two horizontal tracks from the bottom, it will create a short to the other pins. As a result, Pin B will mostly be accessed only by the VIA1 via. NanoRoute can create an off-grid M1 wire to access Pin B, but this may mean the neighboring M1 track near the pin cannot be used<strong>&#160;</strong>for other nets to prevent DRC violations, such as a spacing violation. The image on the right below shows a sample routing result. The router chooses to connect Pin A with VIA1 because the router prefers to route on the grid. In this case, the routing congestion is low, so there is no DRC violation. However, if many standard cells with high-pin density are placed close to each other, poorly located routing tracks may lead to routing issues.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956145.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="poorlocationoftracks.png" data-linked-resource-id="425956145" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956145.png" width="640" /></span></p>
<div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>By default, Innovus does not display the pin shape of a standard cell. The yellow square(s) inside the standard cell is not a real physical object but just a symbol to indicate that there is an I/O pin. To view the actual pin shapes, select the <em>Visibility</em> check box of <em>Pin Shapes</em> on the control panel. Make sure the&#160;<em>Visibility</em> check box of the metal layer that the I/O pins use is also selected . For example, <em>Visibility</em> check box of <em>Metal1</em> should be selected if the pin is of layer Metal1. If the design is routed, deselect the <em>Visibility</em> check box of <em>Route</em> so that the wires are hidden and the pin shapes can be seen more clearly.</p>
</div>
</div>

<p><br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956144.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="deslectRoutes.png" data-linked-resource-id="425956144" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956144.png" width="640" /></span></p>

<p>In the above case, any point where the routing tracks touch the pin shape geometries indicates a possible location for the router to insert a via to make a connection. In some nodes, there could be a design rule requirement that the vias inserted by the router must be fully inside the geometries of the I/O pin of the standard cell. In some cases, the I/O pins of these standard cells are designed in a way that the pins require routing tracks of a specific routing pitch and offset. If the routing tracks are not created with the right offset, it may become more difficult for the router to find the right solution for accessing the pins. As a result, the routing result may not optimal or the run time may increase significantly.</p>

<p>As an example, consider the image on the left below. If the right track pattern is created, there are five possible access points for the router to insert a via for Pin A and two possible access points for Pin B. However, if the offset is not specified correctly, resulting in the generation of poorly located routing tracks, the router would find less preferable locations to access the pins. Though it is possible to create an off-grid wire, the router either needs to spend more time to find a good solution or settle for a less optimal quality of result.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956143.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="accesspoints.png" data-linked-resource-id="425956143" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956143.png" width="640" /></span></p>
<h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-AccesstoStandard-CellI/OPinswithDoublePatterningLayers"><span class="cad-head-number">16.5.6 </span>Access to Standard-Cell I/O Pins with Double Patterning Layers</h3>

<p>In some lower technology nodes that use double patterning technology, the bottom few metal routing layers typically carry two masks. As most standard-cell I/O pins are implemented with one or two bottom metal routing layers, the routing tracks for these layers can also be differentiated with two different masks. When the mask pattern (or mask order) of the routing tracks are defined using the <code>add_tracks</code>&#160;command, ensure that the mask pattern is in the right order so that the mask number of M1 track matches the mask number of the standard cell pins.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956142.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="maskPatternOrder.png" data-linked-resource-id="425956142" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956142.png" width="640" /></span></p>

<p>The above diagram shows three standard cells and in each standard cell, each pin has its own mask number. Let us assume all the standard cells in this design are manually placed in Virtuoso and the cell view is loaded into Innovus. If the offset, pitch and mask pattern are specified correctly, the router in Innovus can add wires or vias with the right mask number and at the right location to access the pin easily as shown in the diagram below.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956141.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="rightlocation.png" data-linked-resource-id="425956141" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956141.png" width="640" /></span></p>

<p>Let us assume the <code>add_tracks</code>&#160;command for the above case is specified correctly as follows:</p>

<p><code>add_tracks -mask_pattern {M1 1 2 ...} -offsets {M1 0 ...}</code></p>

<p>What would happen if the mask pattern is specified with the wrong order (reverse order) as follows?</p>

<p><code>add_tracks -mask_pattern {M1 2 1 ...} -offsets {M1 0 ...}</code></p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956140.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="wrongmaskPattern.png" data-linked-resource-id="425956140" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956140.png" width="640" /></span></p>

<p>Most likely, the incorrect mask pattern specification would result in the router being unable to add wires to make connection with the pin and would restrict the router&#8217;s solution space to&#160;just via insertion for pin access. If the design rule requires the geometries of the same mask to be centered two track distance apart, it could also cause a spacing violation between the M1 pin and the M1 wire of the same mask number and make the track segments close to the pins unusable for routing.</p>

<p>What if the mask pattern is specified with the correct order but incorrect offset as follows?</p>

<p><code>add_tracks -mask_pattern {M1 1 2 ...} -offsets {M1 0.4 ...}</code></p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956139.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="wrongoffset.png" data-linked-resource-id="425956139" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956139.png" width="640" /></span></p>

<p>The incorrect offset specification may similarly make certain segments of tracks unusable for routing and may restrict the router&#8217;s solution space to only via insertion for pin access. It may create a spacing and End-of-Line (EOL) spacing violations between geometries of the same mask number.</p>

<p>To summarize, in some lower technology nodes, the routing tracks are expected to be perfectly aligned with the pins with the right mask number. This is based on the concept of &#8220;correct by construction&#8221; in a way that as far as the routes are created on-grid, the chance of achieving a good routing result is high.</p>

<p><span class="confluence-anchor-link" id="UsingNanoRouteToRouteaDesignfromVirtuoso-nup_track"></span></p>
<h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-TrackPatternswithNon-UniformPitch"><span class="cad-head-number">16.5.7 </span>Track Patterns with Non-Uniform Pitch</h3>

<p>In lower technology nodes, the designer may prefer a routing track pattern of non-uniform pitch. For example, suppose that the M4 metal routing layer has a vertical preferred routing direction and its routing track is desired to be a repeated pattern of four tracks with default wire width (specified in Tech LEF/LefDefaultRouteSpec) and non-uniform spacing values as shown in diagram below. The equivalent command in Innovus is:</p>

<p><code>add_tracks -pitch_pattern {M4 offset 0.2 {pitch 0.25 repeat 3} pitch 0.5}</code></p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956138.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="non-uniformPitch.png" data-linked-resource-id="425956138" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956138.png" width="640" /></span></p>
<h3 id="UsingNanoRouteToRouteaDesignfromVirtuoso-TrackPatternswithNon-UniformPitchandNon-DefaultWidth"><span class="cad-head-number">16.5.8 </span>Track Patterns with&#160;Non-Uniform Pitch&#160;and Non-Default Width</h3>

<p>The <code>add_tracks</code>&#160;command also allows you to specify routing tracks with width and pitch pattern. Consider a WSP for M3 with the offset value, wire widths and spacing requirements between wires as shown in the following diagram. The equivalent command in Innovus is:</p>

<p><code>add_tracks -width_pitch_pattern {{M3 offset 0.03 width 0.02 pitch 0.04 width 0.02 pitch 0.07 width 0.04 pitch 0.08 width 0.04 pitch 0.07}}</code></p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956136/425956137.png" data-linked-resource-container-id="425956136" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="Non-defaultWidth.png" data-linked-resource-id="425956137" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956136/425956137.png" width="640" /></span></p>

<p>In the above example, note that:</p>
<ul><li>In the right-side image, the width values (<code>W = 0.02</code> or <code>W= 0.04</code>) is displayed for each track.</li><li>The period offset in WSP is the distance between the bottom edges of the PRBoundary object and the first wire of the pattern. In Innovus, by default, the offset is the distance between the centerline of the first wire above the bottom edge of the Core Boundary and the bottom edge of the Core Boundary for horizontal tracks. Note that the size of the Core Boundary does not necessarily need to be the same as the size of PRBoundary object in Virtuoso. Refer to the&#160;<a href="Design_and_Core_Boundary_in_Innovus.html">Design and Core Boundary in Innovus</a> chapter&#160;to understand how the Core Boundary can affect the creation of rows and routing tracks in Innovus.</li><li>In WSP, if the spacing value is specified as the edge-to-edge mode, the spacing values at each interval should not be mistaken as the routing pitch in the <code>add_tracks</code>&#160;command. Note that the pitch is measured between the centerline of wires.</li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Placing_Standard-cell-based_Designs_from_Virtuoso.html" id="prev" title="Placing_Standard-cell-based_Designs_from_Virtuoso">Placing_Standard-cell-based_De ...</a></em></b><b><em><a href="Design_and_Core_Boundary_in_Innovus.html" id="nex" title="Design_and_Core_Boundary_in_Innovus">Design_and_Core_Boundary_in_In ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>