
<html><head><title>Placing Standard-cell-based Designs from Virtuoso</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="leenap" />
<meta name="CreateDate" content="2023-07-12" />
<meta name="CreateTime" content="1689152520" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="" />
<meta name="DocTitle" content="Mixed Signal (MS) Interoperability Guide" />
<meta name="DocType" content="Methodology" />
<meta name="FileTitle" content="Placing Standard-cell-based Designs from Virtuoso" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="dmsflow" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-07-12" />
<meta name="ModifiedTime" content="1689152520" />
<meta name="NextFile" content="Using_NanoRoute_To_Route_a_Design_from_Virtuoso.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design,Digital IC Design," />
<meta name="PrevFile" content="Working_with_Vias_in_OpenAccess.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Innovus," />
<meta name="Product" content="Virtuoso Layout Suite,Innovus," />
<meta name="ProductFamily" content="Virtuoso Layout Suite,Innovus," />
<meta name="ProductVersion" content="22.13" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Mixed Signal (MS) Interoperability Guide -- Placing Standard-cell-based Designs from Virtuoso" />
<meta name="Version" content="22.13" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="dmsflow221" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.20.001" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="dmsflowTOC.html">Contents</a></li><li><a class="prev" href="Working_with_Vias_in_OpenAccess.html" title="Working_with_Vias_in_OpenAccess">Working_with_Vias_in_OpenAcces ...</a></li><li style="float: right;"><a class="viewPrint" href="dmsflow.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Using_NanoRoute_To_Route_a_Design_from_Virtuoso.html" title="Using_NanoRoute_To_Route_a_Design_from_Virtuoso">Using_NanoRoute_To_Route_a_Des ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Mixed Signal (MS) Interoperability Guide<br />Product Version 22.13, Last Updated in July 2023</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <div style="width: 100%; font-size: 32px; text-align: left;               font-weight: bold;">15</div>
<h1 style="margin: 4px 0 4px;"><span>Placing Standard-cell-based Designs from Virtuoso</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="PlacingStandardcellbasedDesignsfromVirtuoso-SitesAndRows"></span></p>
<div class="toc-macro rbtoc1689152474760">
<ul class="toc-indentation">
<li><a href="#PlacingStandardcellbasedDesignsfromVirtuoso-Overview">Overview</a></li>
<li><a href="#PlacingStandardcellbasedDesignsfromVirtuoso-GuidelinesforPlacingaStandard-cell-basedDesignfromVirtuosoinInnovus">Guidelines for Placing a Standard-cell-based Design from Virtuoso in Innovus</a></li>
<li><a href="#PlacingStandardcellbasedDesignsfromVirtuoso-WhatareSitesandRowsinInnovusandWhyTheyAreNeeded">What are Sites and Rows in Innovus and Why They Are Needed</a></li>
<li><a href="#PlacingStandardcellbasedDesignsfromVirtuoso-SitePropertyintheCellViewofStandardCells">Site Property in the Cell View of Standard Cells</a></li>
<li><a href="#PlacingStandardcellbasedDesignsfromVirtuoso-SiteDefinitionintheTechnologyLibrary">Site Definition in the Technology Library</a></li>
<li><a href="#PlacingStandardcellbasedDesignsfromVirtuoso-StandardRowCreationbyInnovusDuringinit_design">Standard Row Creation by Innovus During init_design</a></li>
<li><a href="#PlacingStandardcellbasedDesignsfromVirtuoso-SwitchingtheOrientationoftheStandardRows">Switching the Orientation of the Standard Rows</a></li>
</ul>
</div>
<h2 id="PlacingStandardcellbasedDesignsfromVirtuoso-Overview"><span class="cad-head-number">15.1 </span>Overview</h2>

<p>You can use the Innovus placer to place standard cells on a cell view that was originally created in Virtuoso. The OpenAccess-based Mixed Signal flow supports the following flows:</p>
<ul><li>The floorplanning step, like I/O pin assignment and design size, is done on a cell view in Virtuoso. This cell view is then brought into Innovus for placement of standard cells. You may choose to place certain standard cells in Virtuoso manually, while leaving the rest to be placed by Innovus. These manually placed cells will have to be set to the <code>FIXED</code>&#160;placement attribute, either in Virtuoso or Innovus. Similarly, if the cell view contains macros/blocks, they can be pre-placed and fixed in the design.</li><li>Making minor changes in Innovus to a design that is already placed or implemented in Virtuoso. For example, a certain cell is required to be upsized or a new cell is to be added into the design. The ECO flow in Innovus allows the new cells to be ECO-placed while refining the placement of the rest of the standard cells.</li><li>Some cells are constrained with inclusive cluster boundary. When the cell view is read by Innovus, the inclusive cluster boundary will be viewed as a floorplan object, named region, in Innovus. These cells are guided to be placed within the region. The rest of the standard cells will be as placed as normal.</li></ul>
<p>In addition to offering flexibility in the flow, placing the design in Innovus offers some advantages:</p>
<ul><li>Innovus offers features such as timing driven placement if timing libraries and timing constraints are available.</li><li>The ECO flow can also be exercised in which the tool can easily make changes to the design. Changes can be logical, such as cell changes, and physical, such as placement and/or routing.</li><li>For lower nodes, the placer and router engines in Innovus are tuned to work together to achieve optimal quality of result.</li></ul>
<p>After placement of standard cells is done, you can either save the resulting cell view to make it available to Virtuoso or proceed to route the design in Innovus using NanoRoute.</p>

<p>The OpenAccess-based Mixed Signal flow allows you to choose freely when to switch back to Virtuoso &#8211; either after placement or after routing.</p>
<h2 id="PlacingStandardcellbasedDesignsfromVirtuoso-GuidelinesforPlacingaStandard-cell-basedDesignfromVirtuosoinInnovus"><span class="cad-head-number">15.2 </span>Guidelines for Placing a Standard-cell-based Design from Virtuoso in Innovus</h2>

<p>Keep the following guidelines in mind while using Innovus to place a Standard-cell-based Design from Virtuoso:</p>
<ul><li>The placer in Innovus requires rows based on the site(s) to be created. Rows created in Virtuoso may not be interoperable in Innovus, especially if rows or row regions are created in which no site is associated. Thus, it is recommended to create standard cell rows in Innovus. For more details on row and site, refer to the&#160;<a href="#PlacingStandardcellbasedDesignsfromVirtuoso-SitesNRows">What Are Sites and Rows in Innovus and Why They Are Needed</a> section.</li><li>The Core Boundary in Innovus affects the way it creates the row. Refer to the&#160;<a href="Design_and_Core_Boundary_in_Innovus.html">Design and Core Boundary in Innovus</a> chapter for details on Core Boundary. If some cells are already pre-placed in Virtuoso and some other cells are to be placed in Innovus, the Core Boundary may have to be re-adjusted so that the rows created in Innovus are aligned with the standard cell rows.</li><li>
<p>For a design that consists of blocks and standard cells, if the blocks are pre-placed in the design by Virtuoso and not to be moved by Innovus in the flow later, specify their placement attributes to be <code>Fixed</code>&#160;(or <code>Locked</code>&#160;/<code>Cover</code>). If a block is not marked as <code>Fixed</code>, its location may be altered by Innovus while placing the standard cells. This may also lead to the tool not being able to perform placement refinement successfully due to the inclusion of the area occupied by&#160;<code>PLACED</code>&#160;or <code>UNPLACED</code>&#160;blocks&#160;in the utilization calculation.<br /><br />If only routing is to be done in Innovus (and, for example, no ECO placement), the placement attributes of <code>None</code>&#160;or <code>Placed</code>&#160;are also fine as they will be translated to&#160;<code>PLACED</code>&#160;when the whole design is loaded into Innovus.<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956135.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="PlacingInInnovus.png" data-linked-resource-id="425956135" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956135.png" width="640" /></span></p>

<p>Note that in Innovus, it is a good practice to make blocks as <code>FIXED</code>&#160;once their locations are finalized. You can run the following command to set the placement status of all blocks (hard macros) to <code>FIXED</code>:<br /><code><span class="fontredcadence">setInstancePlacementStatus</span> <span class="fontredcadence">-allHardMacros</span> -status fixed</code></p>
</li></ul>
<p></p>
<ul><li>If a group of standard cells is manually placed in the design, you may choose not to place filler cells in Virtuoso but to leave empty gaps between the standard cells and let Innovus auto-insert fillers in these gaps later in the flow. If you plan to do ECO placement in the cell view, inserting filler cells in Innovus allows you to remove them easily in Innovus during the ECO flow by running the&#160;<code><span class="fontredcadence">deleteFiller</span></code>&#160;command. Besides inserting filler cells, the Innovus placer also supports the insertion of tap cells and end cap cells.</li></ul>
<p><span class="confluence-anchor-link" id="PlacingStandardcellbasedDesignsfromVirtuoso-SitesNRows"></span></p>
<h2 id="PlacingStandardcellbasedDesignsfromVirtuoso-WhatareSitesandRowsinInnovusandWhyTheyAreNeeded"><span class="cad-head-number">15.3 </span>What are Sites and Rows in Innovus and Why They Are Needed</h2>

<p>Site and row are basic terms related to placement and routing. A site defines a placement site, and is a placement location that can be used by the cells that match the same site. Physically, it is a rectangle with a specific width and height. A repeating set of sites creates a row.&#160;</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956134.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="site.png" data-linked-resource-id="425956134" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956134.png" width="500" /></span></p>

<p>A site can either&#160;be an I/O pad site for the placement of I/O pads or a core site for the placement of standard cells. The above and below pictures show how the repeating sites form a horizontal standard cell row. Sites for standard cells are called core sites because the standard cells are placed in the core area of the design.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956133.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="siteNRow.png" data-linked-resource-id="425956133" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956133.png" width="500" /></span></p>

<p>In Innovus, the standard cell rows in the design are not selectable by default. To make them selectable, check the <em>Selectability</em> check box for&#160;<em>Standard Row</em> in the Control Panel, which is located at the right of the main window. Similarly, the sites are not visible by default so you need to select&#160; the <em>Visibility</em>&#160;check box for <em>Row Pattern</em> to view the sites.</p>

<p>After selecting a standard cell row, double-click or press the <code>Q</code>&#160;key to view the <em>Site Name</em>, <em>Site Width</em> and<em> Site Height</em>, and other attributes of the row.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956132.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="standard row.PNG" data-linked-resource-id="425956132" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956132.png" width="640" /></span></p>

<p>Typically, standard cells are structurally designed with heights that are integral multiples of the site height, such as single-height cells or double-height cells. This is done for several reasons, such as optimal use of the area, enabling placement of cells with alignment, allowing power rails to be shared, and so on. Most importantly, standard cell rows must be present in the floorplan for Innovus to auto-place the standard cells.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956131.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="standardcellplacement.png" data-linked-resource-id="425956131" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956131.png" width="500" /></span></p>

<p>The diagram above shows how standard cells are placed along the row. These standard cells are single-height cells. Each row consists of abutted sites and the Placer in Innovus always snaps the cells to the site. With very few exceptions, standard cells are typically designed in a way that the cell widths are multiple integral value of the site width. For example, if the site width is 0.5um, the standard cells are designed with widths of 0.5um, 1um, 1.5um, and so on.</p>

<p>The diagram below shows three double-height cells placed along with many single-height cells.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956130.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="DoubleHeight.png" data-linked-resource-id="425956130" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956130.png" width="500" /></span></p>

<p>To allow placement of both single- and double-height cells in the same area, both single-height rows and double-height rows are to be created such that they overlay each other. The following diagram shows how rows of different heights and orientations overlay each other.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956122.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="CoreSiteflips.png" data-linked-resource-id="425956122" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956122.png" width="640" /></span></p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956123.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="RowOverlay.png" data-linked-resource-id="425956123" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956123.png" width="640" /></span></p>

<p>Note that <code>CoreSiteDouble</code>, for double-height standard cells, has the same site width as <code>CoreSite</code>, but its height is double that of&#160;<code>CoreSite</code> so that two single-height rows can overlay a double-height row completely.</p>
<h2 id="PlacingStandardcellbasedDesignsfromVirtuoso-SitePropertyintheCellViewofStandardCells"><span class="cad-head-number">15.4 </span>Site Property in the Cell View of Standard Cells</h2>

<p>Site definition is a property that should be defined in the abstract of the standard cells. To view the site definition of a cell view, open it in Virtuoso and select <em>File -&gt;&#160;</em><em>Properties</em><em>&#160;</em>from the menu bar. This displays the Edit Cellview Properties form. The following example shows the properties of the <code>CLKBUFX8</code>&#160;standard cell. Its site name is <code>CoreSite</code>. Its <em>Symmetry Type</em> of&#160;<code>XY</code>&#160;indicates that it can also be placed with different orientations of <code>R0</code>, <code>MX</code>, <code>MY</code>, and <code>R180</code>.&#160; Note that this cell is of <em>cellType</em>&#160;<code>core</code>, which enables Innovus to identify it as a standard cell.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956129.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="EditCellviewProp.png" data-linked-resource-id="425956129" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956129.png" width="640" /></span></p>

<p>It is also possible to view the site property of a standard cell in Innovus. Simply run <code>write_lef_library</code> with the <code>-macro_only</code>&#160;option and search the generated output LEF file for the keyword <code>SITE</code> on that standard cell.</p>

<p><code>&gt; write_lef_library -macro_only my_macro.lef</code></p>

<p>The following is the example for the <code>CLKBUFX8</code> cell from the output LEF file:</p>

<p><code>MACRO CLKBUFX8</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; CLASS CORE ;</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; FOREIGN CLKBUFX8 0 0&#160; ;</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; ORIGIN 0 0 ;</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; SIZE 2.2 BY 1.71 ;</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; SYMMETRY X Y ;</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; SITE CoreSite ;</code></p>

<p><code>...</code></p>

<p>Note that the LEF statements for <code>CLKBUFX8</code> also show similar properties, such as symmetry type (<code>SYMMETRY X Y</code>), site name (<code>SITE CoreSite</code>), and cell type (<code>CLASS CORE</code>).</p>
<h2 id="PlacingStandardcellbasedDesignsfromVirtuoso-SiteDefinitionintheTechnologyLibrary"><span class="cad-head-number">15.5 </span>Site Definition in the Technology Library</h2>

<p>The MSOA flow requires an MSOA PDK for the flow to be run successfully. A regular PDK (not MSOA PDK) meant for manual layout editing in Virtuoso will commonly not contain any site definition in the technology library. Refer to section &quot;<em>3.2 Technology Data Preparation</em>&quot; in the <a href="Technology_Data_Preparation.html">Technology Data Preparation</a> chapter to see how the SITE definition contained in either the digital TLEF or the macro LEF are imported to the ITDB during the creation of an MSOA PDK.</p>

<p>To see if the technology library contains any SITE definition, dump out the text technology file and view the <code>siteDefs</code> section. The steps are as follows:</p>
<ol><li>Invoke Virtuoso.</li><li>In the Command Interface Window, select <em>Tools</em> -&gt; <em>Technology File Manager</em>.</li><li>In the resulting&#160;Technology Tool Box form, click the <em>Dump</em> button.&#160;This opens the&#160;Dump Technology File form.</li><li>Select the desired technology library, select the <em>siteDefs</em> check box,&#160;specify the file name in the <em>ASCII Technology File</em>&#160;text box and click <em>OK</em>.</li></ol>
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956124.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="DumpTechnology.png" data-linked-resource-id="425956124" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956124.png" width="640" /></span></p>

<p>The following example shows the SITE definition section in a technology file. Two sites are defined: CoreSite and CoreSiteDouble.</p>

<p><code>;********************************</code></p>

<p><code>; SITEDEFS</code></p>

<p><code>;********************************</code></p>

<p><code>siteDefs(</code></p>

<p><code>&#160;scalarSiteDefs(</code></p>

<p><code>&#160;;( siteDefName&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;type width&#160; height&#160; symInX symInY symInR90)</code></p>

<p><code>&#160;;( -----------&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ---- -----&#160; ------&#160; ------ ------ -------)</code></p>

<p><code>&#160; ( CoreSite&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; core 0.2&#160; &#160; &#160;1.71&#160; &#160; nil&#160; &#160; t&#160; &#160; &#160;nil)</code></p>

<p><code>&#160; ( CoreSiteDouble&#160;&#160;&#160;&#160;&#160;&#160; core 0.2&#160; &#160; &#160;3.42&#160; &#160; t&#160; &#160; &#160; t&#160; &#160; &#160;nil)</code></p>

<p><code>) ;scalarSiteDefs</code></p>

<p><code>) ;siteDefs</code></p>

<p>Alternatively, in Innovus, run <code>write_lef_library -tech_only</code> to generate an output LEF file that contains the technology information. Open the LEF file and search for the keyword <code>SITE</code>:</p>

<p><code>&gt; write_lef_library -tech_only my_tech.lef</code></p>

<p><code>SITE CoreSite</code></p>

<p><code>&#160;&#160;&#160; &#160;&#160;&#160;&#160;CLASS CORE ;</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; SYMMETRY Y ;</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; SIZE 0.2 BY 1.71 ;</code></p>

<p><code>END CoreSite</code></p>

<p><code>SITE CoreSiteDouble</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; CLASS CORE ;</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; SYMMETRY X Y ;</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; SIZE 0.2 BY 3.42 ;</code></p>

<p><code>END CoreSiteDouble</code></p>

<p><span style="">In the above example, </span>for the <code>CoreSite</code> definition meant for single-height standard cells, the <code>t</code>&#160;Boolean value for the <code>SymInY</code>&#160;&#160;attribute or the <code>SYMMETRY Y</code>&#160;&#160;statement in TLEF indicates that the row allows the standard cell with the <code>SYMMETRY Y</code>&#160;or <code>SYMMETRY XY</code>&#160;&#160;property to be flipped horizontally along the row. This is typical for single-height standard cells as flipping the cells vertically will cause a short on the power rails.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956127.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="CoreSiteExample.png" data-linked-resource-id="425956127" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956127.png" width="500" /></span></p>

<p>In double-height cells, the upper and lower cell edge typically contains the same type of power rail:&#160;either both are VDD or both are VSS. Therefore, double-height cells can be flipped vertically. So in the&#160;<code>CoreSiteDouble</code>&#160;definition meant for double-height standard cells, the <code>t</code>&#160;Boolean value for the <code>SymInX</code>&#160;attribute or the <code>SYMMETRY X Y</code>&#160;statement in TLEF indicates that the row allows the standard cell with the <code>SYMMETRY Y</code>&#160;&#160;or <code>SYMMETRY XY</code>&#160;property to be flipped horizontally along the row and standard cell with the <code>SYMMETRY X</code>&#160;or <code>SYMMETRY XY</code>&#160;property to be flipped vertically along the row.</p>

<p>Note that without having the site defined in the technology libraries, Innovus will issue a messages such as the following in the log file:</p>

<p><code>**ERROR: (IMPOAX-750):&#160; Tech site &#39;CoreSite&#39; used in macro &#39;CLKBUFX8&#39; is not found. Check if this macro in OpenAccess (OA) database has correct site information, and if the site is defined in OA technology database.</code></p>

<p><code>**WARN: (IMPOAX-755):&#160;&#160; Macro &#39;CLKBUFX8&#39; has no SITE statement and it is a class CORE macro that requires a SITE statement. The SITE ENC_CORE_0 is chosen because it is a core site with height 1.7100 that matches the macro SIZE height.</code></p>

<p>When Innovus observes that the site property of a standard cell is not defined in the technology, it creates a dummy site with its best guess for site height and width. In general, it does a good job in computing the site height and width. However, the dummy site may not provide the correct symmetry type. The Placer may be able to place that standard cell, but there is no guarantee that all placement operations will work properly with the dummy site. As the site definitions for standard cell sets are often defined in the macro LEF or technology LEF, these files should always be imported when creating the MSOA PDK.</p>
<h2 id="PlacingStandardcellbasedDesignsfromVirtuoso-StandardRowCreationbyInnovusDuringinit_design"><span class="cad-head-number">15.6 </span>Standard Row Creation by Innovus During init_design</h2>

<p>Consider a cell view that has no standard cell rows and has its PRBoundary object created in Virtuoso. When this cell view is loaded into Innovus through the <code>init_design</code>&#160;TCL command&#160;or through the Design Import form, Innovus detects the absence of rows and populates the entire design with rows.</p>

<p>Innovus inserts the rows from the bottom to the top, with sites added from left to right. The bottom row is the first row added, and is flipped by default so that it can share the same power rail with the next row, which is not flipped. This implies that single-height standard cells with XY symmetry are placed either with the MX or R180 orientation in the first row. Similarly, for the other odd rows. All the even rows are not flipped, and therefore single-height standard cells in those rows are placed with either R0 or MY orientation.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956126.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="InnovusRowCreation.png" data-linked-resource-id="425956126" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956126.png" width="640" /></span></p>

<p>As shown in the picture above, the first row is inserted in such a way that the bottom edge of the row aligns with the bottom edge of the design boundary (determined by the specification of the PRBoundary object) and the left edge of the row aligns with the left edge of the design boundary.</p>

<p>As the tool fills up the design with only full sites and no partial site is created, some empty space is expected between the top edge of the top row and the top edge of the design boundary when the height of the design is not a value multiple of the row height. Similarly, there is empty space between the right edge of the row and the right edge of the design boundary too when the width of the design boundary is not a value multiple of the site width.&#160;</p>
<div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>To identify the orientation of a row or cell, check which corner of the row or cell has the cross line.</p>
</div>
</div>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956125.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="RowCellOrientation.png" data-linked-resource-id="425956125" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956125.png" width="500" /></span></p>
<h2 id="PlacingStandardcellbasedDesignsfromVirtuoso-SwitchingtheOrientationoftheStandardRows"><span class="cad-head-number">15.7 </span>Switching the Orientation of the Standard Rows</h2>

<p>As the bottom row (and other odd number rows) created by <code>init_design</code> is flipped by default, these rows are unusable if the standard cells are to be placed with a different orientation. To recreate rows with a different orientation, follow the steps below:</p>

<p></p>
<ol><li><code><span class="fontredcadence">deleteRow</span> -all</code></li><li><code><span class="fontredcadence">setFlipping s</span></code></li><li><code><span class="fontredcadence">initCoreRow</span></code></li></ol>
<p>This set of steps basically deletes the current rows and recreates the rows with a different orientation. The <code>setFlipping</code> command specifies that the second and other even rows are to be flipped.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/425956121/425956128.png" data-linked-resource-container-id="425956121" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="RowsFlipped.png" data-linked-resource-id="425956128" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/425956121/425956128.png" width="640" /></span></p>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Working_with_Vias_in_OpenAccess.html" id="prev" title="Working_with_Vias_in_OpenAccess">Working_with_Vias_in_OpenAcces ...</a></em></b><b><em><a href="Using_NanoRoute_To_Route_a_Design_from_Virtuoso.html" id="nex" title="Using_NanoRoute_To_Route_a_Design_from_Virtuoso">Using_NanoRoute_To_Route_a_Des ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>