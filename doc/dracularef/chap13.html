
<html><head><title>Operation Block Commands</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sarita" />
<meta name="CreateDate" content="2023-09-14" />
<meta name="CreateTime" content="1694753385" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Dracula offers a complete set of integrated applications for IC layout designs. It contains information about the Dracula standalone verification product." />
<meta name="DocTitle" content="Dracula Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Operation Block Commands" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="dracularef" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-14" />
<meta name="ModifiedTime" content="1694753385" />
<meta name="NextFile" content="appA.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Physical Verification  Analysis" />
<meta name="PrevFile" content="chap12.html" />
<meta name="c_product" content="Dracula" />
<meta name="Product" content="Dracula" />
<meta name="ProductFamily" content="Dracula" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Dracula Reference -- Operation Block Commands" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="dracularefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="dracularefTOC.html">Contents</a></li><li><a class="prev" href="chap12.html" title="Input-Layer Block Commands">Input-Layer Block Commands</a></li><li style="float: right;"><a class="viewPrint" href="dracularef.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appA.html" title="Supported Database Records">Supported Database Records</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Dracula Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>13
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1011663"></a><hr />
<a id="21059"></a>Operation Block Commands<hr />
</h1>

<p>
<a id="pgfId-1014231"></a>Chapter 13 discusses the Operation Block Commands for Dracula in alphabetical order.</p>

<h2>
<a id="pgfId-1014238"></a><a id="47860"></a>Introduction</h2>

<p>
<a id="pgfId-1014239"></a>This chapter describes the commands in the Operation block of your rules file. You can create as many Operation blocks as necessary to define your rules and processes. The preprocessor automatically concatenates the individual definitions in the order you specify.</p>
<p>
<a id="pgfId-1014240"></a>The Operation block contains the following categories of commands:</p>
<ul><li>
<a id="pgfId-1014241"></a>Logical Operations</li><li>
<a id="pgfId-1014242"></a>Electrical Node Extraction</li><li>
<a id="pgfId-1014243"></a>Sizing Operations</li><li>
<a id="pgfId-1014244"></a>Spacing Checks</li><li>
<a id="pgfId-1014245"></a>Circuit Element Extraction</li><li>
<a id="pgfId-1014246"></a>Electrical Rule Checking</li><li>
<a id="pgfId-1014247"></a>Layout Versus Schematic</li><li>
<a id="pgfId-1014248"></a>Layout Parameter Extraction</li></ul>








<h3>
<a id="pgfId-1014249"></a>Logical Operations</h3>

<p>
<a id="pgfId-1014251"></a>The <a id="marker-1014250"></a>logical operation commands create new pseudo layers using combinations of original layers, previously created layers, and import layers. The maximum number of logical operation commands you can specify in a single rule deck is 3,000.</p>

<h3>
<a id="pgfId-1014252"></a>Electrical Node Extraction</h3>

<p>
<a id="pgfId-1014254"></a>The <a id="marker-1014253"></a>electrical node extraction commands define the connectivity between layers where the connection physically derives from the contacts. You define the layer sequence with the CONNECT-LAYER command in the Input-Layer block, and define the contacts that connect the specified layers in the Operation block.</p>
<p>
<a id="pgfId-1014255"></a>Electrical nodes are formed by the layer processing sequence and the interlayer contacts. Dracula forms and uniquely labels each electrical node formed by the CONNECT-LAYER and CONNECT commands. This process is called stamping<a id="marker-1014256"></a>. You can carry the stamping information to newly generated layers in two ways:</p>
<ul><li>
<a id="pgfId-1014257"></a>Dracula automatically stamps layers produced with the AND and NOT commands and stamps the output layer with the node label of the first layer (layer-a).</li><li>
<a id="pgfId-1014258"></a>The STAMP command stamps the node label from one layer to another. Stamping occurs only for stamped-layer polygons that are overlapped by nodes in the stamping layer.</li></ul>


<h3>
<a id="pgfId-1045858"></a>Sizing Operations</h3>

<p>
<a id="pgfId-1045860"></a>The <a id="marker-1045859"></a>sizing commands let you alter the geometries in your database.</p>

<h3>
<a id="pgfId-1045861"></a>Spacing Checks</h3>

<p>
<a id="pgfId-1014264"></a>The <a id="marker-1014263"></a>spacing operations check geometric spacing and sizing on polygons in original and created layers and flag the errors. You can further process these errors using either conjunctive rules, the R option, or the R&#39; option.</p>
<p>
<a id="pgfId-1014266"></a>You use <a id="marker-1014265"></a>conjunctive rules to process the violations produced by prior checking commands. A <a id="marker-1014267"></a>conjunctive set is a series of commands that generates a single output. You invoke a conjunctive rule by placing an <a id="marker-1014268"></a>ampersand (&amp;) at the end of a command line. The results of that command are then available to any command in the conjunctive set. Thus you can make a series of dependent checks.</p>
<p>
<a id="pgfId-1014269"></a>An ampersand (&amp;) generates error flags for the corresponding input layers. Flags for layer-a segments are marked on layer-a, and flags for layer-b segments are marked on layer-b. These are conjoined layers. Subsequent checks on a conjoined layer filter these errors until, if any remain, they are finally output. You can use the renamed conjoined layer in later checks, avoiding the need to recompute these error flags. </p>
<p>
<a id="pgfId-1014270"></a>The ampersand (&amp;) is a reserved character, and Dracula interprets anything following it on the same line as a comment. You cannot specify a command on the same line. Except for layers you rename, conjoined layers revert back to the original layer after the processing of the conjunctive rule is completed. </p>
<p>
<a id="pgfId-1014271"></a>You can use the conjunctive rule to filter the error flags through the conjunctive set. The set always ends with an OUTPUT statement. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014272"></a>Renamed conjunctive filenames must begin with an ampersand (&amp;).</div>
<p>
<a id="pgfId-1014273"></a>The maximum number of spacing commands you can have in a single rule deck is 3,000.</p>

<h3>
<a id="pgfId-1014274"></a>Circuit Element Extraction</h3>

<p>
<a id="pgfId-1014277"></a>The circuit <a id="marker-1014275"></a>element extraction commands define <a id="marker-1014276"></a>electrical circuit elements. You use these commands to <a id="marker-1014278"></a>extract MOS devices, pads, and electrical parameters such as widths and lengths. When you define electrical nodes with CONNECT commands, circuit element extraction commands automatically generate a circuit netlist. You can use this extracted circuit to perform electrical rule checks (ERC), layout parameter extraction (LPE), or layout versus schematic checks (LVS).</p>
<p>
<a id="pgfId-1014279"></a>Dracula checks the devices defined in an ELEMENT command to verify that the devices are formed correctly. For terminals that are missing or not properly formed, Dracula reports the coordinates of the device in the .ERC file. </p>
<p>
<a id="pgfId-1014280"></a>The first three characters you specify in an ELEMENT or PARASITIC command must be unique. You cannot specify the same layer name more than once in the ELEMENT command. The preprocessor checks this syntax.</p>

<h3>
<a id="pgfId-1014281"></a>Electrical Rule Checking</h3>

<p>
<a id="pgfId-1014282"></a>The electrical rule checking commands check for incorrect devices and gross continuity errors. You can apply some of these rules globally and some locally. </p>
<p>
<a id="pgfId-1014283"></a>After completing your ERC checks, Dracula flags electrical nodes and elements as potential violations and generates graphic output. For <a id="marker-1014284"></a>electrical nodes, Dracula traces continuity through the contacts to all areas of layers with the same electrical potential. Dracula uses a definition area to identify elements. For example, the channel area can represent the MOS device to help locate particular violations. </p>

<h3>
<a id="pgfId-1014285"></a>Layout Versus Schematic</h3>

<p>
<a id="pgfId-1014286"></a>The layout versus schematic commands run Layout Versus Schematic (LVS), Layout Versus Layout (LVL), and Schematic Versus Schematic (SVS) comparisons.</p>

<h3>
<a id="pgfId-1014287"></a>Layout Parameter Extraction</h3>

<p>
<a id="pgfId-1014288"></a>The layout parameter extraction commands control parameter extraction and report layout parameters. These commands report layout parameters in SPICE-compatible formats with layout label cross-references. If you provide a schematic, LPE updates the source if it is in SPICE format. LPE reports in SPICE format with I/O and designator cross-references if the schematic netlist is in one of the logic simulation languages that Dracula accepts. </p>

<h3>
<a id="pgfId-1014290"></a><a id="30001"></a>AND </h3>
<a id="pgfId-1014292"></a><a id="marker-1014291"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
AND{[D{n}]} <code><em>layer-a</em></code> <code><em>layer-b trapfile</em></code> {OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}}</pre>
<a id="pgfId-1044106"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
AND[E] layer-a layer-b trapfile</pre>
<h4>
<a id="pgfId-1014294"></a><a id="29709"></a>Description</h4>

<p>
<a id="pgfId-1014297"></a>C<a id="marker-1014295"></a>reates a new layer from two other <a id="marker-1014296"></a>layers. The new layer consists of the region shared by the two layers.</p>
<p>
<a id="pgfId-1043981"></a>Database partition functions were added for the SELECT, SIZE, and LOGICAL commands. These enhancements resolve capacity limitation issues with Dracula. This allows you to partition input layers of these functions into blocks. When you run Distributed Dracula, each block (pair) can be assigned to one processor. Specify a value between 2-10 inclusive following &#8216;D&#8217; to indicate the number of partitions desired. The default value of &#8216;D&#8217; is 4 if the value is omitted.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044006"></a>There is a performance gain in the database partition feature for SELECT in the 4.8 version. The same is not true for SIZE and LOGICAL on account of too much overhead from the pre-process (PRESEL for SIZE) and post-process (LOGMRG for LOGICAL) stages during the operations. Database partition scheme is designed specially for resolving Dracula capacity issues and is applied to flat mode only.</div>

<h4>
<a id="pgfId-1014300"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014301"></a><code>D</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050237"></a>Turns on the database partition feature</p>

<p><strong>
<a id="pgfId-1050242"></a><em>n</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050245"></a> Number of blocks to be partitioned into</p>

<p><strong>
<a id="pgfId-1050250"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050253"></a> Name of the first input layer</p>

<p><strong>
<a id="pgfId-1050258"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050261"></a> Name of the second input layer</p>

<p><strong>
<a id="pgfId-1050266"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050269"></a> The name of the trapezoid file created by the logical operation. Arguments <em>layer-a</em> and <em>layer-b</em> are order dependent and can affect the output trapfile if connectivity has been established. Electrical node information is automatically stamped on this output layer from <em>layer-a</em> after nodal information is set up on layer-a with the CONNECT command. The <em>trapfile</em> name can have up to seven characters and no special characters. A-Z and 0-9 are permitted, but the first character must be a letter.</p>

<p><strong>
<a id="pgfId-1050274"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050277"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1050282"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050285"></a><em>C-name</em> is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. <em>L-num</em> is the cell layer number determined by your CAD system. If your <em>c-name</em> is <em>rule03 </em>and <em>l-num</em> is 5, the output cell name is <em>rule0305</em>. </p>

<p><strong>
<a id="pgfId-1050290"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050293"></a> The datatype number associated with the layer number (<em>l-num</em>) of the output cell. Use <em>d-num</em> for GDSII only. Values can range from 0 to 63.</p>

<p><strong>
<a id="pgfId-1050298"></a><code>E</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050301"></a> Creates an edge information file for each generated layer. This information is used for sidewall capacitance extraction. </p>

<h4>
<a id="pgfId-1044115"></a>Examples:</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044116"></a>AND ndiff poly ngate nsd</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044117"></a>AND[D7] pdiff poly pgate psd</pre>

<h3>
<a id="pgfId-1014311"></a><a id="35055"></a>AND<a id="marker-1014310"></a>NOT</h3>
<a id="pgfId-1044127"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ANDNOT layer-a layer-b ANDtrapfile NOTtrapfile</pre>
<a id="pgfId-1044128"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ANDNOT[E] <em>layer-a</em> <em>layer-b</em> <em>ANDtrapfile NOTtrapfile</em></pre>
<h4>
<a id="pgfId-1044057"></a>Description</h4>

<p>
<a id="pgfId-1014315"></a>Logical command to do AND/NOT at the same time. This operation simplifies the rule file. </p>

<h4>
<a id="pgfId-1014318"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014321"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050308"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Name of the first input layer</p>

<p><strong>
<a id="pgfId-1050313"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050316"></a> Name of the second input layer</p>

<p><strong>
<a id="pgfId-1050328"></a><span class="webflare-courier-new" style="white-space:pre"><em>ANDtrapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050331"></a> The name of the trapezoid file created by the AND logical operation. Arguments <em>layer-a</em> and <em>layer-b</em> are order dependent and can affect the output trapfile if connectivity has been established. Electrical node information is automatically stamped on this output layer from <em>layer-a</em> after nodal information is set up on layer-a with the CONNECT command. The <em>trapfile</em> name can have up to seven characters and no special characters. A-Z and 0-9 are permitted, but the first character must be a letter.</p>

<p><strong>
<a id="pgfId-1050336"></a><span class="webflare-courier-new" style="white-space:pre"><em>NOTtrapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050339"></a> The name of the trapezoid file created by the NOT logical operation. Arguments <em>layer-a</em> and <em>layer-b</em> are order dependent and can affect the output trapfile if connectivity has been established. Electrical node information is automatically stamped on this output layer from <em>layer-a</em> after nodal information is set up on layer-a with the CONNECT command. The <em>trapfile</em> name can have up to seven characters and no special characters. A-Z and 0-9 are permitted, but the first character must be a letter.</p>

<p><strong>
<a id="pgfId-1050344"></a><code>E</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050347"></a> Creates an edge information file for each generated layer. This information is used for sidewall capacitance extraction.</p>

<h4>
<a id="pgfId-1044043"></a>Example</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044044"></a>ANDNOT ndiff poly ngate nsd</pre>

<h3>
<a id="pgfId-1045570"></a><a id="92952"></a>ANGLED-EDGE-TOL</h3>
<a id="pgfId-1045571"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ANGLED-EDGE-TOL [=] {&lt;<code><em>value</em></code>&gt; | YES/ON | NO/OFF}</pre>
<h4>
<a id="pgfId-1045572"></a>Description</h4>

<p>
<a id="pgfId-1045604"></a>This command enables and defines, or disables a tolerance setting for the DRC checking operation on non-manhattan edges.</p>
<p>
<a id="pgfId-1045606"></a>For non-manhattan design, round-off issues are a well-known problem. This leads to a large number of &quot;false&quot; minimum DRC violations due to the snapping of vertices to a grid. For example, the user may start with a rectangle drawn at the minimum width of 1 um. This rectangle is then rotated by 30 or 45 degrees (or any angle that is not multiple of 90<sup>o</sup>). Due to snapping of the vertices to the grid, the resulting shape may have a width that is slightly less than 1um. This can lead to a &quot;false&quot; minimum width violation. <code>ANGLED-EDGE-TOL</code> sets the tolerance for the DRC operation in order to eliminate such false violations. </p>
<p>
<a id="pgfId-1045575"></a><code>ANGLED-EDGE-TOL</code> may be specified multiple times in a ruledeck. Every <code>ANGLED-EDGE-TOL</code> affects all DRC commands (<code>EXT/ENC/INT/WIDTH</code>) until either the end of the ruledeck or another <code>ANGLED-EDGE-TOL</code> command changes the setting. When it is inserted into the <code>DESCRIPTION</code> block it behaves the same as if it were the very first command in the <code>OPERATION</code> block.</p>

<h4>
<a id="pgfId-1045596"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1045624"></a><code>=</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050354"></a> Optional for convenience.</p>

<p><strong>
<a id="pgfId-1050360"></a><code>YES/ON</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050363"></a> Turn tolerance on and set value to default 2 dbu.</p>

<p><strong>
<a id="pgfId-1050368"></a><code>NO/OFF</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050371"></a> Turn tolerance off. This is the default behavior.</p>

<p><strong>
<a id="pgfId-1050376"></a><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050379"></a> Turn tolerance on and set tolerance to the specified <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span>.</p>

<h4>
<a id="pgfId-1045595"></a>Example</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045711"></a>*DESCRIPTION</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045828"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045827"></a>RESOLUTION = 0.001 MIC</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045825"></a>ANGLED-EDGE-TOL ON</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045826"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045824"></a>*END</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045753"></a></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045779"></a>*OPERATION</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045823"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045829"></a>; The following rule checks for metal pieces that are thinner than 0.18 um<br />; but for non-manhattan cases minimal metal width is 0.178 (0.18 - 0.002)<br />; as defined by the default 2 dbu setting of ANGLED-EDGE-TOL</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045790"></a>WIDTH METAL LT 0.18 OUTPUT ERR 1 1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045791"></a>; The following rule changes the &lt;<code><em>value</em></code>&gt; of the ANGLED-EDGE-TOL</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045774"></a>ANGLED-EDGE-TOL 0.001</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045795"></a>; The following rule checks for metal pieces thinner than 0.18 um<br />; but for non-manhattan cases minimal metal width is 0.179 (0.18 -0.001)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045775"></a>WIDTH METAL LT 0.18 OUTPUT ERR 2 1 </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045805"></a>; The following rule disables the ANGLED-EDGE-TOL check</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045766"></a>ANGLED-EDGE-TOL NO</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045767"></a>; The following rule checks for metal pieces thinner than 0.18 um <br />; with no tolerance allowed for non-manhattan shapes. </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045822"></a>WIDTH METAL LT 0.18 OUTPUT ERR 3 1 </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045808"></a>*END</pre>

<h3>
<a id="pgfId-1014327"></a>AREA </h3>
<a id="pgfId-1014329"></a><a id="marker-1014328"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
AREA <code><em>layer-a</em></code> {RANGE/NE/EQ/GE/GT/LE/LT} <code><em>n1 n2</em></code> {<code><em>trapfile</em></code>} [OUTPUT <code><em>c-name</em></code> 
<code><em>l-num</em></code> {<code><em>d-num</em></code>}]</pre>
<h4>
<a id="pgfId-1014330"></a>Description</h4>

<p>
<a id="pgfId-1014332"></a>P<a id="marker-1014331"></a>erforms a minimum area check. This operation checks polygons to determine if their areas are within an area range. It also creates <a id="marker-1014333"></a>layers that are within specified area boundaries.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1042901"></a>
The AREA command is intended for flattened layers only and might produce incorrect results if used on hierarchical layers. If using the AREA command on hierarchical layers, results should be verified in FLATTENED mode.</div>
<h4>
<a id="pgfId-1014334"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014335"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050403"></a> Name of the input layer.</p>

<p><strong>
<a id="pgfId-1050408"></a><code>RANGE </code><a id="marker-1014336"></a><span class="webflare-courier-new" style="white-space:pre"><em>n1 n2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050411"></a> Flags polygons with areas such that n1 &lt; AREA &lt; n2. (Exclusive).</p>

<p><strong>
<a id="pgfId-1050416"></a><code>NE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050419"></a> Reports an error if any value of the layer specified is not equal to the value you specify.</p>

<p><strong>
<a id="pgfId-1050424"></a><code>EQ</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050427"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Reports an error if any value of the layer specified is equal to the value you specify.</p>

<p><strong>
<a id="pgfId-1050432"></a><code>GE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050435"></a> Reports an error if any value of the layer specified is greater than or equal to the value you specify.</p>

<p><strong>
<a id="pgfId-1050440"></a><code>GT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050443"></a> Reports an error if any value of the layer specified is greater than the value you specify.</p>

<p><strong>
<a id="pgfId-1050448"></a><code>LE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050451"></a> Reports an error if any value of the layer specified is lesser than or equal to the value you specify.</p>

<p><strong>
<a id="pgfId-1050456"></a><code>LT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050459"></a> Reports an error if any value of the layer specified is lesser than the value you specify.</p>

<p><strong>
<a id="pgfId-1050464"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050467"></a> Name of the trapezoid file. </p>

<p><strong>
<a id="pgfId-1050472"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050475"></a> Sends the results of the operation to an output cell. </p>

<p><strong>
<a id="pgfId-1050480"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050483"></a>C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1050488"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050491"></a> Specifies the datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only; values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1014344"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014345"></a>AND poly diff gate<br />AREA gate RANGE 0 7 OUTPUT drc03 54 </pre>
<p>
<a id="pgfId-1030203"></a></p>
<div class="webflare-div-image">
<img width="676" height="363" src="images/chap13-3.gif" /></div>
<h4>
<a id="pgfId-1014395"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014396"></a>AREA nplus RANGE 7.04 7.08 emit </pre>

<p>
<a id="pgfId-1014397"></a>Finds the 3-micron diameter circle emitters in the nplus layer. You can use the emit layer for further operations. </p>

<p>
<a id="pgfId-1030263"></a></p>
<div class="webflare-div-image">
<img width="663" height="215" src="images/chap13-4.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014430"></a>The area of a circle with a diameter of 3 microns is πr<sup>2</sup> or 3.14159*1.5*1.5, which equals 7.257. This value is greater than the maximum area specified in the AREA command. This apparent discrepancy occurs because the circle was digitized as straight segments that approximate a circle; therefore, the actual area calculated by Dracula falls within the range of 7.04 to 7.08.</div>

<h3>
<a id="pgfId-1014432"></a>ATTACH </h3>
<a id="pgfId-1041033"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ATTACH <code><em>device-subtype</em></code> <code><em>parameter-file</em></code> {<code><em>parset-name</em></code>} {&amp;}  </pre>
<h4>
<a id="pgfId-1014444"></a>Description</h4>

<p>
<a id="pgfId-1041043"></a>J<a id="marker-1041042"></a>oins source and drain parameters to the MOS or LDD devices. When you use this command with the NODE option of the LEXTRACT command, you can extract the <a id="marker-1041044"></a>source/drain parameters. Dracula reports the source/drain area in the SPICE output file as having a certain value. </p>
<p>
<a id="pgfId-1041045"></a>In Dracula 4.81 and previous versions, using the ampersand (&amp;) sign you could group ATTACH commands if the commands worked on the <em>same</em> device type. In those versions, the ATTACH command handled the extraction of common source or drain parameters of different subtype of devices belonging to the same device type using a syntax for example, as given below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041046"></a>ATTACH MOS[A,B]</pre>

<p>
<a id="pgfId-1041047"></a>In this current Dracula (version 4.9), using the ampersand (&amp;) sign, you can group ATTACH commands if the commands work on either the <em>same </em>device type, or <em>shared</em> common source or drain. So in this Dracula 4.9 version, along with the previous syntax for the same device type, the ATTACH command handles the extraction of common source or drain parameters of different device types grouped, using a syntax for example, as given below</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041048"></a>ATTACH MOS[A] PDIFFN &amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041049"></a>ATTACH MOS[B] PDIFFN &amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041050"></a>ATTACH LDD[C] PDIFFN</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041051"></a>Specify an ATTACH command after the device definition and LEXTRACT commands in your rules file. The ATTACH command works only for MOS devices. </div>

<h4>
<a id="pgfId-1041055"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1041056"></a><span class="webflare-courier-new" style="white-space:pre"><em>device-subtype</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050505"></a> The device with subtype specified in the rules file. You can use a MOS or LDD device type. Multiple subtypes seperated by comma are also allowed in the same ATTACH command for source/drain parameters extraction of different subtype of devices which share common source/drain.</p>

<p><strong>
<a id="pgfId-1050510"></a><span class="webflare-courier-new" style="white-space:pre"><em>parameter-file</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050520"></a> The file containing the source/drain parameters. You extract the source/drain parameters by using the LEXTRACT command with the NODE option.</p>

<p><strong>
<a id="pgfId-1050525"></a><span class="webflare-courier-new" style="white-space:pre"><em>parset-name</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050528"></a> The name of a parset (refer to the PARSET command) that specifies how the source and drain results are stored in the parameter file. The default is MOS. </p>

<p><strong>
<a id="pgfId-1050533"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050536"></a> Using the ampersand (<code>&amp;</code>), you can group ATTACH commands if the commands work on the same device type.</p>

<h4>
<a id="pgfId-1041063"></a>Example 1</h4>

<p>
<a id="pgfId-1041064"></a>The following shows how you might use the ATTACH command in your run file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041065"></a>*DESCRIPTION<br />...<br />PARSET TEST AREA PERI            ; PARSET FOR S/D<br />UNIT AREA,P PERIMETER,U<br /> ...<br />*END<br />... <br />*OPERATION<br />...<br />ELEMENT     MOS[N] NCHNL   METAL   DIFFN   OVPWELL ;N-CHANNEL<br />ELEMENT     MOS[P] PCHNL   METAL   DIFFP   NSUB    ;P-CHANNEL<br />...<br />LEXTRACT TEST DIFFN BY NODE PDIFFN<br />LEXTRACT TEST DIFFP BY NODE PDIFFP<br />ATTACH MOS[N] PDIFFN &amp;<br />ATTACH MOS[P] PDIFFP<br />...<br />LPECHK<br />LPESELECT[S] MOS &amp;<br />...</pre>
<h4>
<a id="pgfId-1041066"></a>Example 2</h4>

<p>
<a id="pgfId-1041067"></a>The following shows a SPICE file with ATTACH command results: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041068"></a>Mxxx Nd Ng Ns Ns modelName L=4.5 μ W=20.0 μ AD=149.5P PD=59.0u<br />+ AS=139.9P PS=59.0u</pre>

<p>
<a id="pgfId-1041069"></a>Where AD, PD, AS, and PS are new keywords representing the areas and perimeters of the drain/source of the MOS transistors. Note that AS and PS are listed on a second line following the SPICE continuation sign (+) and that their values include units because the UNIT command was specified in the Description block.</p>

<h4>
<a id="pgfId-1041073"></a>Example 3</h4>

<p>
<a id="pgfId-1041074"></a>An example of using the ATTACH command to attach the AS/AD/PS/PD parameters to LDD devices:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041075"></a>*description block </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041076"></a>; ... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041077"></a>PARSET   LDDS   AREA OVPR W L AS PS AD PD <br />PARSET&#160;&#160; TEST&#160;&#160; AREA PERI </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041078"></a>*end </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041079"></a>... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041080"></a>*operation block </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041081"></a>... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041082"></a>;&#160;&#160;                   device gate drain  source sub </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041083"></a>;&#160;&#160;                   ------ ---- ------ ------ ---- </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041084"></a>  ELEMENT    LDD[XV]  xvgate poly hvdiff stdiff psub </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041085"></a>... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041089"></a>LEXTRACT TEST&#160;&#160;hvdiff BY NODE DRAIN </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041090"></a>  LEXTRACT TEST  stdiff BY NODE SOURC </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041091"></a>  ATTACH LDD[XV] DRAIN &amp; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041092"></a>  ATTACH LDD[XV] SOURC </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041093"></a>... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041094"></a>*end</pre>
<h4>
<a id="pgfId-1041095"></a>Example 4</h4>

<p>
<a id="pgfId-1041096"></a>The following example shows devices of MOS type N and NH share common diffusion:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041097"></a>PARSET SD AREA PERI</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041098"></a>......</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041099"></a>ELEMENT MOS[N]&#160;&#160;NGATE&#160;&#160;POLY NSD PWELL</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041100"></a>ELEMENT MOS[NH] NHGATE POLY NSD PWELL</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041101"></a>........</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041102"></a>LEXTRACT&#160;&#160; TEST&#160;&#160; NSD&#160;&#160; BY&#160;&#160; NODE&#160;&#160; PDIFFN</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041103"></a>ATTACH&#160;&#160; MOS[N,NH] DIFFN</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041104"></a>.....</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041110"></a>In the above example, the ATTACH command is the same as the following two commands in Dracula 4.9 and Dracula 4.81:</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041111"></a>ATTACH MOS[N] DIFFN &amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041112"></a>ATTACH MOS[NH] DIFFN</pre>
<h3>
<a id="pgfId-1014474"></a><a id="22844"></a>AT<a id="attribute_cap"></a>TRIBUTE CAP </h3>

<p>
<a id="pgfId-1014475"></a>Case 1:</p>

<a id="pgfId-1014476"></a><a id="marker-1014477"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PARASITIC CAP {<code><em>type</em></code>}  <code><em>layer-a  layer-b  layer-c</em></code> 
ATTRIBUTE CAP {<code><em>type</em></code>}  <code><em>value-a  value-b</em></code> </pre>

<p>
<a id="pgfId-1014478"></a>Case 2:</p>

<a id="pgfId-1014479"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PARASITIC CAP {<code><em>type</em></code>}  <code><em>layer-a  layer-a  layer-a</em></code> 
ATTRIBUTE CAP {<code><em>type</em></code>}  <code><em>value-a1 value-b1
</em></code>ATTRIBUTE CAP {type}  value-a2 value-b2</pre>

<p>
<a id="pgfId-1014480"></a>Case 3:</p>

<a id="pgfId-1014481"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
FRINGE CAP    {<code><em>type</em></code>} <code><em>layer-a  layer-b  
</em></code>ATTRIBUTE CAP {<code><em>type</em></code>} <code><em>value-a1 value-b</em></code>1  
ATTRIBUTE CAP {type} value-a2 value-b2</pre>

<p>
<a id="pgfId-1014482"></a>Case 4:</p>

<a id="pgfId-1014483"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PARASITIC CAP {subType} device_layer terminal_layer1 terminal_layer2</pre>
<a id="pgfId-1014484"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ATTRIBUTE CAP {subType} areaCoeff perimCoeff depthRange
 sidewallCoeff</pre>
<h4>
<a id="pgfId-1014485"></a>Description</h4>

<p>
<a id="pgfId-1014487"></a>A<a id="marker-1014486"></a>ssociates the geometry data of the PARASITIC CAP or FRINGE CAP functions with the corresponding process-dependent <a id="marker-1014488"></a>electrical properties. The ATTRIBUTE function does not accept units. The scale of the parasitic attribute must match the scale of the layout database. This function specifies four forms of <a id="marker-1014489"></a>parasitic capacitance. </p>
<ul><li>
<a id="pgfId-1014490"></a>Case 1 is for area and perimeter capacitance. </li><li>
<a id="pgfId-1014491"></a>Case 2 is for same-layer fringe-field capacitance. </li><li>
<a id="pgfId-1014492"></a>Case 3 is for same-layer or different-layer fringe-field capacitance. </li><li>
<a id="pgfId-1014493"></a>Case 4 is for overlap capacitance with consideration of the fringe effect of the first terminal layer on the overlap capacitance.</li></ul>



<p>
<a id="pgfId-1014494"></a>Dracula supports piece-wise coefficients for fringe capacitors.</p>

<h4>
<a id="pgfId-1014495"></a>Arguments</h4>

<p>
<a id="pgfId-1014496"></a>Case 1:</p>

<p><strong>
<a id="pgfId-1014498"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050543"></a> The type code specified in the FRINGE <a id="marker-1014497"></a>CAP [type] device.</p>

<p><strong>
<a id="pgfId-1050548"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-a</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050551"></a><a id="marker-1014499"></a>The capacitance per unit area between layer-a and layer-b. The value specified for value-a can be floating point (maximum of 7 digits) or a floating-point number followed by an integer exponent (maximum of 2 digits). When floating-point numbers are specified, the leading zeros are not counted in the 7-digit restriction. If the significant digits exceed the 7-digit limitation, the preprocessor rounds the value at the 7th digit. In scientific notation, the limit is 16 characters.</p>

<p><strong>
<a id="pgfId-1050556"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050559"></a> The capacitance per unit perimeter between layer-a and layer-b. The value can be a floating point number (maximum of 7 digits) or a floating-point number followed by an integer exponent (maximum of 2 digits). When floating-point numbers are specified, the leading zeros are not counted in the 7-digit restriction. If the significant digits exceed the 7-digit limitation, the preprocessor rounds the value at the 7th digit. In scientific notation, the limit is 16 characters.</p>
<p>
<a id="pgfId-1014502"></a>Case 2:</p>

<p><strong>
<a id="pgfId-1014503"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050565"></a> The type code specified in the FRINGE CAP[type] device. </p>

<p><strong>
<a id="pgfId-1050570"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-a1, value-a2</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050573"></a>The maximum <a id="marker-1014504"></a>distance between two geometries of the same layer opposing each other where the fringe capacitance is analyzed.</p>

<p><strong>
<a id="pgfId-1050578"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-b1, value-b2</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050581"></a>The multiplier of the length of the edges under the maximum value a2.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014507"></a>The conductor layers you specify in all three fields must be the same layer. </div>
<p>
<a id="pgfId-1014508"></a>Case 3:</p>

<p><strong>
<a id="pgfId-1014509"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050587"></a> The type code specified in the FRINGE CAP[type] device. </p>

<p><strong>
<a id="pgfId-1050592"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-a1, value-a2</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050595"></a>The maximum distance between two geometries of different layers opposing each other where the fringe capacitance is analyzed.</p>

<p><strong>
<a id="pgfId-1050600"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-b1, value-b2</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050603"></a>The multipliers of the length of the fringe edges under the value a1, a2 respectively.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014513"></a>When dealing with fringe capacitance extraction the maximum distance has to be practical. A large value will result in poor performance.</div>
<p>
<a id="pgfId-1014514"></a>Case 4: </p>
<p>
<a id="pgfId-1014515"></a>Use this case to extract the primitive parameters TPR and CLL. You must specify depthRange and sidewallCoeff at the same time. Dracula evaluates the first terminal layer to calculate the possible fringe effect on the overlap capacitance. Therefore, the sequence of terminal layers is important.</p>

<h4>
<a id="pgfId-1014516"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014517"></a>STAMP metpoly BY metal <br />PARASITIC CAP[X] metpoly metal poly <br />ATTRIBUTE CAP[X] 0.0005 </pre>

<p>
<a id="pgfId-1014518"></a>The PARASITIC capacitor of type X forms between metal and poly conductor layers. The device layer is metpoly (metpoly = metal and poly).</p>
<p>
<a id="pgfId-1014519"></a>The two connecting layers of capacitor terminals are metal and poly. Capacitance of type X is calculated using the following formula:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014520"></a>(area) × (0.0005)</pre>
<h4>
<a id="pgfId-1014521"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014522"></a>PARASITIC CAP[F] metal metal metal <br />ATTRIBUTE CAP[F] 6.0 0.0005 </pre>

<p>
<a id="pgfId-1014523"></a>The PARASITIC capacitor of type F is for the fringe capacitance between metal lines. The device layer is metal, and both conductor layers are metal. The parasitic capacitance between metal lines is calculated for spacing distances up to 6 units, and the capacitance calculation is calculated by the following formula: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014524"></a>(projected metal length) x (0.0005) x (1/distance between metal) </pre>

<h4>
<a id="pgfId-1014525"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014526"></a>PARASITIC CAP[mp] metpol metal poly <br />ATTRIBUTE CAP[mp] 1E-18 1E-12 </pre>

<p>
<a id="pgfId-1014527"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014528"></a>PARASITIC CAP[mp] metpol metal poly <br />ATTRIBUTE CAP[mp] .0005 .00012 </pre>

<p>
<a id="pgfId-1014529"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014530"></a>PARASITIC CAP[mp] metpol metal poly <br />ATTRIBUTE CAP[mp] .0001234567E-9 .00007654321E-10 </pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014531"></a>The leading zeros do not count in the seven significant digit restriction. </div>
<p>
<a id="pgfId-1014532"></a>You can use two or more ATTRIBUTE functions to specify the piece-wise coefficients when handling the fringe capacitance. For example</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014533"></a>PARASITIC CAP[EX] MET12 MET1 MET2<br />ATTRIBUTE CAP[EX] 0.5&#160;&#160;1.2&#160;&#160;0.2 0.032 ; PIECE-WISE COEFFICIENT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014534"></a>ATTRIBUTE CAP[EX] 0.5&#160;&#160;1.2&#160;&#160;0.6 0.019 ; PIECE-WISE COEFFICIENT</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014535"></a>The first two coefficients remain the same. The two added coefficients identify the capacitance for PDRACULA and specify the piece-wise coefficients for fringe capacitance. </div>

<h4>
<a id="pgfId-1014536"></a>Example 4</h4>

<p>
<a id="pgfId-1014537"></a>In this case, two new reserved parameters, TPR and CLL, are added to the parameter set:</p>
<ul><li>
<a id="pgfId-1014538"></a>TPR represents the perimeter where the device layer touches the projected edge of another geometry on the first terminal layer and has fringe effect with the first terminal layer. </li><li>
<a id="pgfId-1014539"></a>CLL is the sum of the fringe effect related to TPR. CLL is calculated as the current summation of all sidewallCoeff*TPR. </li></ul>

<p>
<a id="pgfId-1014540"></a>The default parameter set is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014541"></a>CAPO TPR CLL AREA PERI C</pre>

<p>
<a id="pgfId-1014542"></a>CAPO is the default name of the parameter set.</p>
<p>
<a id="pgfId-1014543"></a>A different fringe coefficient is assigned to the parameter according to the depth between two geometries of the device layer and the first terminal layer, respectively.</p>
<p>
<a id="pgfId-1014544"></a>The default equation for the capacitance calculation is</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014545"></a>C = (areaCoeff* AREA)+ (perimCoeff*(PERI-TPR))+ CLL</pre>

<p>
<a id="pgfId-1014546"></a>You can also use the flexible LPE feature to define your own parameter set and equations for the parameter extraction. Your parameter set must include the TPR and CLL parameters. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014547"></a>*DESCRIPTION<br />...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014548"></a>PARSET NEWE TPR CLL AREA PERI C ; parameter set for overlap<br />                                ; cap with fringe<br />*END</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014549"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014550"></a>*OPERATION<br />PARASITIC   CAP[F]      M12 MET1 MET2<br />ATTRIBUTE&#160;&#160; CAP[F]&#160;&#160;    0.5  1.2  0.2 0.019 ; PIECE-WISE COEFFICIENT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036745"></a>ATTRIBUTE&#160;&#160; CAP[F]&#160;&#160;    0.5  1.2  0.6 0.032 ; PIECE-WISE COEFFICIENT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036746"></a>LEXTRACT NEWE M12 BY CAP[F] PFILE &amp;&#160;&#160;      ; FLEXIBLE EQUATION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036747"></a>EQUATION C= 0.5*AREA +1.2*(PERI-TPR) + CLL<br />...<br />*END</pre>

<p>
<a id="pgfId-1014554"></a>For the following data, the value of TPR is TPR&#39;+TPR&#39;&#39;, but it is divided into sections when piece-wise fringe capacitance is considered. The value of the sidewallCoeff parameter depends on the separation between MET1 and M12.</p>

<p>
<a id="pgfId-1026190"></a></p>
<div class="webflare-div-image">
<img width="663" height="420" src="images/chap13-5.gif" /></div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014601"></a>x1, x2, x3 = sep. betn MET1 and M12</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014603"></a>If 0&lt;x1&lt;=.2, and .2&lt;x2&lt;=.6 and .6&lt;<br />TPR = (TPR&#39;+TPR&#39;&#39;)<br />CLL = (0.032*TPR&#39; + 0.019*TPR&#39;&#39;)<br />C = 0.5*AREA +1.2*(PERI-TPR) + CLL</pre>
<h4>
<a id="pgfId-1014604"></a>Example 5 </h4>

<p>
<a id="pgfId-1014605"></a>In Example 4, when MET1 is cut-termed to extract parasitic resistance, you must specify the R option in the PARASITIC CAP command to ensure the correct extraction of TPR and CLL as shown in the following example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014606"></a>CUT-TERM MET1 CONT M1RES M1TRM<br />STAMP M1TRM BY MET1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014607"></a>AND M1TRM MET2 M12T<br />AND M1RES MET2 M12R</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014608"></a>PARASITIC[R] CAP[F1] M12T M1TRM MET2<br />ATTRIBUTE CAP[F1] 0.5 1.2 0.2 0.032<br />ATTRIBUTE CAP[F1] 0.5 1.2 0.6 0.019</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014609"></a>PARASITIC[R] CAP[F2] M12R M1RES MET2<br />ATTRIBUTE CAP[F2] 0.5 1.2 0.2 0.032<br />ATTRIBUTE CAP[F2] 0.5 1.2 0.6 0.019</pre>
<h4>
<a id="pgfId-1014610"></a>Example 6</h4>

<p>
<a id="pgfId-1014611"></a>You can specify 0 depth to the give a special coefficient for the co-linear fringe extraction. Currently the equation for the co-linear fringe is hard coded as C = K * WIDT.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014612"></a>FRINGE CAP[F]         M1  M2<br />ATTRIBUTE CAP[F]       0  2.5<br />ATTRIBUTE CAP[F]       1  4.5<br />ATTRIBUTE CAP[F]       2  1.5<br />ATTRIBUTE CAP[F]&#160;&#160;     3  0.5</pre>

<p>
<a id="pgfId-1014613"></a>The co-linear fringe will be calculated as C = 2.5 * WIDT.</p>

<h4>
<a id="pgfId-1014614"></a>Example 7</h4>

<p>
<a id="pgfId-1014615"></a>Both the zero and nonzero spacing fringe capacitance are calculated with the following equation.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014616"></a>*DESCRIPTION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014617"></a>...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014618"></a>ZERO-SPAC-F-EQU =YES</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014619"></a>   </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014620"></a>*END</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014621"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014622"></a>*OPERATION </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014623"></a>FRINGE CAP[A] ME1 ME2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014624"></a>ATTRIBUTE CAP[A] 0 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014625"></a>ATTRIBUTE CAP[A] .5 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014626"></a> </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014627"></a>LEXTRACT CAPF ME1 ME2 BY CAP[A] LCAPA &amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014628"></a>EQUATION C = WIDT / SQRT((((3.205 + DEPT)**2.861/6.259)**2) + 57.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014629"></a>*END</pre>
<h4>
<a id="pgfId-1014630"></a>Example 8</h4>

<p>
<a id="pgfId-1014631"></a>Without this command, Dracula uses C=K*WIDT as the equation for zero spacing fringe capacitance and the following equation </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014632"></a>C = WIDT / SQRT((((3.205 + DEPT)**2.861/6.259)**2) + 57.5)</pre>
<p>
<a id="pgfId-1014633"></a>for nonzero spacing fringe capacitance.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014634"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014635"></a>*OPERATION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014636"></a>FRINGE CAP[A] ME1 ME2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014637"></a>ATTRIBUTE CAP[A] 0 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014638"></a>ATTRIBUTE CAP[A] .5 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014639"></a> </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014640"></a>LEXTRACT CAPF ME1 ME2 BY CAP[A] LCAPA &amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014641"></a>EQUATION C = WIDT / SQRT((((3.205 + DEPT)**2.861/6.259)**2) + 57.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014642"></a>*END</pre>

<p>
<a id="pgfId-1014643"></a></p>

<h3>
<a id="pgfId-1014646"></a><a id="attribute_res"></a>ATTRIBUTE RES</h3>
<a id="pgfId-1014647"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ATTRIBUTE RES<code><em>[type</em></code>] sheet_res_<code><em>value 
{smashResValue maxResValue}</em></code></pre>
<h4>
<a id="pgfId-1014648"></a>Description</h4>

<p>
<a id="pgfId-1014652"></a>P<a id="marker-1014649"></a><a id="marker-1014650"></a>rovides the process-dependent <a id="marker-1014651"></a>sheet resistance used to compute the resistance of the parasitic resistor devices defined by the associated PARASITIC RES command. The ATTRIBUTE RES command must follow a PARASITIC RES command having the same type parameter.</p>

<h4>
<a id="pgfId-1014653"></a>Checking Methods</h4>
<p><strong>
<a id="pgfId-1014654"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050613"></a> Flat and composite.</p>

<p><strong>
<a id="pgfId-1050618"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050621"></a> PRE and HPRE.</p>

<h4>
<a id="pgfId-1014656"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014657"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050640"></a> A two-character code that denotes the type of parasitic resistor device. The first character must be A-Z. The second character can be A-Z or 0-9, excluding 8. The second character is optional. Dracula uses this code to match this command with the associated PARASITIC RES command.</p>

<p><strong>
<a id="pgfId-1050647"></a><span class="webflare-courier-new" style="white-space:pre"><em>sheet_res_value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050650"></a> The sheet resistance value in units per square, where the units correspond to the resistance units specified in the UNIT command.</p>

<p><strong>
<a id="pgfId-1050655"></a><span class="webflare-courier-new" style="white-space:pre"><em>smashResValue</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050658"></a> The resistance value used as a threshold. Series resistors with values below smashResValue are smashed.</p>

<p><strong>
<a id="pgfId-1050663"></a><span class="webflare-courier-new" style="white-space:pre"><em>maxResValue</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050666"></a> The maximum value of a resistor that results from smashing serial parasitic resistors. This prevents creating a big resistor from subsequent smashing.</p>

<h4>
<a id="pgfId-1014661"></a>Example</h4>

<p>
<a id="pgfId-1014662"></a>In this example, LPE extractions of parasitic resistance values made from PRES are computed using the sheet resistance value .01 Kohms/square. Dracula smashes resistors with values below 10 and does not create any resistor with a value greater than 200.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014663"></a>*DESCRIPTION<br />UNIT = CAPACITANCE,PF AREA,U PERIMETER,M RESISTANCE,K<br />*OPERATION<br />PARASITIC RES[P] PRES PTRM<br />ATTRIBUTE RES[P] .01 10 200</pre>
<h3>
<a id="pgfId-1047476"></a><a id="marker-1048510"></a>BBOX</h3>
<a id="pgfId-1047477"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
BBOX inLayer {CENTER {<code><em>size</em></code>}/SELSHAPE/CORNER {<code><em>size</em></code>}/RELATIVE <code><em>ratio</em></code>/WHOLELAY} {PRESERVE} {WARN} {NOT} {WIDTH <code><em>relation</em></code> <code><em>wid1</em></code> {<code><em>wid2</em></code>}} {LENGTH <code><em>relation</em></code> <code><em>len1</em></code> {<code><em>len2</em></code>}} {RATIO <code><em>relation rat1</em></code> {<code><em>rat2</em></code>}} <code><em>trapfile</em></code> {OUTPUT <code><em>c-name</em></code> <code><em>l-num</em></code> {<code><em>d-num</em></code>}}</pre>
<h4>
<a id="pgfId-1047480"></a>Description</h4>

<p>
<a id="pgfId-1047481"></a>Creates enclosing bounding boxes for shapes on the specified input layer, and outputs one of the following five possible outputs for shapes whose bounding box dimensions fall within the specified length and width ranges:</p>
<ul><li>
<a id="pgfId-1047482"></a>Bounding boxes of the original shapes (the default output)</li><li>
<a id="pgfId-1047483"></a>The input shapes</li><li>
<a id="pgfId-1047484"></a>Center marker of the bounding box</li><li>
<a id="pgfId-1047485"></a>Corner markers of the bounding box</li><li>
<a id="pgfId-1048511"></a>One rectangle which represents the whole layer BBOX</li></ul>




<p>
<a id="pgfId-1047511"></a>The following figure shows the four possible outputs of the <code>BBOX</code> command:</p>

<p><strong>Figure 13-1
<a id="pgfId-1047486"></a>The four possible outputs from the BBOX command</strong></p>
<p>
<a id="pgfId-1047507"></a></p>
<div class="webflare-div-image">
<img width="668" height="235" src="images/chap13-6.gif" /></div>
<h4>
<a id="pgfId-1047513"></a>Arguments</h4>

<p>
<a id="pgfId-1047577"></a></p>
<table class="webflareTable" id="#id1047514">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047516"></a>inLayer</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047518"></a>Input layer name.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047520"></a><span class="webflare-courier-new" style="white-space:pre"><em>CENTER</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047659"></a>Optional argument that outputs a marker at the center of the shape&#8217;s bounding box instead of a bounding box. <a href="chap13.html#13367">Figure&#160;13-2</a> illustrates the exact location of the center marker.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047524"></a><span class="webflare-courier-new" style="white-space:pre"><em>SELSHAPE</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047530"></a>Optional argument that outputs the original input layer shape to the specified trapezoid file instead of bounding boxes. This is useful to perform the shape filtering based on bounding box size.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047532"></a>CORNER</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047539"></a>Optional argument that outputs markers at the corners of the shape&#8217;s bounding box instead of a bounding box.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047674"></a>The <code>CENTER</code>, <code>SELSHAPE</code>, and <code>CORNER</code> arguments can not be specified together in a <code>BBOX</code> command.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047541"></a><span class="webflare-courier-new" style="white-space:pre"><em>size</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047543"></a>Optional marker size value that applies to the <code>CENTER</code> and <code>CORNER</code> arguments.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047678"></a>If you do not specify a marker size value for the <code>CENTER</code> argument, the default value of 6 DBU (i.e., 6*RESOLUTION) is used. A marker size value of 5 DBU is used if there is a 0.5 DBU difference between the center marker and the center of the bounding box. If you do not specify a marker size value for the <code>CORNER</code> argument, the default value of 5 DBU (i.e., 5*RESOLUTION) is used.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048513"></a><code>RELATIVE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048515"></a>Optional argument which works similar to <code>CENTER</code>, but output marker will have size relative to bounding box size.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048517"></a><span class="webflare-courier-new" style="white-space:pre"><em>ratio</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048519"></a>Shows the relative size of markers in comparison to bounding box size.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048521"></a><code>WHOLELAY</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048523"></a>Optional argument that allows to generate one rectangle per layer which represents the whole layer bounding box.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047608"></a><span class="webflare-courier-new" style="white-space:pre"><em>PRESERVE</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047548"></a>Optional argument that allows you to preserve the size of center markers regardless of whether the center of a shape is on-grid or not. In the case where the center point is off-grid, the center of the marker will be shifted to the nearest on-grid point. <a href="chap13.html#13969">Figure&#160;13-3</a> illustrates how this option works.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047550"></a><span class="webflare-courier-new" style="white-space:pre"><em>WARN</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047553"></a>Optional argument to output warning messages in case of the marker size value was modified because the shape&#8217;s center marker is off-grid. If the <code>PRESERVE</code> argument is also specified, a warning is issued if the bounding box&#8217;s center was shifted.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047679"></a>The maximum number of warning messages is ten per <code>BBOX</code> command.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047555"></a>NOT</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047559"></a>Optional argument that outputs only bounding boxes that do not satisfy the specified <code>WIDTH,LENGTH,and RATIO </code>constraints.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047561"></a>WIDTH/LENGTH</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047567"></a>Optional arguments to specify the width and length constraints to the <code>BBOX</code> command. Selects shapes whose bounding boxes are within specified width and length values. <code>LENGTH</code> value(s) and <code>WIDTH</code> value(s) are compared to the length (major axis) and width (minor axis) of the bounding box.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048868"></a>RATIO</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048870"></a>Optional argument to specify BBoxes selection by their <code>L/W</code> ratio. Selects shapes whose <code>L/W</code> ratio is within specified condition. It can be used together with <code>WIDTH/LENGTH </code>keywords.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047569"></a><span class="webflare-courier-new" style="white-space:pre"><em>relation</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047572"></a>Relation operators for applying the <code>WIDTH</code> and the <code>LENGTH</code> constraints. The <code>LT</code> (less than), <code>LE</code> (less than or equal), <code>GT</code> (greater than), <code>GE</code> (greater than or equal), and <code>RA</code> (in given range) operators are supported.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047639"></a><span class="webflare-courier-new" style="white-space:pre"><em>wid1, wid2, len1, len2, rat1, rat2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047630"></a>Specifies the <code>WIDTH,LENGTH,and RATIO </code>constraint values. <code>LT, LE,</code> <code>GT</code>, and <code>GE </code>relation operators require one value each. <code>RA </code>relation operator requires two values.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047632"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047634"></a>Trapezoid file that contains the output of <code>BBOX</code> command.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047574"></a>OUTPUT</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047576"></a>Sends the results of the command to the output cell. <code>c-name</code>, <code>l-num</code>, and <code>d-num</code> are standard DRACULA cell name, layer number and optional datatype number.</p>
</td>
</tr>
</tbody></table>

<p><strong>Figure 13-2
<a id="pgfId-1047684"></a><a id="13367"></a>Location of Center Markers</strong></p>
<p>
<a id="pgfId-1048134"></a></p>
<div class="webflare-div-image">
<img width="671" height="335" src="images/chap13-7.gif" /></div>
<p><strong>Figure 13-3
<a id="pgfId-1048258"></a><a id="13969"></a>How PRESERVE keyword works</strong></p>
<div class="webflare-div-image">
<img width="668" height="788" src="images/chap13-8.gif" /></div>
<h4>
<a id="pgfId-1048402"></a>Example 1</h4>

<p>
<a id="pgfId-1048407"></a>The following example checks that the contact center should be a maximum distance of 0.15um to the metal edges.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048408"></a>BBOX CONT CENTER 0.3 CCONT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048409"></a>NOT CCONT METALL BADCONT OUT ERR 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048410"></a></pre>
<div class="webflare-div-image">
<img width="668" height="247" src="images/chap13-9.gif" /></div>
<h4>
<a id="pgfId-1048416"></a>Example 2</h4>

<p>
<a id="pgfId-1048417"></a>The following example checks that the contact must lie in the center of the emitter.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048463"></a>BBOX CONT CENTER CCONT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048464"></a>BBOX EMI CENTER CEMI</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048465"></a>XOR CCONT CEMI NOALIGN OUT ERR 2</pre>

<p>
<a id="pgfId-1048418"></a></p>

<div class="webflare-div-image">
<img width="656" height="212" src="images/chap13-10.gif" /></div>
<h4>
<a id="pgfId-1048532"></a>Example 3</h4>

<p>
<a id="pgfId-1048533"></a>The following examples uses <code>METALL1</code> bounding box to define chip working area and defines all the rest area of chip as test area.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048534"></a>BBOX METALL1 WHOLELAY METBBOX</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048535"></a>SIZE METBBOX by 1 CHIPBBOX</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048536"></a>NOT BULK CHIPPBOX TESTAREA </pre>
<h4>
<a id="pgfId-1048538"></a>Example 4</h4>

<p>
<a id="pgfId-1048539"></a>The following example checks that via layer of <code>M1</code> to <code>M2</code> connection covers at least most internal 50% of area <code>M1</code> and <code>M2</code> overlaps.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048540"></a>AND M1 M2 M1M2OVR</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048541"></a>BBOX M1M2OVR RELATIVE 0.5 TMP</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048529"></a>NOT VIA1_2 TMP BADVIA</pre>
<h4>
<a id="pgfId-1048876"></a>Example 5</h4>

<p>
<a id="pgfId-1048877"></a>The following example selects all contacts with their length more than width*3.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048878"></a>BBOX CONT RATIO GT 3 LONGCNT</pre>
<h3>
<a id="pgfId-1048255"></a><a id="94581"></a>*BREAK</h3>
<a id="pgfId-1014668"></a><a id="marker-1014667"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
*BREAK <code><em>name</em></code></pre>
<a id="pgfId-1014669"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
*BREAK label shell_command {\|&amp;}</pre>
<h4>
<a id="pgfId-1014670"></a>Description</h4>

<p>
<a id="pgfId-1014672"></a>S<a id="marker-1014671"></a>pecifies the break points for a RESTART operation, or executes a portion of a job. Use this command in the Operation block only. This command is preceded by an asterisk (*). </p>
<p>
<a id="pgfId-1014673"></a>You cannot insert a *BREAK command between any of the following command groups: DEVTAG, EQUATION, LPECHK, LPESELECT, or LVSCHK. For example, you cannot insert a *BREAK command between two or more EQUATION commands. PDRACULA issues a warning message if you insert a *BREAK command between any of these commands.</p>

<h4>
<a id="pgfId-1014674"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014675"></a><span class="webflare-courier-new" style="white-space:pre"><em>name</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050673"></a> The name you specify. The name can be of 1-16 alphanumeric characters (A-Z and 0-9). The first character must be a letter. </p>
<p class="webflare-indent1">
<a id="pgfId-1014676"></a> You cannot use the following reserved names with *BREAK: BEGIN, EXPAND, SORT, MERGE, SYSOUT, DELETE (if KEEPDATA = NO or SMART), END, GENENV, REGION, LVSCHM, SCHMIN, and LVSNET. These reserved names are internal break points found in the PDRACULA Job Control Language (JCL). You can use these points to restart a job.</p>
<p class="webflare-indent1">
<a id="pgfId-1014677"></a> When running an LVS job, you can use the following reserved break points: <a id="marker-1014678"></a><a id="marker-1014679"></a>LVSNET, <a id="marker-1014680"></a>SCHMIN, and <a id="marker-1014681"></a>LVSCHM.</p>

<p><strong>
<a id="pgfId-1014682"></a><code>label</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050682"></a> Either a start or end point for the *BREAK command. Use this only when specifying shell commands.</p>

<p><strong>
<a id="pgfId-1050687"></a><span class="webflare-courier-new" style="white-space:pre"><em>shell_command</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050690"></a> The names of the shell commands to be executed at this break. You can specify multiple lines by using the ampersand (&amp;) at the end of each line. You can use the backslash (\) to divide a single line into two lines if the length of the line is longer than the limitation.</p>

<h4>
<a id="pgfId-1014684"></a>Example 1</h4>

<p>
<a id="pgfId-1014685"></a>This example reruns a short check job. Remember, to restart a job, specify the <em>KEEPDATA = YES</em> command in your run file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014686"></a>*OPERATION <br />.<br />*BREAK SHORTCHK <br />MULTILAB OUTPUT SHORTS10 <br />*END </pre>
<h4>
<a id="pgfId-1014687"></a>Example 2</h4>

<p>
<a id="pgfId-1014688"></a>This example specifies start and end points for the *BREAK command.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014689"></a>*OPERATION<br />.<br />*BREAK START1 if( $mode == &#8217;FLATTEN&#8217; || $mode == \<br />&#8217;COMPOSITE&#8217;|| $mode == &#8217;HIER&#8217;) then &amp;<br />echo &quot;RUN_MODE = $mode&quot; <br />NOT AAA BBB CCC<br /> .<br /> .<br />*BREAK END1 endif </pre>
<h4>
<a id="pgfId-1014690"></a>Example 3</h4>

<p>
<a id="pgfId-1014691"></a>This example specifies an &#8216;if then&#8217; statement embedded in the shell commands.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014692"></a>*BREAK START if( $run == &#8217;now&#8217;) then &amp;<br />echo &quot;run_mode = $run&quot; &amp;<br />endif</pre>
<h3>
<a id="pgfId-1014696"></a>CALC<a id="calculate"></a>ULATE</h3>
<a id="pgfId-1014697"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CALCULATE RATIOFILE parExpression</pre>
<h4>
<a id="pgfId-1014698"></a>Description</h4>

<p>
<a id="pgfId-1014699"></a>Calculates the parameter ratio of each node among multiple layers. This command is an extension of the COMPUTE command, which only applies to limited layers with limited operation. To check the &#8220;antenna effect,&#8221; you must specify this command in addition to the LEXTRACT and CHKPAR commands.<a id="marker-1014700"></a></p>

<h4>
<a id="pgfId-1014701"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014702"></a><span class="webflare-courier-new" style="white-space:pre"><em>RATIOFILE</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050697"></a> Output file used as the input file for the CHKPAR command. Contains the ratio of parameter values calculated from the equation specified in the command for each node. Use CHKPAR PAR to check the result.</p>

<p><strong>
<a id="pgfId-1050702"></a><span class="webflare-courier-new" style="white-space:pre"><em>parExpression</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050705"></a>The parameter expression can be one of the following:</p>

<p>
<a id="pgfId-1032243"></a> </p>
<table class="webflareTable" id="#id1032117">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="9">

<ul><li>
<a id="pgfId-1032119"></a>(parExpression)</li><li>
<a id="pgfId-1032123"></a>+|- parExpression</li><li>
<a id="pgfId-1032127"></a>parExpression arithOperator parExpression</li></ul>



<blockquote id="#id1032131">
<a id="pgfId-1032131"></a>An arithmetic operator can be +, -, *, or /.</blockquote>

<ul><li>
<a id="pgfId-1032135"></a>function(parFile)</li></ul>

<blockquote id="#id1032139">
<a id="pgfId-1032139"></a>A function can be any of the following:</blockquote>
<blockquote id="#id1032143">
<a id="pgfId-1032143"></a>EXP    SQRT    LOG    LOG10    SIN
SINH    COSH    TANH    MAX    MIN
ASIN    ACOS    ATAN    COS   TAN</blockquote>

<ul><li>
<a id="pgfId-1032147"></a>parFile</li></ul>

<blockquote id="#id1032151">
<a id="pgfId-1032151"></a>A parameter file can be any of the following:</blockquote>
</td>
</tr>
<tr />
<tr />
<tr />
<tr />
<tr />
<tr />
<tr />
<tr />
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032194"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1032226"></a>action.parFile</li></ul>

<blockquote id="#id1032161">
<a id="pgfId-1032161"></a>Where the action can be SUM, MIN, or MAX. The action is applied to each parameter file before the ratio calculation on each node among different layers is executed. SUM is the default action.</blockquote>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032167"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1032233"></a>parFile.PARAMETERNAME</li></ul>

<blockquote id="#id1032169">
<a id="pgfId-1032169"></a>Where PARAMETERNAME is defined in the correspondent parameter set used for the LEXTRACT command. AREA is the default parameter name.</blockquote>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032211"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1032240"></a>PARAMETERFILE</li></ul>

<blockquote id="#id1032177">
<a id="pgfId-1032177"></a>Where PARAMETERFILE contains the parameters extracted on each node of a certain layer or layers.</blockquote>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032179"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1032181"></a>A constant (either integer or real)</li></ul>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1032092"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014721"></a>CALCULATE RATIO1=PNGATE / PGATE </pre>

<p>
<a id="pgfId-1014722"></a>is equivalent to</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014723"></a>CALCULATE RATIO1=SUM.PNGATE.AREA /SUM.PGATE.AREA</pre>

<p>
<a id="pgfId-1014724"></a>PNGATE and PGATE are the parameter files from the previous LEXTRACT commands. For each node in the PNGATE file, the area is calculated. The same calculation is done for the PGATE file. Then, the ratio is calculated per node. Nodes that do not exist in all parameter files are set to zero.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014725"></a>CALCULATE RES2 = (MIN.PNGATE + c1*MAX.PM1) / PGATE</pre>

<p>
<a id="pgfId-1014726"></a>is equivalent to</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014727"></a>CALCULATE RES2 = (MIN.PNGATE.AREA + c1*MAX.PM1.AREA) / PGATE.AREA</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014728"></a>CALCULATE res3= (MAX.PNGATE.PERI+c1*SUM.PM1.AREA+c2*MAX.PM2.PERI)/<br />MAX.PGATE.AREA</pre>

<h4>
<a id="pgfId-1014729"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014730"></a>PARSET ANT AREA PERI<br />...<br />LEXTRACT ANT GATE BY NODE PGATE<br />LEXTRACT ANT NGATE BY NODE PNGATE<br />LEXTARCT ANT M1 BY NODE PM1<br />LEXTRACT ANT M2 By NODE PM2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014731"></a>CALCULATE RATIO1 = <br />PNGATE / PGATE</pre>

<p>
<a id="pgfId-1014732"></a>is equal to</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014733"></a>CALCULATE RATIO1 = <br />SUM.PNGATE.AREA /SUM.PGATE.AREA<br />
CALCULATE res2 = 
MIN(SUM.PNGATE,0.84*SUM.PM1) / PGATE</pre>

<p>
<a id="pgfId-1014734"></a>is equal to</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014735"></a>CALCULATE res2 = <br />MIN(SUM.PNGATE.AREA,0.84*SUM.PM1.AREA)/SUM.PGATE.AREA<br />
CALCULATE res3 = 
(MAX.PNGATE.PERI+0.2*SUM.PM1.AREA+0.7*MAX.PM2.PERI)/MAX .PGATE.AREA</pre>
<h3>
<a id="pgfId-1014736"></a>CAT</h3>
<a id="pgfId-1043641"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CAT <code><em>lay1 lay2 lay3 ... layN PseudoTrapFile</em></code></pre>
<a id="pgfId-1043648"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CAT[ M ] <code><em>lay1 lay2 lay3 ... layN TrapFile</em></code></pre>
<h4>
<a id="pgfId-1043914"></a>Description</h4>

<p>
<a id="pgfId-1043584"></a>Lets you quickly merge several layers while conveying nodal information, if present, in all of the input layers.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1043586"></a>If only some of the input layers contain nodal information, the produced PseudoTrapFile/TrapFile might be incorrect.</div>

<h4>
<a id="pgfId-1043739"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1043740"></a><span class="webflare-courier-new" style="white-space:pre"><em>lay1 lay2 lay3 ... layN</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050717"></a>Name the input layers.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1050720"></a><span class="webflare-courier-new" style="white-space:pre"><em>N</em></span> must be less than or equal to 12.</div>

<p><strong>
<a id="pgfId-1043759"></a><span class="webflare-courier-new" style="white-space:pre"><em>PseudoTrapFile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050730"></a> Output layer created by the CAT command.</p>

<p><strong>
<a id="pgfId-1050735"></a><span class="webflare-courier-new" style="white-space:pre"><em>TrapFile</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050738"></a>Output layer created by the CAT command.</p>

<p><strong>
<a id="pgfId-1050748"></a><code>M</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050751"></a> Option that produces a merged trapezoidal file.</p>
<p>
<a id="pgfId-1043769"></a>The CAT command without the [M] option produces a pseudo trapezoidal file that contains sorted but unmerged trapezoids. This file can be used as an input layer for CAT or OR commands only.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1043925"></a>If the resulting layer from the CAT command is used as an input layer to another command, the [M] option is enabled automatically by PDRACULA.</div>

<h4>
<a id="pgfId-1043799"></a>Example 1</h4>

<p>
<a id="pgfId-1043595"></a>This example shows the merging of 4 layers&#8212; M1, M2, M3, and M4&#8212; into layer RES.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1043596"></a>CAT[M] M1 M2 M3 M4 RES</pre>
<h4>
<a id="pgfId-1043599"></a>Example 2</h4>

<p>
<a id="pgfId-1043812"></a>This example shows the merging of 12 layers&#8212; M1, M2, M3, M4, M5, M6, M7, M8, M9, M10, M11, and M12&#8212; into layer RES.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1043600"></a>CAT[M] M1 M2 M3 M4 M5 M6 M7 M8 M9 M10 M11 M12 RES</pre>
<h4>
<a id="pgfId-1043823"></a>Example 3</h4>

<p>
<a id="pgfId-1043603"></a>This example shows the merging of 15 layers&#8212; M1, M2, M3, M4, M5, M6, M7, M8, M9, M10, M11, M12, M13, M14, and M15&#8212; into layer RES. Use two CAT commands; only the last should contain the [M] option.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044150"></a>CAT&#160;&#160;  M1 M2 M3 M4 TMPL</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1043856"></a>CAT[M] TMPL M5 M6 M7 M8 M9 M10 M11 M12 M13 M14 M15 RES</pre>
<h4>
<a id="pgfId-1043859"></a>Example 4</h4>

<p>
<a id="pgfId-1043610"></a>This example shows the merging of 40 layers&#8212; M1, M2, M3, M4, M5, M6, M7, M8, M9, M10, M11, M12, M13, M14, M15, M16, M17, M18, M19, M20, M21, M22, M23, M24, M25, M26, M27, M28, M29, M30, M31, M32, M33, M34, M35, M36, M37, M38, M39, and M40&#8212; into layer RES. Use four CAT commands; only the last should contain the [M] option.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044159"></a>CAT&#160;&#160;  M1 M2 M3 M4 M5 M6 M7 TMPL1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044160"></a>CAT&#160;&#160;  M8 M9 M10 M11 M12 M13 M14 M15 M16 M17 M18 M19 TMPL2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044161"></a>CAT&#160;&#160;  M20 M21 M22 M23 M24 M25 M26 M27 M28 M29 M30 M31 TMPL3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1043911"></a>CAT[M] TMPL1 TMPL2 TMPL3 M32 M33 M34 M35 M36 M37 M38 M39 M40 RES</pre>
<h3>
<a id="pgfId-1014753"></a><a id="90720"></a>CHKPAR</h3>
<a id="pgfId-1014754"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CHKPAR [<code><em>option</em></code>] <code><em>infile {layer-a} relation value1</em></code> {<code><em>value2</em></code>} [{<code><em>outlayer</em></code>} {OUTPUT <code><em>c-name l-num</em></code> {<code><em>data-type</em></code>}]</pre>
<h4>
<a id="pgfId-1014755"></a>Description</h4>

<p>
<a id="pgfId-1014757"></a>S<a id="marker-1014756"></a>elects a group of nodes from the result of a COMPUTE command, and under certain conditions, outputs the layer. This is one of the commands you use for an <a id="marker-1014758"></a>antenna check. For more information about antenna checks, refer to <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE),&#8221;</a> or the LEXTRACT command description in this chapter.</p>
<p>
<a id="pgfId-1014762"></a>CHKPAR outputs to the log file the node numbers and ratio values for the violated nodes so you can determine the severity of the violation. You set the number of nodes to output by specifying the LISTERROR command in the Description block. If you specify LISTERROR = YES, the first 100 nodes that satisfy the condition are output. This is the default setting for CHKPAR. If you specify LISTERROR = NO, the nodes are not output. You can also specify the number of nodes to output with the LISTERROR command.</p>

<h4>
<a id="pgfId-1014763"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014764"></a><span class="webflare-courier-new" style="white-space:pre"><em>option</em></span> </strong></p>
<p><strong>
<a id="pgfId-1014765"></a><code>PAR</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050761"></a>Checks the computed AREA ratio or the result from the CALCULATE command.</p>

<p><strong>
<a id="pgfId-1050766"></a><code>A</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050769"></a> Checks the computed AREA value or ratio.</p>

<p><strong>
<a id="pgfId-1050774"></a><code>P</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050777"></a> Checks the computed perimeter value or ratio.</p>

<p><strong>
<a id="pgfId-1050782"></a><span class="webflare-courier-new" style="white-space:pre"><em>infile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050785"></a> Name of the output file from a COMPUTE command.</p>

<p><strong>
<a id="pgfId-1050790"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050793"></a> Name of the output layer. It must carry nodal information. If this is not specified, all connect layers will be examined.</p>

<p><strong>
<a id="pgfId-1050805"></a><span class="webflare-courier-new" style="white-space:pre"><em>relation</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050808"></a> One of the following operations:</p>

<p>
<a id="pgfId-1032313"></a></p>
<table class="webflareTable" id="#id1032292">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032294"></a><code>GT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032296"></a>Greater than</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032298"></a><code>GE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032300"></a>Greater than or equal to</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032302"></a><code>LT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032304"></a>Less than</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032306"></a><code>LE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032308"></a>Less than or equal to</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032310"></a><code>RA</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032312"></a>Range</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1032289"></a><span class="webflare-courier-new" style="white-space:pre"><em>value1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050815"></a> Value for the relation operation.</p>

<p><strong>
<a id="pgfId-1050820"></a><span class="webflare-courier-new" style="white-space:pre"><em>value2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050823"></a> Upper limit for the RA operation.</p>

<p><strong>
<a id="pgfId-1050828"></a><span class="webflare-courier-new" style="white-space:pre"><em>outlayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050831"></a> Name of the output layer file.</p>

<p><strong>
<a id="pgfId-1050836"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050839"></a> Name of the output cell containing geometric results from the operation. This cell name cannot be more than seven characters.</p>

<p><strong>
<a id="pgfId-1050844"></a><span class="webflare-courier-new" style="white-space:pre"><em>l-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050847"></a>Layer number of the output cell. </p>

<p><strong>
<a id="pgfId-1050852"></a><span class="webflare-courier-new" style="white-space:pre"><em>data-type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050855"></a> Datatype associated with the l-num of the output cell.</p>

<h4>
<a id="pgfId-1014782"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014783"></a>*DESCRIPTION
.
.
LISTERROR = YES ; lists the first 100 node violations in 
; &#160;&#160;&#160;&#160;     ; the log file<br />.<br />.<br />*END<br />.<br />.<br />*OPERATION<br />.<br />.<br />LEXTRACT ANTE FIELD BY NODE ANTEN1<br />LEXTRACT ANTE GATE BY NODE ANTEN2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014784"></a>COMPUTE MIN ANTEN1 OUT1<br />COMPUTE MIN ANTEN1 ANTEN2 OUT2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014785"></a>CHKPAR A OUT1 POLY GT 1500 OUTPUT LONG 1<br />CHKPAR P OUT1 POLY GT 1500 OUTPUT LONG 2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014786"></a>CHKPAR A OUT2 POLY GT 25 OUTPUT WRONG 1<br />CHKPAR P OUT2 POLY GT 10 OUTPUT WRONG 2<br />.<br />.<br />*END</pre>
<h3>
<a id="pgfId-1014787"></a>COEFFICIENT CAP</h3>
<a id="pgfId-1014788"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
COEFFICIENT CAP[type] value-a value-b value-c value-d</pre>
<h4>
<a id="pgfId-1014789"></a>Description</h4>

<p>
<a id="pgfId-1014790"></a>Associates the sidewall-up/down/colinear data coming from the NOT[E], AND[E], and PARASITC CAP commands with the process-dependent capacitance coefficients.</p>
<p>
<a id="pgfId-1014791"></a>After using at least one of the NOT[E], AND[E] operations to extract capacitance sidewall information of deviceLayer, you can use COEFFICIENT CAP to gather this information for the cap. Without any NOT[E], AND[E] operation rules for the deviceLayer, it is illegal to write COEFFICIENT CAP for that device.</p>

<h4>
<a id="pgfId-1014792"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014793"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050862"></a> The type specified in PARASITIC CAP[type] device.</p>

<p><strong>
<a id="pgfId-1050867"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050870"></a> Capacitance per unit area.</p>

<p><strong>
<a id="pgfId-1050875"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050878"></a> Capacitance per unit sidewall up perimeter.</p>

<p><strong>
<a id="pgfId-1050883"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050886"></a> Capacitance per unit sidewall down perimeter.</p>

<p><strong>
<a id="pgfId-1050891"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-d</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050894"></a> Capacitance per unit colinear edge perimeter.</p>

<h4>
<a id="pgfId-1014798"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014799"></a>AND[E] M1T METAL2 M12<br />...<br />PARASITIC CAP[SW] M12 M1T METAL2<br />COEFFICIENT CAP[SW] 0.3 0.4 0.23 0.44</pre>
<h3>
<a id="pgfId-1014801"></a>COMPUTE</h3>
<a id="pgfId-1014803"></a><a id="marker-1014802"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
COMPUTE <code><em>action par-file1 [par-file2 {par-file3}] outfile</em></code></pre>
<h4>
<a id="pgfId-1014804"></a>Description</h4>

<p>
<a id="pgfId-1014805"></a>For each node, calculates the value and ratio of the geometric parameters that you extract with the LEXTRACT command. When there is only one parameter file, Dracula calculates the value. When there are two or three parameter files, Dracula calculates both the value and the ratio. The AREA and PERI parameters are currently supported.</p>
<p>
<a id="pgfId-1014806"></a>For more information on using the COMPUTE command for antenna checks, see &#8220;<em><a actuate="user" class="URL" href="../draculauser/chap2.html#compute" show="replace" xml:link="simple">Extracting Area Ratios using the COMPUTE Function</a></em>&#8221; section in the &#8220;Writing Rules for Dracula&#8221; chapter of the Dracula User Guide.</p>

<h4>
<a id="pgfId-1014808"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014809"></a><span class="webflare-courier-new" style="white-space:pre"><em>action</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050916"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Is one of the following values:</p>

<p>
<a id="pgfId-1032314"></a></p>
<table class="webflareTable" id="#id1029628">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029630"></a><code>SUM</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029632"></a>Total area of separate regions on the same node.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029634"></a><code>MIN</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029636"></a>Minimum area of separate regions on the same node.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029638"></a><code>MAX</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029640"></a>Maximum area of the separate regions on the same node.</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1014812"></a><span class="webflare-courier-new" style="white-space:pre"><em>mingate</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050922"></a> Specifies the total area of all regions on the same node for each <span class="webflare-courier-new" style="white-space:pre"><em>par-file</em></span>, then calculates the ratio of the first result over the minimum of the second and third results on the same node.</p>

<p><strong>
<a id="pgfId-1050927"></a><span class="webflare-courier-new" style="white-space:pre"><em>par-file1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050930"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Layer to compare. It must be an output file from the LEXTRACT command. </p>

<p><strong>
<a id="pgfId-1050935"></a><span class="webflare-courier-new" style="white-space:pre"><em>par-file2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050938"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Layer to compare. It must be an output file from the LEXTRACT command. &#160;&#160;&#160;&#160;</p>

<p><strong>
<a id="pgfId-1050943"></a><span class="webflare-courier-new" style="white-space:pre"><em>par-file3</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050946"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Layer to compare. It must be an output file from the LEXTRACT command. This layer is required only if you specify <em>mingate</em>. </p>

<p><strong>
<a id="pgfId-1050951"></a><span class="webflare-courier-new" style="white-space:pre"><em>outfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050954"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Name of the output file for the COMPUTE command. This is the input file for the CHKPAR command. Do not use more than seven characters in this file name. <a id="marker-1014817"></a><a id="marker-1014818"></a><a id="marker-1014819"></a><a id="marker-1014820"></a></p>

<h4>
<a id="pgfId-1014821"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014822"></a>DESCRIPTION<br />PARSET ANTE AREA PERI<br />*END<br />
LEXTRACT ANTE FIELD BY NODE ANTEN1
LEXTRACT ANTE GATE BY NODE ANTE2

COMPUTE MIN ANTEN1 OUT1
COMPUTE MIN ANTEN1 ANTEN2 OUT2

CHKPAR A OUT1 POLY GT 1500 OUTPUT LONG 1
CHKPAR P OUT1 POLY GT 1500 OUTPUT LONG 2

CHKPAR A OUT2 POLY GT 25 OUTPUT WRONG 1
CHKPAR P OUT2 POLY GT 10 OUTPUT WRONG 2</pre>
<h4>
<a id="pgfId-1014823"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014824"></a>LEXTRACT ANTE PLY2NG BY NODE ANTEN1<br />LEXTRACT ANTE NG BY NODE ANTEN2<br />LEXTRACT ANTE PG BY NODE ANTEN3<br />
COMPUTE MINGATE ANTEN1 ANTEN2 ANTEN3 ANTOUT
CHKPAR A ANTOUT FPOLY2 GT 100.0 OUTPUT D513A 20</pre>

<b>Note:</b><br />
<a id="pgfId-1014825"></a>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014826"></a>CHKPAR PAR OUT2 POLY GT 25 OUTPUT WRONG 1</pre>

<p>
<a id="pgfId-1014827"></a>is equivalent to </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014828"></a>CHKPAR A OUT2 POLY GT 25 OUTPUT WRONG 1</pre>
<h3>
<a id="pgfId-1014830"></a>CONNECT </h3>
<a id="pgfId-1014832"></a><a id="marker-1014831"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CONNECT <code><em>layer-a layer-b</em></code> BY <code><em>cont-layer</em></code> </pre>
<h4>
<a id="pgfId-1014833"></a>Description</h4>

<p>
<a id="pgfId-1014836"></a>D<a id="marker-1014834"></a>efines <a id="marker-1014835"></a>interlayer connectivity; that is, connects two layers by a set of contacts. For more information about connectivity, refer to the <a href="chap12.html#76760">CONNECT-LAYER</a> section in Chapter 12.</p>

<h4>
<a id="pgfId-1014840"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014841"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050961"></a> The first input layer name.</p>

<p><strong>
<a id="pgfId-1050966"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050969"></a> The second input layer name. </p>

<p><strong>
<a id="pgfId-1050974"></a><span class="webflare-courier-new" style="white-space:pre"><em>cont-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050977"></a> The previously defined layer that consists of the contacts that connect layer-a to layer-b. Cont-layer must have at least three characters, and the first three characters must be unique. The fourth character must be a letter, although the name can contain numeric characters (cont1 is allowed, but con1 is not). The preprocessor assigns the highest priority layer as the master layer. Cont-layer can connect only from the master layer to any other layer. </p>

<h4>
<a id="pgfId-1014844"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014845"></a>CONNECT metal poly BY cont <br />CONNECT metal diff BY cont <br />CONNECT poly diff BY epi <br />CONNECT poly diff BY cont ; (not allowed) </pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014846"></a>Master layer for cont-layer is metal. Cont-layer cannot connect poly to diff. The preprocessor checks for this condition.</div>

<p>
<a id="pgfId-1026243"></a></p>
<div class="webflare-div-image">
<img width="676" height="220" src="images/chap13-11.gif" /></div>
<h3>
<a id="pgfId-1014890"></a>CO<a id="marker-1014888"></a>R<a id="corner"></a>NER</h3>
<a id="pgfId-1014891"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CORNER <code><em>{[option]}</em></code> <code><em>layer-a [relation-a] [relation-b] 
{{NOT} LT/GT/RANGE ang1 {ang2} } 
{CORNER-SIZE n} output-layer {OUTPUT c-name l-num {d-num}}</em></code> </pre>
<h4>
<a id="pgfId-1014892"></a>Description</h4>

<p>
<a id="pgfId-1014893"></a>Recognizes polygon corners and reports them to the specified output layer for special DRC checking.</p>

<h4>
<a id="pgfId-1014894"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014895"></a><span class="webflare-courier-new" style="white-space:pre"><em>options</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050984"></a>  If you do not specify any options, this command works for Manhattan angles.</p>

<p><strong>
<a id="pgfId-1050989"></a><span class="webflare-courier-new" style="white-space:pre"><em>A</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1050992"></a> Reports 90 degree angles.</p>

<p><strong>
<a id="pgfId-1050997"></a><span class="webflare-courier-new" style="white-space:pre"><em>B</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051000"></a> Reports 45 degree angles.</p>

<p><strong>
<a id="pgfId-1051005"></a><span class="webflare-courier-new" style="white-space:pre"><em>C</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051008"></a> Reports any angle.</p>

<p><strong>
<a id="pgfId-1051013"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051016"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span><a id="marker-1014899"></a> Input layer name.</p>

<p><strong>
<a id="pgfId-1051021"></a><span class="webflare-courier-new" style="white-space:pre"><em>relation-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051024"></a> INSIDE or OUTSIDE. INSIDE creates a rectangle the size of CORNER-SIZE on the inside of shapes. OUTSIDE creates a rectangle the size of CORNER-SIZE at all corners on the outside of shapes.</p>

<p>
<a id="pgfId-1026291"></a></p>
<div class="webflare-div-image">
<img width="676" height="217" src="images/chap13-12.gif" /></div>
<p><strong>
<a id="pgfId-1014926"></a><span class="webflare-courier-new" style="white-space:pre"><em>relation-b</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051078"></a>INNER or OUTER. INNER creates a rectangle the size of CORNER-SIZE on the inside edge of all corners. OUTER creates a rectangle the size of CORNER-SIZE on the outside edge of all shapes.</p>

<p>
<a id="pgfId-1026322"></a></p>
<div class="webflare-div-image">
<img width="676" height="477" src="images/chap13-13.gif" /></div>
<p><strong>
<a id="pgfId-1045981"></a><code>{NOT} [ LT | GT | RANGE ] </code><span class="webflare-courier-new" style="white-space:pre"><em>ang1 {ang2}</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051091"></a> This operation flags only corners whose angle matches the given constraint (see Examples 4 and 5 for details). If the keyword RANGE is specified, a second angle (<span class="webflare-courier-new" style="white-space:pre"><em>ang2</em></span>) must also be used.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046003"></a>The keyword <code>NOT</code> can be specified to flag corners that do not meet the specified constraint.</div>

<p><strong>
<a id="pgfId-1045978"></a><span class="webflare-courier-new" style="white-space:pre"><em>CORNER-SIZE n</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051100"></a> Corner size in user units (n). If you do not specify this option, the default value is 2 times the resolution unit. If you specify a corner size of one resolution unit, round-off might occur at non-Manhattan corners. Dracula issues a warning if you specify a corner size of one resolution unit.</p>

<p><strong>
<a id="pgfId-1051113"></a><span class="webflare-courier-new" style="white-space:pre"><em>output-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051116"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Output layer name.</p>

<p><strong>
<a id="pgfId-1051121"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051124"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1051129"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051132"></a> C-name is the name of the cell and can have six alphanumeric characters or fewer and no special characters. L-num is the layer number determined by your CAD system.  </p>

<p><strong>
<a id="pgfId-1051137"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051140"></a><code>&#160;&#160;&#160;&#160;</code>The datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1014962"></a>Example 1</h4>

<p>
<a id="pgfId-1014963"></a>The following example reports Manhattan angles and creates a rectangle of the inside edge of all shapes and corners. The output is sent to SUB001.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014964"></a>CORNER ME1 INSIDE INNER SUB001</pre>
<h4>
<a id="pgfId-1014965"></a>Example 2</h4>

<p>
<a id="pgfId-1014966"></a>This example reports Manhattan angles and creates a rectangle of .03 microns at all corners on the outside of shapes. The output is sent to SUB002. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014967"></a>CORNER ME1 OUTSIDE INNER CORNER-SIZE .03 SUB002</pre>
<h4>
<a id="pgfId-1014968"></a>Example 3</h4>

<p>
<a id="pgfId-1014969"></a>This example reports 90 degree angles and creates rectangles on the inside edge of all shapes and corners. The output is sent to SUB004.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024643"></a>CORNER[A] ME1 INSIDE INNER SUB004</pre>
<h4>
<a id="pgfId-1046008"></a>Example 4</h4>

<p>
<a id="pgfId-1046010"></a>The following checks all acute angles within a tolerance of one degree:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1046012"></a>CORNER MET LT 89 out acute 1 0</pre>
<h4>
<a id="pgfId-1046016"></a>Example 5</h4>

<p>
<a id="pgfId-1046018"></a>The following gets all 45 and 315-degree corners (but not 135 and 225) and writes them to layer <code>COR1</code> for further processing:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1046006"></a>CORNER RA 44.5 45.5 COR1</pre>
<h3>
<a id="pgfId-1040546"></a><a id="35799"></a>CO<a id="marker-1040545"></a>VERAGE</h3>
<a id="pgfId-1040547"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
COVERAGE {NOT} <code><em>input-layer</em></code> [LT/LE/GT/GE/RA] <em>per1</em> {<em>per2</em>} <code><em>windowSize stepSize</em></code> {CENTRIC} {<code>OUTSQU</code><code><em> square-file</em></code>} {<code><em>SQSZ size-of-squares</em></code>} 
{BOUND <code><em>boundary-layer</em></code>}{<code><em>trapfile</em></code>} 
{OUTPUT <code><em>c-name</em></code> <code><em>l-num</em></code> }</pre>
<a id="pgfId-1040548"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
COVERAGE {NOT} <code><em>input-layer</em></code> [LT/GT/RANGE] <code><em>per1 </em></code>{<code><em>per2</em></code>}<code><em> </em></code>[RECT <code><em>rectangle-layer/BASLAY base-layer</em></code>]<code><em> </em></code>{<code><em>trapfile</em></code>} {OUTPUT <code><em>c-name</em></code> <code><em>l-num</em></code> }</pre>
<a id="pgfId-1024646"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
COVERAGE {NOT} <code><em>input-layer</em></code> [LT/GT/RANGE <code><em>percentage</em></code> <code><em>windowSize</em></code> <code><em>stepSize</em></code> MIN-RATIO <code><em>minRatio</em></code> BOUND <code><em>boundary-layer</em></code> {<code><em>trapfile</em></code>} {OUTPUT <code><em>c-name</em></code> <code><em>l-num</em></code> 
{<code><em>d-num</em></code>}}</pre>
<h4>
<a id="pgfId-1024655"></a>Description</h4>

<p>
<a id="pgfId-1040566"></a>Dracula reports an error if the area surrounding a specified point in the layout is not covered by a specified area percentage.</p>
<p>
<a id="pgfId-1040567"></a>This command is intended for flat mode only. If you use it in a hierarchical mode, the input layers must be flattened. </p>
<p>
<a id="pgfId-1040568"></a>In version 4.81 and later versions, Dracula supports region-based density check to implement the process rules in finding the via and bent gate density. In the 4.7 and previous versions of Dracula, you could not implement such rules as only window-based check was supported.</p>
<p>
<a id="pgfId-1040569"></a>Given below is a T-shaped area over which is an O-shaped area and region-based density check allows you to do a density check of the O-shaped area.</p>

<p>
<a id="pgfId-1037931"></a></p>
<div class="webflare-div-image">
<img width="668" height="256" src="images/chap13-14.gif" /></div>

<p>
<a id="pgfId-1037948"></a>A region-based density sums up all the O shape area which is then divided by the T shape area, that is,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037946"></a>O shape density over T shape = ( sum of O shape areas within T shape ) / 
&#160;&#160;&#160;&#160;            ( T shape area )</pre>
<h4>
<a id="pgfId-1024658"></a>Checking Methods</h4>
<p><strong>
<a id="pgfId-1024659"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051147"></a> Flat and hierarchical (internally flattened)</p>

<h4>
<a id="pgfId-1024660"></a>Arguments</h4>
<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1024661"></a>
 You must supply only one of these measurements given below.</div>
<p><strong>
<a id="pgfId-1040584"></a><span class="webflare-courier-new" style="white-space:pre"><em>input-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051153"></a> Specifies the input layer name</p>

<p><strong>
<a id="pgfId-1051158"></a><code>LT/LE <span class="webflare-courier-new" style="white-space:pre"><em>percentage</em></span></code><a id="marker-1040585"></a> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051161"></a>The coverage rate is less than or equal to the <span class="webflare-courier-new" style="white-space:pre"><em>percentage</em></span>. <a id="marker-1040587"></a></p>

<p><strong>
<a id="pgfId-1051166"></a><code>GT/GE </code><span class="webflare-courier-new" style="white-space:pre"><em>percentage </em></span><a id="marker-1040588"></a>      </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051169"></a>The coverage rate is greater than or equal to the <span class="webflare-courier-new" style="white-space:pre"><em>percentage</em></span>. <a id="marker-1040590"></a></p>

<p><strong>
<a id="pgfId-1051174"></a><code>RA </code><em>per1</em><code> </code><em>per2</em> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051177"></a>The coverage rate is between <span class="webflare-courier-new" style="white-space:pre"><em>per1</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>per2</em></span>.<a id="marker-1040591"></a> </p>

<p><strong>
<a id="pgfId-1051182"></a><span class="webflare-courier-new" style="white-space:pre"><em>windowSize</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051185"></a> Specifies the window size in each step of the coverage check. The <span class="webflare-courier-new" style="white-space:pre"><em>windowSize</em></span> must be a multiple of <code>stepSize</code>.</p>

<p><strong>
<a id="pgfId-1051190"></a><span class="webflare-courier-new" style="white-space:pre"><em>stepSize</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051193"></a> Specifies the step size value to be used.</p>

<p><strong>
<a id="pgfId-1051198"></a><code>CENTRIC</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051201"></a> A new option added to Dracula 4.81 and subsequent versions. This option defines the central location of squares reported into the <span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> and/or output, relative to the violating window. If you don&#8217;t specify this option, the <span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> and/or output will contain the entire merged violating windows. The &#8220;<a href="chap13.html#60841">Example 11 - Example for the CENTRIC Option</a>&#8221; section provides more information.</p>
<p class="webflare-indent1">
<a id="pgfId-1040768"></a> This enhancement lets you have the possibility to obtain the results of the COVERAGE operation in Dracula verification in an equivalent form to that of Assura verification.</p>

<p><strong>
<a id="pgfId-1051209"></a><code>OUTSQU</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051215"></a> Specifies the layer created by the SIZE operation. The output-layer can have up to seven characters and must have no special characters. You can use A-Z and 0-9, but the first character must be a letter.</p>

<p><strong>
<a id="pgfId-1051220"></a><span class="webflare-courier-new" style="white-space:pre"><em>square-file</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051223"></a>Writes the step squares in the violating window that has ratio within the percentage as a trapezoid file.</p>

<p><strong>
<a id="pgfId-1051228"></a><code>SQSZ</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051231"></a> The size of squares in <span class="webflare-courier-new" style="white-space:pre"><em>square-file</em></span>. </p>

<p><strong>
<a id="pgfId-1051240"></a><span class="webflare-courier-new" style="white-space:pre"><em>size-of-square</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051243"></a> If you don&#8217;t specify this parameter, the size of the squares is the same as the window step size.</p>

<p><strong>
<a id="pgfId-1051249"></a><code>MIN-RATIO</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051252"></a> Keyword used to specify the minimum area occupied ratio of the boundary layer in one check window to trigger the checking while doing density check.</p>

<p><strong>
<a id="pgfId-1051257"></a><span class="webflare-courier-new" style="white-space:pre"><em>minRatio</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051260"></a> Specify the minimum area occupied ratio of the boundary layer in one check-window to trigger the checking. If the area occupied ratio of boundary-layer in the check-window is less than the <span class="webflare-courier-new" style="white-space:pre"><em>minRatio</em></span>, the check-window will be ignored and Dracula will report the relative information to the log file; otherwise, Dracula will calculate the density based on the &#8220;overlap region&#8221; of check-window and the boundary-layer and output the violating check-window. See &#8220;<a href="chap13.html#14742">Example 10 - Example for minRatio</a>&#8221; in this section for more information.</p>

<p><strong>
<a id="pgfId-1051265"></a><code>BOUND</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051268"></a><code>&#160;&#160;&#160;&#160;</code>Keyword used to specify boundary layer while doing density check.</p>

<p><strong>
<a id="pgfId-1051274"></a><span class="webflare-courier-new" style="white-space:pre"><em>boundary-layer</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051277"></a>Trapfile with rectangle(s) which define the boundary of the COVERAGE check. The boundary can be larger or smaller than the primary cell boundary. You can specify multiple rectangle in the trapfile. COVERAGE will do the check in each rectangle one by one.</p>

<p><strong>
<a id="pgfId-1051282"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051285"></a> Output layer with trapezoid file formats. It can be used as input layer by the subsequent commands.</p>

<p><strong>
<a id="pgfId-1051290"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051293"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1051301"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051304"></a>Is the name of the cell and can have six alphanumeric characters or fewer and no special characters.</p>

<p><strong>
<a id="pgfId-1051309"></a><span class="webflare-courier-new" style="white-space:pre"><em>l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051312"></a> Is the layer number determined by your CAD system.</p>

<p><strong>
<a id="pgfId-1051317"></a><code>RECT </code><span class="webflare-courier-new" style="white-space:pre"><em>rectangle-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051325"></a>Region-based density checking within the constraints of a rectangular shape. For each rectangle in the rectangle-layer, Dracula computes this equation:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040614"></a>ratio = (area of shapes inside rectangle) / (area of rectangle)</pre>
<p class="webflare-indent1">
<a id="pgfId-1040615"></a> Supports only the layer with rectangular shapes</p>

<p><strong>
<a id="pgfId-1040619"></a><code>BASLAY </code><span class="webflare-courier-new" style="white-space:pre"><em>base-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051334"></a> For each region in the base layer, COVERAGE computes this equation:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040620"></a>density ratio = (area of shapes inside the region/(area of the region)</pre>
<p class="webflare-indent1">
<a id="pgfId-1040621"></a> Base-layer supports the layers with any kind of shapes.</p>

<p><strong>
<a id="pgfId-1040622"></a><code>{NOT} Reverse </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051343"></a> Output ratio not in the range.</p>

<h4>
<a id="pgfId-1024678"></a>Example 1</h4>

<p>
<a id="pgfId-1024679"></a>This example configures the chip as a grid with a step of 10 microns and reports an error if the surrounding 100x100 micron square area of a specific grid point is not covered by an area percentage of 60 percent.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024680"></a>COVERAGE POLY LT 0.6 100 10 POLYERR</pre>
<h4>
<a id="pgfId-1024681"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024682"></a>COVERAGE METAL LT 0.5 100 10 METALC1</pre>
<h4>
<a id="pgfId-1024683"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024684"></a>COVERAGE metal1 LT 0.3 100 10&#160;&#160;merr1</pre>

<p>
<a id="pgfId-1024685"></a>This prints the output: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024686"></a>X&#160;&#160;       Y       Ratio</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024687"></a>------------------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024689"></a>100 .23   924.34  0.2 <br />102.5     123.52  0.15<br /></pre>
<h4>
<a id="pgfId-1024690"></a>Example 4</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024691"></a>COVERAGE metal1 LT 0.3 50 10&#160;&#160;OUTPUT merr 1</pre>
<p>
<a id="pgfId-1026358"></a></p>
<div class="webflare-div-image">
<img width="643" height="294" src="images/chap13-16.gif" /></div>
<h4>
<a id="pgfId-1024742"></a>Example 5</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024743"></a>COVERAGE via LT 0.05 RECT&#160;&#160;bondpad&#160;&#160;OUTPUT viabond 1</pre>

<p>
<a id="pgfId-1024744"></a>For each bond pad area, computes this equation: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024745"></a>ratio= (area of vias inside bondpad)/ (area of bondpad)</pre>

<p>
<a id="pgfId-1024746"></a>If the ratio is less than 0.05 the Dracula software reports it.</p>

<h4>
<a id="pgfId-1024748"></a>Example 6</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024749"></a>COVERAGE&#160;&#160;metal LT 0.32 100 20 OUTSQU spa_met SQSZ 18 OUTPUT err 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024750"></a>SIZE metal by 4 tt1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024751"></a>NOT spa_mnet tt1 fsqu OUTPUT fillsqu 1</pre>

<p>
<a id="pgfId-1024752"></a>The above example uses OUTSQU to fill the empty slots of the metal layer. The gap between each fill square is <code>2u(20u-18u)</code>. The filling squares are <code>4u</code> away from the original metal.</p>

<h4>
<a id="pgfId-1024753"></a>Example 7</h4>

<p>
<a id="pgfId-1024754"></a>(Checking and generate rectangles for area filling)</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024755"></a>SIZE BULK by 2.0 mybound</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024756"></a>COVERAGE metal LT 0.2 50 10 BOUND mybound ERRWIN</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024757"></a>GENRECT errwin XYLEN 2.0 3.0 XYGAP 1.0 1.2</pre>

<p>
<a id="pgfId-1024758"></a>(<code>GENRECT</code> generates rectangles that overlap the input layer and would also like to fill the area outside the cell.) </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1024852"></a>The original <code>BULK</code> is already oversized by <code>1 u</code> from cell area. In the above example, the checking boundary is totally oversized from cell area by <code>3.0 u</code>.</div>

<h4>
<a id="pgfId-1024760"></a>Example 8</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024761"></a>COVERAGE met2 LT 0.2 50 10 BOUND cframe output err 1</pre>
<h4>
<a id="pgfId-1037972"></a>Example 9</h4>

<p>
<a id="pgfId-1037973"></a>Given below is an example of range-based density check.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037976"></a>COVERAGE&#160;&#160;O-trapfile&#160;&#160;LT 0.3&#160;&#160;BASLAY&#160;&#160;T-trapfile&#160;&#160;itrapout OUTPUT&#160;&#160;merr 1</pre>
<h4>
<a id="pgfId-1040629"></a><a id="14742"></a>Example 10 - Example for minRatio</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040627"></a></pre>
<div class="webflare-div-image">
<img width="668" height="494" src="images/chap13-17.gif" /></div>

<p>
<a id="pgfId-1040697"></a>For the above layout,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040698"></a>COVERAGE&#160;&#160;<em>met1</em>  LT 0.6  100  50  <code>MIN-RATIO</code> 30 <code>BOUND</code> <em>metbound</em> OUTPUT <em>meterr</em> 0 0</pre>

<p>
<a id="pgfId-1040699"></a>Dracula first checks the area occupied ratio of this check-window:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040700"></a>     <code><em>area occupied ratio</em></code> = ( 75x100 / 100x100 ) = 75 % &gt; <code><em>minRatio</em></code> = 30 % </pre>

<p>
<a id="pgfId-1040701"></a>Thus, it continues to check the density for this check-window: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040702"></a>     density = area of input layer inside the boundary-layer / area of overlap region </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040703"></a>            = ( 75x50 / 75x100 ) = 50 %</pre>

<p>
<a id="pgfId-1040704"></a>Dracula finally outputs the violating check-window into the output layer.</p>

<h4>
<a id="pgfId-1040799"></a><a id="60841"></a>Example 11 - Example for the CENTRIC Option</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040923"></a><code>SIZE BULK BY 4 OM</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040924"></a><code>COVERAGE&#160;&#160;METAL&#160;&#160;GE&#160;&#160;0.55&#160;&#160;4&#160;&#160;2&#160;&#160;BOUND OM&#160;&#160;M55&#160;&#160;OUTPUT OM55 0 0</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040925"></a><code>COVERAGE&#160;&#160;METAL&#160;&#160;GE&#160;&#160;0.55&#160;&#160;4&#160;&#160;2&#160;&#160;CENTRIC&#160;&#160;BOUND OM&#160;&#160;M55C OUTPUT OM55C 0 0</code></pre>
<p>
<a id="pgfId-1040803"></a></p>
<div class="webflare-div-image">
<img width="668" height="562" src="images/chap13-18.gif" /></div>
<h3>
<a id="pgfId-1024647"></a>CUT </h3>
<a id="pgfId-1015077"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CUT{[STRIP]} <code><em>layer-a {layer-b} trapfile</em></code> </pre>
<h4>
<a id="pgfId-1015078"></a>Description</h4>

<p>
<a id="pgfId-1015081"></a>C<a id="marker-1015079"></a><a id="marker-1015080"></a>uts out geometries and uses them to generate a new layer for PRE. The CUT command does not cut polygons, so you must convert all polygons to trapezoids before using the CUT command.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015082"></a>The CUT-TERM command replaces the CUT command. Use CUT-TERM instead of CUT in new rules files.</div>
<p>
<a id="pgfId-1015083"></a>You can use the resistor recognition layer as a terminal layer, but you cannot use layers derived from the resistor recognition layer as a terminal layer. </p>

<h4>
<a id="pgfId-1015084"></a>Checking Methods</h4>
<p><strong>
<a id="pgfId-1015085"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051355"></a> Flat and composite.</p>

<p><strong>
<a id="pgfId-1051360"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051363"></a> PRE and HPRE.</p>

<h4>
<a id="pgfId-1015087"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015089"></a><code>STRIP</code><a id="marker-1015088"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051369"></a> Produces a one-resolution-unit wide strip on opposite edges of any rectangular angle on layer-a. Dracula forms the strip on the inside of the trapezoid being cut. Use the STRIP option only on rectangular geometries.</p>

<p><strong>
<a id="pgfId-1051374"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051377"></a> The layer whose trapezoids are to be cut.</p>

<p><strong>
<a id="pgfId-1051382"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051385"></a> Use with the STRIP option. In the case of parasitic resistors, this layer typically corresponds to the resistor terminal layers generated so far. This layer guides the strip cuts in a direction perpendicular to the flow of current.</p>

<p><strong>
<a id="pgfId-1051390"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051393"></a> The trapezoid file created by the CUT command. The trapfile consists of trapezoids cut from layer-a that satisfy the condition.</p>

<p>
<a id="pgfId-1026451"></a></p>
<div class="webflare-div-image">
<img width="577" height="219" src="images/chap13-19.gif" /></div>
<h3>
<a id="pgfId-1015121"></a><a id="33842"></a>CU<a id="cut-term"></a>T-TERM </h3>
<a id="pgfId-1046535"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CUT-TERM <code><em>cond-layer cont-layer res-layer term-layer</em></code> 
{term-dev} {MAXNS=<code><em>length</em></code>} {MAXWIDTH=<code><em>width</em></code>}
{ALIGN=YES/NO} {45CORNER=<code><em>compenFactor</em></code>}</pre>
<a id="pgfId-1046536"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CUT-TERM[P] <code><em>cond-layer cont-layer res-layer term-layer</em></code> 
{term-dev} {MAXNS=<code><em>length</em></code>} {MAXWIDTH=<code><em>width</em></code>}
{ALIGN=YES/NO} {45CORNER=<code><em>compenFactor</em></code>} {WLRATIO=<code><em>value</em></code>}</pre>
<h4>
<a id="pgfId-1015123"></a>Description</h4>

<p>
<a id="pgfId-1015127"></a>G<a id="marker-1015124"></a><a id="marker-1015125"></a>enerates a resistor body <a id="marker-1015126"></a>layer and a resistor terminal layer from a conduction layer and a contact layer. PRE uses the output resistor body and terminal layers to compute parasitic resistance and capacitance.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015128"></a>You can use the resistor recognition layer as a terminal layer, but you cannot use layers derived from the resistor recognition layer as a terminal layer. </div>
<p>
<a id="pgfId-1015129"></a>The CUT-TERM command cuts the following elements:</p>
<ul><li>
<a id="pgfId-1015130"></a>Contact terminals<br />
<a id="pgfId-1046789"></a>Cuts contact regions from the resistor layer.</li><li>
<a id="pgfId-1015131"></a>Junction terminals<br />
<a id="pgfId-1046790"></a>Cuts junction areas from the resistor layer. A junction is a 90-degree corner, a T-junction, or a cross-shaped junction.</li><li>
<a id="pgfId-1015132"></a>Long wires<br />
<a id="pgfId-1046791"></a>Cuts long geometry strips into smaller segments. A long strip geometry is more accurately represented as a series of RC lumped circuits.</li></ul>





<p>
<a id="pgfId-1015133"></a>CUT-TERM replaces a series of commands previously required to achieve similar results. CUT-TERM is the preferred method for new rules files because it produces more accurate results. However, you can still use the old commands instead of CUT-TERM. For a sample listing of the commands CUT-TERM replaces, refer to the following &#8220;Example&#8221; section.</p>

<h4>
<a id="pgfId-1015134"></a>Checking Methods</h4>
<p><strong>
<a id="pgfId-1015135"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051400"></a> Flat and composite.</p>

<p><strong>
<a id="pgfId-1051405"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051408"></a> PRE and HPRE.</p>

<h4>
<a id="pgfId-1015137"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015138"></a><span class="webflare-courier-new" style="white-space:pre"><em>cond-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051414"></a> Name of the conduction input layer.</p>

<p><strong>
<a id="pgfId-1051419"></a><span class="webflare-courier-new" style="white-space:pre"><em>cont-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051422"></a> Name of the contact input layer. </p>

<p><strong>
<a id="pgfId-1051427"></a><span class="webflare-courier-new" style="white-space:pre"><em>res-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051430"></a> Name of the resistor body output layer. </p>

<p><strong>
<a id="pgfId-1051435"></a><span class="webflare-courier-new" style="white-space:pre"><em>term-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051438"></a> Name of the resistor terminal output layer.</p>

<p><strong>
<a id="pgfId-1051443"></a><span class="webflare-courier-new" style="white-space:pre"><em>term-dev</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051446"></a> All device terminal layers belonging to cond-layer.</p>

<p><strong>
<a id="pgfId-1051451"></a><code>MAXNS=</code><span class="webflare-courier-new" style="white-space:pre"><em>length</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051454"></a> Maximum length of a parasitic resistor device specified as a number of squares. If a resistor exceeds the number of squares you specify (MAXNS), the resistor is partitioned into multiple devices evenly. </p>
<p class="webflare-indent1">
<a id="pgfId-1015144"></a> Each resistor devices formed is smaller than the MAXNS value, and the values are distributed evenly on the resistor. The maximum difference between two sections is 1. For example, if the resistor body is 91, and you specify a MAXNS value of 20, the sections are 19, 18, 18, 18, 18.</p>

<p><strong>
<a id="pgfId-1015145"></a><code>MAXWIDTH=</code><span class="webflare-courier-new" style="white-space:pre"><em>width</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051463"></a><a id="width_example"></a>Value used by the <code>WIDTH</code> command within the command sequence that CUT-TERM executes. The default <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span> is 40. For an example of how CUT-TERM uses <code>MAXWIDTH=</code><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> in the <code>WIDTH</code> command see <strong>Example 1</strong> below. </p>

<p><strong>
<a id="pgfId-1051468"></a><code>ALIGN=</code><span class="webflare-courier-new" style="white-space:pre"><em>YES/NO</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051473"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>If you specify <code>ALIGN=YES</code>, CUT-TERM forms the contact terminal at the alignment edge of the conduction layer and the contact layer. The edge of the terminal layer aligns with the contact as shown below.</p>

<p>
<a id="pgfId-1046713"></a></p>
<div class="webflare-div-image">
<img width="467" height="104" src="images/chap13-20.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1046751"></a> If you specify <code>ALIGN=NO</code> (or, if you do not specify the <code>ALIGN</code> argument), the terminal layer is formed by extending one-half the width of the conduction layer from the contact as shown below.</p>

<p>
<a id="pgfId-1046770"></a></p>
<div class="webflare-div-image">
<img width="466" height="112" src="images/chap13-21.gif" /></div>
<p><strong>
<a id="pgfId-1046744"></a><span class="webflare-courier-new" style="white-space:pre"><em>45CORNER=compenFactor  </em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051482"></a>The number of square to be added as resistance compensation for a 45 degree terminal. The final compensation value will be equal to (sheetResistance*<span class="webflare-courier-new" style="white-space:pre"><em>compenFactor</em></span>). For example, the following layout, the extracted resistance will be, </p>

<p>
<a id="pgfId-1026531"></a></p>
<div class="webflare-div-image">
<img width="469" height="228" src="images/chap13-22.gif" /></div>
<p><strong>
<a id="pgfId-1047086"></a><code>WLRATIO=</code><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051488"></a> This option is only available for use with the <code>CUT-TERM[P]</code> option, which enables creating resistor body and terminal layers when the ratio of the width over the length is less than or equal to the specified <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> (<code>W/L</code> &lt;= <code>WLRATIO)</code>. The default value for <code>WLRATIO</code> is 1.</p>

<h4>
<a id="pgfId-1046874"></a>Option [P]</h4>
<p><strong>
<a id="pgfId-1046108"></a><code>CUT-TERM[P]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051494"></a> The <code>CUT-TERM[P]</code> option supports improved accuracy of parasitic resistor layer cutting for special circumstances. This results in more accurate calculation of the resistor value.</p>
<p class="webflare-indent1">
<a id="pgfId-1046109"></a> 1.) When there is a conducting layer with two contacts and they are placed near the longer side (see below). </p>
<p class="webflare-indent1">
<a id="pgfId-1046870"></a> When the width is greater than the length (<code>W&gt;L</code>) only the terminal layer is created. Using the <code>CUT-TERM[P]</code> option enables creating both the resistor body layer and a resistor terminal layer in these cases.</p>

<p>
<a id="pgfId-1046105"></a></p>
<div class="webflare-div-image">
<img width="468" height="347" src="images/chap13-23.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1046612"></a> 2.) In the following case, the width is greater than the length so only the terminal layer is created for the center piece of the conductive layer below.</p>

<p>
<a id="pgfId-1046650"></a></p>
<div class="webflare-div-image">
<img width="668" height="164" src="images/chap13-24.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1046856"></a> Using the <code>CUT-TERM[P]</code> option enables creating the resistor body layer and terminal layer for each layer.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1047031"></a>In order to provide more accurate extraction there should be two parasitic terminals for each layer (see below):</div>

<p>
<a id="pgfId-1047040"></a></p>
<div class="webflare-div-image">
<img width="668" height="183" src="images/chap13-25.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1046471"></a> You should use the <code>CUT-TERM[P]</code> option only when there are no &#8217;X&#8217; or &#8217;T&#8217; connections of metal lines on the layers. In this case wide resistors will be just wide resistors.</p>

<h4>
<a id="pgfId-1046059"></a>Example 1</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015220"></a>CUT-TERM R_IN C_IN R_OUT T_OUT T_DEV MAXNS=20 MAXWIDTH=50</pre>
<p>
<a id="pgfId-1015221"></a>This runs the following command sequence in flat mode. Angle brackets (&lt;&gt;) surround temporary file names. An asterisk (*) indicates internal modules used by CUT-TERM.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015222"></a>*PXCONT R_IN C_IN &lt;TX&gt;<br /> OR &lt;TX&gt; &lt;TX&gt; &lt;T1&gt;<br /> NOT R_IN &lt;T1&gt; &lt;R1&gt;<br />*PXJUNC R_IN &lt;TX&gt;<br /> OR &lt;TX&gt; &lt;TX&gt; &lt;T2&gt;<br /> NOT &lt;R1&gt; &lt;T2&gt; &lt;R2&gt;<br /> AND       R_IN T_DEV &lt;TC&gt;        ;Add AND and NOT only if <br /> NOT &lt;R2&gt; &lt;TC&gt; &lt;R2&gt;               ;you specify T_DEV.<br /> WIDTH[CR] &lt;R2&gt; LE 50 &lt;R3&gt;        ;50 is the MAXWIDTH value.<br /> NOT &lt;R2&gt; &lt;R3&gt; &lt;T3&gt;   <br /> OR &lt;T1&gt; &lt;T2&gt; &lt;T4&gt;<br /> OR &lt;T3&gt; &lt;T4&gt; &lt;T5&gt;<br /> OR &lt;T5&gt; &lt;TC&gt; &lt;T5&gt;                ;Add only if you specify T_DEV.<br /> CUT STRIP &lt;R3&gt; &lt;T5&gt; &lt;T6&gt;<br /> OR &lt;T5&gt; &lt;T6&gt; &lt;T7&gt;<br /> NOT &lt;R3&gt; &lt;T7&gt; &lt;R4&gt;<br /> *PXLONG &lt;R4&gt; &lt;T8&gt; 20<br /> NOT &lt;R4&gt; &lt;T8&gt; &lt;R5&gt;<br /> OR &lt;T7&gt; &lt;T8&gt; &lt;T9&gt;<br /> OR &lt;T9&gt; &lt;T0&gt; &lt;TA&gt;<br /> SELECT &lt;R5&gt; TOUCH[2:2] &lt;TA&gt; R_OUT<br /> NOT &lt;R5&gt; R_OUT &lt;TB&gt;<br /> OR &lt;TA&gt; &lt;TB&gt; T_OUT</pre>
<p>
<a id="pgfId-1046174"></a>The following modules are internal to CUT-TERM. They are included in this listing to clarify how CUT-TERM works. Do not include them in your rules file.</p>
<ul><li>
<a id="pgfId-1046175"></a>PXCONT cuts contact regions into a terminal layer.</li><li>
<a id="pgfId-1046176"></a>PXJUNC cuts corner, cross-shaped, and T-junctions into a terminal layer.</li><li>
<a id="pgfId-1046177"></a>PXLONG cuts a long strip into shorter segments.</li></ul>



<h4>
<a id="pgfId-1046127"></a>Example 2</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1046128"></a>CUT-TERM[P] R_IN C_IN R_OUT T_OUT T_DEV MAXNS=20 MAXWIDTH=50 WLRATIO = 2.8</pre>

<h4>
<a id="pgfId-1046130"></a>Example 3</h4>

<p>
<a id="pgfId-1046156"></a>In this example <code>WLRATIO</code> = 1</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1046131"></a>CUT-TERM[P] R_IN C_IN R_OUT T_OUT T_DEV MAXNS=20 MAXWIDTH=50</pre>

<h4>
<a id="pgfId-1046134"></a>Example 4</h4>

<p>
<a id="pgfId-1046164"></a>In this case <code>PDRACULA</code> writes <code>WARNING</code> messages and the <code>WLRATIO</code>  is ignored.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1046135"></a>CUT-TERM R_IN C_IN R_OUT T_OUT T_DEV MAXNS=20 MAXWIDTH=50 WLRATIO = 2.8</pre>

<h3>
<a id="pgfId-1025285"></a><a id="36040"></a>DENC</h3>
<a id="pgfId-1025304"></a><a id="marker-1025303"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
DENC[TOEWL] <em>layer1 layer2</em> {LT/RANGE value {value}} {CORNER-CORNER LT/RANGE value1 {value2}} {CORNER-EDGE LT/RANGE value3 {value4}} {CORNER-OICORN LT/RA value5} {CERRGE value6} {OPPGT value} {DEPTHGT value8} {CORRLEN value} {OUTCORR correction-output} {OUTPUT errfile}</pre>
<h4>
<a id="pgfId-1025287"></a>Description</h4>

<p>
<a id="pgfId-1025319"></a>Deep submicron ENC command. It can do metal line end error correction output, and double side enclosure check. It works for flat mode only. For more details about the ENC command, see the &quot;<a href="chap13.html#11039">ENC</a>&quot; command section in this chapter.</p>

<h4>
<a id="pgfId-1015237"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1025348"></a><em>layer1</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051523"></a> First input layer name containing the enclosed polygons.</p>

<p><strong>
<a id="pgfId-1051528"></a><em>layer2</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051531"></a> Second input layer name containing the enclosing polygons.</p>

<p><strong>
<a id="pgfId-1051537"></a><code>[T]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051540"></a> Touch option. It is filtered by all filters.</p>

<p><strong>
<a id="pgfId-1051546"></a><code>[O]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051549"></a> Checks partially outside shapes. It doesn&#8217;t report shapes fully outside. It is not filtered by any filter.</p>

<p><strong>
<a id="pgfId-1051561"></a><code>[E]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051564"></a> Checks external, fully outside shapes. It is not filtered by any filter. Only accepts rectangles in <em>layer1</em>.</p>

<p><strong>
<a id="pgfId-1051569"></a><code>[W]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051572"></a> Similar to<code> ENC[W</code>]. Report the error only if the error edge on the metal is the shorter edge (metal line end). [<code>W</code>] option is not filtered by <code>CERRGE</code>. The [<code>W</code>] option only handles simple shapes as follows. When you use both CERRGE and the [<code>W</code>] option you can check most of the via/metal enclosure cases.</p>

<p>
<a id="pgfId-1026552"></a></p>
<div class="webflare-div-image">
<img width="668" height="122" src="images/chap13-26.gif" /></div>
<p><strong>
<a id="pgfId-1046194"></a><code>[L]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051594"></a> While the [W] option checks only simple shapes, this option was designed to check more complex conditions. The [L] option reports errors only if the error is on a metal line end.</p>
<p class="webflare-indent1">
<a id="pgfId-1046254"></a> The following is a description, how the end of the metal line is identified by this option:</p>
<p class="webflare-indent1">
<a id="pgfId-1046381"></a> 1.) If both angles at the ends of an edge are less than 180 degrees. In Figure 1 below, <code>Case a</code> is the end of a metal line (the thick black line indicates the edge of shape, thin line on the gray background indicates the direction to the inside of the shape). <code>Case b</code> and <code>Case c</code> are not.</p>
<p class="webflare-indent1">
<a id="pgfId-1046395"></a> 2.) The length of the edge on a metal line should be less than its length in an orthogonal direction. In Figure 2 below.the green shaded area is a metal shape, and the blue rectangle is a via. For a violation between the upper left corner of the via and point C, the length of AB is compared with the length of CD. For a violation between the lower left corner of the via and point E, the length of AB is compared with the length of EF.</p>

<p>
<a id="pgfId-1046388"></a></p>
<div class="webflare-div-image">
<img width="668" height="235" src="images/chap13-27.gif" /></div>
<p><strong>
<a id="pgfId-1046389"></a><code>D</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051608"></a> Report the errors if there are at least double CORNER-EDGE errors at a corner.</p>

<p>
<a id="pgfId-1026584"></a></p>
<div class="webflare-div-image">
<img width="668" height="219" src="images/chap13-28.gif" /></div>
<p><strong>
<a id="pgfId-1015260"></a><code>LT/RANGE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051615"></a> If you use<code> LT/RANGE</code> first, <code>CORNER-CORNER</code>,CORNER-EDGE and <code>CORNER-OICOR</code> will be initialized to the specified value, then you can override them.</p>

<p><strong>
<a id="pgfId-1051620"></a><code>CORNER-EDGE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051623"></a> Reports the errors on the corner-to-edge distance</p>

<p><strong>
<a id="pgfId-1051628"></a><code>CORNER-CORNER</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051631"></a> Reports the errors on the corner-to-corner distance. Default value is the same as <code>CORNER-EDGE</code></p>

<p><strong>
<a id="pgfId-1051636"></a><code>CORNER-OICORN</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051639"></a><code>&#160;&#160;&#160;&#160;</code>Reports the errors on the corner-to-outside inner corner distance. Default value is the same as <code>CORNER-EDGE</code>. This argument only works for manhattan shapes</p>

<p><strong>
<a id="pgfId-1051644"></a><code>CERRGE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051647"></a> Reports errors only if the <code>CORNER-CORNER</code> error count of the shape is greater than or equal to the specified value (This argument only works for rectangles). In the following figure, case A will be filtered out automatically, though it has <code>CORNER-CORNER</code> errors.</p>

<p>
<a id="pgfId-1026602"></a></p>
<div class="webflare-div-image">
<img width="676" height="220" src="images/chap13-29.gif" /></div>
<p><strong>
<a id="pgfId-1015295"></a><code>OPPGT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051653"></a> If there is an error, reports the error only if the enclosure of the opposite side is greater than the<code> OPPGT </code>value.<code> </code>The<code> OPPGT </code>must be greater than the <code>CORNER-EDGE</code> value. It is not filtered by CERRGE.</p>

<p>
<a id="pgfId-1026639"></a></p>
<div class="webflare-div-image">
<img width="676" height="118" src="images/chap13-30.gif" /></div>
<p><strong>
<a id="pgfId-1015306"></a><code>DEPTHGT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051659"></a> If the via is inside the T shape, you can use the depth filter. There must be at least 2 <code>CORNER-CORNER</code> , 4 <code>CORNER-EDGE</code>, and 2 <code>OICORN-EDGE </code>situations<code>.</code> (Only works for rectangles. You must use the CERRGE option).</p>

<p>
<a id="pgfId-1026656"></a></p>
<div class="webflare-div-image">
<img width="577" height="173" src="images/chap13-31.gif" /></div>
<p><strong>
<a id="pgfId-1025395"></a><code>WIDLT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051665"></a> Reproduce this error only if the width is less than the specified value. </p>

<p>
<a id="pgfId-1026671"></a></p>
<div class="webflare-div-image">
<img width="577" height="285" src="images/chap13-32.gif" /></div>
<p><strong>
<a id="pgfId-1025393"></a><code>OUTCORR</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051671"></a> Outputs the metal line end error correction&#160;&#160; </p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1015316"></a>The restrictions for this option are as follows:</div>
<ol><li style="list-style-type: none;background-image: none;"><ol><li>
<a id="pgfId-1015317"></a>You must use CERRGE.</li><li>
<a id="pgfId-1015318"></a>The edges of the via must be parallel to the adjacent edges of metal. </li><li>
<a id="pgfId-1015319"></a>The end edge of the metal must not touch the ending edge of the via.</li></ol></li></ol>



<p><strong>
<a id="pgfId-1015320"></a><code>CORRLEN</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051677"></a> Single and triple-corner error correction length. Default value is <code>CORNER-CORNER/sqrt(2).</code></p>

<p><strong>
<a id="pgfId-1051686"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051689"></a> Send the results to an error cell</p>

<p><strong>
<a id="pgfId-1051694"></a><code>errfile</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051697"></a> Error cell file name</p>

<h4>
<a id="pgfId-1015321"></a>Example 1</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015375"></a>DENC VIA METAL LT 0.3 OUTPUT vmerr 1 </pre>

<p>
<a id="pgfId-1026703"></a></p>
<div class="webflare-div-image">
<img width="676" height="547" src="images/chap13-33.gif" /></div>
<h4>
<a id="pgfId-1015376"></a>Example 2</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015377"></a>DENC VIA METAL CORNER-EDGE LT 0.3 CORNER-CORNER LT 0.4 OUTPUT vmerr 1</pre>

<h4>
<a id="pgfId-1015378"></a>Example 3</h4>

<p>
<a id="pgfId-1015379"></a>Using CERRGE to ensure there is enough metal around via</p>
<p class="webflare-indent1">
<a id="pgfId-1015380"></a>Case 1</p>
<p class="webflare-indent1">
<a id="pgfId-1015381"></a>For example, X, not a real value</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015382"></a> DENC[TOE] via metal LT 0.1 OUTPUT vmerr 1</pre>

<a id="pgfId-1015383"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 
DENC[TL] via metal LT 0.2 CORNER-CORNER LT 0.22 CERRGE 1 OUTPUT vmerr 2  sqrt(0.1**2 + 0.2**2) = 0.22</pre>

<p class="webflare-indent1">
<a id="pgfId-1015384"></a>Case 2</p>
<p class="webflare-indent1">
<a id="pgfId-1015385"></a>For example, Y, not a real value.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015386"></a>DENC[TOEL] VIA METAL LT 0.2 CERRGE 1 OUTPUT vmerr 2</pre>

<p>
<a id="pgfId-1026762"></a></p>
<div class="webflare-div-image">
<img width="668" height="548" src="images/chap13-34.gif" /></div>
<div class="ft-figtabl-title">
<a id="pgfId-1015569"></a>Examples of CERRGE and [L] for both Case 1 and Case 2</div>
<p>
<a id="pgfId-1026816"></a></p>
<div class="webflare-div-image">
<img width="668" height="602" src="images/chap13-35.gif" /></div>
<div class="ft-figtabl-title">
<a id="pgfId-1015661"></a>Examples of CERRGE and [L] for both Case 1 and Case 2 (<em>continued</em>)</div>
<p>
<a id="pgfId-1026957"></a></p>
<div class="webflare-div-image">
<img width="668" height="664" src="images/chap13-36.gif" /></div>
<h3>
<a id="pgfId-1015663"></a>DEVTAG</h3>
<a id="pgfId-1038757"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
DEVTAG  <code><em>element</em></code>[<code><em>type</em></code>]  <code><em>layer-b  layer-c</em></code> 
(for tagging from a defined ELEMENT BJT device) </pre>
<a id="pgfId-1038758"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
DEVTAG[L]  <code><em>layer-a  layer-b  layer-c
</em></code>(for tagging from an intermediate layer)</pre>
<a id="pgfId-1038759"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
DEVTAG[S] BJT[<em>type</em>] <em>layer-d layer-e</em></pre>
<a id="pgfId-1038760"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
DEVTAG[LS] <em>layer-c</em> <em>layer-f</em> <em>layer-g</em></pre>
<h4>
<a id="pgfId-1038761"></a>Description</h4>

<p>
<a id="pgfId-1038766"></a>T<a id="marker-1038762"></a><a id="marker-1038763"></a>ags <a id="marker-1038764"></a>multiple layers that are parts of a device with <a id="marker-1038765"></a>device numbers assigned by the device layer. You must define the device in the ELEMENT command before using this command. The <a id="marker-1038767"></a>DEVTAG command <a id="marker-1038768"></a>links device numbers of the layers that form multiple emitter or collector bipolar devices in the layout database. </p>
<p>
<a id="pgfId-1038769"></a>The DEVTAG command tags device number information onto the tagged layer (layer-b) from the tagging layer (device layer or layer-a) when polygons in the <a id="marker-1038770"></a>tagging layer overlap or touch polygons in the tagged layer. The DEVTAG command outputs tagged polygons to output layer-c.</p>
<p>
<a id="pgfId-1038772"></a>Multiple tagging is allowed in <a id="marker-1038771"></a>bipolar devices where you can link a polygon to several devices. When the tagged layer (layer-b) is not directly overlapped to the device layer, an intermediate layer (such as a SIZE layer) can tag the device number information. You do not have to tag the device layer in the <a id="marker-1038773"></a>ELEMENT command. </p>
<p>
<a id="pgfId-1038774"></a>While extracting parameters from a multiple-terminal device, make sure the function or use of all generated layers from which you are extracting parameters represents the exact device (for example, MOS: gate, source-drain, and body; BJT: collector, base, emitter, and so forth). DEVTAG identifies the devices by the layer names you specify in the ELEMENT command. Thus, either the tagged layer you are extracting (layer-b) or the intermediate layers in the tagging sequence must correspond to the functional layers in the ELEMENT command. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1038775"></a>When you use more than one DEVTAG command in a rules file, they must be grouped together. You cannot use any other command between a group of DEVTAG commands. When running an LVSCHK or LPECHK job, the DEVTAG command must be grouped with the LEXTRACT, DEVTAG, LVSCHK, or LPECHK commands.</div>
<p>
<a id="pgfId-1038776"></a>DEVTAG[S] is used when extracting lateral PNP devices that have multi-collectors with one emitter area. Use this command to distribute the emitter area evenly to all the BJT transistors that share the same emitter in the SPICE output.</p>
<p>
<a id="pgfId-1038777"></a>When you use the [LS] option with the DEVTAG command, it means that you are </p>
<ul><li>
<a id="pgfId-1038785"></a>Tagging from an intermediate layer (<em>layer-c</em>), generated from the previous DEVTAG command to the tagged layer <em>(layer-f</em>) and putting the tagged result to the output layer (<em>layer-g</em>)</li><li>
<a id="pgfId-1038786"></a>Distributing the parameter values of the tagged result layer (<em>layer-g</em>) evenly to all the devices that share the same terminal area</li></ul>

<p>
<a id="pgfId-1038787"></a>The LS option is mainly used for multi-collectors with one emitter area and the emitter area is not directly overlapped to the device layer. See the section, &#8220;<a href="chap13.html#24112">Example of Lateral Pnp with Possible Multiple Collector</a>&#8221; for more information. </p>

<h4>
<a id="pgfId-1038791"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1038792"></a><span class="webflare-courier-new" style="white-space:pre"><em>element[type]</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051704"></a> Type of bipolar device used in the ELEMENT BJT[type] command. This ELEMENT[type] is the tagging device for tagging directly from the bipolar device (ELEMENT BJT). For example, BJT[NV] for a vertical npn and BJT[LP] for a lateral pnp. </p>

<p><strong>
<a id="pgfId-1051709"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051712"></a> Tagging (intermediate) layer. This layer must have been previously tagged with a DEVTAG (tagged from a defined ELEMENT BJT device). You must specify the L option. </p>

<p><strong>
<a id="pgfId-1051717"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051720"></a> Tagged layer. Contains groups of polygons, usually of the multiple collectors or emitters of a bipolar device. The specified layer carries the same device number as the tagging layer that touches or overlaps layer-b. </p>

<p><strong>
<a id="pgfId-1051725"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051728"></a> Output layer (intermediate layer) containing trapezoids with tagged device number information. Specify this layer for LPE only. This layer is generated from a previous tagged DEVTAG command.</p>

<p><strong>
<a id="pgfId-1051733"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-d</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051736"></a> Emitter layer of BJT element that you need to distribute.</p>

<p><strong>
<a id="pgfId-1051741"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-e</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051744"></a> Tagging intermediate layer (see <em>layer-a</em> for more information).</p>

<p><strong>
<a id="pgfId-1051749"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-f</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051752"></a> Tagged layer (see <em>layer-b</em> for more information).</p>

<p><strong>
<a id="pgfId-1051757"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-g</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051760"></a> Tagged result layer (see <em>layer-c</em> for more information).</p>

<h4>
<a id="pgfId-1038803"></a>Examples</h4>

<p>
<a id="pgfId-1038804"></a>In this example, the device numbers for BJT[lp] are tagged to oemit, then from oemit to emit and output to emitr. The emit1 is an intermediate layer. Through the DEVTAG command sequence, emitr can be traced back to oemit, which is the emitter layer on the ELEMENT BJT command. For more information, see <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE).&#8221;</a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038808"></a>ELEMENT BJT[lp]&#160;&#160; coll&#160;&#160; coll&#160;&#160; base&#160;&#160; oemit </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038809"></a>DEVTAG&#160;&#160;BJT[lp]&#160;&#160; oemit&#160;&#160;emitl</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038810"></a>DEVTAG[L]&#160;&#160;       emitl  emit   emitr</pre>

<p>
<a id="pgfId-1038811"></a>The following is an example of the type of lateral PNP devices. Since the collectors are used as device recognition layers, there are 4 BJT transistors defined.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038812"></a>PARSET BJT1 AREA&#160;&#160;PERI EA EP</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038813"></a>ELEMENT BJT[LP]&#160;&#160;COLLPN COLLPN BASELPN EMITLPN </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038814"></a>DEVTAG[S] BJT[LP] EMITLPN BMIT1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038815"></a>LEXTRACT BJT1 BMIT1 BY BJT[LP] BJTLP</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038816"></a></pre>
<p>
<a id="pgfId-1038844"></a></p>
<div class="webflare-div-image">
<img width="668" height="414" src="images/chap13-37.gif" /></div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038845"></a>C1,C2,C3,C4: COLLPN</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038846"></a>B: BASELPN</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038854"></a>E: EMITLPN (Area is 100u)</pre>
<h4>
<a id="pgfId-1038856"></a><a id="24112"></a>Example of Lateral Pnp with Possible Multiple Collector</h4>

<p>
<a id="pgfId-1038857"></a>The following is an example for extracting the distributed area &amp; perimeter values of the shared emitter for multiple-collectors BJT device where the emitter area is not directly overlapped to the device layer. The device numbers for BJT[LP] are tagged to ovemit, then from ovemit to <em>emit1</em> and <em>output</em> to <em>temit</em>.</p>
<p>
<a id="pgfId-1038908"></a></p>

<div class="webflare-div-image">
<img width="668" height="325" src="images/chap13-38.gif" /></div>
<h4><em>
<a id="pgfId-1038909"></a>Description</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038910"></a> PARSET&#160;&#160;BJT1&#160;&#160;AREA&#160;&#160;PERI&#160;&#160;EA&#160;&#160;EP&#160;&#160;CA&#160;&#160;CP</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038911"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038912"></a> MODEL = BJT[LP], mpnp</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038913"></a> SCHEMATIC = LVSLOGIC</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038914"></a>....</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038915"></a>*END</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038916"></a>....</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038917"></a>*OPERATION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038918"></a>...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038919"></a>ELEMENT&#160;&#160;   BJT[LP]  coll  coll  buried  ovemit</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038920"></a>...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038921"></a>DEVTAG&#160;&#160;    BJT[LP]  ovemit  emit1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038929"></a>DEVTAG[LS]&#160;&#160;emit1&#160;&#160;  emit    temit</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038930"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038931"></a>LEXTRACT BJT1&#160;&#160;temit&#160;&#160;BY&#160;&#160;BJT[LP]&#160;&#160;BJTLP&#160;&#160;&amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038932"></a>LEXTRACT BJT1&#160;&#160;coll&#160;&#160; BY&#160;&#160;BJT[LP]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038933"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038934"></a>LPECHK</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042950"></a>LPESELECT[S] BJT&#160;&#160;OUTPUT spice</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038935"></a></pre>

<p>
<a id="pgfId-1038936"></a>The SPICE netlist will look like this:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038937"></a>Q3&#160;&#160;count1&#160;&#160; in3&#160;&#160;vcc&#160;&#160;mpnp&#160;&#160;$ CA=400&#160;&#160;CP=80&#160;&#160;EA=200&#160;&#160;EP=40</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038938"></a>Q4&#160;&#160;count2&#160;&#160; in3&#160;&#160;vcc&#160;&#160;mpnp&#160;&#160;$ CA=400&#160;&#160;CP=80&#160;&#160;EA=200&#160;&#160;EP=40</pre>

<p>
<a id="pgfId-1038939"></a>You can see the difference of EA and EP values between the original example (with DEVTAG[L]) and the new example (with DEVTAG[LS])</p>
<p>
<a id="pgfId-1038940"></a>The original one&#8217;s SPICE output looks like this:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038941"></a>Q3&#160;&#160;count1&#160;&#160; in3&#160;&#160;vcc&#160;&#160;mpnp&#160;&#160;$ CA=400&#160;&#160;CP=80&#160;&#160;EA=400&#160;&#160;EP=80</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038942"></a>Q4&#160;&#160;count2&#160;&#160; in3&#160;&#160;vcc&#160;&#160;mpnp&#160;&#160;$ CA=400&#160;&#160;CP=80&#160;&#160;EA=400&#160;&#160;EP=80</pre>
<h3>
<a id="pgfId-1015726"></a><a id="16202"></a>drc<a id="marker-1015725"></a>Antenna</h3>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-0"></a><em>Do not </em>use the <code>drcAntenna</code> information given in the 4.7 version of the <em>Dracula Reference</em>. Instead, use the information given below.</div>

<h4>
<a id="pgfId-1015729"></a>Syntax<a id="marker-1015728"></a></h4>
<a id="pgfId-1015730"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code>drcAntenna</code>(
<code>gate</code>( (<code><em>gateLayer1 polyLayer</em></code>){(<code><em>gateLayer2 polyLayer</em></code>)....})
<code>antenna</code>( <code><em>antLayer1 </em></code>{<code><em>antLayer2</em></code> ...})
<code>diff</code>( <code><em>diffLayer1 {diffLayer2</em></code> ....})
<code>parset</code>( <code>parsetName</code> <code><em>parameter1</em></code> {<code><em>parameter2</em></code>...})
<code>check</code>((<code><em>antLayer1</em></code> (<code>calc</code> <code><em>parFile1 parExpr1</em></code>){(<code>calc</code> <code><em>parFile2 parExpr2</em></code>)...}
                 (<code>chkpar</code> <code>option</code> <code><em>parFile1 refLayer</em></code> 
                   <code>rel_op</code> <code><em>val1</em></code> {<code><em>val2</em></code>} {<code><em>outLayer</em></code>}
                    {(<code>output</code> <code><em>c-name l-num</em></code> {<code><em>data-type</em></code>})})
                 {(<code>chkpar</code> option parFile2 ...) ...}
       )
     {(<code><em>antLayer2</em></code> <code><em>parFile3 parExpr3</em></code>)...}
     )
)</pre>
<h4>
<a id="pgfId-1015731"></a>Description</h4>

<p>
<a id="pgfId-1015732"></a>Simplifies the way you write antenna check rules. </p>
<p>
<a id="pgfId-1015733"></a>The antenna checking summary is written into a <code>printfile.sum</code> file. The <code>printfile</code> is defined in the DESCRIPTION block by PRINTFILE.</p>
<p>
<a id="pgfId-1025204"></a>drcAntenna assumes that all metal layers connected to the diffusion layer are considered as safe and that the top metal layer connected to the I/O pads will be ignored due to the protection circuit.</p>
<p>
<a id="pgfId-1025205"></a><code>drcAntenna</code> supports the cumulated charging methods. The gates not connected to the diffusion layer, but having the same nodal information will be calculated separately because the charging effect might be underestimated if calculated together.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025207"></a>Only one <code>drcAntenna</code> command is allowed in a rules deck.</div>
<p>
<a id="pgfId-1025208"></a>Users do not need to distinguish the type of gates because it makes no difference during antenna checking.</p>
<p>
<a id="pgfId-1025210"></a><code>drcAntenna</code> supports poly and contact checks in the 4.8 version. See Example 4 and Example 5 in the following pages for details.</p>

<h4>
<a id="pgfId-1015741"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015742"></a><code>gate</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051795"></a> The initial value for <code>chkpar</code>. The keyword introducing the layers to be measured for the gate area of the check. It has the following form:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015743"></a><code>gate </code>( (<code><em>gateLayer1 polyLayer</em></code>) {(<code><em>gateLayer2 polyLayer</em></code>)...})</pre>
<p class="webflare-indent1">
<a id="pgfId-1015744"></a> where <span class="webflare-courier-new" style="white-space:pre"><em>gateLayer1</em></span> is derived from <span class="webflare-courier-new" style="white-space:pre"><em>polyLayer</em></span>, and <span class="webflare-courier-new" style="white-space:pre"><em>gateLayer2</em></span> is derived from <span class="webflare-courier-new" style="white-space:pre"><em>polyLayer</em></span>, and so on. Although it is not required, it is better to specify a single <em>gateLayer </em>because if more than one <span class="webflare-courier-new" style="white-space:pre"><em>gateLayer</em></span> is specified, the layers are automatically merged into one internal <span class="webflare-courier-new" style="white-space:pre"><em>gateLayer</em></span>.</p>

<p><strong>
<a id="pgfId-1015745"></a><code>antenna</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051807"></a> Keyword introducing the routing layers to be measured for the antenna area of the check. It has the following form:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015746"></a><code>antenna</code>( <code><em>antLayer1</em></code> {<code><em>antLayer2</em></code> ...}),</pre>
<p class="webflare-indent1">
<a id="pgfId-1015747"></a> where <span class="webflare-courier-new" style="white-space:pre"><em>antLayer1</em></span>, <span class="webflare-courier-new" style="white-space:pre"><em>antLayer2</em></span>, and so on are routing layers.</p>

<p><strong>
<a id="pgfId-1015748"></a><code>diff</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051819"></a> Keyword introducing the diffusion source/drain layers. If any shape in the routing layers is connected to the given diffusion layers, the nets of the shapes are assumed to be connected to diodes and excluded from calculating the antenna area. This argument has the following form:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015749"></a><code>diff(<span class="webflare-courier-new" style="white-space:pre"><em>diffLayer1</em></span><code> {</code><span class="webflare-courier-new" style="white-space:pre"><em>diffLayer2</em></span><code> ...})</code></code></pre>
<p class="webflare-indent1">
<a id="pgfId-1015750"></a> Although it is not required, it is better to use a single <em>diffLayer</em> layer, because if more than one <em>diffLayer</em> layer are specified, the layers are automatically merged into one internal <em>diffLayer</em>.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1015751"></a> If you define more than one type of MOS transistors in your rules deck (for example, NMOS and PMOS transistors) and you manually combine all the separate source or drain layers into one single diffLayer by ORing them all together, you must also specify this single resulting layer in the CONNECT-LAYER sequence in the INPUT-LAYER block and you must use it to establish connectivity via the <code>CONNECT</code> or <code>SCONNECT</code> commands in the OPERATION block.</div>

<p><strong>
<a id="pgfId-1015752"></a><code>parset</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051838"></a> This keyword introducing the parameter set to be used for Dracula to record data. It has the following form:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015753"></a><code>parset( parsetName</code> <code><em>parm1</em></code><code> {</code><code><em>parm2</em></code><code> ...} )</code></pre>

<p><strong>
<a id="pgfId-1015754"></a><code>check</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051847"></a> Keyword that defines the antenna check to be performed after a particular layer is processed. It has the following form:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015755"></a>   <code>check</code>( (<code><em>antLayer1<br /></em></code>      (<code>calc</code> <code><em>parFile1 parExpr1</em></code>) <br />      {(<code>calc</code> <code><em>parFile2 parExpr2</em></code>).... )}<br />      (<code>chkpar</code> <code>option</code> <code><em>parFile1 refLayer </em></code><code>rel_op</code> <code><em>val1<br /></em></code>      {<code><em>val2</em></code>} {<code><em>outLayer1</em></code>}<br />         (<code>output</code> <code><em>c-name l-num </em></code>{<code><em>data-type</em></code>})} ...) <br />      (<code>chkpar</code> <code>option</code> <code><em>parFile2 refLayer </em></code><code>rel_op</code> <code><em>val1 {val2}<br /></em></code>      {<code><em>outLayer2</em></code>}<br />         {(<code>output</code> <code><em>c-name l-num</em></code> {<code><em>data-type</em></code>})} ...)} )<br />   (<code><em>antLayer2<br /></em></code>      (<code>calc</code> <code><em>parFile3 parExpr3</em></code>) <br />      {(<code>calc</code> <code><em>parFile4 parExpr4</em></code>).... }<br />      (<code>chkpar</code> <code>option</code> <code><em>parFile3 refLayer </em></code><code>rel_op</code> <code><em>val1 {val2</em></code>}<br />      {<code><em>outLayer3</em></code>}<br />         {(<code>output</code> <code><em>c-name l-num </em></code>{<code><em>data-type</em></code>})} ... ) <br />      (<code>chkpar</code> option <code><em>parFile4 refLayer </em></code>rel_op <code><em>val1 </em></code>{<code><em>val2</em></code>}<br />      {<code><em>outLayer4</em></code>}<br />         {(<code>output</code> <code><em>c-name l-num</em></code> {<code><em>data-type</em></code>})} ...)} )<br />   )</pre>

<p class="webflare-indent1">
<a id="pgfId-1015756"></a> The <code>calc</code> command specifies what kinds of parameter to be derived from the nodes among multiple layers. The <span class="webflare-courier-new" style="white-space:pre"><em>parExpr</em></span> in the <code>calc</code> command could be expressed in terms of the previous parameters derived from a particular antLayer, which means a cumulated model will be used for calculating that parameter.</p>
<p class="webflare-indent1">
<a id="pgfId-1015757"></a> The <code>chkpar </code>command specifies the conditions to be checked on the parameters calculated from the <code>calc</code> command. You can supply an optional <code>output</code> field to direct the violated shapes from the refLayer to a particular error cell. You can specify one of the following options in the check command.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1039088"></a>
Given the syntax at the beginning of this <code>drcAntenna</code> command, for every antenna layer that you have specified in the <code>drcAntenna</code> syntax, you must also use them in the check sub-function. PDRACULA will not check for completeness of the layers specified in the check sub-function. </div>

<p class="webflare-indent1">
<a id="pgfId-1039089"></a>For example,</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1039090"></a>drcAntenna(
&#160;&#160;&#160;&#160;gate( GATE POLY )
&#160;&#160;&#160;&#160;antenna( M1 M2 M3 M4 )
&#160;&#160;&#160;&#160;diff( PSD )
&#160;&#160;&#160;&#160;parset( ANTP AREA )
&#160;&#160;&#160;&#160;check(
&#160;&#160;&#160;&#160; ( M4 ( calc PARM4=M4.AREA/GATE.AREA )<br />   ( chkpar par PARM4 GATE gt 3 ERR4 output ERR4 1))</pre>
<p class="webflare-indent1">
<a id="pgfId-1039086"></a>Although PDRACULA will not report any syntax error when it compiles, your Dracula job will not complete and will get aborted because only the <code>M4</code> antenna layer was specified in the check sub-function. The <code>M1</code>, <code>M2</code>, and <code>M3</code> layers were not included.</p>

<p><strong>
<a id="pgfId-1015758"></a><code>PAR</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051859"></a> Check the computed AREA ratio as stored in the <span class="webflare-courier-new" style="white-space:pre"><em>parFile</em></span>.</p>

<p><strong>
<a id="pgfId-1051864"></a><code>A</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051867"></a> Check the computed AREA value or ratio as stored in the parFile.</p>

<p><strong>
<a id="pgfId-1051872"></a><code>P</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051875"></a> Check the computed perimeter value or ratio as stored in the parFile.</p>
<p>
<a id="pgfId-1015761"></a>The antenna parameters are calculated right after the <span class="webflare-courier-new" style="white-space:pre"><em>antLayer</em></span> is calculated. These calculations are followed by a <code>chkpar</code> on the <span class="webflare-courier-new" style="white-space:pre"><em>parFile</em></span> subject to the specified condition.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015762"></a>You cannot use this command with the <code>extractParasitic()</code> command. </div>

<h4>
<a id="pgfId-1044412"></a>Diode Area Checking with drcAntenna  </h4>

<p>
<a id="pgfId-1044413"></a>If there is layer name <code>DIODE</code> in the following lines, you can calculate diode ratios at any check level:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044414"></a>DIFF (DIODE)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044415"></a>ANTENNA (antLayer1 {antLayer2 ...} DIODE)</pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044416"></a>The layer name <code>DIODE</code> is only used name to check diode ratios.</div>
<p>
<a id="pgfId-1044417"></a>In this case you can write an expression in the rule such as <code>(calc parFile1 parExpr1)</code>. For example:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044418"></a>(calc parFile2_DIODE parExpr2_DIODE)</pre>
<p>
<a id="pgfId-1044419"></a>Where, <code>parExpr2_DIODE</code> is an expression dependent on <code>DIODE</code> layer parameter (such as DIODE.AREA or&#160;&#160;DIODE.PERI), for example:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044420"></a>(CALC RD1A = DIODE.AREA)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044421"></a>(CALC RD1P = DIODE. PERI)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044422"></a>(CALC RM1A = ME1.AREA/GATE.AREA)</pre>
<p>
<a id="pgfId-1044423"></a>To check antenna ratios for connected and unconnected to diode layers with ratio of corresponding diode value you must write:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044424"></a>(chkpar option parFile1 refLayer rel_op1 val1&#160;&#160;with parFile2_DIODE rel_op2 val2 {(output c-name l-num {data-type})})</pre>
<p>
<a id="pgfId-1044425"></a>Where, <code>rel_op2</code> can be <code>LT</code>; <code>LE</code> or for val2=0 <code>rel_op2</code> is <code>EQ</code>. For example:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044426"></a>(CHKPAR RM1A GATE GT 400 with RD1A LT 0.036 ERMD1A OUTPUT EMD1A 45 )</pre>
<p>
<a id="pgfId-1044427"></a>This rule means that the layer <code>ERMD1A</code> contains gate layer shapes which are connected to metal1 with an area ratio greater than 400 and this metal1 is either connected to diode with an area less than 0.036 or not connected to any diode (diode area equals nil). </p>
<p>
<a id="pgfId-1044428"></a>The <code>DIODE</code> must be the latest layer name for <code>ANTENNA</code> and it must be used a single diffLayer (DIODE) in this case&#160;&#160; (see the <strong>Arguments</strong> for this command). If there is no layer name of <code>DIODE</code>, then <code>ANTENNA</code> runs without the diode check using the prior rule syntaxes without the &#8220;<code>with</code>&#8221; option:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044430"></a>ANTENNA (antLayer1 {antLayer2 ...}) </pre>

<h4>
<a id="pgfId-1015763"></a>Examples</h4>

<p>
<a id="pgfId-1015764"></a>For antenna checking, form the correct connectivity. </p>
<p>
<a id="pgfId-1025626"></a>Attached is a four-metal technology file which contains all the information required for an antenna check. First, you calculate <code>PARME1</code>, partial antenna ratio (<code>PAR</code>) for <code>ME1 </code>after the placement of <code>ME1</code> layer. At that time,<code> ME2</code>, <code>ME3</code> and <code>ME4</code> are not deposited. Next, you find <code>PARME2, PAR </code>for <code>ME2</code>, and <code>PARME3</code>, <code>PAR</code> for <code>ME3</code>, respectively. Finally, after all layers are deposited, you sum up the antenna ratio from <code>PARME1</code>, <code>PARME2</code> and <code>PARME3</code>, which is the sum of the <code>PARs</code> of all nodes connected on top of nodes from the <span class="webflare-courier-new" style="white-space:pre"><em>refLayer</em></span>, <code>GATE</code>. You use the default(sum) mode for choosing the gate area in antenna ratio calculation. You don&#8217;t need to extract <code>ME4</code>, because there is an I/O pad with the protection circuit.</p>

<h4>
<a id="pgfId-1015766"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015767"></a>*DESCRIPTION<br /> ...<br />*END<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015768"></a>*INPUT-LAYER<br /> DIFF = DIFF<br /> POLY = POLY<br /> CONT = CONTACT<br /> ME1  = MET1<br /> ME2  = MET2<br /> ME3  = MET3<br /> ME4  = MET4<br /> VA1  = VI1<br /> VA2  = VI2<br /> VA3  = VI3<br />;CONNECT LAYERS SEQUENCE<br /> CONNECT-LAYER = SDL POLY ME1 ME2 ME3 ME4<br />*END<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015769"></a>*OPERATION<br />;LAYERS DERIVATION<br />;<br /> ANDNOT   DIFF   POLY    GATE    SDL<br />;<br />;********* CONNECT STATEMENTS  ********<br />;<br /> CONNECT  ME4    ME3     BY      VA3<br /> CONNECT  ME3    ME2     BY      VA2<br /> CONNECT  ME2    ME1     BY      VA1<br /> CONNECT  ME1    POLY    BY      CONT<br />...<br />;<br />;ANTENNA PARAMETERS EXTRACTION<br />;<br />drcAntenna(<br />   gate( GATE POLY )<br />   antenna( ME1 ME2 ME3 )<br />   diff( SDL )<br />   parset( ANTP AREA )<br />   check(( ME1 (calc PARME1= ME1.AREA / GATE.AREA)<br />               (chkpar par PARME1 GATE GT 100 errme1 output ERR 1))<br />         ( ME2 (calc PARME2= ME2.AREA / GATE.AREA)<br />               (chkpar par PARME2 GATE GT 100 errme2 output ERR 2))<br />         ( ME3 (calc PARME3= ME3.AREA / GATE.AREA)<br />               (calc CARME=PARM1+PARM2+PARM3)<br />               (chkpar par PARME3 GATE GT 100 errme2 output ERR 3)<br />               (chkpar par CARME  GATE GT 100 errmet output ERR 4))<br />        )<br />   )<br />*END</pre>
<h4>
<a id="pgfId-1015770"></a>Example 2</h4>

<p>
<a id="pgfId-1015771"></a>This example uses the traditional method to do antenna checking.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015772"></a>*DESCRIPTION<br />... <br />*END<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015773"></a>*INPUT-LAYER<br /> NDIFF = NDIFF<br /> PDIFF = PDIFF<br /> POLY  = POLY<br /> CONT  = CONTACT<br /> ME1   = MET1<br /> ME2   = MET2<br /> ME3   = MET3<br /> VA1   = VIA1<br /> VA2   = VIA2<br />;CONNECT LAYERS SEQUENCE<br /> CONNECT-LAYER = SDL NSD PSD POLY ME1 ME2 ME3<br />*END<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015774"></a>*OPERATION<br />;LAYERS DERIVATION<br /> ANDNOT   NDIFF   POLY    NGATE   NSD<br /> ANDNOT   PDIFF   POLY    PGATE   PSD<br /> OR       NSD     PSD     SDL<br /> OR       PGATE   NGATE   GATE<br />;<br />;********* CONNECT STATEMENTS  ********<br />;<br /> CONNECT  ME3    ME2      BY      VA2<br /> CONNECT  ME2    ME1      BY      VA1<br /> CONNECT  ME1    POLY     BY      CONT<br /> CONNECT  ME1    PSD      BY      CONT<br /> CONNECT  ME1    NSD      BY      CONT<br /> CONNECT  ME1    SDL      BY      CONT<br /> ...<br />;<br />;ANTENNA PARAMETERS EXTRACTION<br />;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015775"></a>drcAntenna(<br />   gate( GATE POLY )<br />   antenna( ME1 ME2 ME3 )<br />   diff( SDL )<br />   parset( ANTP AREA )<br />   check(( ME1 (calc PARME1= ME1.AREA/GATE.AREA)<br />               (chkpar par PARME1 GATE GT 100 errme1 output ERR 1))<br />         ( ME2 (calc PARME2=(ME1.AREA+ME2.AREA)/GATE.AREA)<br />               (chkpar par PARME2 GATE GT 100 errme2 output ERR 2))<br />         ( ME3 (calc PARME3=(ME1.AREA+ME2.AREA+ME3.AREA)/GATE.AREA)<br />               (chkpar par PARME3 GATE GT 100 errme2 output ERR 3))<br />        )<br />   )<br />;<br />*END</pre>
<h4>
<a id="pgfId-1015776"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015777"></a>*DESCRIPTION<br />... <br />*END<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015778"></a>*INPUT-LAYER<br /> NPLUS = NPLUS<br /> PPLUS = PPLUS<br /> POLY  = POLY<br /> CONT  = CONTACT<br /> MT1   = MET1<br /> MT2   = MET2<br /> MT3   = MET3<br /> VA1   = VIA1<br /> VA2   = VIA2<br />;CONNECT LAYERS SEQUENCE<br /> CONNECT-LAYER = SDL NSD PSD POLY MT1 MT2 MT3<br />*END<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015779"></a>*OPERATION<br />;LAYERS DERIVATION<br /> ANDNOT   NPLUS   POLY   NGATE   NSD<br /> ANDNOT   PPLUS   POLY   PGATE   PSD<br /> OR       NSD     PSD    SDL<br /> OR       PGATE   NGATE  GATE<br />;<br />;********* CONNECT STATEMENTS  ********<br />;<br /> CONNECT  MT3     MT2    BY     VA2<br /> CONNECT  MT2     MT1    BY     VA1<br /> CONNECT  MT1     POLY   BY     CONT<br /> CONNECT  MT1     PSD    BY     CONT<br /> CONNECT  MT1     NSD    BY     CONT<br /> CONNECT  MT1     SDL    BY     CONT<br />;<br />;ANTENNA PARAMETERS EXTRACTION<br />;<br />drcAntenna(<br />     gate( GATE POLY )<br />     antenna( MT1 MT2 MT3 )<br />     diff( SDL )<br />     parset( ANTP AREA )<br />     check(( MT1 (calc PARM1 = MT1.AREA/MIN.GATE.AREA )<br />             (chkpar par PARM1 GATE  GT 100 EX1)<br />             (chkpar par PARM1 MT1   GT 100 EX2))<br />           ( MT2 (calc PARM2 = (MT1.AREA+MT2.AREA)/MIN.GATE.AREA)<br />             (chkpar par PARM2 GATE  GT 100 EX3)<br />             (chkpar par PARM2 MT2   GT 100 EX4))<br />           ( MT3 (calc PARM3 = (MT1.AREA+MT2.AREA+MT3.AREA)/MIN.GATE.AREA)<br />              (chkpar par PARM3 GATE GT 100 EX5)<br />              (chkpar par PARM3 MT3  GT 100 EX6))<br />          )<br />   )<br />;<br />    OR  EX1  EX3  ERR1<br />    OR  ERR1 EX5  ERRGATE<br />
*END</pre>
<h4>
<a id="pgfId-1025223"></a>Example 4</h4>

<p>
<a id="pgfId-1025224"></a>drcAntenna allows users to do the poly layer antenna check.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025225"></a>drcAntenna(
&#160;&#160;&#160;&#160;gate(GATE POLY)
&#160;&#160;&#160;&#160;antenna(POLY MET1 MET2)
&#160;&#160;&#160;&#160;diff(DIFF)
&#160;&#160;&#160;&#160;parset(ANTP AREA PERI)
&#160;&#160;&#160;&#160;check( 
       (POLY (calc    PARM0 = POLY.AREA/GATE.AREA)
             (chkpar  PARM0 RA 0  500 OUTPUT ER0 01))
       (MET1 (calc    PARM1 = MET1.AREA/GATE.AREA)
&#160;&#160;&#160;&#160;(chkpar  PARM1 RA 0  500 OUTPUT ER1 01))
       (MET2 (calc PARM2 = MET2.AREA/GATE.AREA)
             (calc SUM = PARM0+PARM1+PARM2)
&#160;&#160;&#160;&#160;(chkpar  PARM2 RA 0  500 OUTPUT ER2 01)<br />             (chkpar SUM RA 0 500 OUTPUT ER3 01))<br />))</pre>

<p>
<a id="pgfId-1025242"></a>The reflayer is not specified in <code>chkpar</code>, for example, </p>
<p>
<a id="pgfId-1025243"></a><code>chlpar PARM1 RA 0 500 OUTPUT ER1 01</code> will be considered as:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025244"></a>chlpar PARM1 GATE RA 0 500 OUTPUT ER1 01 &amp;<br />chlpar PARM1 POLY RA 0 500 OUTPUT ER1 02 &amp;<br />chlpar PARM1 MET1 RA 0 500 OUTPUT ER1 03 &amp;</pre>
<h4>
<a id="pgfId-1044681"></a>Example 5</h4>

<p>
<a id="pgfId-1025248"></a>drcAntenna allows you to do a contact layer antenna check, but it should not be specified in the antenna layer. Here is an example for it.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025250"></a>drcAntenna(
&#160;&#160;&#160;&#160;gate(GATE POLY)
&#160;&#160;&#160;&#160;antenna(MET1 MET2)
&#160;&#160;&#160;&#160;diff(DIFF)
&#160;&#160;&#160;&#160;parset(ANTP AREA PERI)
&#160;&#160;&#160;&#160;check((MET1 (calc    PARM1 = MET1.AREA/GATE.AREA)
             (chkpar  PARM1 RA 0  500 OUTPUT ER1 01)
&#160;&#160;&#160;&#160;(calc    PARM2 = CONT.AREA/GATE.AREA)
             (chkpar  PARM2 RA 0  500 OUTPUT ER2 01))
&#160;&#160;&#160;&#160;(MET2 (calc    PARM3 = MET2.AREA/GATE.AREA)
             (chkpar  PARM3 RA 0  500 OUTPUT ER3 01)
&#160;&#160;&#160;&#160;(calc    PARM4 = VAI.AREA/GATE.AREA)<br />             (chkpar  PARM4 RA 0  500 OUTPUT ER4 01)<br />             (calc CARM1 = PARM1+PARM2+PARM3+PARM4)<br />             (chkpar CARM1 RA 0 500 output ER5 01))<br />     )</pre>
<h4>
<a id="pgfId-1044471"></a>Example 6</h4>

<p>
<a id="pgfId-1044473"></a>Diode Area Checking with drcAntenna </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044475"></a>*DESCRIPTION<br />MAG-BEF-GRID=YES<br />INDISK=antenna_0409_3.gds<br />PRIMARY=ANTENNA1<br />OUTDISK=test1.out<br />PRINTFILE=test1<br />MODE=EXEC NOW<br />SYSTEM=GDS2<br />SCALE=0.001 MICRON<br />RESOLUTION=0.001 MICRON<br />LISTERROR=YES<br />KEEPDATA=YES<br />FLAG-NON45=YES<br />FLAG-OFFGRID=YES 0.001<br />FLAG-ACUTEANGLE=YES<br />FLAG-SELFINTERS=YES<br />CNAMES-CSEN=YES <br />*END</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044494"></a>*INPUT-LAYER<br />SUBSTRATE=PSUB 0<br />NWEL=3<br />DIFF=1<br />PO1=41<br />NPLUS=12<br />PPLUS=11<br />SAB=36<br />CONT=39<br />ME1=46 <br />VI1=47<br />ME2=48<br />VI2=49<br />ME3=50<br />VI3=51<br />ME4=52<br />VI4=53<br />ME5=54<br />VI5=55<br />ME6=56<br />PAD=66<br />CONNECT-LAYER = DIODE PSD NSD PO1 ME1 ME2 ME3 ME4 ME5 ME6<br />*END</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044519"></a>*OPERATION<br />SEL DIFF OVERLAP NWEL DIFNW<br />NOT DIFF DIFNW DIFPS<br />
NOT DIFPS PPLUS NDIF
AND DIFNW PPLUS PDIF

AND PO1&#160;&#160;DIFF GATE<br />NOT PDIF PO1 PSD<br />NOT NDIF PO1 NSD<br />OR  PSD  NSD DIODE<br />
CONNECT ME6 ME5 BY VI5
CONNECT ME5 ME4 BY VI4
CONNECT ME4 ME3 BY VI3
CONNECT ME3 ME2 BY VI2
CONNECT ME2 ME1 BY VI1
CONNECT ME1 PO1 BY CONT
CONNECT ME1 PSD BY CONT
CONNECT ME1 NSD BY CONT
CONNECT ME1 DIODE BY CONT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044542"></a>drcAntenna(
GATE( GATE PO1 )
DIFF( DIODE )
ANTENNA( PO1 ME1 ME2 ME3 ME4 ME5 ME6 DIODE )
PARSET( ANT0 AREA PERI )
CHECK(
( PO1 ( CALC RP1A = PO1.AREA/GATE.AREA )
( CALC RDP1A = DIODE.AREA )
( CHKPAR RP1A GATE GT 100 with RDP1A LT 0.005 OUTPUT EP1A 45 ))
( ME1 ( CALC RM1A = ME1.AREA/GATE.AREA )
( CALC RM1CA = RP1A+RM1A )
( CALC RDM1A = DIODE.AREA )
&#160;&#160;&#160;&#160;   ( CHKPAR RM1A GATE GT 400 with RDM1A LT 0.005 ERM1A OUTPUT EM1A 45 )
&#160;&#160;&#160;&#160;   ( CHKPAR RM1CA GATE GT 400 with RDM1A LT 0.005 ERM1CA OUTPUT EM1CA 45 ))
( ME2 ( CALC RM2A = ME2.AREA/GATE.AREA )
( CALC RM2CA = RP1A+RM1A+RM2A )
( CALC RDM2A = DIODE.AREA )
&#160;&#160;&#160;&#160;   ( CHKPAR RM2A GATE GT 400 with RDM2A LT 0.005 ERM2A OUTPUT EM2A 45 )
&#160;&#160;&#160;&#160;   ( CHKPAR RM2CA GATE GT 400 with RDM2A LT 0.005 ERM2CA OUTPUT EM2CA 45 ))
( ME3 ( CALC RM3A = ME3.AREA/GATE.AREA )
( CALC RM3CA = RP1A+RM1A+RM2A+RM3A )
( CALC RDM3A = DIODE.AREA )
&#160;&#160;&#160;&#160;   ( CHKPAR RM3A GATE GT 400 with RDM3A LT 0.005 ERM3A OUTPUT EM3A 45 )
&#160;&#160;&#160;&#160;   ( CHKPAR RM3CA GATE GT 400 with RDM3A LT 0.000 ERM3CA OUTPUT EM3CA 45 ))
( ME4 ( CALC RM4A = ME4.AREA/GATE.AREA )
( CALC RM4CA = RP1A+RM1A+RM2A+RM3A+RM4A )
( CALC RDM4A = DIODE.AREA )
&#160;&#160;&#160;&#160;   ( CHKPAR RM4A GATE GT 400 with RDM4A LT 0.005 ERM4A OUTPUT EM4A 45 )
&#160;&#160;&#160;&#160;   ( CHKPAR RM4CA GATE GT 400 with RDM4A LT 0.005 ERM4CA OUTPUT EM4CA 45 ))
( ME5 ( CALC RM5A = ME5.AREA/GATE.AREA )
( CALC RM5CA = RP1A+RM1A+RM2A+RM3A+RM4A+RM5A )
( CALC RDM5A = DIODE.AREA )
&#160;&#160;&#160;&#160;   ( CHKPAR RM5A GATE GT 400 with RDM5A LT 0.005 ERM5A OUTPUT EM5A 45 )
&#160;&#160;&#160;&#160;   ( CHKPAR RM5CA GATE GT 400 with RDM5A LT 0.005 ERM5CA OUTPUT EM5CA 45 ))<br />( ME6 ( CALC RM6A = ME6.AREA/GATE.AREA )<br />( CALC RM6CA = RP1A+RM1A+RM2A+RM3A+RM4A+RM5A+RM6A )<br />( CALC RDM6A = DIODE.AREA )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044585"></a>    ( CHKPAR RM6A GATE GT 400 with RDM6A LT 0.005 ERM6A OUTPUT EM6A 45 )<br />    ( CHKPAR RM6CA GATE GT 400 with RDM6A LT 0.005 ERM6CA OUTPUT EM6CA 45 ))<br />))<br />*END</pre>
<h3>
<a id="pgfId-1015781"></a>ECONNECT </h3>
<a id="pgfId-1015783"></a><a id="marker-1015782"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ECONNECT  <code><em>elem</em></code>{[<code><em>type</em></code>]}  <code><em>layer</em></code>  CONN/DISC  <code><em>label</em></code>  {<code><em>trapfile</em></code>} OUTPUT  <code><em>c-name  l-num</em></code>  {<code><em>d-num</em></code>}  {&amp;}  </pre>
<h4>
<a id="pgfId-1015784"></a>Description</h4>

<p>
<a id="pgfId-1015787"></a>O<a id="marker-1015785"></a>utputs elements that are <a id="marker-1015786"></a>connected (or disconnected) from a labeled node through a specified layer. </p>

<h4>
<a id="pgfId-1015788"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015789"></a><span class="webflare-courier-new" style="white-space:pre"><em>elem</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051882"></a> Type of element being checked. You must define this element using the ELEMENT command. </p>
<p class="webflare-indent1">
<a id="pgfId-1032424"></a>   MOS = <a id="marker-1015790"></a>MOS devices
   PAD =<a id="marker-1015791"></a> PAD windows 
LDD = LDD devices</p>

<p><strong>
<a id="pgfId-1015792"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051891"></a> Two-letter (A-Z) code that denotes the type of MOS device. Used to differentiate N-channel from P-channel in CMOS or to differentiate MOS devices with different implants.</p>

<p><strong>
<a id="pgfId-1051896"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051899"></a> Layer through which connections are being checked. A layer name of ALL checks all elem and type conductor layers defined in the ELEMENT command. </p>

<p><strong>
<a id="pgfId-1051904"></a><code>CONN/DISC</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051907"></a><code>&#160;&#160;&#160;&#160;</code><a id="marker-1015794"></a>CONN means a connection to the labeled node is a violation. <br />DISC means a disconnection from the labeled node is a violation. </p>

<p><strong>
<a id="pgfId-1051912"></a><span class="webflare-courier-new" style="white-space:pre"><em>label</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051915"></a> Text <a id="marker-1015796"></a>label of the node considered for the check. The label must have text assigned in the layout database and conform to the text rules.</p>

<p><strong>
<a id="pgfId-1051920"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051923"></a> Name of the output file to contain composite trapezoids. Before you perform any subsequent operation on a trapfile, you need to &#8220;OR&#8221; it with itself or with the substrate. This merges the multiple layers.</p>

<p><strong>
<a id="pgfId-1051928"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051938"></a> Sends the results of the operation to an output cell.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015800"></a>The output cell you specify cannot be used as the output of another command.</div>

<p><strong>
<a id="pgfId-1015801"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051944"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system.    If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1051949"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051952"></a>The datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<p><strong>
<a id="pgfId-1051957"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051960"></a> The ampersand indicates a conjunctive rule. This command can be joined to other ECONNECT and NDCOUNT commands.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015804"></a>ECONNECT outputs the device layer of the element. </div>
<p>
<a id="pgfId-1015806"></a>Elements that satisfy the ECONNECT command are collected in an <a id="marker-1015805"></a>output cell. This data in the output cell is the device layer of the element. For silicon-gate MOS, this is the channel region layer. </p>

<h4>
<a id="pgfId-1015807"></a>Examples</h4>

<p>
<a id="pgfId-1015808"></a>The following example checks all MOS P-type elements connected to VSS (the labeled node) through the predefined srcdrn layer. The elements that satisfy the condition are output as cell name cell110 on layer 10. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015809"></a>ECONNECT MOS[P] srcdrn CONN vss OUTPUT cell1 10 </pre>

<p>
<a id="pgfId-1015810"></a>The following example collects all MOS elements connected to VCC through srcdrn. The result is passed on to a second check. The elements that satisfy this condition are connected to VSS through srcdrn. Thus, output cell211 on layer 11 has all transistors connected to power and ground simultaneously through the source/drain layers. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015811"></a>This is an electrical rule violation in an MOS circuit. </div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015812"></a>ECONNECT MOS srcdrn CONN vcc &amp; <br />ECONNECT MOS srcdrn CONN vss OUTPUT cell2 11 </pre>

<p>
<a id="pgfId-1015813"></a>The following example collects all BJT[N] elements connected to VCC through the coll (collector). The result is passed on to a second check. The elements that satisfy this condition are connected to GND through emit (emitter). Thus, the output cell dever115 on layer 15 has all transistors connected to power and ground simultaneously. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015814"></a>ECONNECT BJT[N] coll CONN vcc &amp; <br />ECONNECT BJT[N] emit CONN gnd OUTPUT dever1 15 </pre>
<h3>
<a id="pgfId-1025868"></a><a id="36333"></a>EDGECHK</h3>
<a id="pgfId-1025875"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EDGECHK layer {ANGLE[90/-90]} LENGTH GT value1 {<code><em>trapfile</em></code>} {OUTPUT ERR layerno {datatype}}</pre>
<h4>
<a id="pgfId-1025883"></a>Description</h4>

<p>
<a id="pgfId-1025884"></a>This command checks the length of 45 non-manhattan edge in GATE.</p>

<h4>
<a id="pgfId-1025888"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1025889"></a><code>ANGLE[90]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051967"></a> Manhattan edge (parallel with X-Y axis)</p>

<p><strong>
<a id="pgfId-1051972"></a><code>ANGLE[-90]</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051975"></a>Non-manhattan edge</p>

<p><strong>
<a id="pgfId-1051980"></a><code>LENGTH</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051983"></a> Allowed operations are LT,RA,GT</p>

<p><strong>
<a id="pgfId-1051988"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051991"></a> Output as a trapfile</p>

<p><strong>
<a id="pgfId-1051996"></a><code>[O]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1051999"></a> By default, the output edge is inside the shape. If you use [O], the edge is outside the shape.</p>

<h4>
<a id="pgfId-1025894"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025895"></a>EDGECHK gate ANGLE[-90] LENGTH GT 1.0 OUTPUT ERR 01</pre>
<p>
<a id="pgfId-1027082"></a></p>
<div class="webflare-div-image">
<img width="676" height="213" src="images/chap13-39.gif" /></div>
<h3>
<a id="pgfId-1015817"></a>EDT<a id="edtext"></a>EXT <a id="marker-1042876"></a></h3>
<a id="pgfId-1015818"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EDTEXT = <code><em>text-coordinate-file</em></code> </pre>
<h4>
<a id="pgfId-1015819"></a>Description</h4>

<p>
<a id="pgfId-1015820"></a>Specifies to use text from a text coordinate file in addition to text in the design. The text coordinate file is a free-format, 80-column text file. Each line specifies one text label, its x,y coordinates, and, optionally, its attached layer name. The x,y coordinates contain significant digits equivalent to the resolution.</p>
<p>
<a id="pgfId-1015821"></a>Significant digits is the number of digits behind the decimal point. For example, if you set the resolution to .01, the x,y coordinate should have two digits after the decimal point (such as, .33). If the resolution is .001, the x,y coordinate should have three digits after the decimal point (for example, .333).</p>
<p>
<a id="pgfId-1015822"></a>Text labels not located at two significant digits are rounded up and possibly discarded if they conflict with other text labels at the same coordinate.</p>
<p>
<a id="pgfId-1032439"></a>The text coordinate file can contain spaces, empty lines, tab characters, or comments (;). The comment must be on its own line. You can put the comment starter (;) in the first column of a line, or you can precede it with blank spaces. You cannot put a comment at the end of a line of text in an EDTEXT file. Dracula ignores all text after the comment starter. The following is an example of a valid file: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032440"></a>ABC:I   X=   10  Y= -200<br />VCC     X=  120  Y=   40  Attach=Metal<br />VSS     X= -120  Y=  -40<br />IN      X=  -10  Y=  -10<br />OUT     X=  0.5  Y=   40<br /></pre>

<p>
<a id="pgfId-1032442"></a>If you specify a layer name for <a id="marker-1032441"></a>attaching the text, the text is attached to that layer only. If you do not specify a layer name, the text is attached to one of the layers according to the TEXTSEQUENCE or CONNECT-LAYERS commands. </p>
<p>
<a id="pgfId-1015827"></a>When both the CAD graphics system database and the text coordinate file have different texts at the same location, the CAD system text is discarded. You can override or delete the <a id="marker-1015828"></a>graphics system text. To delete the graphics system text, specify an illegal text (for example, 99) in the EDTEXT file with the same coordinates as the graphics system text.</p>
<p>
<a id="pgfId-1015829"></a>Place the EDTEXT command above the CONNECT command in the Operation block. </p>

<h4>
<a id="pgfId-1015830"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015831"></a>*OPERATION <br />. <br />EDTEXT = ram.txt <br />. <br />. <br />CONNECT metal poly BY cont <br />. <br />. <br />*END</pre>
<h3>
<a id="pgfId-1015833"></a>ELCOUNT </h3>
<a id="pgfId-1015835"></a><a id="marker-1015834"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ELCOUNT  <code><em>elem</em></code> {[<code><em>type</em></code>]}  <code><em>layer  condition  n1</em></code> {<code><em>trapfile</em></code>} OUTPUT  <code><em>c-name l-num</em></code>  {<code><em>d-num</em></code>}  {&amp;} </pre>
<h4>
<a id="pgfId-1015836"></a>Description</h4>

<p>
<a id="pgfId-1015838"></a>C<a id="marker-1015837"></a>ounts the number of elements connected through specific layers in a node. The command outputs the nodes with specified <a id="marker-1015839"></a>element counts to an output cell. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015840"></a>The output cell you specify cannot be used as the output of another command.</div>

<h4>
<a id="pgfId-1015841"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1032445"></a><span class="webflare-courier-new" style="white-space:pre"><em>elem</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052006"></a> Type of element being checked. You must define this element using the ELEMENT command.</p>
<p class="webflare-indent1">
<a id="pgfId-1032447"></a> <a id="marker-1032446"></a>MOS = MOS devices 
<a id="marker-1032448"></a>BJT = Bipolar devices
<a id="marker-1032449"></a>PAD = PAD windows 
LDD = LDD devices</p>

<p><strong>
<a id="pgfId-1015847"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052015"></a> Two-letter (A-Z) code that denotes the type of device. This can differentiate N-channel from P-channel in CMOS or differentiate MOS devices with different implants. </p>

<p><strong>
<a id="pgfId-1052020"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052023"></a>Layer through which the connections are being checked. A layer name of ALL checks all elem and type conductor layers defined in the ELEMENT command. </p>

<p><strong>
<a id="pgfId-1052028"></a><span class="webflare-courier-new" style="white-space:pre"><em>condition n1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052031"></a> The tests according to one of the following conditions: </p>
<p class="webflare-indent1">
<a id="pgfId-1015851"></a><code> </code> where the number (n1) can be an integer between 0 and 63. </p>

<p>
<a id="pgfId-1032882"></a></p>
<table class="webflareTable" id="#id1032884">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032886"></a><code>LT n1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032888"></a>For an element count less than (n1)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032890"></a><code>LE n1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032892"></a>For an element count less than or equal to (n1)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032894"></a><code>EQ n1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032896"></a>For an element count equal to (n1)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032898"></a><code>NE n1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032900"></a>For an element count not equal to (n1)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032902"></a><code>GT n1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032904"></a>For an element count greater than (n1)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032906"></a><code>GE n1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032908"></a>For an element count greater than or equal to (n1)</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1015852"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052041"></a> Name of the output file to contain composite trapezoids. Before you perform any subsequent operation on a trapfile, you need to &#8220;OR&#8221; it with itself or with the substrate. This merges the multiple layers.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1015853"></a>Dracula issues a warning if you specify the same layer for both the input and output layer.</div>

<p><strong>
<a id="pgfId-1015854"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052047"></a> Sends the results of the operation to an output cell. The output cell you specify cannot be used as the output of another command.</p>

<p><strong>
<a id="pgfId-1052052"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052055"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1052060"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052063"></a> Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<p><strong>
<a id="pgfId-1052068"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052071"></a><code>&#160;&#160;&#160;&#160;</code>Indicates a conjunctive rule. This command can be joined to other ELCOUNT and PROBE commands. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015858"></a>When you use ELEMENT PAD, nodes with an ELEMENT PAD attached do not enter into ELCOUNT checks. This also includes all power nodes. ELCOUNT outputs the entire node that is collected. </div>

<h4>
<a id="pgfId-1015859"></a>Examples</h4>

<p>
<a id="pgfId-1015860"></a>This example detects all floating nodes that have no connection with the element through the srcdrn layer. The output cell name is float60. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015861"></a>ELCOUNT MOS srcdrn EQ 0 OUTPUT float 60 </pre>
<p>
<a id="pgfId-1015862"></a>This example detects nodes that are connected to only one MOS element. The output cell name is single60. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015863"></a>ELCOUNT MOS all EQ 1 OUTPUT single 60 </pre>
<p>
<a id="pgfId-1015864"></a>In the following example, the first command collects nodes that are connected to more than 60 elements through the srcdrn layer. The second command checks the nodes further to see if they are connected to predefined pads. The output cell name is bignod40. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015865"></a>ELCOUNT MOS srcdrn GT 60 &amp; <br />ELCOUNT PAD metal EQ 0 OUTPUT bignod 40 </pre>
<p>
<a id="pgfId-1015866"></a>The following example detects nodes that are connected to only one bipolar element. The output cell name is onedev20. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015867"></a>ELCOUNT BJT all EQ 1 OUTPUT onedev 20 </pre>

<h3>
<a id="pgfId-1015869"></a>ELEMENT BJT </h3>
<a id="pgfId-1015870"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ELEMENT BJT{[<code><em>type</em></code>]} <code><em>layer-a layer-b layer-c layer-d</em></code> {<code><em>layer-s</em></code>} </pre>
<h4>
<a id="pgfId-1015871"></a>Description</h4>

<p>
<a id="pgfId-1015875"></a>D<a id="marker-1015872"></a><a id="marker-1015873"></a>efines <a id="marker-1015874"></a>bipolar devices. </p>

<h4>
<a id="pgfId-1015876"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015877"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052078"></a> Two-character code that denotes the type of BJT device. The first character must be any letter from A-Z. The second character is optional and can be any letter from A-Z or any number from 0-9 (except for 8). You can use this code to differentiate BJT devices. For example, vertical npn devices are type NV and lateral pnp devices are type PL. </p>

<p><strong>
<a id="pgfId-1052087"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052090"></a> Device layer, one region per device. This layer defines the device region that touches or overlaps the bipolar conductor layers. For an npn device, this is usually defined by the emitter. For a lateral pnp device, this is usually defined by the collector. </p>

<p><strong>
<a id="pgfId-1052095"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052098"></a> T<a id="marker-1015879"></a>erminal conductor layer for the collector terminal. This layer must carry node information.</p>

<p><strong>
<a id="pgfId-1052103"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052106"></a> Terminal conductor layer for the base terminal. This layer must carry node information.</p>

<p><strong>
<a id="pgfId-1052111"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-d</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052114"></a> Terminal conductor layer for the emitter terminal. This layer must carry node information. </p>

<p><strong>
<a id="pgfId-1052119"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-s</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052122"></a> Substrate terminal layer. If you define this substrate layer, LVS checks for discrepancies or inconsistencies found in the layout or schematic. Discrepancies are reported in the LVS report file. You must also add a CDL definition for substrate.</p>
<b>Note:</b><br />
<a id="pgfId-1041634"></a>
<ul><li>
<a id="pgfId-1041643"></a>ELEMENT BJT should not have terminal layer names with the 3 first letters BJT.</li><li>
<a id="pgfId-1042531"></a>In general, the device layer used for a vertical npn device must be the emitter region because an npn can have multiple emitters. Also, the emitter region overlaps all three terminals of this device. For the lateral pnp, the device layer must be the collector region because a pnp can have multiple collectors. The collector layer does not touch or overlap the emitter layer for its terminal connection. To overcome this, the emitter layer is oversized to overlap the collector device layer and then stamped with node information.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1042615"></a>
Once a layer has been defined as a device or terminal layer, it must not be changed by any operation (mentioned as an output layer) after the ELEMENT command.</div></li></ul>



<h4>
<a id="pgfId-1042532"></a>Examples</h4>

<p>
<a id="pgfId-1015886"></a>In the following example, the enpn is the emitter region and device layer. Layers buried, base, and nplus are the BJT terminal conductors and they must carry node information. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015887"></a>ELEMENT BJT[NV] enpn buried base nplus</pre>
<p>
<a id="pgfId-1015888"></a>In this example, cpnp1 is the collector region and device layer. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015889"></a>ELEMENT BJT[PL] cpnp1 base buried oepnpl</pre>
<p>
<a id="pgfId-1015890"></a>This example shows the ELEMENT command with a substrate layer defined. The name specified here is WELL, but you can specify any name. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015891"></a>ELEMENT BJT[A] BJTW COLL BASE EMIT WELL</pre>
<p>
<a id="pgfId-1015894"></a>For additional discussion and illustrations of bipolar devices, refer to <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE).&#8221;</a> </p>

<h3>
<a id="pgfId-1015897"></a>ELEMENT BOX </h3>
<a id="pgfId-1015898"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ELEMENT <code><em>device</em></code> <code><em>layer-a layer-b</em></code> {<code><em>layer-c</em></code>} {<code><em>layer-d</em></code>} {<code><em>layer-e</em></code>}</pre>
<h4>
<a id="pgfId-1015899"></a>Description</h4>

<p>
<a id="pgfId-1015902"></a>D<a id="marker-1015900"></a><a id="marker-1015901"></a>efines devices with a variable number of terminals. This command lets you define <a id="marker-1015903"></a>special devices (that is, element types other than BJT, CAP, DIO, LDD, MOS, PAD, or RES). </p>

<h4>
<a id="pgfId-1015905"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015907"></a><span class="webflare-courier-new" style="white-space:pre"><em>device</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052129"></a> Three-character name that denotes a <a id="marker-1015906"></a>user-defined device. The name can have only characters A-Z. However, the first character cannot be B, C, D, L, M, P, or R. This name must match the name of an empty .SUBCKT in the netlist corresponding to the ELEMENT BOX.</p>

<p><strong>
<a id="pgfId-1052134"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052137"></a> Device layer, one region per device, that touches or overlaps the device conductor layers. </p>

<p><strong>
<a id="pgfId-1052142"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052145"></a> Position No. 1 <a id="marker-1015909"></a>terminal conductor layer with zero to multiple nodes. This is the conductor layer for the position No. 1 terminal and must carry node information. </p>

<p><strong>
<a id="pgfId-1052150"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052153"></a> Position No. 2 terminal conductor layer with zero to multiple nodes. This is the conductor layer for the position No. 2 terminal and must carry node information. </p>

<p><strong>
<a id="pgfId-1052158"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-d</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052161"></a> Position No. 3 terminal conductor layer with zero to multiple nodes. This is the conductor layer for the position No. 3 terminal and must carry node information. </p>

<p><strong>
<a id="pgfId-1052166"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-e</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052169"></a> Position No. 4 terminal conductor layer with zero to multiple nodes. This is the conductor layer for the position No. 4 terminal and must carry node information. </p>
<b>Note:</b><br />
<a id="pgfId-1042544"></a>
<ul><li>
<a id="pgfId-1042545"></a>ELEMENT BOX should not have terminal layer names with the 3 first letters BOX.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1042623"></a>
Once a layer has been defined as a device or terminal layer, it must not be changed by any operation (mentioned as an output layer) after the ELEMENT command.</div></li></ul>


<h4>
<a id="pgfId-1015914"></a>Example</h4>

<p>
<a id="pgfId-1015915"></a>This example is for a p+ diffusion resistor element with a buried layer underneath the resistor. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015916"></a>ELEMENT ISP pdifres cont buried </pre>
<h3>
<a id="pgfId-1015919"></a><a id="58344"></a>ELEMENT CAP</h3>
<a id="pgfId-1015921"></a><a id="marker-1015920"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ELEMENT  CAP {[<code><em>type</em></code>]}  <code><em>layer-a  layer-b  layer-c </em></code>{<code><em>layer-s</em></code>}  </pre>
<h4>
<a id="pgfId-1015922"></a>Description</h4>

<p>
<a id="pgfId-1015925"></a>D<a id="marker-1015923"></a>efines a <a id="marker-1015924"></a>capacitor device. This command does not define an LPE parasitic element. See also the <a href="chap13.html#68390">PARAMETER CAP</a> section in this chapter.</p>

<h4>
<a id="pgfId-1015929"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015930"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052176"></a> Two-character code that denotes the type of CAP device. The first character must be a letter from A-Z. A second character is optional and can be any letter from A-Z or a number from 0-9 (except 8). This code differentiates capacitor devices. </p>

<p><strong>
<a id="pgfId-1052181"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052184"></a> Device layer, one region per device, that defines the <a id="marker-1015932"></a>capacitor region that touches or overlaps the capacitor conductor layers. </p>

<p><strong>
<a id="pgfId-1052189"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052192"></a> <a id="marker-1015933"></a>Terminal conductor layer for one side of the capacitor. This layer must carry node information. </p>

<p><strong>
<a id="pgfId-1052197"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052200"></a> Terminal conductor layer for the other side of the capacitor. This layer must carry node information. </p>

<p><strong>
<a id="pgfId-1052205"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-s</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052208"></a> Substrate terminal layer. If you define this substrate layer, LVS checks for discrepancies or inconsistencies found in the layout or schematic. Discrepancies are reported in the LVS report file. You must also add a CDL definition for substrate. </p>
<b>Note:</b><br />
<a id="pgfId-1042554"></a>
<ul><li>
<a id="pgfId-1042555"></a>ELEMENT CAP should not have terminal layer names with the 3 first letters CAP.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1042627"></a>
Once a layer has been defined as a device or terminal layer, it must not be changed by any operation (mentioned as an output layer) after the ELEMENT command.</div></li></ul>


<h4>
<a id="pgfId-1015937"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015938"></a>*INPUT-LAYER 
.
.
CONNECT-LAYER=pwell nsd psd pl1 pl2 metal 
*END
*OPERATION 
AND pl1 pl2 p12cap&#160;&#160;&#160;&#160;; poly1 to poly 2 capacitor <br />CONNECT pl1 pl2 BY cont2 <br />CONNECT metal pl2 BY cont1 <br />CONNECT metal pl1 BY cont1 <br />.<br />.<br />ELEMENT CAP[PP] p12cap pl2 pl1 <br />ELEMENT CAP[A] metpwel metal pwell </pre>

<p>
<a id="pgfId-1015939"></a>You can check ELEMENT CAP polarity in LVS or LPE when you specify the P option in LVSCHK or LPECHK. When you specify the P option, you cannot swap layer-b and layer-c. </p>
<p>
<a id="pgfId-1015940"></a>You can also check the ELEMENT CAP type in LVS or LPE when you specify LVSCHK or LPECHK. The schematic CDL netlist must specify the type for the capacitors to check. For more information, refer to Chapter 5, &quot;Compiling Network Descriptions (LOGLVS).&quot;</p>

<h4>
<a id="pgfId-1015941"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015942"></a>*OPERATION <br />. <br />. <br />ELEMENT CAP[PP] p12cap pl2 pl1 <br />ELEMENT CAP[A] metpwel metal pwell <br />. <br />. <br />LVSCHK[P] <br />*END </pre>

<p>
<a id="pgfId-1015943"></a>CDL netlist: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015944"></a>C1 sig1 sig2 3pf $ [PP] or $.MODEL=PP <br />C2 sig3 sig4 1 pf $ [A] or $.MODEL=A </pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015946"></a>LVS checks the <a id="marker-1015945"></a>capacitor type because the CDL netlist has optional subtypes specified with brackets [ ] or with the .MODEL command. It also checks the capacitor polarity when you specify the P option in LVSCHK. This P option does not allow swapping between ELEMENT CAP terminals and the CDL capacitor terminals (that is, pl2 ↔ sig1, pl1 ↔ sig2, metal ↔ sig3, and pwell ↔ sig4). For more information about capacitor polarity checking, refer to Chapter 5, &quot;Compiling Network Descriptions (LOGLVS).&quot;</div>

<h3>
<a id="pgfId-1015948"></a>ELEMENT DIO</h3>
<a id="pgfId-1015950"></a><a id="marker-1015949"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ELEMENT  DIO  {[<code><em>type</em></code>]}  <code><em>layer-a  layer-b  layer-c</em></code> {<code><em>layer-s</em></code>} </pre>
<h4>
<a id="pgfId-1015951"></a>Description</h4>

<p>
<a id="pgfId-1015954"></a>D<a id="marker-1015952"></a>efines the <a id="marker-1015953"></a>P-N junction diode. This command does not define an LPE element. </p>

<h4>
<a id="pgfId-1015955"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015956"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052215"></a> Two-character code that denotes the type of DIO device. The first character must be a letter from A-Z. The second character is optional and can be any letter from A-Z or any number from 0-9 (except 8). This code differentiates diode devices. For example, P-diode to N-substrate devices are [P] type, and N-<a id="marker-1015957"></a>diode to P-well devices are [N] type. </p>

<p><strong>
<a id="pgfId-1052220"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052223"></a> Device layer, one region per device. This layer defines the diode region that touches or overlaps the anode and cathode conductor layers. </p>

<p><strong>
<a id="pgfId-1052228"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052231"></a> A<a id="marker-1052242"></a>node conductor layer for the anode terminal, usually the p+ diffusion or the P-well. This layer must carry node information. </p>

<p><strong>
<a id="pgfId-1052236"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052239"></a> <a id="marker-1052245"></a>Cathode conductor layer for the cathode terminal, usually the n+ diffusion or the N-substrate. This layer must carry node information. </p>

<p><strong>
<a id="pgfId-1052253"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-s</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052256"></a> Substrate terminal layer. If you define this substrate layer, LVS checks for discrepancies or inconsistencies found in the layout or schematic. It reports discrepancies in the LVS report file. You must also add a CDL definition for substrate.</p>
<b>Note:</b><br />
<a id="pgfId-1042560"></a>
<ul><li>
<a id="pgfId-1042561"></a>ELEMENT DIO should not have terminal layer names with the 3 first letters DIO.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1042631"></a>
Once a layer has been defined as a device or terminal layer, it must not be changed by any operation (mentioned as an output layer) after the ELEMENT command.</div></li></ul>


<h4>
<a id="pgfId-1015964"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015965"></a>*INPUT-LAYER 
. 
CONNECT-LAYER=nsub pwell nsd psd poly metal 
*END 
*OPERATION 
. 
AND psd diode pdio&#160;&#160;&#160;&#160;; identify the P+ pdio <br />CONNECT metal nsd BY cont <br />CONNECT metal psd BY cont <br />CONNECT nsd nsub BY ntnsub <br />. <br />ELEMENT DIO[P] pdio psd nsub<br />;For a p+ diode element to the n-substrate. </pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015966"></a>There is no PARAMETER DIO command. To invoke an LVS diode size check, you must use the ELEMENT DIO command and the LVSCHK or LPECHK command with DIOAREA and DIOPERI options. For information about these options, refer to the LVSCHK or LPECHK command and Chapter 5, &quot;Compiling Network Descriptions (LOGLVS).&quot; </div>

<h3>
<a id="pgfId-1039117"></a><a id="37023"></a>ELEMENT IN<a id="marker-1039547"></a>?</h3>
<a id="pgfId-1039341"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ELEMENT <code><em>device</em></code> <em>layer-a</em> <em>layer-b</em> <em>layer-c</em> {<em>layer-s</em>} </pre>

<p>
<a id="pgfId-1039498"></a>The above is the ELEMENT IN? syntax in the &#8220;Operation Block of Commands&#8221; of your rule file when the <a href="chap11.html#28783">PARSET</a> command&#8217;s syntax in the &#8220;Description Block of Commands&#8221; of your rule file is as follows:</p>
<p>
<a id="pgfId-1039487"></a>PARSET =&#160;&#160; pname param1 param2 param3,...paramn</p>
<p>
<a id="pgfId-1041773"></a>The ? in the ELEMENT IN? command stands for any alphabet, but the first 2 characters of the device name definitely need to start with IN.</p>

<h4>
<a id="pgfId-1039319"></a>Description</h4>

<p>
<a id="pgfId-1039320"></a>Allows you to use BOX devices to simulate inductors and extract some important parameters for the inductors, such as the number of turns, diameter of inner circle, etc. and output them to the SPICE netlist file for supporting inductors in layout designs.</p>

<p>
<a id="pgfId-1039479"></a>The first step is to use PARSET command to specify what parameters will be extracted. There are four geometric primitives regarding inductors provided: <code>ID</code>, <code>IN</code>, <code>IW</code>, and <code>IS</code> and one reserved parameter, <code>LL</code>. See the <a href="chap11.html#28783">PARSET</a> command in &#8220;Description Block Commands&#8221; chapter of this manual for more information on these four primitives and reserved parameter. See the &#8220;<a href="chap7.html#14815">Supporting Inductors in Layout Designs Using the PARSET and ELEMENT IN? Commands</a>&#8221; section in the &#8220;Extracting Electrical Parameters (LPE)&#8221; chapter of this manual for information on the different types of inductors.</p>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1042635"></a>
Once a layer has been defined as a device or terminal layer, it must not be changed by any operation (mentioned as an output layer) after the ELEMENT command.</div>
<h4>
<a id="pgfId-1039434"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1039439"></a><span class="webflare-courier-new" style="white-space:pre"><em>device</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052263"></a> User-defined device name with three characters. The first two characters should be IN.</p>

<p><strong>
<a id="pgfId-1052268"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052271"></a> Device layer, one region per device.</p>

<p><strong>
<a id="pgfId-1052282"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052285"></a> Terminal layer for one side of the inductor.</p>

<p><strong>
<a id="pgfId-1052291"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052294"></a> Terminal layer for the other side of the inductor.</p>

<p><strong>
<a id="pgfId-1052299"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-s</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052302"></a> Substrate terminal layer.</p>

<h4>
<a id="pgfId-1039269"></a>Example</h4>

<p>
<a id="pgfId-1039537"></a>Description Block:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039538"></a>PARSET = TEST ID IN IW IS LL</pre>

<p>
<a id="pgfId-1039539"></a>Operation Block:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039273"></a>ELEMENT IND INDSYM&#160;&#160;ME4&#160;&#160; ME5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039274"></a>LEXTRACT TEST INDSYM BY IND INDPAR1 &amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039275"></a>EQUATION LL=ID+IN+IW+IS</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039276"></a>LPESELECT[NY]&#160;&#160;IND output SPICE</pre>
<h3>
<a id="pgfId-1015968"></a>ELEMENT LDD</h3>
<a id="pgfId-1015970"></a><a id="marker-1015969"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ELEMENT LDD {[<code><em>type</em></code>]} <code><em>layer-a layer-b layer-c layer-d</em></code> 
{<code><em>layer-e</em></code>} </pre>
<h4>
<a id="pgfId-1015971"></a>Description</h4>

<p>
<a id="pgfId-1015974"></a>D<a id="marker-1015972"></a><a id="marker-1015973"></a>efines a MOS element whose source and drain cannot be swapped. </p>

<h4>
<a id="pgfId-1015975"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015976"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052310"></a> Two-character code used to denote the type of LDD (lightly doped drain MOS) device. The first character must be a letter from A-Z. The second is optional and can be any letter from A-Z or any number from 0-9 (except 8). This code differentiates MOS devices with different implants. For example, CMOS pull-up devices are P type and pull-down devices are N type. NMOS devices are E, D, and N types. See the following note about the special LDD[X-] type. </p>

<p><strong>
<a id="pgfId-1052315"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052318"></a> Device layer, one region per device. This layer defines the device region that touches or overlaps the device conductor layers. For silicon-gate MOS, this is the channel region layer usually defined by the overlapped area of polysilicon and diffusion. For a gallium arsenic transistor, this is the channel region layer usually defined by the overlapped area of schottky metal and lightly doped diffusion. For metal-gate MOS, this is the gate region usually defined by the thin oxide mask. </p>

<p><strong>
<a id="pgfId-1052323"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052326"></a> G<a id="marker-1015978"></a>ate conductor layer. For silicon-gate MOS, this is the polysilicon layer. For metal-gate MOS, this is the metal layer; for gallium arsenic, this is the schottky metal layer. This layer must carry node information. </p>

<p><strong>
<a id="pgfId-1052331"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052334"></a> L<a id="marker-1015980"></a>ightly doped drain conductor layer. For silicon-gate MOS, this is the self-aligned lightly doped diffusion layer, usually defined by the lightly doped diffusion layer excluding the channel regions. For metal-gate MOS, this is the lightly doped diffusion layer. This layer must carry node information.</p>

<p><strong>
<a id="pgfId-1052339"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-d</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052342"></a> <a id="marker-1015982"></a>Source conductor layer. For silicon-gate MOS, this is the self-aligned diffusion layer, usually defined by the diffusion layer excluding the channel regions. For metal-gate MOS, this is the diffusion layer. This layer must carry node information.</p>

<p><strong>
<a id="pgfId-1052347"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-e</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052350"></a> <a id="marker-1015984"></a>Substrate conductor layer. This substrate layer is for optional use in running LVS or LPE checking substrate connection mismatch. For MOS: usually N-well, P-well, N-substrate, or P-substrate. If you specify this layer, it must carry node information.</p>
<b>Note:</b><br />
<a id="pgfId-1041718"></a>
<ul><li>
<a id="pgfId-1041728"></a>ELEMENT LDD should not have terminal layer names with the 3 first letters LDD.</li><li>
<a id="pgfId-1041731"></a>A special LDD[X-] type stops the generation of pseudo gates when you run an LVS check. To disallow devices from forming pseudo gates, specify an ELEMENT LDD command where the first character type is an X and the second character type is either a letter from A-Z or a number from 0-9 (except 8). This allows LVS to locally stop the formation of pseudo gates in the layout and allows the LVS checking of mixed analog and digital circuits.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1042643"></a>
Once a layer has been defined as a device or terminal layer, it must not be changed by any operation (mentioned as an output layer) after the ELEMENT command.</div></li></ul>




<p>
<a id="pgfId-1015987"></a>The LVSCHK command governs the reduction of devices to inverters and other LVS options the same way as for ELEMENT MOS.</p>
<p>
<a id="pgfId-1015988"></a>To perform LVS, you must define LDD devices on the schematic netlist. There is, however, no special element called LDD in SPICE or other standard simulation packages. Using Circuit Description Language (CDL), you can code LDD devices as MOS devices with the designator LDD[type] specified as a comment:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015989"></a>Mxxxxx nd ng ns {nb} mname {L=val1} {W=val2} $LDD[type]</pre>
<h4>
<a id="pgfId-1015990"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015991"></a>ELEMENT LDD[N] GNDX POLY1 NDDIF1 NDIF1 PWELL1</pre>
<h3>
<a id="pgfId-1015994"></a><a id="17259"></a>ELEMENT MOS</h3>
<a id="pgfId-1015996"></a><a id="marker-1015995"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ELEMENT MOS {[<code><em>type</em></code>]} <code><em>layer-a layer-b layer-c</em></code> {<code><em>layer-d</em></code>} </pre>
<h4>
<a id="pgfId-1015997"></a>Description</h4>

<p>
<a id="pgfId-1016000"></a>D<a id="marker-1015998"></a>efines metal or silicon-gate <a id="marker-1015999"></a>MOS devices.</p>

<h4>
<a id="pgfId-1016001"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1016002"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052357"></a> Two-character code to denote the type of MOS device. The first character must be a letter from A-Z. The second is optional and can be any letter from A-Z or any number from 0-9 (except 8). This code differentiates MOS devices with different implants. For example, CMOS pull-up devices are [P] type and pull-down devices are [N] type. NMOS devices are [E], [D], and [N] types. See the note below on the special ELEMENT MOS[X-] type. </p>

<p><strong>
<a id="pgfId-1052362"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052365"></a> Device layer, one region per device. For silicon-gate MOS, this is the channel region layer usually defined by the overlapped area of polysilicon and diffusion. For a gallium arsenic transistor, this is the channel region layer usually defined by the overlapped area of schottky metal and lightly doped diffusion. For metal-gate MOS, this is the gate region usually defined by the thin oxide mask. </p>

<p><strong>
<a id="pgfId-1052370"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052373"></a> G<a id="marker-1016004"></a>ate conductor layer. For silicon-gate MOS, this is the polysilicon layer. For metal-gate MOS, this is the metal layer. For gallium arsenic, this is the schottky metal layer. This layer must carry node information. </p>

<p><strong>
<a id="pgfId-1052378"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052381"></a> S<a id="marker-1016006"></a>ource/drain conductor layer. For silicon-gate MOS, this is the self- aligned diffusion layer, usually defined by the diffusion layer excluding the channel regions. For metal-gate MOS, this is the diffusion layer. This layer must carry node information. </p>

<p><strong>
<a id="pgfId-1052386"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-d</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052389"></a> Substrate conductor layer. This substrate layer is optional when you run LVS or LPE checking substrate connection mismatch. For MOS: usually N-well, P-well, N-substrate, or P-substrate. If you specify this layer, it must carry node information. </p>
<b>Note:</b><br />
<a id="pgfId-1041734"></a>
<ul><li>
<a id="pgfId-1041799"></a>ELEMENT MOS should not have terminal layer names with the 3 first letters MOS.</li><li>
<a id="pgfId-1041802"></a>A special MOS[X-] type stops the generation of pseudo gates when you run an LVS check. To disallow devices from forming pseudo gates, specify an ELEMENT MOS command where the first character type is an X and the second character type is either a letter from A-Z or a number from 0-9 (except 8). This allows LVS to locally stop the formation of pseudo gates in the layout and allows the LVS checking of mixed analog and digital circuits.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1042647"></a>
Once a layer has been defined as a device or terminal layer, it must not be changed by any operation (mentioned as an output layer) after the ELEMENT command.</div></li></ul>



<h4>
<a id="pgfId-1016010"></a>Examples</h4>

<p>
<a id="pgfId-1016011"></a>In this example, the MOS[X] transistor forms pseudo gates for LVS. The MOS[XN] transistor is not allowed to form pseudo gates and remain as a transistor in an LVS run. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016012"></a>ELEMENT MOS[N]    ngate    poly   nsd   pwell <br />ELEMENT MOS[D]    depchnl  poly   srcdrn <br />ELEMENT MOS[N]    nchnl    metal  diff <br />ELEMENT MOS       chnl     poly   srcdrn <br />ELEMENT MOS[P]    oxide    metal  diff  nsub <br />ELEMENT MOS[X]    xgate    poly   nsd   pwell <br />ELEMENT MOS[XN]   xngate   poly   nsd   pwell <br /></pre>
<h3>
<a id="pgfId-1016014"></a>ELEMENT PAD </h3>
<a id="pgfId-1016016"></a><a id="marker-1016015"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ELEMENT PAD <code><em>layer-a layer-b </em></code></pre>
<h4>
<a id="pgfId-1016017"></a>Description</h4>

<p>
<a id="pgfId-1016019"></a>D<a id="marker-1016018"></a>efines the pads of a chip, eliminating false ERC errors related to the pads when you use the ELCOUNT and PATHCHK commands. </p>

<h4>
<a id="pgfId-1016020"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1016021"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052396"></a> Layer defining the protective oxide opening over the pad area. </p>

<p><strong>
<a id="pgfId-1052401"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052404"></a> Conductor layer from pad to circuit. This layer must carry node information.</p>
<b>Note:</b><br />
<a id="pgfId-1042583"></a>
<ul><li>
<a id="pgfId-1042584"></a>ELEMENT PAD should not have terminal layer names with the 3 first letters PAD.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1042651"></a>
Once a layer has been defined as a device or terminal layer, it must not be changed by any operation (mentioned as an output layer) after the ELEMENT command.</div></li></ul>


<h4>
<a id="pgfId-1032478"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032479"></a>ELEMENT PAD   vapox    metal <br />ELEMENT PAD   padwin   metal <br />ELEMENT PAD   vapox    metal2 <br /></pre>
<h3>
<a id="pgfId-1032481"></a>ELEMENT RES</h3>
<a id="pgfId-1016028"></a><a id="marker-1016027"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ELEMENT  RES  {[<code><em>type</em></code>]}  <code><em>layer-a  layer-b</em></code> {<code><em>layer-s</em></code>} </pre>
<h4>
<a id="pgfId-1016029"></a>Description</h4>

<p>
<a id="pgfId-1016032"></a>D<a id="marker-1016030"></a>efines a <a id="marker-1016031"></a>resistor device (poly, diffusion, thin-film, and so forth). This command does not define an LPE element. </p>
<p>
<a id="pgfId-1016033"></a>You can check ELEMENT RES type in LVS or LPE when you specify LVSCHK or LPECHK. The schematic CDL netlist must specify the type for the resistors to check. Refer to Chapter 5, &quot;Compiling Network Descriptions (LOGLVS).&quot;</p>

<h4>
<a id="pgfId-1016034"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1016035"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052411"></a>Two-character code that denotes the type of RES device. The first character must be A-Z. The second is optional and can be A-Z or 0-9 (excluding the number 8). This code differentiates among <a id="marker-1016036"></a>resistor devices. For example, P-diffusion devices are [PD] type and poly devices are [PO] type.</p>

<p><strong>
<a id="pgfId-1052416"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052419"></a> Device layer, one region per device. This layer defines the resistor region that touches or overlaps the resistor conductor layers. </p>

<p><strong>
<a id="pgfId-1052424"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052427"></a> <a id="marker-1016038"></a>Terminal conductor layer usually defined by a conductor layer excluding the resistor region (layer-a). This layer must carry node information. </p>

<p><strong>
<a id="pgfId-1052432"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-s</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052435"></a>   Substrate terminal layer. If you define this substrate layer, LVS checks for discrepancies or inconsistencies found in the layout or schematic. LVS reports discrepancies in the LVS report file. You must also add a CDL definition for substrate.</p>
<b>Note:</b><br />
<a id="pgfId-1042589"></a>
<ul><li>
<a id="pgfId-1042590"></a>ELEMENT RES should not have terminal layer names with the 3 first letters RES.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1042655"></a>
Once a layer has been defined as a device or terminal layer, it must not be changed by any operation (mentioned as an output layer) after the ELEMENT command.</div></li></ul>


<h4>
<a id="pgfId-1016041"></a>Example 1</h4>

<p>
<a id="pgfId-1016042"></a>For a poly resistor element:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016043"></a>AND ipoly res pores&#160;&#160;&#160;&#160;; digitized resistor mask <br />NOT ipoly pores poly <br />ELEMENT RES[PO] pores poly </pre>
<h4>
<a id="pgfId-1016044"></a>Example 2</h4>

<p>
<a id="pgfId-1016045"></a>For a p+ diffusion resistor element:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016046"></a>SELECT pdiff LABEL[R] R? pdifres <br />STAMP cont BY metal <br />ELEMENT RES[PD] pdifres cont </pre>
<h4>
<a id="pgfId-1016047"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016048"></a>ELEMENT RES[PO] pores poly <br />ELEMENT RES[PD] pdifres cont <br />. <br />. <br />LVSCHK <br />*END</pre>

<p>
<a id="pgfId-1016049"></a>CDL netlist: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016050"></a>R1 sig1 sig2 3k $[PO] or $.MODEL=PO <br />R2 sig3 sig4 1k $[PD] or $.MODEL=PD </pre>

<p>
<a id="pgfId-1016051"></a>LVS checks the resistor subtype because the CDL netlist specifies the option subtypes either with the brackets [ ] or with the .MODEL command.</p>

<h3>
<a id="pgfId-1016053"></a><a id="11039"></a>ENC</h3>
<a id="pgfId-1032535"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ENC {[ ]} <code><em>layer-a</em></code> {&amp;<code><em>layer-a1</em></code>}[ ]  <code><em>layer-b</em></code> {&amp;<code><em>layer-b1</em></code>} LT/LE/EQ/RANGE/SELLT/SELLE/SELGT/SELGE/SELEQ/SELNE/SELRA <code><em>n1</em></code> {<code><em>n2</em></code>} {CORNER-CORNER n2} {CORNER-EDGE n3} {<code><em>trapfile</em></code>} {OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} {&amp;}</pre>
<h4>
<a id="pgfId-1016055"></a>Description</h4>

<p>
<a id="pgfId-1016058"></a>D<a id="marker-1016056"></a><a id="marker-1016057"></a>etermines the degree that layer-b polygons partially or fully enclose layer-a polygons. This command measures between the outer edges of the polygons being enclosed and the inner edges of the enclosing polygons.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042305"></a>The ENC command will not flag violations between obtuse angled edges.</div>

<h4>
<a id="pgfId-1047247"></a>Shell environment variables</h4>

<ul><li>
<a id="pgfId-1047297"></a><code>setenv SPAC_LISTERR_DIGIT [ 2 | 3 ] </code><br />
<a id="pgfId-1047298"></a>Use this environment variable to set number of digits after the decimal point for EXT/ENC/WIDTH/INT log report.</li></ul>


<h4>
<a id="pgfId-1047245"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1016060"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052442"></a> Flat, cell, hierarchical, and composite.</p>

<p><strong>
<a id="pgfId-1052454"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052457"></a> HDRC.</p>

<h4>
<a id="pgfId-1016062"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1016063"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052463"></a> First input layer name containing the enclosed polygons.</p>

<p><strong>
<a id="pgfId-1052468"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052471"></a> Second input layer name containing the enclosing polygons.</p>

<p><strong>
<a id="pgfId-1052476"></a><code>&amp;</code><span class="webflare-courier-new" style="white-space:pre"><em>layer-a1</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052479"></a>Renames (<a id="marker-1016065"></a>conjunctive rename) the layer containing the error flags. The original layer name is then restored to the original layer. Do not put a space between the layer-a and &amp;layer-a1 names; for example, poly&amp;rpoly.</p>

<p><strong>
<a id="pgfId-1016067"></a><code>&amp;</code><span class="webflare-courier-new" style="white-space:pre"><em>layer-b1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052486"></a> Same as &amp;layer-a1 except that it refers to layer-b.</p>

<p><strong>
<a id="pgfId-1052491"></a><code>measurement</code> <code>operation</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052499"></a>Measures between the outside edge segments of the enclosed polygons (in layer-a) and the inside edge segments of the enclosing polygons (in layer-b). Compares the measurements against the limits you specify and flags violations. </p>
<p class="webflare-indent1">
<a id="pgfId-1016069"></a> You must supply only one of these measurements:</p>

<p>
<a id="pgfId-1032916"></a></p>
<table class="webflareTable" id="#id1032494">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032496"></a><code>LT/LE n1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032498"></a>Flags an error if the two segments are spaced less than n1 for LT or less than or equal to n1 for LE. Does not flag an error if segments touch or overlap. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032500"></a><code>EQ n1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032502"></a>Flags an error if the two segments are spaced equal to n1.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032504"></a><code>RANGE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1 n2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032506"></a>Flags an error if the two segments are spaced less than n2 and greater than n1. If you do not want acute angles to be flagged, specify the RANGE measurement.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032508"></a><code>SELGT/SELGE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032510"></a>SELGT outputs in trapezoid format all the layer-a polygons that the program does not flag when you specify an <em>LE</em> measurement with the same options. <em>SELGE</em> has the same function as <em>SELGT</em> except that it works opposite from an <em>LT</em> operation. Do not use the OUTPUT statement with this option. Specify a trapfile name instead. Use this check in flat and cell modes only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032512"></a><code>SELLT/SELLE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032514"></a>SELLT and SELLE output in trapezoid format the same layer-a polygons associated with the errors that Dracula flags when you specify an <em>LT n1</em> or an <em>LE n1</em> and use the same options. Specify a trapfile name instead of using the OUTPUT statement. Use this check in flat and cell modes only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032516"></a><code>SELEQ/SELNE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032518"></a>SELEQ and SELNE output in trapezoid format the same layer-a polygons associated with the errors that Dracula flags when you specify an <em>EQ n1</em> or an <em>NE n1</em> and use the same options. Specify a trapfile name instead of using the OUTPUT statement. Use this check in flat and cell modes only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032520"></a><code>SELRA </code><span class="webflare-courier-new" style="white-space:pre"><em>n1 n2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032522"></a>SELRA outputs in trapezoid format the same layer-a polygons associated with the errors that Dracula flags when you specify a RANGE n1 n2 measurement with the same options. Specify a trapfile name instead of using the OUTPUT statement.</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1016077"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052509"></a> The trapezoid file name. Use this option only with the R or R&#39; option or with SELLT, SELLE, SELGT, SELGE, or SELRA operations. </p>

<p><strong>
<a id="pgfId-1052514"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052517"></a> Sends the results to an output cell.</p>

<p><strong>
<a id="pgfId-1052522"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052525"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system.</p>
<p class="webflare-indent1">
<a id="pgfId-1032538"></a> If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1016080"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052534"></a> The datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<p><strong>
<a id="pgfId-1052539"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052542"></a> The ampersand sign indicates a conjunctive rule.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1016082"></a>The output cell contains clean polygons in polygon format, resulting in reduced trapezoid construction lines and a more compact cell. The trapfile option and OUTPUT command are mutually exclusive.</div>

<h4>
<a id="pgfId-1016083"></a>Command Options</h4>

<p>
<a id="pgfId-1016089"></a>Options that are applicable to hierarchical Dracula are indicated with an <img width="37" height="23" src="images/chap13-40.gif" />
 icon in the margin. The plus (+) in an option adds <a id="marker-1016090"></a>error flags. The minus (-) in an option removes error flags. </p>

<p><strong>
<a id="pgfId-1042611"></a><code>B</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052551"></a> Flags the actual part of a violation on a segment instead of the entire segment. This option can be applied only with LT or LE modifiers. Neither RA, GT, nor GE modifiers can contain the B option.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1052557"></a>Causes round-off side effects on non-45-degree edges.</div>

<p><strong>
<a id="pgfId-1016091"></a><code>C</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052582"></a> (-) Flags the edge-pair when the edges are <a id="marker-1052571"></a>parallel. </p>

<p><strong>
<a id="pgfId-1052587"></a><code>C&#39;</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052590"></a>(-) Inverse of C option. Flags <a id="marker-1052573"></a>non-parallel edges. </p>

<p><strong>
<a id="pgfId-1052595"></a><code>E</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052598"></a> (+) Flags polygons from layer-a that are totally <a id="marker-1048791"></a>outside polygons from layer-b. Performs an enclosure test in parallel with other functions performed by the ENC command.</p>

<p><strong>
<a id="pgfId-1052604"></a><code>F</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052607"></a><code>&#160;&#160;&#160;&#160;</code>Outputs error flags in trapezoid format that execute information for edge-sizing SIZE[E] operations.</p>

<p><strong>
<a id="pgfId-1052612"></a><code>F&#8217;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052615"></a> Outputs error flags in trapezoid format. You must specify only <em>trapfile</em> name. It is similar to <code>R</code> option but does not turn on the <code>P</code> option.</p>

<p><strong>
<a id="pgfId-1052620"></a><code>N</code> </strong></p>
<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-41.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1052623"></a>(-) Does not flag violations on the enclosed and the <a id="marker-1048857"></a>enclosing polygons if they are part of the same node. Use the CONNECT command to connect nodes before using this option. This option checks nodes on the composite plane and cell plane.</p>

<p><strong>
<a id="pgfId-1052633"></a><code>N&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052636"></a> (-) Inverse of N option. Flags violations on the enclosed and the enclosing polygons if they are part of the same node. Use the CONNECT command to establish nodal connectivity before using this option. This option checks nodes on the composite plane and cell plane.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-42.gif" /></div>
<p><strong>
<a id="pgfId-1052641"></a><code>O</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052644"></a> (+) Flags layer-a <a id="marker-1016108"></a>polygons and layer-b polygons that cut/overlap each other. The violation flag covers the edge segments of layer-b that intersect layer-a. Within a conjunctive rule, only layer-b (the enclosing layer) receives error flags.</p>

<p><strong>
<a id="pgfId-1052649"></a><code>P</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052652"></a> (-) Flags segments of edges that project onto each other. Two edges project if erpendicular lines from a referenced edge <a id="marker-1042853"></a>intersect the other edge. The referenced edge is the edge most closely aligned to the x or y axis. The intersection portions define the error segments generated.</p>

<p><strong>
<a id="pgfId-1052658"></a><code>P&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052661"></a> (-) Inverse of the P option. Flags edges that do not project onto each other. </p>

<p><strong>
<a id="pgfId-1052666"></a><code>Q</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052669"></a> Lets you extend the error marker values in the upper boundary for an upper value of enclosure. You can use this option only in the ENC command along with the [T] option and conjunctive length checking. <br />
By default, Dracula does not do the extension. But, if you need the extension, you need to use this Q option.</p>

<p><strong>
<a id="pgfId-1052674"></a><code>R</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052677"></a> Outputs in trapezoid format the <a id="marker-1016113"></a>trapezoids enclosing the projection of violation flag pairs. A projected reference edge is the violation edge aligned closest to the x or y axis that projects orthogonally from that reference edge. Specify the output layer only. Do not specify the OUTPUT error cell. This option turns on the P option. </p>

<p><strong>
<a id="pgfId-1052682"></a><code>R&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052685"></a> Outputs error flags in trapezoid format so you can reuse error data. You can process the layer created by the error flags with logical operations. The flags are one resolution unit wide as specified in the Description block, and extend to the outside edge of the layers. Do not specify an OUTPUT error cell when you use this option. Do not use this option with the R option.</p>

<p><strong>
<a id="pgfId-1052690"></a><code>S</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052693"></a> (+) <a id="marker-1042868"></a>Flags violations on the enclosed and enclosing polygons if edges of an enclosing polygon are within a &#8220;square boundary&#8221; and outside the other polygon. When you use this option, you can also specify the CORNER-CORNER and CORNER-EDGE options. The default values for n2 and n3 are n1. If you do not specify the CORNER-CORNER option, n2 is set equal to n1. If you do not specify CORNER-EDGE option, n3 is set equal to n1. Use the following syntax for these options:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016117"></a><code>ENC[S] layer1 layer2 LT n1 {CORNER-CORNER n2} {CORNER-EDGE n3}</code></pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1016118"></a>The CORNER-CORNER checking value, n2, and the CORNER-EDGE value, n3, cannot be greater than the normal checking value, n1, because n2 and n3 act like filters and reduce the number of errors that were initially caught by n1.</div>
<p class="webflare-indent1">
<a id="pgfId-1016119"></a> Only 90 degree angles are treated as &quot;CORNER.&quot;</p>

<p><strong>
<a id="pgfId-1016120"></a><code>T</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052706"></a> (+) Flags outside segments of enclosed polygons (layer-a) that touch inside segments of enclosing polygons (layer-b). </p>
<p class="webflare-indent1">
<a id="pgfId-1039803"></a> For the ENC[T] functionality, the Q option bas been added to the code. Historically, Dracula incorrectly marked error markers in the case of the following sequence of checks:

<code>ENC[T] .... &amp;
LENGTH</code></p>
<p class="webflare-indent1">
<a id="pgfId-1039804"></a> The Q option in the ENC command lets you extend the error marker values in the upper boundary for an upper value of enclosure. Now, by default Dracula does not do the extension. But, if you still need this extension, you can use the [Q] option which puts back this extension.</p>

<p><strong>
<a id="pgfId-1016126"></a><code>U</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052718"></a> (-) Does not flag violations on the enclosed and the enclosing polygons if they are part of the same node. Use the CONNECT command to connect nodes before using this option. Checks data on the cell plane, on the composite plane, and between the cell and composite planes.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-43.gif" /></div>
<p><strong>
<a id="pgfId-1052723"></a><code>U&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052726"></a> (-) Inverse of U option. Flags violations on the enclosed and the enclosing polygons if they are part of the same node. Use the CONNECT command to connect nodes before using this option. Checks data on the cell plane, on the composite plane, and between the cell and composite planes.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-44.gif" /></div>
<p><strong>
<a id="pgfId-1052731"></a><code>V</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052734"></a> (+) Checks the outside edge of layer-a to the inside edges of all surrounding geometries of layer-b.</p>

<p>
<a id="pgfId-1027100"></a></p>
<div class="webflare-div-image">
<img width="680" height="265" src="images/chap13-45.gif" /></div>
<p><strong>
<a id="pgfId-1016148"></a><code>W</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052740"></a> Filters out errors that are not at the end of the metal line. The [W] option turns on the [P] option automatically.</p>

<p><strong>
<a id="pgfId-1052745"></a><code>X</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052748"></a> Checks the delta value in the x direction between two edges. The edges must project onto each other. Does not check non-Manhattan data.</p>

<p><strong>
<a id="pgfId-1052753"></a><code>Y</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052756"></a> Checks the delta value in the y direction between two edges. The edges must project onto each other. Does not check non-Manhattan data.</p>

<h4>
<a id="pgfId-1016151"></a>Layer Options</h4>
<p><strong>
<a id="pgfId-1016152"></a><code>O</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052762"></a> Checks the original layer, not the layer generated by the previous operation in the conjunctive rule. Use this option only with a conjunctive rule and on a layer with error flags. </p>

<h4>
<a id="pgfId-1016153"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016154"></a>ENC layer1 layer2 LT 1 &amp; <br />ENC layer1 layer3 LT 1 &amp; <br />ENC layer1[0] layer3 LT 2 OUTPUT err1 2 3 </pre>
<h4>
<a id="pgfId-1016155"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016156"></a>ENC[T] poly diff LT 4 OUTPUT drc03 51 <br />ENC[T] diff poly LT 2 OUTPUT drc03 52 </pre>
<p>
<a id="pgfId-1027121"></a></p>
<div class="webflare-div-image">
<img width="553" height="348" src="images/chap13-46.gif" /></div>
<h4>
<a id="pgfId-1016200"></a>Example 3</h4>

<p>
<a id="pgfId-1016201"></a>This example checks for depletion (depl) completely enclosing or touching the transistor gate (xtor) in the direction of diffusion only.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016202"></a>AND     poly diff xtor<br />ENC[T]  xtor poly LT .001 &amp;<br />ENC[TO] xtor depl LT 3 OUTPUT drc03 54 </pre>
<p>
<a id="pgfId-1027171"></a></p>
<div class="webflare-div-image">
<img width="676" height="370" src="images/chap13-47.gif" /></div>
<h4>
<a id="pgfId-1016250"></a>Example 4</h4>

<p>
<a id="pgfId-1016251"></a>This example checks for poly overlapping or touching diffusion (gate extension).</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016252"></a>ENC[T] diff poly LT 2 OUTPUT drc03 52 </pre>
<h4>
<a id="pgfId-1016253"></a>Example 5</h4>

<p>
<a id="pgfId-1016254"></a>This example checks for poly that completely overlaps metal contact (mc) and for touch. Note in the example that if you include the E option, the metal contact outside is also flagged.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016286"></a>ENC[TO] mc poly LT 3 OUTPUT drc03 53 </pre>
<p>
<a id="pgfId-1027225"></a></p>
<div class="webflare-div-image">
<img width="676" height="188" src="images/chap13-48.gif" /></div>
<h4>
<a id="pgfId-1016287"></a>Example 6</h4>

<p>
<a id="pgfId-1016288"></a>Example 3 can be rewritten: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016289"></a>ENC[T] xtor&amp;xtorl poly LT .001 &amp; <br />ENC[TO] &amp;xtorl depl LT 3 OUTPUT drc03 54 </pre>

<p>
<a id="pgfId-1016290"></a>Checks for depletion (depl) completely enclosing or enclosing and touching the transistor gate (xtor) in the direction of diffusion only.</p>
<p>
<a id="pgfId-1016291"></a>The xtor layer is renamed &amp;xtorl in the conjunctive rename operation, and now &amp;xtorl contains the error flags from the joined operations. You can now use &amp;xtorl in a further conjunctive operation:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016292"></a>ENC[TO] &amp;xtorl enh LT 3 OUTPUT drc03 55 </pre>

<p>
<a id="pgfId-1016293"></a>Checks for enhancement (enh) completely enclosing or enclosing and touching the transistor gate (xtor) in the direction of diffusion only. The conjunctive rename operation is optional but saves CPU resources. </p>

<h4>
<a id="pgfId-1016294"></a>Example 7</h4>

<p>
<a id="pgfId-1016295"></a>The following example outputs ptie (p+ diffusion in pwell) polygons enclosed by pwell less than 10 microns. The ptie polygons that touch the pwell inside-edge are also output. The output layer is badptie and is in trapezoid format. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016296"></a>ENC[T] ptie pwell SELLT 10 badptie </pre>
<h4>
<a id="pgfId-1016297"></a>Example 8</h4>

<p>
<a id="pgfId-1016298"></a>The following example checks for diffusion (diff) enclosing metal contact (mc) on nonparallel edges. For example, rectangular contacts inside a diffusion area with its corners removed, having 45-degree edges. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016299"></a>ENC[C&#39;] mc diff LT 2.5 OUTPUT drc03 57 </pre>
<h4>
<a id="pgfId-1016300"></a>Example 9</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016301"></a>ENC[RO] deepn buried LT .001 dbcont</pre>

<p>
<a id="pgfId-1016302"></a>The dbcont are trapezoids with one resolution width specified in the Description block. </p>

<p>
<a id="pgfId-1027263"></a></p>
<div class="webflare-div-image">
<img width="676" height="253" src="images/chap13-49.gif" /></div>
<h4>
<a id="pgfId-1016349"></a>Example 10</h4>
<p>
<a id="pgfId-1027301"></a></p>
<div class="webflare-div-image">
<img width="673" height="123" src="images/chap13-50.gif" /></div>
<p>
<a id="pgfId-1016350"></a></p>

<p>
<a id="pgfId-1016351"></a>ENC via metal lt 0.5 output err 1</p>
<p>
<a id="pgfId-1016352"></a>ENC[W] via metal lt 0.8 output err 2</p>

<p>
<a id="pgfId-1027327"></a></p>
<div class="webflare-div-image">
<img width="501" height="165" src="images/chap13-51.gif" /></div>
<h3>
<a id="pgfId-1040122"></a>ENCBASEDOVLP</h3>
<a id="pgfId-1040123"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ENCBASEDOVLP <code><em>layer-a</em></code> <code><em>layer-b</em></code> {<code><em>trapfile</em></code>} {OUTPUT <code><em>c-name</em></code> <code><em>l-num</em></code>}</pre>
<a id="pgfId-1040124"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
FIXED-WIDTH width</pre>
<a id="pgfId-1040125"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
TABLE = {</pre>
<a id="pgfId-1040126"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 X1     Y1    W1</pre>
<a id="pgfId-1040127"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 X2    Y2    W2</pre>
<a id="pgfId-1040128"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 .....................</pre>
<a id="pgfId-1040129"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 Xn    Yn    Wn    </pre>
<a id="pgfId-1040130"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 }</pre>
<h4>
<a id="pgfId-1040131"></a>Description</h4>

<p>
<a id="pgfId-1040133"></a>Performs an overlap<a id="marker-1040132"></a> check based upon enclosure in the Dracula tool. Typically the command rules used to ensure a minimum intersection area of two layers are described in a table format and are lengthy, complicated, and numerous. In order to get complete coverage of the intent of the rules, it is common for a single rule to be expanded into tens or even hundreds of commands. </p>
<p>
<a id="pgfId-1040134"></a>ENCBASEDOVLP efficiently performs a check of the rules in a table format, eliminates the need to write numerous complicated rules to achieve better performance from the check, and provides an accurate hierarchical check of overlap based upon enclosure.</p>
<p>
<a id="pgfId-1040135"></a>The following definitions apply to overlap based upon enclosure checks:</p>
<ul><li>
<a id="pgfId-1040136"></a>Enclosed shape<br />
<a id="pgfId-1040137"></a>A rectangular or polygonal shape that is of fixed width.</li><li>
<a id="pgfId-1040138"></a>Enclosing shape<br />
<a id="pgfId-1040139"></a>The shape that encloses an enclosed shape.</li><li>
<a id="pgfId-1040140"></a>ENC-BASED-OVLP check<br />
<a id="pgfId-1040141"></a>A minimum area intersection check in which a <span class="webflare-courier-new" style="white-space:pre"><em>Y</em></span> value measured from a specific intersection determines the minimums for <span class="webflare-courier-new" style="white-space:pre"><em>X</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>W</em></span>, where:<ul><li>
<a id="pgfId-1040142"></a><span class="webflare-courier-new" style="white-space:pre"><em>Y</em></span> is the minimum enclosure distance of the enclosing shape over the enclosed shape in the direction perpendicular to the center line of the enclosed shape.</li><li>
<a id="pgfId-1040143"></a><span class="webflare-courier-new" style="white-space:pre"><em>X</em></span> is the minimum overlap of the enclosing shape over the enclosed shape in the direction parallel to the center line of the enclosed shape.</li><li>
<a id="pgfId-1040155"></a><span class="webflare-courier-new" style="white-space:pre"><em>W</em></span> is the minimum width of the enclosing shape measured in the direction parallel to the center line of the enclosed shape where they intersect.</li></ul></li></ul>








<p>
<a id="pgfId-1040189"></a></p>

<div class="webflare-div-image">
<img width="668" height="305" src="images/chap13-52.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1040190"></a>The following principles apply to the enclosing and enclosed shapes.</p>
<ul><li>
<a id="pgfId-1040191"></a>The enclosed shapes are rectilinear shapes of fixed width.</li><li>
<a id="pgfId-1040192"></a>The enclosing shapes consist of edges that are either rectilinear or angled edges of 45 degree only.</li><li>
<a id="pgfId-1040193"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>X</em></span>,<span class="webflare-courier-new" style="white-space:pre"><em>Y</em></span>, and <span class="webflare-courier-new" style="white-space:pre"><em>W</em></span> values required for this check are shown in the following table:</li></ul>


<p>
<a id="pgfId-1040268"></a></p>
<table class="webflareTable" id="#id1040202">
<caption style="text-align:left;"><p>
</p><h4>Table 13-1
<a id="pgfId-1040204"></a>XYW Values</h4></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1040212">
<a id="pgfId-1040212"></a>RULE</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1040214">
<a id="pgfId-1040214"></a>X</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1040216">
<a id="pgfId-1040216"></a>Y</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1040218">
<a id="pgfId-1040218"></a>W</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040220"></a>800h</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040222"></a>&gt;=1.55</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040224"></a>&gt;=1.95</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040226"></a>&gt;=1.75</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040228"></a>800a</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040230"></a>&gt;=1.55</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040232"></a>&gt;=1.80</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040234"></a>&gt;=1.85</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040236"></a>800b</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040238"></a>&gt;=1.85</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040240"></a>&gt;=1.75</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040242"></a>&gt;=1.90</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040244"></a>800c</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040246"></a>&gt;=1.90</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040248"></a>&gt;=1.25</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040250"></a>&gt;=2.35</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040252"></a>800d</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040254"></a>&gt;=1.95</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040256"></a>&gt;=0.80</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040258"></a>&gt;=2.75</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040260"></a>800e</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040262"></a>&gt;=2.25</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040264"></a>&gt;=0.00 or</p>
<p>
<a id="pgfId-1040265"></a>&lt; 0.00</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040267"></a>&gt;=2.80</p>
</td>
</tr>
</tbody></table>
<p class="webflare-indent1">
<a id="pgfId-1040276"></a>where the <span class="webflare-courier-new" style="white-space:pre"><em>X</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>W</em></span> values are ascending and <span class="webflare-courier-new" style="white-space:pre"><em>Y</em></span> values are descending and all values are greater than or equal to 0.</p>
<p>
<a id="pgfId-1040277"></a>The following is a geometric evaluation of the overlap area of the enclosing and enclosed shapes.</p>
<p>
<a id="pgfId-1040278"></a>In the figure below, the overlap area of the enclosing and enclosed shapes has two sets of <span class="webflare-courier-new" style="white-space:pre"><em>XYW</em></span> values, {X<sub>1</sub>, Y<sub>1</sub>, W<sub>1</sub>} and {X<sub>2</sub>, Y<sub>2</sub>, W<sub>2</sub>}. If both sets of XYW values survive the test, the enclosed shape is good. If not, the ENCBASEDOVLP check reports a bad shape.</p>
<p>
<a id="pgfId-1040341"></a></p>

<div class="webflare-div-image">
<img width="668" height="309" src="images/chap13-53.gif" /></div>

<p>
<a id="pgfId-1040342"></a>The following steps explain the algorithm for each set of <code>XYW</code> values.</p>
<ol><li>
<a id="pgfId-1040343"></a>Measure the minimum value <code>Y1</code> of a given enclosed rectangular tile. For example, if <code>Y1</code> values are { <code>0.19</code>, <code>0.08</code> }, the minimum <code>Y1</code> is <code>0.08</code>.</li><li>
<a id="pgfId-1040344"></a>In Table 13-1 given above, find the largest <code>Y</code> value and proceed down the table through the descending <code>Y</code> values. Find the rule with the <code>Y</code> value that most closely matches this minimum measured <code>Y</code>1 value. For example, if <code>Y</code>1 is <code>0.88</code>, rule <code>800d</code> is the closest match since <code>Y &gt;= 0.80</code> is the closest valid value.</li><li>
<a id="pgfId-1040345"></a>Measure <code>X1</code> and <code>W1</code>. If <code>X1</code> and <code>W1</code> meet the requirements of the rule, this is a good enclosed shape and the evaluation proceeds to the next shape.<br />
<a id="pgfId-1040346"></a>Continuing with the previous example in which rule 800d is the closest match, the values of <code>X</code> must be <code>&gt;= 1.95</code> and <code>W</code> must be <code>&gt;= 2.75</code>. If the values of <code>X</code> and <code>W</code> are good, the shape is good and evaluation of the next shape begins.<br />
<a id="pgfId-1040350"></a>If the first three steps fail to find a good overlap, return to step one and continue with the next set of <code>Y</code> measurements. If there are no more <code>Y</code> measurements, the shape is bad because a good overlap was not found.</li></ol>




<p>
<a id="pgfId-1040351"></a>The following is an output representation.</p>
<p>
<a id="pgfId-1040352"></a>The intersection area of the enclosed shape and enclosing shape is the error representation. If the overlap check fails, the gray area shown in the figure below is written to the output layer as the error identification.</p>
<p>
<a id="pgfId-1040416"></a></p>

<div class="webflare-div-image">
<img width="668" height="294" src="images/chap13-54.gif" /></div>
<h4>
<a id="pgfId-1040424"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1040425"></a><code>ENCBASEDOVLP</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052769"></a> Modifier used to direct the ENCBASEDOVLP check of the enclosing layer over the enclosed layer.</p>

<p><strong>
<a id="pgfId-1052774"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052777"></a> Layer that encloses the enclosed layer.</p>

<p><strong>
<a id="pgfId-1052782"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052785"></a> Layer that contains the enclosed shapes.</p>

<p><strong>
<a id="pgfId-1052790"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052793"></a>Trapezoid file name. Use this option only with the R or R&#39; option or with SELLT, SELLE, SELGT, SELGE, or SELRA operations. </p>

<p><strong>
<a id="pgfId-1052808"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052811"></a> Sends the results to an output cell and writes the results of the DRC check to the <span class="webflare-courier-new" style="white-space:pre"><em>outLayer</em></span> layer name you specify.</p>

<p><strong>
<a id="pgfId-1052819"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052822"></a> c-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters and l-num is the cell layer number determined by your CAD system.</p>
<p class="webflare-indent1">
<a id="pgfId-1040434"></a> If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1040435"></a><code>width</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052831"></a> Specifies the fixed width of the enclosed shapes.</p>

<p><strong>
<a id="pgfId-1052836"></a><span class="webflare-courier-new" style="white-space:pre"><em>x Value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052839"></a> Specifies the minimum overlap of the enclosing shape over the enclosed shape in the directional parallel to the center line of the enclosed shape.</p>

<p><strong>
<a id="pgfId-1052844"></a><span class="webflare-courier-new" style="white-space:pre"><em>y</em></span><sub> </sub><span class="webflare-courier-new" style="white-space:pre"><em>Value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052847"></a> Specifies the minimum enclosure distance of the enclosing shape over the enclosed shape in the direction perpendicular to the center line of the enclosed shape.</p>

<p><strong>
<a id="pgfId-1052852"></a><span class="webflare-courier-new" style="white-space:pre"><em>w Value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052855"></a> Specifies the minimum width of the enclosing shape measured in the direction parallel to the center line of the enclosed shape where they intersect.</p>

<h4>
<a id="pgfId-1040439"></a>Examples</h4>
<h4>
<a id="pgfId-1040440"></a>Syntax Example</h4>

<p>
<a id="pgfId-1040442"></a>The following example performs the <a id="marker-1040441"></a>ENCBASEDOVLP check on the enclosed shapes with a fixed width 0.5. The shapes are enclosed by the enclosing shapes according to the table below.</p>
<p>
<a id="pgfId-1040200"></a></p>
<table class="webflareTable" id="#id1040450">
<caption style="text-align:left;"><p>
</p><h4>Table 13-2
<a id="pgfId-1040452"></a></h4></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<a id="pgfId-1040454"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ENCBASEDOVLP  MCB RX G190TR OUTPUT G190 62</pre>
<a id="pgfId-1040455"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
FIXED-WIDTH      0.5 </pre>
<a id="pgfId-1040456"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
TABLE = {</pre>
<a id="pgfId-1040457"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
                  0.85 0.35 0.60 </pre>
<a id="pgfId-1040458"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
                  0.85 0.20 0.65 </pre>
<a id="pgfId-1040459"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
                  0.90 0.15 0.75</pre>
<a id="pgfId-1040460"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
                  1.05 0.10 0.90</pre>
<a id="pgfId-1040461"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
                  1.20 0.05 1.20 </pre>
<a id="pgfId-1040462"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
                  1.30 0.00 1.30 </pre>
<a id="pgfId-1040463"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
                  }</pre>
<a id="pgfId-1040464"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
</pre>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1040478"></a>Geometric Example</h4>

<p>
<a id="pgfId-1040479"></a>The following figure shows negative enclosure.</p>
<p>
<a id="pgfId-1040480"></a>If the enclosed shape overlaps the enclosing shape such that a negative <code>Y</code> enclosure is measured, the ENCBASEDOVLP check follows the standard evaluation algorithm. The minimum <code>Y</code> is negative and the rule (from Table 13-2 above) with the <code>Y</code> value that most closely matches this minimum measured <code>Y</code> value is selected. Since the measured <code>Y</code> is negative, the last rule in the table is always selected.</p>
<p>
<a id="pgfId-1040481"></a>A valid Rneg value must be placed at the last rule in the table and with the <code>Y</code> value exactly equal to the minus value of the fixed width of the enclosed shape. For example, if the width is <code>0.5</code>, then the corresponding Rneg must be written as (<code>x -0.5 w</code>) and placed at the last row of the table. If the <code>Y</code> value of the last rule is not <code>-0.5</code>, then it is not thought as a valid Rneg value.</p>
<p>
<a id="pgfId-1040500"></a></p>

<div class="webflare-div-image">
<img width="668" height="301" src="images/chap13-55.gif" /></div>

<p>
<a id="pgfId-1040508"></a>The following figure shows angled measurements.</p>
<p>
<a id="pgfId-1040509"></a>If any measurement encounters an angled edge, the overlap is bad and an error shape is generated.</p>
<p>
<a id="pgfId-1040484"></a></p>

<div class="webflare-div-image">
<img width="668" height="256" src="images/chap13-56.gif" /></div>
<h3>
<a id="pgfId-1045084"></a>ENCRECT</h3>
<a id="pgfId-1045086"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ENCRECT LAYER <code><em>layer</em></code> {NOT} RECT <code><em>size1</em></code> <code><em>size2</em></code> {ANGLE45 <code><em>0</em></code> | <code><em>1</em></code>} {RESULT <code><em>trapfile</em></code>} {OUTPUT <code><em>cellname</em></code> <code><em>layernum datatype</em></code>}</pre>
<h4>
<a id="pgfId-1045087"></a>Description</h4>

<p>
<a id="pgfId-1045090"></a>This command determines which polygons on the specified <span class="webflare-courier-new" style="white-space:pre"><em>layer </em></span>enclose (or NOT enclose) rectangle with sides specified as <span class="webflare-courier-new" style="white-space:pre"><em>size1</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>size2</em></span>.</p>

<h4>
<a id="pgfId-1045091"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1045097"></a><code>LAYER</code><span class="webflare-courier-new" style="white-space:pre"><em> layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052862"></a> Keyword <code>LAYER</code> followed by the input <span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span> name.</p>

<p><strong>
<a id="pgfId-1052867"></a><code>NOT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052870"></a> Sets checking for <span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span> ploygons which do not enclose a rectangle of specified size.</p>

<p><strong>
<a id="pgfId-1052875"></a><code>RECT</code> <span class="webflare-courier-new" style="white-space:pre"><em>size1</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>size2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052878"></a> Specifies a rectangle with sides of <span class="webflare-courier-new" style="white-space:pre"><em>size1</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>size2</em></span>. The values are used as both horizontal and vertical sides.</p>

<p><strong>
<a id="pgfId-1052883"></a><code>ANGLE45</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052886"></a>0 | 1&#160;&#160;&#160;&#160;Checks which layer polygons enclose (or do not enclose) the specified rectangle, with orthagonal sides only (&#8216;<code>0</code>&#8217;), or also at 45 degree angles (&#8216;<code>1</code>&#8217;). The default value of ANGLE45 is &#8216;<code>0</code>&#8217; and does not check for non-orthagonal shapes. Specify &#8220;<code>ANGLE45 1&#8221; </code>to also check for rectangles at 45-degrees.</p>

<p><strong>
<a id="pgfId-1052892"></a><code>RESULT</code> <span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052895"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Specifies the output filename that contains the coordinates of polygons that enclose (or do not enclose) the specified rectangle.</p>

<p><strong>
<a id="pgfId-1052900"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052903"></a> Sends the results to an output cell of the specified <span class="webflare-courier-new" style="white-space:pre"><em>cellname</em></span>.</p>

<p><strong>
<a id="pgfId-1052929"></a><span class="webflare-courier-new" style="white-space:pre"><em>cellname layernum</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052932"></a> <span class="webflare-courier-new" style="white-space:pre"><em>cellname </em></span>is the name of the output cell and can have six or fewer alphanumeric characters and no special characters. <span class="webflare-courier-new" style="white-space:pre"><em>layernum </em></span>is the cell layer number.</p>
<p class="webflare-indent1">
<a id="pgfId-1045204"></a> The cellname and layernum are always concatenated. If your <span class="webflare-courier-new" style="white-space:pre"><em>cellname </em></span>is <code>rule03</code> and <span class="webflare-courier-new" style="white-space:pre"><em>layernum</em></span> is <code>5</code>, the output cell name is <code>rule0305</code>.</p>

<p><strong>
<a id="pgfId-1045205"></a><span class="webflare-courier-new" style="white-space:pre"><em>datatype</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052941"></a> The <span class="webflare-courier-new" style="white-space:pre"><em>datatype</em></span> number associated with the layer number (<span class="webflare-courier-new" style="white-space:pre"><em>layernum</em></span>) of the output cell. Use <span class="webflare-courier-new" style="white-space:pre"><em>datatype</em></span> for GDSII only. Values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1045098"></a>Example</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040476"></a>ENCRECT LAYER metal RECT 100 200 RESULT layer1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045148"></a>ENCRECT LAYER metal NOT RECT 150 150 ANGLE45 1 OUTPUT res 1 1</pre>

<h3>
<a id="pgfId-1016364"></a><a id="93709"></a>EQU<a id="equation"></a>ATION</h3>
<a id="pgfId-1016365"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EQUATION  K <code><em>parameter</em></code> = <code><em>FORTRAN-expression</em></code>  {&amp;} </pre>
<h4>
<a id="pgfId-1016366"></a>Description</h4>

<p>
<a id="pgfId-1016368"></a>S<a id="marker-1016367"></a>pecifies the equations that compute device parameters from extracted layout geometric primitive parameters or other computed parameters. Use this command in conjunction with the LEXTRACT command. Specify the parameter to compute and all EQUATION parameters in the PARSET command in the Description block. If you conjunct equations, <a id="marker-1016369"></a>EQUATION evaluates them sequentially. All referenced parameters in equations must be computed in previous equations. </p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1016370"></a>
Do not use tab characters in the equation line. This can cause LPEXTR to fail.</div>
<h4>
<a id="pgfId-1016371"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1016372"></a><span class="webflare-courier-new" style="white-space:pre"><em>K</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052950"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Specifies the fringe coefficient, and can apply to the same or different layer fringe extraction and overlap capacitance extraction with fringe consideration. You can use only DEPT and WIDT parameters as arguments. You must specify this equation first.</p>

<p><strong>
<a id="pgfId-1052955"></a><span class="webflare-courier-new" style="white-space:pre"><em>parameter</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052958"></a> Parameter to compute.</p>

<p><strong>
<a id="pgfId-1052963"></a><span class="webflare-courier-new" style="white-space:pre"><em>FORTRAN-expression</em></span><a id="marker-1016374"></a> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052966"></a>The following expressions are accepted:</p>

<p>
<a id="pgfId-1033011"></a> </p>
<table class="webflareTable" id="#id1032795">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032797"></a>Numbers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032799"></a>Integer, real number, scientific notation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032801"></a>Variables</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032803"></a>As defined in the PARSET command</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032805"></a>Operations</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032807"></a>Unary +, unary -, binary +, binary -, *, /, ** </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032809"></a>Parentheses</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032811"></a>(,)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032813"></a>Functions</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032815"></a>LOG, EXP, MAX, MIN, SIN, COS, TAN, ASIN,&#160;&#160; ACOS, ATAN, SINH, COSH,&#160;&#160; TANH, SQRT,&#160;&#160;LOG<t-times>
1</t-times>
0, INT, and ABS.</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1038686"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052972"></a> Conjunction of several equations.</p>
<b>Note:</b><br />
<a id="pgfId-1038689"></a>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1038699"></a>A new function, INT now allows you to get the integer value from the EQUATION command. For example, this INT function allows you to output an integer value only of all resistors for contact in order to calculate the CONTACT numbers.<br />
<a id="pgfId-1038707"></a>See &#8220;<a href="chap13.html#14960">Example 3 - Using the INT Function</a>&#8221; in this section for more information.</li><li>
<a id="pgfId-1016378"></a>The maximum length of an equation is 80 characters.<br />
<a id="pgfId-1016379"></a>To include equations longer than 80 characters, use a continuation as shown in the following example.</li><li>
<a id="pgfId-1040065"></a>In version 4.81 and subsequent versions, the ABS function is a new function that has been added to the list of functions used in the parameter expressions that this EQUATION command enables. </li></ul></li></ul>









<h4>
<a id="pgfId-1038732"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016380"></a>EQUATION ca=0.00005*area+1.OE-4*(peri-ovpr)+1.4E-4*ovpr+<br />0.00005*area+1.OE-12*(2*peri-ovpr)+2.0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016381"></a>EQUATION ca=ca+4.5*(peri-ovpr)</pre>
<h4>
<a id="pgfId-1016382"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016383"></a>*DESCRIPTION <br />PARSET cap1 area peri ovpr c <br />. <br />. <br />*END <br />*OPERATION <br />AND met1 met2 m12 <br />NOT met2 met1 mt<br />PARASITIC CAP[A] m12 met1 met2 <br />LEXTRACT cap1 m12 met2 by cap[A] capout &amp; <br />EQUATION c=0.00005*area+1.0E-4*(peri-ovpr)+1.4E-4*ovpr </pre>
<h4>
<a id="pgfId-1016384"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016385"></a>PARSET TCAP CLL TPR AREA PERI C<br />...<br />PARASITIC CAP[N1] M12 M1 M2<br />ATTRIBUTE 2.32 1.2 1.4 1.0<br />...<br />LEXTRACT TCAP M12 BY CAP[N1] L435BDT    &amp;<br />EQUATION K= 2.875E-5+EXP(DEPT)+DEPT**2 &amp;<br />EQUATION C= 2.32*AREA+ (PERI-TPR)+ CLL</pre>

<p>
<a id="pgfId-1016388"></a>For a discussion of flexible LPE parameter set extraction, refer to <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE).&#8221;</a></p>

<h4>
<a id="pgfId-1038712"></a><a id="14960"></a>Example 3 - Using the INT Function</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038720"></a>EQUATION CNUM=INT((W-(2*M+CW))/(CW+CS)+1) </pre>

<p>
<a id="pgfId-1038713"></a>where </p>
<p class="webflare-indent1">
<a id="pgfId-1038721"></a><code>CNUM</code> is the contact number.</p>
<p class="webflare-indent1">
<a id="pgfId-1038714"></a><code>W</code> is the width of resistor body.</p>
<p class="webflare-indent1">
<a id="pgfId-1038715"></a><code>M</code> is the margin of the resistor head and contact.</p>
<p class="webflare-indent1">
<a id="pgfId-1038716"></a><code>CW</code> is the width of contact.</p>
<p class="webflare-indent1">
<a id="pgfId-1038717"></a><code>CS</code> is the space of the contacts.</p>

<h4>
<a id="pgfId-1040076"></a>Example 4 - Using the ABS Function</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040079"></a>*.GLOBAL</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040080"></a>*.BIPOLAR</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040081"></a>*.RESVAL</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040082"></a>*.SCALE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040083"></a>*.EQUATION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040084"></a>.PARAM</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040085"></a>.SUBCKT test MINUS PLUS</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040086"></a>Rrmfg1r0 PLUS MINUS</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040087"></a>+(12.0+1.1*abs(2.34)) $[R1] $W=2u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040088"></a>.ENDS test</pre>
<h3>
<a id="pgfId-1016391"></a>EXPLODE</h3>
<a id="pgfId-1016392"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EXPLODE{[A]} input-layer output-layer label</pre>
<h4>
<a id="pgfId-1016393"></a>Description</h4>

<p>
<a id="pgfId-1016394"></a>Explodes Hcell shapes on the input-layer to the composite plane as <br />output-layer. Hcell input-layer shapes on nodes that connect to nodes in the composite plane are assigned the composite plane node ID in the output-layer. Other Hcell shapes on the input-layer (for example, those on nodes internal to the Hcell) are also exploded to the composite plane, but are assigned the node ID of label in the output-layer.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1016395"></a>This command prevents Dracula from creating parasitic devices between shapes on the same net.</div>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1016396"></a>
When you use the [A] option, the merge (OR) operation might cause incorrect nodal information. For example, in PRE, the CUT-TERM conduction layers use &#8220;no merge&#8221; when exploding the cell data.</div>
<h4>
<a id="pgfId-1016397"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1016398"></a><code>A</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052979"></a> Merges the exploded data with the composite data of input-layer to become the output-layer.</p>
<p class="webflare-indent1">
<a id="pgfId-1016399"></a> If you do not specify this option, Dracula explodes the cell instance data to the composite plane without merging the input composite data.</p>

<p><strong>
<a id="pgfId-1016400"></a><span class="webflare-courier-new" style="white-space:pre"><em>input-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052991"></a> Name of the input layer.</p>

<p><strong>
<a id="pgfId-1052996"></a><span class="webflare-courier-new" style="white-space:pre"><em>output-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1052999"></a> Sends the results to an output cell.</p>

<p><strong>
<a id="pgfId-1053004"></a><span class="webflare-courier-new" style="white-space:pre"><em>label</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053007"></a> Name of the composite plane node in which to link to for shapes that form internal Hcell nodes.</p>

<h4>
<a id="pgfId-1016403"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016405"></a>EXPLODE[A]   MET1  GMET1  VSS<br />AND          ME2   GMET1  CAP_M2M1  ;composite ME2 to all MET1<br /></pre>
<h4>
<a id="pgfId-1016406"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016409"></a>EXPLODE      MET1  XMET1  VSS<br />AND          ME2   MET1   M2M1      ;comp ME2 to comp MET1<br />AND          ME2   XMET1  M2CM1     ;comp ME2 to cell MET1<br /></pre>
<h3>
<a id="pgfId-1016410"></a>EXT</h3>
<a id="pgfId-1016411"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EXT{[ ]} <code><em>layer-a</em></code>{&amp;<code><em>layer-a1</em></code>}[ ] {<code><em>layer-b</em></code>{&amp;<code><em>layer-b1</em></code>}}
LT/LE/EQ/RANGE/SELLT/SELLE/SELGT/SELGE/SELEQ/SELNE/SELRA <code><em>n1</em></code> {<code><em>n2</em></code>} 
{<code><em>trapfile</em></code>} {OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} {&amp;} </pre>
<a id="pgfId-1016412"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EXT[S{ }] <code><em>layer-a</em></code>{&amp;<code><em>layer-a1</em></code>}[ ] {<code><em>layer-b</em></code>{&amp;<code><em>layer-b1</em></code>}}
LT/LE/RANGE/SELLT/SELLE/SELGT/SELGE/SELRA <code><em>n1</em></code> {<code><em>n2</em></code>} {CORNER-CORNER n2} {CORNER-EDGE n3}
{<code><em>trapfile</em></code>} {OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} {&amp;} </pre>
<a id="pgfId-1016413"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EXT[I] layer-a LT/LE n out-layer</pre>
<h4>
<a id="pgfId-1016414"></a>Description</h4>

<p>
<a id="pgfId-1016418"></a>C<a id="marker-1016415"></a><a id="marker-1016416"></a>hecks the external separation between the outside <a id="marker-1016417"></a>edges of polygons. If you specify two layers, the Dracula product checks the outside edges of both layers against each other. If you specify one layer, the Dracula product checks the outside edges of that layer against each other.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042314"></a>The EXT command will not flag violations between obtuse angled edges, but it will flag right angled intersecting edges when the T option is applied.</div>

<h4>
<a id="pgfId-1047322"></a>Shell environment variables</h4>

<ul><li>
<a id="pgfId-1047323"></a><code>setenv SPAC_LESS_SHIELD 1</code><br />
<a id="pgfId-1047324"></a>Use this variable to disable violation checking of shielding, which can take significant time. Using this environment variable may significantly decrease runtime, but can also result in decreased accuracy in designs where there are many violations.</li><li>
<a id="pgfId-1047292"></a><code>setenv SPAC_LISTERR_DIGIT [ 2 | 3 ] </code><br />
<a id="pgfId-1047293"></a>Use this environment variable to set number of digits after the decimal point for EXT/ENC/WIDTH/INT log report.</li></ul>




<h4>
<a id="pgfId-1016419"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1016420"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053014"></a> Flat, cell, hierarchical, and composite.</p>

<p><strong>
<a id="pgfId-1053019"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053022"></a> HDRC.</p>

<h4>
<a id="pgfId-1016422"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1016423"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053028"></a> Is the name of the first input layer.</p>

<p><strong>
<a id="pgfId-1053033"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053036"></a> Is the name of the second input layer.</p>

<p><strong>
<a id="pgfId-1053041"></a><code>&amp;</code><span class="webflare-courier-new" style="white-space:pre"><em>layer-a1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053044"></a> Renames (<a id="marker-1016425"></a>conjunctive rename) the layer containing the error flags. The original layer name is then restored to the original layer. Do not put a space between the layer-a and &amp;layer-a1 names, for example, poly&amp;rpoly.</p>

<p><strong>
<a id="pgfId-1053049"></a><code>&amp;</code><span class="webflare-courier-new" style="white-space:pre"><em>layer-b1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053052"></a> Renames in the same way as &amp;layer-a1 except that it refers to layer-b. </p>

<p><strong>
<a id="pgfId-1053057"></a><code>Measurement</code> <code>Operation</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053060"></a>Measures between the outside edge segments of polygons in layer-a and the outside edges of layer-b. Or, measures between the outside edges of layer-a if you only specify layer-a. Compares the measurements against the limits you specify and flags violations. </p>
<p class="webflare-indent1">
<a id="pgfId-1016430"></a> You must supply only one of these measurements:</p>

<p>
<a id="pgfId-1033015"></a></p>
<table class="webflareTable" id="#id1032832">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032834"></a><code>LT/LE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032836"></a>Flags an error if the two segments are spaced less than n1 for LT or less than or equal to n1 for LE. Does not flag an error if the segments touch. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032838"></a><code>EQ </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032840"></a>Flags an error if the two segments are spaced equal to n1.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032842"></a><code>RANGE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1 n2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032844"></a>Flags an error if the two segments are spaced less than n2 and greater than n1. If you do not want acute-angle error flags, specify the RANGE measurement. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032846"></a><code>SELGT/SELGE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032848"></a>SELGT:<br />Outputs in trapezoid format all layer-a polygons that Dracula does not flag when you specify an LE measurement with the same options. </p>
<p>
<a id="pgfId-1042109"></a>SELGE: <br />Has the same function as <em>SELGT</em> except that it works opposite from an <em>LT</em> operation. Do not use the OUTPUT statement with this option. Specify a trapfile name instead. Use this check in flat and cell modes only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032850"></a><code>SELLT </code>and <code>SELLE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032852"></a>Output in trapezoid format the same layer-a polygons associated with the errors that the program flags when you specify an <em>LT n1</em> or an <em>LE n1</em> and use the same options. Specify a trapfile name instead of using the OUTPUT statement. Use this check in flat and cell modes only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032854"></a><code>SELEQ</code> and <code>SELNE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032856"></a>Output in trapezoid format the same layer-a polygons associated with the errors that the program flags when you specify an <em>EQ n1</em> or an <em>NE n1</em> and use the same options. Specify a trapfile name instead of using the OUTPUT statement. Use this check in flat and cell modes only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032858"></a><code>SELRA </code><span class="webflare-courier-new" style="white-space:pre"><em>n1 n2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032860"></a>Outputs in trapezoid format the same layer-a polygons associated with the errors Dracula flags when you specify a RANGE n1 n2 measurement with the same options. Specify a trapfile name instead of using the OUTPUT statement.</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1016438"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053069"></a> Is the trapezoid file name. Use this option only with the R or R&#39; option or with the SELLT, SELLE, SELGT, SELGE, or SELRA operations. </p>

<p><strong>
<a id="pgfId-1053074"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053077"></a> Sends the results to an output cell.</p>

<p><strong>
<a id="pgfId-1053082"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053085"></a> C-name: Is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. </p>
<p class="webflare-indent1">
<a id="pgfId-1016440"></a> L-num: Is the cell layer number determined by your CAD system. If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1016441"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053096"></a> Is the datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<p><strong>
<a id="pgfId-1053101"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053104"></a> Indicates a conjunctive rule. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1016443"></a>The output cell contains clean polygons in polygon format, resulting in reduced trapezoid construction lines and a more compact cell. The trapfile option and OUTPUT command are mutually exclusive. </div>

<h4>
<a id="pgfId-1016444"></a>Command Options</h4>

<p>
<a id="pgfId-1016450"></a>Options that are applicable to hierarchical Dracula are indicated with an <img width="37" height="24" src="images/chap13-57.gif" />
 icon in the margin. The plus (+) in an option adds <a id="marker-1016451"></a>error flags. The minus (-) in an option removes error flags. </p>

<p><strong>
<a id="pgfId-1042607"></a><code>B</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053111"></a> Flags the actual part of a violation on a segment instead of the entire segment. This option can be applied only with LT or LE modifiers. Neither RA, GT, nor GE modifiers can contain the B option.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1053114"></a>Causes round-off side effects on non-45-degree edges.</div>

<p><strong>
<a id="pgfId-1016453"></a><code>C</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053124"></a> (-) Flags the edge-pair when the edges are <a id="marker-1016452"></a>parallel. </p>

<p><strong>
<a id="pgfId-1053129"></a><code>C&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053132"></a> (-) Is the inverse of C option. Flags <a id="marker-1016454"></a>non-parallel edges. </p>

<p><strong>
<a id="pgfId-1053137"></a><code>E</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053140"></a> (+) Flags a polygon that is totally <a id="marker-1048813"></a>enclosed by a polygon from another layer. See <a href="chap13.html#52608">Example 14 Using the O, E, and G Options</a>&#8221; in this section for more information.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-58.gif" /></div>
<p><strong>
<a id="pgfId-1053146"></a><code>F</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053149"></a> Outputs error flags in trapezoid format that execute information for edge-sizing SIZE[E] operations.</p>

<p><strong>
<a id="pgfId-1053154"></a><code>F&#8217;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053157"></a> Outputs error flags in trapezoid format. You must specify only <em>trapfile</em> name. It is similar to <code>R</code> option but does not turn on the <code>P</code> option.</p>

<p><strong>
<a id="pgfId-1053162"></a><code>G</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053165"></a>(+) The G option is equivalent to using the O option along with the E option. This G option flags polygons that are fully enclosed by another layer as well as the cut off part of polygons enclosed by another layer. Error flags cover segments within layer-a and layer-b that outline the overlapping area of the two polygons. See &#8220;<a href="chap13.html#52608">Example 14 Using the O, E, and G Options</a>&#8221; in this section for more information. </p>

<p><strong>
<a id="pgfId-1053170"></a><code>H</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053173"></a> (+) Flags the outside edges of notched layer-a polygons that fail the spacing check. A <a id="marker-1016465"></a>notch is a set of non-adjacent facing edges, or adjacent facing edges that create an external angle of less than 90 degrees. Use this option only with a single input layer. </p>

<p><strong>
<a id="pgfId-1053178"></a><code>I</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053181"></a> Fills up the notches of a single layer automatically.</p>

<p><strong>
<a id="pgfId-1053186"></a><code>N</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053189"></a>(-) Does not flag violations on polygons that are part of the same node. Use the CONNECT command to connect nodes before using this option. This option checks composite plane and cell plane nodal information, as well as nodal information between the composite plane and cell plane.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-59.gif" /></div>
<p><strong>
<a id="pgfId-1053196"></a><code>N&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053199"></a> (-) Is the inverse of N option. Flags violations on polygons that are part of the same node, but not the same polygon. Use the CONNECT command to connect nodes before using this option. Checks composite plane and cell plane nodal information, as well as nodal information between the composite plane and cell plane.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-60.gif" /></div>
<p><strong>
<a id="pgfId-1053204"></a><code>O</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053207"></a>(+) Flags layer-a and layer-b polygons that cut/overlap each other. Error flags cover segments within layer-a and layer-b that outline the overlapping area of the two polygons. The segments flagged are the segments of the trapezoids of these two polygons that cut the edges of the polygons. Does not flag a polygon that fully encloses a polygon of the other layer. See &#8220;<a href="chap13.html#52608">Example 14 Using the O, E, and G Options</a>&#8221; in this section for more information.</p>

<p><strong>
<a id="pgfId-1053212"></a><code>P</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053215"></a>(-) Flags segments of edges that project onto each other. Two <a id="marker-1016481"></a>edges project if perpendicular lines from a referenced edge intersect the other edge. The referenced edge is the edge most closely aligned to the x or y axis. </p>

<p><strong>
<a id="pgfId-1053220"></a><code>P&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053223"></a> (-) Is the inverse of the P option. Flags edges that do not project onto each other. </p>

<p><strong>
<a id="pgfId-1053228"></a><code>R</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053231"></a> Outputs in trapezoid format the <a id="marker-1053240"></a>trapezoids enclosing the projection of violation flag pairs. A projected reference edge is the violation edge aligned closest to the x or y axis that projects orthogonally from that reference edge. You must specify the output layer only. Do not specify the OUTPUT error cell. Turns on the P option. </p>

<p><strong>
<a id="pgfId-1053236"></a><code>R&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053247"></a> Outputs error flags in trapezoid format so you can reuse error data. You can process the created layer (from the error flags) with logical operations. The flags are one RESOLUTION unit wide (as specified in the Description block) and extend to the outside edge of the layers. Do not specify an OUTPUT error cell when you use this option. You cannot use this option with the R option.</p>

<p><strong>
<a id="pgfId-1053252"></a><code>S</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053255"></a> (+) <a id="marker-1042859"></a>Flags violations on two polygons if edges of one polygon are within a &#8220;square boundary&#8221; and outside of the other polygon. When you use this option, you can also specify the CORNER-CORNER and CORNER-EDGE options. The default values for n2 and n3 are n1. If you do not specify the CORNER-CORNER option, n2 is set equal to n1. If you do not specify CORNER-EDGE option, n3 is set equal to n1. Use the following syntax for these options:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016488"></a><code>EXT[S] layer1 layer2 LT n1 {CORNER-CORNER n2} {CORNER-EDGE n3}</code></pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1016489"></a>The CORNER-CORNER checking value, n2, and the CORNER-EDGE value, n3, cannot be greater than the normal checking value, n1, because n2 and n3 act like filters and reduce the number of errors that were initially caught by n1. n2 must be greater or equal to nl/sqrt(2).</div>
<p class="webflare-indent1">
<a id="pgfId-1016490"></a> Only 90 degree angles are treated as &quot;CORNER.&quot;</p>

<p><strong>
<a id="pgfId-1016492"></a><code>T</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053269"></a> (+) Flags <a id="marker-1016491"></a>outside segments of layer-a polygons that touch outside segments of layer-b polygons. Reports edges and corners that touch.</p>

<p><strong>
<a id="pgfId-1053274"></a><code>T&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053277"></a> Flags outside segments of <em>layer-a</em> polygons that touch outside segments of <em>layer-b</em> polygons at one point. Reports corners that touch.</p>

<p><strong>
<a id="pgfId-1053282"></a><code>U</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053285"></a> (-) Does not flag violations on polygons that are part of the same node. Use the CONNECT command to connect nodes before using this option. This option checks only data on the composite plane.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-61.gif" /></div>
<p><strong>
<a id="pgfId-1053291"></a><code>U&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053294"></a> (-) Is the inverse of U option. Flags violations on polygons that are part of the same node. Use the CONNECT command to establish nodal connectivity before using this option. This option checks only the data on the composite plane.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-62.gif" /></div>
<p><strong>
<a id="pgfId-1053299"></a><code>V</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053302"></a> (+) Causes polygons to become visible through any inside surface shielding polygons. Inside surfaces of layer-a and layer-b are ignored. </p>
<p class="webflare-indent1">
<a id="pgfId-1038431"></a><code>EXT[V]</code> = normal <code>EXT</code> + two layer inside shielding off (inside is visible) + single layer shielding off (visible through the layer itself)</p>

<p><strong>
<a id="pgfId-1039593"></a><code>V&#8217;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053311"></a> (+) Causes polygons to become visible through any inside surface shielding polygons except the polygon itself.</p>
<p class="webflare-indent1">
<a id="pgfId-1039594"></a><code>EXT[V]&#8217;</code> = normal <code>EXT</code> + two layer inside shielding off (inside is visible)</p>
<p class="webflare-indent1">
<a id="pgfId-1038445"></a>For example,</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1038427"></a><code>EXT[V] A B LT 2 OUTPUT drc03 50</code></pre>
<p class="webflare-indent1">
<a id="pgfId-1038449"></a></p>

<div class="webflare-div-image">
<img width="668" height="287" src="images/chap13-63.gif" /></div>

<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1038481"></a>If the option is <code>V</code>, then the errors appear as shown in the above figure where the magenta-colored lines represent the errors. If the option is <code>V&#8217;</code>, then no errors appear.</div>

<p><strong>
<a id="pgfId-1016507"></a><code>X</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053334"></a> Checks the spacing value in the x direction between two edges. The edges must project onto each other. Does not check non-Manhattan data.</p>

<p><strong>
<a id="pgfId-1053339"></a><code>Y</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053342"></a> Checks the spacing value in the y direction between two edges. The edges must project onto each other. Does not check non-Manhattan data.</p>

<p>
<a id="pgfId-1027341"></a></p>
<div class="webflare-div-image">
<img width="532" height="132" src="images/chap13-64.gif" /></div>
<p><strong>
<a id="pgfId-1016524"></a><code>Z</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053348"></a> Outputs a fictitious region formed from the alignment point. This option must be used with the R option. When the error segment output by the R option is aligned in the X or Y axis, the region created has a zero projected area, and thus is left out of the final results. The region formed by the Z option extends both up and down by 1 dbu if the error segment is aligned along the X axis. The region extends to the left and right if the error segment is aligned along the Y axis.</p>

<h4>
<a id="pgfId-1016525"></a>Layer Options</h4>
<p><strong>
<a id="pgfId-1016526"></a><code>O</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053354"></a>Checks the original layer, not the layer generated by the operation in the conjunctive rule. Use this option only with a conjunctive rule and on a layer with error flags. </p>

<h4>
<a id="pgfId-1016527"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016528"></a>EXT layer1 layer2 LT 1 &amp;<br />EXT layer1 layer3 LT 1 &amp;<br />EXT layer1[O] layer3 LT 2 OUTPUT err1 23</pre>
<h4>
<a id="pgfId-1016529"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016530"></a>CONNECT poly srcdrn BY cont 
&#160;&#160;&#160;&#160;EXT poly srcdrn LT 1 OUTPUT drc05 73 </pre>

<p>
<a id="pgfId-1016531"></a>The error in the figure is a false error. It is not reported as a violation if the node option is flagged (that is, EXT [N] . . .).</p>

<p>
<a id="pgfId-1027363"></a></p>
<div class="webflare-div-image">
<img width="676" height="344" src="images/chap13-65.gif" /></div>
<h4>
<a id="pgfId-1016554"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016588"></a>EXT[R] poly metal LT 3 pmet </pre>
<p>
<a id="pgfId-1027392"></a></p>
<div class="webflare-div-image">
<img width="507" height="264" src="images/chap13-66.gif" /></div>
<h4>
<a id="pgfId-1016589"></a>Example 4</h4>

<p>
<a id="pgfId-1016590"></a>This example checks for external spacing of metal, but metal carrying the same electrical node is not an error. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016591"></a>EXT[N] metal LT 5 OUTPUT drc05 70 </pre>

<h4>
<a id="pgfId-1016592"></a>Example 5</h4>

<p>
<a id="pgfId-1016593"></a>This example checks for gate external spacing to epi in the direction of diffusion only. Touching is also an error.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016594"></a>ENC[T] gate poly LT .001 &amp; <br />EXT[T] gate epi LT 3 OUTPUT drc03 54 </pre>

<h4>
<a id="pgfId-1016595"></a>Example 6</h4>

<p>
<a id="pgfId-1016596"></a>Example 5 can be rewritten: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016597"></a>ENC[T] gate&amp;gatew poly LT .001 &amp; <br />EXT[T] &amp;gatew epi LT 3 OUTPUT drc05 55 </pre>
<p>
<a id="pgfId-1016598"></a>This example also checks for gate external spacing to epi in the direction of diffusion only. Touch is also an error. </p>
<p>
<a id="pgfId-1016599"></a>The layer gate is renamed to &amp;gatew in the conjunctive rename operation, and now &amp;gatew contains the error flags from the joined operations. You can now use &amp;gatew in a further conjunctive operation. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016600"></a>EXT[T] &amp;gatew mc LT 2 OUTPUT drc05 56 </pre>
<p>
<a id="pgfId-1016601"></a>Checks for gate external spacing to metal contact (mc) in the direction of diffusion only. Touch is also an error. </p>
<p>
<a id="pgfId-1016602"></a>The use of the conjunctive rename is optional but saves CPU resources. </p>

<h4>
<a id="pgfId-1016603"></a>Example 7</h4>

<p>
<a id="pgfId-1016604"></a>This example checks for metal to poly spacing and also for poly crossing metal at an acute angle. The reflection area must be clear by at least 2 microns. Flags the intersecting edges of two layers that form acute angles.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016634"></a>EXT metal poly LT 2 OUTPUT drc05 69 </pre>

<p>
<a id="pgfId-1027432"></a></p>
<div class="webflare-div-image">
<img width="676" height="333" src="images/chap13-67.gif" /></div>

<p>
<a id="pgfId-1016635"></a>If you do not want the acute angles flagged, change the command to the following: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016636"></a>EXT metal poly RANGE 0 2 OUTPUT drc05 69 </pre>

<h4>
<a id="pgfId-1016637"></a>Example 8</h4>

<p>
<a id="pgfId-1016638"></a>This example checks for metal to poly spacing and does not flag poly crossing metal at an acute angle as in Example 5. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016639"></a>EXT metal poly RANGE 0 2 OUTPUT drc05 70 </pre>

<h4>
<a id="pgfId-1016640"></a>Example 9</h4>

<p>
<a id="pgfId-1016641"></a>This example checks for poly shapes spaced 3 microns from each other and for poly notches that are less than 3 microns.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016667"></a>EXT[H] poly LT 3 OUTPUT drc05 71 </pre>

<p>
<a id="pgfId-1027468"></a></p>
<div class="webflare-div-image">
<img width="539" height="213" src="images/chap13-68.gif" /></div>
<h4>
<a id="pgfId-1016668"></a>Example 10</h4>

<p>
<a id="pgfId-1016669"></a>This example outputs all psd (p+ source/drain) polygons that do not have any edges spaced less than or equal to 20 microns to pwell. The output layer is psd20 and is in trapezoid format. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016670"></a>EXT psd pwell SELGT 20 psd20 </pre>

<h4>
<a id="pgfId-1016671"></a>Example 11</h4>

<p>
<a id="pgfId-1016672"></a>This example outputs all ptie (p+ substrate tie-downs) polygons spaced greater than 40 microns from each other. The output layer, ptie40, is in trapezoid format. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016673"></a>EXT ptie SELGT 40 ptie40 </pre>

<h4>
<a id="pgfId-1016674"></a>Example 12</h4>

<p>
<a id="pgfId-1016675"></a>The following example checks for metal contact (mc) corner-to-corner spacing only. Corners that project onto adjacent corners are not checked. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016676"></a>EXT[P&#39;] mc LT 2.5 OUTPUT drc05 72 </pre>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1016677"></a>
If you specify a range when using the EXT command, Dracula does not verify geometries that have certain characteristics. For example:</div>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016731"></a>EXT MET1 RA 1.61 2.11 OUTPUT DRC40</pre>

<p>
<a id="pgfId-1027500"></a></p>
<div class="webflare-div-image">
<img width="487" height="322" src="images/chap13-69.gif" /></div>
<h4>
<a id="pgfId-1016732"></a>Example 13</h4>

<p>
<a id="pgfId-1016733"></a>The following example outputs errors between met1 shapes spaced less than 2 microns, including shapes with a corner-edge spacing box or a corner-corner spacing box of less than 2 microns.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016734"></a>EXT[S] met1 LT 2.0 OUTPUT DRC40</pre>
<p>
<a id="pgfId-1016759"></a>The following illustrates shapes that are in violation.</p>

<h4>
<a id="pgfId-1041821"></a><a id="52608"></a>Example 14 Using the O, E, and G Options</h4>

<p>
<a id="pgfId-1041822"></a>The following example contains 4 figures. </p>
<ul><li>
<a id="pgfId-1041827"></a>Figure 1 shows the EXT command by itself.</li><li>
<a id="pgfId-1041828"></a>Figure 2 shows the EXT command with the O option, which does not flag polygons that are fully enclosed by another layer. <br />
<a id="pgfId-1042165"></a><div class="webflare-div-image">
<img width="668" height="231" src="images/chap13-70.gif" /></div></li><li>
<a id="pgfId-1041830"></a>Figure 3 shows the EXT command with the E option, which flags polygons that are fully enclosed by a polygon from another layer.</li><li>
<a id="pgfId-1041831"></a>Figure 4 shows the EXT command with the G option, which flags polygons that are fully enclosed by a polygon from another layer as well as the cut off part of polygons enclosed by another layer. </li></ul>








<h4><em>
<a id="pgfId-1041844"></a>Example 14 - Figure 1</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041853"></a>EXT A B LT 0.05 OUTPUT ERR 1 1</pre>
<p>
<a id="pgfId-1041840"></a></p>
<div class="webflare-div-image">
<img width="668" height="236" src="images/chap13-71.gif" /></div>
<h4><em>
<a id="pgfId-1041872"></a>Example 14 - Figure 2</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041873"></a>EXT[O] A B LT 0.05 OUTPUT ERR 1 1</pre>
<p>
<a id="pgfId-1041894"></a></p>
<div class="webflare-div-image">
<img width="668" height="236" src="images/chap13-72.gif" /></div>
<h4><em>
<a id="pgfId-1041919"></a>Example 14 - Figure 3</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041920"></a>EXT[E] A B LT 0.05 OUTPUT ERR 1 1</pre>
<p>
<a id="pgfId-1041944"></a></p>
<div class="webflare-div-image">
<img width="668" height="236" src="images/chap13-73.gif" /></div>
<h4><em>
<a id="pgfId-1041949"></a>Example 14 - Figure 4</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041950"></a>EXT[G] A B LT 0.05 OUTPUT ERR 1 1</pre>
<p>
<a id="pgfId-1041971"></a></p>
<div class="webflare-div-image">
<img width="668" height="236" src="images/chap13-74.gif" /></div>
<h3>
<a id="pgfId-1016765"></a>extra<a id="marker-1016761"></a>ctParasitic</h3>
<a id="pgfId-1016767"></a><a id="marker-1016766"></a><a id="marker-1016768"></a><a id="marker-1016769"></a><a id="marker-1016770"></a><a id="marker-1016772"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
extractParasitic(
   (   layers( layerList )
      cap( layer1 layer2 coefficientList {model(<code><em>modelType</em></code>)}
          {lateral(layerN piecewiseList)})
      |fringe( layer1 layer2 piecewiseList {mode1(<em>modelType</em>)}
         {equation(&quot;<em>userEquation1</em>&quot;)
         {equation(&quot;<em>userEquation2</em>&quot;) ...}}
         {parset(pName)})
      {cap|fringe(...)...}
   )
   (   ( resistor(resLayer sheetResValue {model(<code><em>modelType</em></code>)}
           {cont(contactLayerList)}
           {device(deviceLayerList)}
      {multiSheetRes piecewiseList}
      {model(<em>modelType</em>)}
           {maxlength(length)}
       {maxwidth(width)}
       {smash(smashResValue maxResValue)}   
       {corner45(compenFactor)}
      {align}
      ) {resistor(...)...}

      ( contact(contactLayer layer1 layer2 contactCoefficient)
                        {model(<code><em>modelType</em></code>)})
      |   gateRes(subtype factor) {gateRes(...) ..}
   )
)</pre>
<h4>
<a id="pgfId-1016773"></a>Description</h4>

<p>
<a id="pgfId-1016774"></a>Extracts parasitic resistance and capacitance (RC) from specified layers. For examples and a description of the types of parasitic RC you can extract, see the section about <em>&#8220;Using One Function to Extract RC Parasitics&#8221;</em> in the Dracula User Guide.</p>
<p>
<a id="pgfId-1016776"></a>This command also can support parasitic diode command if you insert <code>*dracrule</code> and <code>*endrule</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1016777"></a>The resistor, device, maxlength, maxwidth, smash, corner45, and align options must be used in the order shown above.</div>
<p>
<a id="pgfId-1016778"></a>In version <span class="webflare-courier-new" style="white-space:pre"><em>4.7.0399</em></span> and later versions, an additional enhancement is that users can specify the model type for each capacitance or resistance command in <code>extractParasitic()</code>. PDRACULA will automatically generate the model commands with the correct subtypes. </p>
<p>
<a id="pgfId-1016779"></a>The Spice files will include model type for resistors and capacitors. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1016780"></a>For expanded rules of <code>extractParasitic</code>, the syntax is as follows:</div>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032866"></a>*DESCRIPTION<br />   MODEL = RES[<code><em>subType1</em></code>] <code><em>modelType1</em></code>  RES[<code><em>subType2</em></code>] <code><em>modelType2</em></code>...<br />   MODEL = CAP[<code><em>subType3</em></code>] <code><em>modelType3</em></code>  RES[<code><em>subType4</em></code>] <code><em>modelType4</em></code>...<br />*END<br />*OPERATION<br />................</pre>

<h4>
<a id="pgfId-1016782"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1016783"></a><span class="webflare-courier-new" style="white-space:pre"><em>layerList</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053363"></a> Layers to be used for capacitor terminal layers. The layer list is a list of layer names or sublists. The maximum number of defined layers is 32. The format for this argument is as follows.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016784"></a>layers ( layer1 layer2 ( layer3&#160;&#160;layer4...) ... )</pre>

<p>
<a id="pgfId-1016785"></a>The order of the list defines the geometric level of the layers. The first entry is considered the lowest level in the layout and the last entry is the highest level. The list is composed of at least two elements. The element can be a layer name or a layer sublist. </p>
<p>
<a id="pgfId-1016786"></a>A layer sub-list consists of non-overlapping layers on the same geometric level in the layout. A layer sub-list must contain at least two layers. </p>
<p>
<a id="pgfId-1016787"></a>Any layer in the list must be a connected layer or derived from a connected layer.</p>

<p><strong>
<a id="pgfId-1016788"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer1, layer2</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053369"></a>Layers involved in an extraction operation. For capacitance operations, they must be two different layers defined in the layer list.</p>

<p><strong>
<a id="pgfId-1053374"></a><span class="webflare-courier-new" style="white-space:pre"><em>coefficientList</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053377"></a>Coefficients to use in the capacitance calculation. There are two forms.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016790"></a><code>areaCoeff perimeterCoeff<br />areaCoeff coCoeff upCoeff downCoeff</code></pre>

<p><strong>
<a id="pgfId-1023323"></a><span class="webflare-courier-new" style="white-space:pre"><em>modelType</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053386"></a> The user-specified model type for each capacitor or resistor or contact extraction command. The model option can be placed anywhere after the coefficient list, but before the lateral command for plate capacitor and after piecewise list or resistance coefficient for resistor or contact. PDRACULA will automatically generate model commands with correct subtypes.</p>

<p><strong>
<a id="pgfId-1053391"></a><span class="webflare-courier-new" style="white-space:pre"><em>areaCoeff</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053394"></a> The value to use for overlap area capacitance calculations.</p>

<p><strong>
<a id="pgfId-1053399"></a><span class="webflare-courier-new" style="white-space:pre"><em>perimeterCoeff </em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053402"></a>The value to use for perimeter capacitance calculations.</p>

<p><strong>
<a id="pgfId-1053407"></a><span class="webflare-courier-new" style="white-space:pre"><em>coCoeff</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053410"></a> The value to use for colinear edge capacitance calculations.</p>

<p><strong>
<a id="pgfId-1053415"></a><span class="webflare-courier-new" style="white-space:pre"><em>upCoeff</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053418"></a> The value to use for sidewall-up capacitance calculations.</p>

<p><strong>
<a id="pgfId-1053423"></a><span class="webflare-courier-new" style="white-space:pre"><em>downCoeff</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053426"></a> The value to use for sidewall-down capacitance calculations.</p>

<p><strong>
<a id="pgfId-1053431"></a><code>lateral</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053434"></a> Specifies the fringe effect for an overlap capacitor. </p>

<p><strong>
<a id="pgfId-1053439"></a><span class="webflare-courier-new" style="white-space:pre"><em>layerN</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053442"></a> Terminal layer for considering the possible fringe effect on the overlap capacitance. </p>

<p><strong>
<a id="pgfId-1053447"></a><span class="webflare-courier-new" style="white-space:pre"><em>userEquation</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053450"></a> User defined equation for fringe capacitance calculation. The syntax for equation is the same as the syntax for EQUATION command. </p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1023343"></a>userEquation is quoted in the <code>extractParasitic</code> command.</div>

<p><strong>
<a id="pgfId-1023333"></a><span class="webflare-courier-new" style="white-space:pre"><em>pName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053456"></a> User defined parset name. The default parset name used in LEXTRACT when equation command is used in <code>extractParasitic</code> is CAPF. If the equations contain parameters other than C, WIDTH,DEPT and K, user-defined parset name is required. When parset is specified, PDRACULA uses pName in the expanded rule file instead of the default one. </p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1023344"></a>The definition of pName must either in the Description block of the same rule file or a pre-defined parset name. </div>

<p><strong>
<a id="pgfId-1016799"></a><span class="webflare-courier-new" style="white-space:pre"><em>piecewiseList</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053462"></a>For capacitance, this is a list of coefficient pairs defining the piece-wise fringe capacitance. The list has the following form:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1033016"></a><code>(</code><code><em>separationRange fringeCoeff </em></code><code>)</code></pre>
<p class="webflare-indent1">
<a id="pgfId-1033017"></a> When the separation of two layers is below the <span class="webflare-courier-new" style="white-space:pre"><em>separationRange</em></span>, the corresponding <span class="webflare-courier-new" style="white-space:pre"><em>fringeCoeff </em></span>is applied as the unit length capacitance value.</p>
<p class="webflare-indent1">
<a id="pgfId-1033018"></a> For resistance, this is the list of width, sheet resistance value pairs for multiSheetRes option. This list has the following form:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1033019"></a><code>((</code><code><em>width1 sheetResValue1</em></code><code>) (</code><code><em>width2 sheetResValue2</em></code><code>)... (</code><code><em>widthn sheetResValuen</em></code><code>))</code></pre>
<p class="webflare-indent1">
<a id="pgfId-1033022"></a> Assume W1 and W2 is the width on the two side of a resistor body, (see Chapter 9, <a href="chap9.html#35677">Extracting Parasitic Resistance (PRE)</a>) and width=max(W1,W2),</p>
<p class="webflare-indent1">
<a id="pgfId-1033023"></a> 0 &lt; width &lt;= width1, use sheetResValue1 as sheet resistance</p>
<p class="webflare-indent1">
<a id="pgfId-1033024"></a> width1 &lt; width &lt;= width2, use sheetResValue2 as sheet resistance</p>
<p class="webflare-indent1">
<a id="pgfId-1033025"></a> <code>...</code></p>
<p class="webflare-indent1">
<a id="pgfId-1033026"></a> width(n-1) &lt; width &lt;= widthn, use sheetResValuen as sheet resistance</p>
<p class="webflare-indent1">
<a id="pgfId-1033027"></a> Resistance is calculated as,</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1033030"></a><code>Weffective=(W1+W2)/2 L=AREA/Weffective</code></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1033028"></a><code>R = sheetResValuen * L/Weffective</code></pre>
<p class="webflare-indent1">
<a id="pgfId-1033029"></a> In the following example, if <em>multiSheetRes</em> is used, width for resistor R1 is w1 and width for resistor R2 is w2. The effective width of R1 is w1 and of R2 is (w1+w2)/2. </p>

<p>
<a id="pgfId-1027591"></a></p>
<div class="webflare-div-image">
<img width="532" height="96" src="images/chap13-75.gif" /></div>

<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1023388"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>multiSheetRes</em></span> option cannot be used with flexible LPE and the field, <span class="webflare-courier-new" style="white-space:pre"><em>sheetResValue</em></span>, after resLayer must be specified. If the width of a resistor exceeds the maximum width specified, <span class="webflare-courier-new" style="white-space:pre"><em>sheetResValue</em></span> of maximum width is used.</div>

<p><strong>
<a id="pgfId-1016801"></a><span class="webflare-courier-new" style="white-space:pre"><em>resLayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053498"></a> Name of the parasitic resistor layer. This layer must be defined in a CONNECT-LAYER command.</p>

<p><strong>
<a id="pgfId-1053503"></a><span class="webflare-courier-new" style="white-space:pre"><em>sheetResValue</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053506"></a>Sheet resistance value in units per square, where the units correspond to the resistance units specified in the UNIT command.</p>

<p><strong>
<a id="pgfId-1053511"></a><span class="webflare-courier-new" style="white-space:pre"><em>contactLayerList</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053514"></a> One or more contact layers to use in the contact resistance capacitance calculation. If you do not specify a contact layer, the function searches the contacts of all resLayers used in CONNECT commands.</p>

<p><strong>
<a id="pgfId-1053519"></a><span class="webflare-courier-new" style="white-space:pre"><em>deviceLayerList</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053522"></a>One or more device terminal layers belonging to resLayer. If you do not specify a device layer, the function will search all gate layers used in ELEMENT MOS and ELEMENT LDD commands.</p>

<p><strong>
<a id="pgfId-1053527"></a><span class="webflare-courier-new" style="white-space:pre"><em>length</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053530"></a> Maximum length of a parasitic resistor device in a number of squares. If a resistor device exceeds this maximum, the resistor is partitioned into multiple devices evenly. </p>
<p class="webflare-indent1">
<a id="pgfId-1016806"></a> Each resistor device that is formed is smaller than the maximum value, and the values are distributed evenly on the resistor. The maximum difference between two sections is one. For example, if the resistor body is 91, and you specify a maximum length of 20, the sections are 19, 18, 18, 18, and 18.</p>

<p><strong>
<a id="pgfId-1016807"></a><span class="webflare-courier-new" style="white-space:pre"><em>width</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053539"></a> Value used by the <code>WIDTH</code> command within the command sequence <code>CUT-TERM</code> runs. For an example of how <code>CUT-TERM</code> uses the <code>WIDTH</code> command and maximum width value, refer to the <em><a href="chap13.html#width_example">&#8220;Example&#8221; in the CUT-TERM section</a></em>. Default is 40.</p>

<p><strong>
<a id="pgfId-1016809"></a><span class="webflare-courier-new" style="white-space:pre"><em>smashResValue</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053545"></a>Resistance value used as a threshold. Series resistors with values below smashResValue are smashed.</p>

<p><strong>
<a id="pgfId-1053550"></a><span class="webflare-courier-new" style="white-space:pre"><em>maxResValue</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053553"></a> Maximum value of a resistor that results from smashing serial parasitic resistors. This prevents the Dracula software from creating a big resistor from subsequent smashing.</p>

<p><strong>
<a id="pgfId-1053558"></a><code>compenFactor</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053561"></a> Argument used for compensating resistance in 45-degree terminals.</p>

<p><strong>
<a id="pgfId-1053566"></a><code>align</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053569"></a> The terminal cut aligns with the context edge if you specify this argument for resistor.</p>

<p><strong>
<a id="pgfId-1053574"></a><span class="webflare-courier-new" style="white-space:pre"><em>contactLayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053577"></a> Layer to use in the contact resistance calculation.</p>

<p><strong>
<a id="pgfId-1053582"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer1, layer2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053590"></a>The connection layers of the contact.</p>

<p><strong>
<a id="pgfId-1053595"></a><span class="webflare-courier-new" style="white-space:pre"><em>contactCoefficient</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053598"></a>Value to use for contact resistance calculations. The default equation is</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016816"></a><code>R = </code><code><em>contactCoefficient</em></code><code> / </code><code><em>contactArea</em></code></pre>

<p><strong>
<a id="pgfId-1016817"></a><span class="webflare-courier-new" style="white-space:pre"><em>subtype</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053607"></a> MOS element and subtype in which you want to extract gate resistance.</p>

<p><strong>
<a id="pgfId-1053612"></a><span class="webflare-courier-new" style="white-space:pre"><em>factor</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053615"></a> Gate resistance factor, which is used as </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016819"></a><code>R = factor * (w / L)</code></pre>

<p><strong>
<a id="pgfId-1016820"></a><code>*dracrule, *endrule</code>  </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053624"></a>For PRE cases, the Dracula rule embedded inside <code>*dracrule</code> and <code>*endrule</code> is put behind re-extraction elements in the expand rule file. You can use this function to do parasitic diode extraction composite with the <code>extractParasitic()</code> command.</p>

<h4>
<a id="pgfId-1016821"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016822"></a>extractParasitic(<br />( layers( BULK (NWELL PWELL)(PSD NSD POLY) MET MT2)<br />fringe(MET1 MET1 (1.0 0.02)(1.5 0.015)) ; 1-layer fringe<br />fringe(MET1 MET2 (1.0 0.03)(1.5 0.01)) ; 2-layer fringe <br />cap (BULK POLY 0.35 0.12); poly, substrate overlapped cap <br />cap (BULK MET1 0.4 0.15) ; met1, substrate overlapped cap <br />cap (POLY MET1 0.2 0.3 ; 2D3B model for overlapped cap <br />   lateral(POLY (1.0 0.03)(1.5 0.02)))<br />cap (POLY MET2 0.3 0.02 0.1 0.15)) ; sidewall cap<br />( resistor(MET1 0.1 cont(CONTACT VIA)) <br />resistor(MET2  0.3 cont(VIA) maxlength(30))<br />resistor(POLY 0.7 cont(CONTACT) device(NGATE PGATE))<br />contact(VIA MET1 MET2 0.1)))</pre>
<h4>
<a id="pgfId-1016823"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033055"></a>extractParasitic(<br />*dracrule<br />; Define Parasitic Junction Diodes <br />NOT    SUB     NWZ    PSUB<br />AND    PDIFC   NWZ    PDIO  ; p+ diode trm to nwell less p+ ties<br />AND    NDIFC   PSUB   NDIO  ; n+ diode res to psub less n+ ties<br />AND    RDIFC   PSUB   RDIO  ; n+ diode res to psub less n+ ties<br />;<br />PARASITIC  DIO{PT} PDIO     PDIO    NWZ     ; pdiff/n-<br />PARASITIC  DIO{NT} NDIO     PSUB    NDIO    ; ndiff/p-<br />PARASITIC  DIO{RT} RDIO     PSUB    RDIO    ; ndiff/p-<br />;<br />*endrule<br />(<br />   layers(SUB NWZ  (NDIF PDIF) PCZ MCZ  M1BIAS M2BIAS )<br />   fringe(PCZ    PCZ    (0.32 3.972670e-06) (0.86 2.434180e-06))<br />   fringe(MCZ    MCZ    (0.26 2.751891e-05) (0.80 2.514589e-05))<br />   fringe(M1BIAS M1BIAS (0.35 2.154846e-05) (0.98 1.084768e-05))<br />   fringe(M2BIAS M2BIAS (0.40 2.712161e-05) (1.21 1.412467e-05))<br />   .<br />   .<br />   cap(SUB NWZ       1 0.9 0.8 0.7)<br />   cap(SUB NDIF      1 0.9 0.8 0.7)<br />   cap(SUB PDIF      1 0.9 0.8 0.7)<br />   cap(SUB PCZ       1 0.9 0.8 0.7)<br />   cap(SUB MCZ       1 0.9 0.8 0.7) <br />   .<br />   .<br />   .<br />) <br />(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016825"></a>   resistor(PCZ 7.0E-3 cont(MCDIF MCPC) device(PDEVICE NDEVICE<br />      RGATER LWGATE XWGATE ZGATE NWCON) smash(0.0E-3 5.0E-3))<br />   resistor(MCZ 0.24E-3 cont(MCDIF MCPC CNTALL) smash(0.0E-3 0.5E-3))<br />   resistor(M1BIAS 0.061E-3 cont(CNTALL V1ALL) smash(0.0E-3 0.05E-3))<br />   resistor(M2BIAS 0.061E-3 cont(V1ALL V2ALL) smash(0.0E-3 0.05E-3))<br />   .<br />   .<br />   contact(MCDIF MCZ NDIF 1     )<br />   contact(MCDIF MCZ PDIF 1     )<br />   .<br />   .<br />))<br />   .<br />   .<br />   .<br />;***************************************************************<br />; Parasitic diode extraction formula<br />;***************************************************************<br />LEXTRACT        MDIF    PDIO    PDEVN BY DIO[PT] PTDIF &amp;<br />EQUATION        P1=PERI-OVPR &amp;<br />EQUATION        A1=AREA<br />;<br />LEXTRACT        MDIF    NDIO    NDEVN BY DIO{NT} NTDIF &amp;<br />EQUATION        P1=PERI-OVPR &amp;<br />EQUATION        A1=AREA<br />;<br />LEXTRACT        MOSF    RDIFC   RDEVN BY NODE RMDIF &amp;<br />EQUATION        PERI=PERI-OVPR<br />
&#160;&#160; .<br />   .<br />   .</pre>
<h4>
<a id="pgfId-1023487"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023488"></a>extractParasitic(<br />( layers( BULK (NWELL PWELL)(PSD NSD POLY) MET MT2)<br />fringe(MET1 MET1 (1.0 0.02)(1.5 0.015)<br />equation(&#8220;C=(19.761/(DEPT+4.2))*WIDT*0.001&#8221;)) ; 1-layer fringe<br />fringe(MET1 MET2 (1.0 0.03)(1.5 0.01)) ; 2-layer fringe <br />cap (BULK POLY 0.35 0.12); poly, substrate overlapped cap <br />cap (BULK MET1 0.4 0.15) ; met1, substrate overlapped cap <br />cap (POLY MET1 0.2 0.3 ; 2D3B model for overlapped cap <br />   lateral(POLY (1.0 0.03)(1.5 0.02)))<br />cap (POLY MET2 0.3 0.02 0.1 0.15)) ; sidewall cap<br />( resistor(MET1 0.1 cont(CONTACT VIA)<br />   multiSheetRes((0.05 0.15) (0.1 0.1)) model(RR1))<br />resistor(MET2 0.3 cont(VIA) model(RR2) maxlength(30))<br />resistor(POLY 0.7 cont(CONTACT) device(NGATE PGATE) model(RR3))<br />contact(VIA MET1 MET2 0.1)))</pre>
<h3>
<a id="pgfId-1016828"></a>FLATTEN</h3>
<a id="pgfId-1016829"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
FLATTEN <code><em>layer-a trapfile</em></code> </pre>
<h4>
<a id="pgfId-1016830"></a>Description</h4>

<p>
<a id="pgfId-1016832"></a>F<a id="marker-1016831"></a>lattens Hcell data and places it in a flattened layer. In flat Dracula, the <a id="marker-1016833"></a>FLATTEN command copies one layer to another.</p>

<h4>
<a id="pgfId-1016834"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1016835"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053635"></a> Hierarchical, composite, and flat.</p>

<p><strong>
<a id="pgfId-1053640"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053643"></a> HDRC.</p>

<h4>
<a id="pgfId-1016837"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1016838"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053649"></a> Name of the input layer or a generated layer in hierarchical Dracula. </p>

<p><strong>
<a id="pgfId-1053654"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053657"></a> Name of the trapezoid file. The trapfile name can have up to seven alphanumeric characters and no special characters. The first character must be a letter. </p>
<p class="webflare-indent1">
<a id="pgfId-1033069"></a> In flat Dracula, trapfile consists of trapezoid data that is an exact copy of data from layer-a.</p>
<p class="webflare-indent1">
<a id="pgfId-1033070"></a> In hierarchical Dracula, use this command for operations that cannot be done on <a id="marker-1016842"></a>hierarchical layers, such as HDRC SELECT LABEL, which requires nodal information. You can also run HDRC checking commands with large dimensional checks (for example, 10 microns) without penalizing performance or disk space for the other HDRC checking commands. </p>
<p>
<a id="pgfId-1016843"></a>Note: Layer-a must be a hierarchical (unflattened) layer. If you use the command in a check-mode other than hierarchical mode, Dracula copies only layer-a to trapfile. Therefore, if you change check-mode from hierarchical to flat, you do not have to edit the rules file.</p>

<h4>
<a id="pgfId-1016844"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016845"></a>FLATTEN cont cont1 </pre>

<p>
<a id="pgfId-1016846"></a>In flat Dracula, layer cont1 consists of the data from cont. You can now use cont1 in any Operation block command. In hierarchical Dracula, cont is a hierarchical layer and cont1 is the flattened layer.</p>

<h4>
<a id="pgfId-1016847"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016848"></a>FLATTEN PSUB PSUB1<br />NOT PSUB1 PSUB PSUBX      ;; PSUBX contains exploded cell data<br />LINK PSUBX TO GND         ;; link cell data to ground<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016849"></a>AND MET2 PSUBX M2SUBX     ;; MET2 to cell PSUB overlap<br />AND MET2 PSUB M2SUB       ;; MET2 to composite PSUB overlap<br /></pre>
<h3>
<a id="pgfId-1016851"></a>FLOATCHK</h3>
<a id="pgfId-1016853"></a><a id="marker-1016852"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
FLOATCHK  <code><em>contact-layer</em></code> {<code><em>trapfile</em></code>} OUTPUT  <code><em>c-name  l-num</em></code>  {<code><em>d-num</em></code>} </pre>
<h4>
<a id="pgfId-1016854"></a>Description</h4>

<p>
<a id="pgfId-1016857"></a>F<a id="marker-1016855"></a>inds <a id="marker-1016856"></a>floating contact geometries on the contact layer you specify. A floating contact is any contact, or part of a contact, not covered by both connect layers defined in the CONNECT command.</p>

<h4>
<a id="pgfId-1016858"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1016859"></a><span class="webflare-courier-new" style="white-space:pre"><em>contact-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053667"></a> Name of the contact layer. The contact-layer must be a contact used in a CONNECT command.</p>

<p><strong>
<a id="pgfId-1053672"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053675"></a>Name you designate as the output file to contain composite trapezoids.</p>

<p><strong>
<a id="pgfId-1053680"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053683"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1053688"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053691"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. </p>
<p class="webflare-indent1">
<a id="pgfId-1033073"></a> If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1016863"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053700"></a> Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1016864"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016865"></a>FLOATCHK CONT OUTPUT CONT1 23<br />FLOATCHK PCONT OUTPUT PCONT2 23<br />FLOATCHK NSUB OUTPUT NSUB3 23</pre>
<h3>
<a id="pgfId-1016893"></a>FRINGE CAP </h3>
<a id="pgfId-1016894"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
FRINGE [options] CAP [<code><em>type</em></code>]  <code><em>layer-a  layer-b  </em></code></pre>
<h4>
<a id="pgfId-1016895"></a>Description</h4>

<p>
<a id="pgfId-1016898"></a>D<a id="marker-1016896"></a>efines the <a id="marker-1016897"></a>fringe capacitance of the same or different layers. Use an ATTRIBUTE CAP command after the FRINGE CAP command. ATTRIBUTE CAP associates the geometry data with the process-dependent electrical properties. ATTRIBUTE CAP does not accept units. The scale of the FRINGE CAP attribute must match the scale of the layout database. </p>
<p>
<a id="pgfId-1016899"></a>Fringe capacitors apply to stray capacitances between two nodes on the same or different conductor layers. This command does not extract capacitances if both terminals are at the same node. </p>
<p>
<a id="pgfId-1016900"></a>For overlapping fringe capacitance extraction, only the overlapping edges of the two input layers are considered.</p>
<p>
<a id="pgfId-1016901"></a>The default mode of the FRINGE CAP command uses shielding. For example, in the following graphic, shape1 of MET1 shields part of POLY from shape2. When calculating fringe capacitance, the shielded part is not neglected.</p>

<p>
<a id="pgfId-1027622"></a></p>
<div class="webflare-div-image">
<img width="487" height="269" src="images/chap13-76.gif" /></div>
<h4>
<a id="pgfId-1016948"></a>FRINGE CAP with PRE</h4>

<p>
<a id="pgfId-1016949"></a>Use the FRINGE CAP command with PRE. Resistor device layers for PARASITIC RES are allowed as terminal layers for FRINGE CAP. In general, these resistor device layers have no nodal information.</p>
<p>
<a id="pgfId-1016950"></a>If the first terminal layer in a FRINGE CAP command is a PARASITIC RES device layer, the FRINGE CAP device layer does not need nodal information. </p>

<h4>
<a id="pgfId-1016951"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1033096"></a><span class="webflare-courier-new" style="white-space:pre"><em>options</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053707"></a> Can be from among the following:</p>

<p>
<a id="pgfId-1033095"></a></p>
<table class="webflareTable" id="#id1033082">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033084"></a><code>R</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033086"></a>Extracts the fringe capacitance of the CUT-TERM layers. Use this option to solve the shielding problem when you extract fringe capacitance between the resistor layer and the terminal layer of a parasitic resistor. When you use this option, either <em>layer-a</em> or <em>layer-b</em> can represent the resistor layer.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033088"></a><code>S</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033090"></a>Specifies that only the overlapping edges of the two input layers are considered when extracting the fringe capacitance. Because the first layer is induced from the second layer, you must specify the correct layer sequence. </p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1016954"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053713"></a> Type of fringe CAP device. The first character must be a letter from A to Z. The second character is optional and can be any letter from A to Z or any number from 0 to 9 (except 8). This code differentiates between fringe capacitor devices. </p>

<p><strong>
<a id="pgfId-1053718"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-</em></span><code>a</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053721"></a> T<a id="marker-1016955"></a>erminal conductor layer. This layer is the conductor layer for one side of the capacitor and must carry node information. </p>

<p><strong>
<a id="pgfId-1053726"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-</em></span><code>b</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053729"></a><code>&#160;&#160;&#160;&#160;</code>Terminal conductor layer. This layer is the conductor layer for the other side of the capacitor (can be the same or different from layer-a) and must carry node information. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1016958"></a>The ELEMENT CAP command represents discrete devices only. The PARASITIC CAP and FRINGE CAP commands represent stray or parasitic capacitance between nodes. </div>

<h4>
<a id="pgfId-1016959"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016960"></a>FRINGE[R] CAP[A] M1RES M1TRM<br />ATTRIBUTE CAP[A] 5 0.000027</pre>
<h4>
<a id="pgfId-1016961"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016962"></a>AND L3 L5 L3L5<br />FRINGE[S] CAP[L] L3L5 L3<br />ATTRIBUTE 1.0 0.002<br />ATTRIBUTE 1.5 0.0003</pre>
<h4>
<a id="pgfId-1016963"></a>Example 3</h4>

<p>
<a id="pgfId-1016964"></a>In the following example, layer PAOM1 is derived from MET1. POAM1 is also a subset of MET1. To prevent calculating capacitance from false edges of POAM1 (edges of shapes from POAM1 that do not overlap with shapes of MET1, for example, edges within shapes of MET1), you use the [S] option. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016965"></a>AND POLY MET1 POAM1<br />FRINGE[S] CAP POAM1 MET1</pre>
<p>
<a id="pgfId-1027675"></a></p>
<div class="webflare-div-image">
<img width="487" height="199" src="images/chap13-77.gif" /></div>
<h4>
<a id="pgfId-1016989"></a>Example 4</h4>

<p>
<a id="pgfId-1016990"></a>In the following example Dracula supports zero distance FRINGE CAP.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016991"></a>FRING CAP[A] MET1 MET2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016992"></a>   ATTRIBUTE CAP[A] 0    0.000005  ; DEPTH = 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016993"></a>   ATTRUBUTE CAP[A] 0.6  0.000005  ; 0 &lt; DEPTH &lt;= 0.6</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016994"></a>   ATTRUBUTE CAP[A] 1.2  0.000003  ; 0.6 &lt; DEPTH &lt;= 1.2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016995"></a>   ATTRUBUTE CAP[A] 1.8  0.000002  ; 1.2 &lt; DEPTH &lt;= 1.8</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016996"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016997"></a>   C =  K x (WIDTH / DEPTH)   when DEPTH !=0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039608"></a>   C =  K x  WIDTH            when DEPTH  =0</pre>
<h3>
<a id="pgfId-1039610"></a><a id="31448"></a>GENREC<a id="marker-1039614"></a>T</h3>
<a id="pgfId-1039611"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
GENRECT input-layer XYLEN xl yl XYGAP xg yg {XYADJ xa ya} trapfile</pre>
<h4>
<a id="pgfId-1024990"></a>Description</h4>

<p>
<a id="pgfId-1024991"></a>Generate rectangle shapes that overlap input layer, flat mode only. In version 4.81 and later versions, Dracula provides a new option for generating a staggered pattern rectangle array for area fill, as shown in the following figure.</p>
<p>
<a id="pgfId-1037720"></a></p>

<div class="webflare-div-image">
<img width="668" height="359" src="images/chap13-78.gif" /></div>
<h4>
<a id="pgfId-1024992"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1042296"></a><code>input-layer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053736"></a> Input layer name</p>

<p><strong>
<a id="pgfId-1053741"></a><code>xl,yl</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053744"></a> Length/width of rectangles</p>

<p><strong>
<a id="pgfId-1053749"></a><code>xg,yg</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053752"></a> Gap between rectangles</p>

<p><strong>
<a id="pgfId-1053757"></a><code>xa,ya</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053760"></a> Generate each rectangle with XY-axes offset</p>

<p><strong>
<a id="pgfId-1053765"></a><code>trapfile</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053768"></a> Output layer</p>

<h4>
<a id="pgfId-1024996"></a>Example </h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037767"></a>GENRECT errwin&#160;&#160;XYLEN&#160;&#160;2.0&#160;&#160;3.0&#160;&#160;XYGAP&#160;&#160;1.0&#160;&#160;2.0 XYADJ 1.0 1.0 fill</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037776"></a></pre>
<div class="webflare-div-image">
<img width="668" height="506" src="images/chap13-79.gif" /></div>
<h3>
<a id="pgfId-1017000"></a>GLOBAL-SCONNECT</h3>
<a id="pgfId-1017001"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
GLOBAL-SCONNECT = YES/NO</pre>
<h4>
<a id="pgfId-1017002"></a>Description</h4>

<p>
<a id="pgfId-1017003"></a>Specifies a global majority rule for SCONNECT. Dracula uses the local majority to determine the node within the local lower region, and it uses the global majority to determine the node within all lower regions. If, after considering these majorities, Dracula cannot decide the winning node, it chooses the node with the smallest node number.</p>

<h4>
<a id="pgfId-1017004"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017005"></a><code>YES</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053775"></a> Activates global majority rule for SCONNECT conflict resolution.</p>

<p><strong>
<a id="pgfId-1053780"></a><code>NO</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053783"></a> Specifies random choice for SCONNECT conflict resolution. Default.</p>

<h4>
<a id="pgfId-1017007"></a>Example</h4>

<p>
<a id="pgfId-1017008"></a>In the following example, Region1 is stamped Node2.</p>

<p>
<a id="pgfId-1017032"></a></p>
<div class="webflare-div-image">
<img width="478" height="198" src="images/chap13-80.gif" /></div>
<h3>
<a id="pgfId-1017034"></a>GPATHCHK </h3>
<a id="pgfId-1017036"></a><a id="marker-1017035"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
GPATHCHK  {[<code><em>options</em></code>]}  LEVEL  <code><em>n  </em></code>{<code><em>trapfile</em></code>} OUTPUT  <code><em>c-name  
l-name</em></code>  {<code><em>d-num</em></code>} </pre>
<h4>
<a id="pgfId-1017037"></a>Description</h4>

<p>
<a id="pgfId-1017038"></a>Checks for nodes that should have a path to both power and ground through one or more <a id="marker-1017039"></a>terminals of transistors, diodes, or resistors. This command assigns an error code to nodes without a proper <a id="marker-1017040"></a>path to either power or ground.</p>
<p>
<a id="pgfId-1017041"></a>Before using GPATHCHK, you must use the GPATHDEF command to define the connectivity flow for your devices. For details, refer to the <change-bar>
<a href="chap13.html#51632"></a><h-hot>GPATHDEF</h-hot><change-bar />
</change-bar>
 section in this chapter.</p>

<h4>
<a id="pgfId-1031527"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1031528"></a><span class="webflare-courier-new" style="white-space:pre"><em>options</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053790"></a> Can be from among the following:</p>

<p>
<a id="pgfId-1031570"></a></p>
<table class="webflareTable" id="#id1031554">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031556"></a><span class="webflare-courier-new" style="white-space:pre"><em>P</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031558"></a>Specifies that the pads other than power and ground pads are considered to have a path to power.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031560"></a><span class="webflare-courier-new" style="white-space:pre"><em>N</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031562"></a>Specifies that the pads other than power and ground pads are considered to have a path to ground.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031564"></a><span class="webflare-courier-new" style="white-space:pre"><em>n</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031566"></a>Specifies the error level number (1-3). Nodes that are assigned this error level code are reported and placed in the output cell. The error levels are</p>

<ol><li>
<a id="pgfId-1031567"></a>Nodes with a path to ground but not to power.</li><li>
<a id="pgfId-1031568"></a>Nodes with a path to power but not to ground. </li><li>
<a id="pgfId-1031569"></a>Nodes without a path to power or ground.</li></ol>



</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1031571"></a><span class="webflare-courier-new" style="white-space:pre"><em>options</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053797"></a> Specifies the name of a trapezoid data file to be generated.</p>

<p><strong>
<a id="pgfId-1053803"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053806"></a><code>&#160;&#160;&#160;&#160;</code>Sends the results of the operation to an output cell.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017052"></a>The output cell you specify cannot be used as the output of another command.</div>

<p><strong>
<a id="pgfId-1017053"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053812"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1053817"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053820"></a> Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<h3>
<a id="pgfId-1017060"></a><a id="51632"></a>GPAT<a id="marker-1017059"></a>HDEF </h3>
<a id="pgfId-1017061"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
GPATHDEF <code><em>elem</em></code>{[type]} <code><em>nodetype-1</em></code> FROM <code><em>layer-a</em></code> TO <code><em>layer-b</em></code> 
{WHEN <code><em>layer-c nodetype</em></code>-2}</pre>
<h4>
<a id="pgfId-1017062"></a>Description</h4>

<p>
<a id="pgfId-1017064"></a>Defines the device power and ground connectivity <a id="marker-1017063"></a>flow path. Each GPATHDEF command specifies an element type and a rule for the directional flow through the device. After you define the flow rules, use the GPATHCHK command to check the paths. </p>
<p>
<a id="pgfId-1017065"></a>There are several standard rules that you do not need to specify. For example, MOS and RES elements pass power and ground signals in both directions. If necessary, you can redefine the rules for the MOS or RES elements.</p>
<p>
<a id="pgfId-1017066"></a>The GPATHDEF command must specify the full device type with subtype if you specify an ELEMENT command. You cannot have generic rules for device types because the layers are different for each device type.</p>

<h4>
<a id="pgfId-1017067"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017068"></a><span class="webflare-courier-new" style="white-space:pre"><em>elem</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053827"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Specify one of the following element types:</p>
<p class="webflare-indent1">
<a id="pgfId-1017069"></a> <code>MOS</code> for a MOS device
<code>BJT</code> for a bipolar device
<code>DIO</code> for diodes</p>

<p><strong>
<a id="pgfId-1017070"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053836"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>The two-letter (A-Z) code that denotes the device type. This code can differentiate N-channel from P-channel in CMOS or differentiate MOS devices with different implants.</p>

<p><strong>
<a id="pgfId-1053842"></a><span class="webflare-courier-new" style="white-space:pre"><em>nodetype-1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053845"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>The type of node that flows through the device in this direction. Specify POWER or GROUND.</p>

<p><strong>
<a id="pgfId-1053850"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053853"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>The conducting layer for the terminal into which <em>nodetype-1 </em>flows.</p>

<p><strong>
<a id="pgfId-1053858"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053861"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>The conducting layer for the terminal from which <em>nodetype-1</em> flows.</p>

<p><strong>
<a id="pgfId-1053866"></a><code>WHEN </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053869"></a>If you specify this option, the flow occurs only when the conditions you specify for <em>layer-c</em> or <em>nodetype-2 </em>are true. Otherwise, the flow always occurs.</p>

<p><strong>
<a id="pgfId-1053874"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053877"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>The conducting layer for the terminal that controls the flow through the device.</p>

<p><strong>
<a id="pgfId-1053882"></a><span class="webflare-courier-new" style="white-space:pre"><em>nodetype-2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053885"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>The type of node that enables the flow through this device. Specify POWER or GROUND.</p>

<h4>
<a id="pgfId-1017077"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017078"></a>GPATHDEF BJT POWER FROM COL TO EMIT WHEN BASE POWER<br />GPATHDEF BJT GROUND FROM EMIT TO COL WHEN BASE POWER<br />GPATHDEF BJT GROUND FROM EMIT TO BASE<br />GPATHDEF BJT POWER FROM EMIT TO EMIT <br />GPATHDEF BJT POWER FROM EMIT TO EMIT</pre>

<p>
<a id="pgfId-1017079"></a>The following example describes the diode rules:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017080"></a>GPATHDEF DIO POWER FROM ANODE TO CATHODE<br />GPATHDEF DIO GROUND FROM CATHODE TO ANODE</pre>

<p>
<a id="pgfId-1017081"></a>The following example defines the default MOS and RES rules:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017082"></a>GPATHDEF MOS POWER FROM SRCDRN TO SRCDRN<br />GPATHDEF MOS GROUND FROM SRCDRN TO SRCDRN<br />GPATHDEF RES POWER FROM RTERM TO RTERM<br />GPATHDEF RES GROUND FROM RTERM TO RTERM</pre>
<h3>
<a id="pgfId-1023557"></a>GROW</h3>
<a id="pgfId-1023559"></a><a id="marker-1023558"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
GROW <code><em>input-layer dx dy</em></code> {dx2 dy2} <code><em>trapfile</em></code> {OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} </pre>
<h4>
<a id="pgfId-1023560"></a>Description</h4>

<p>
<a id="pgfId-1017089"></a>O<a id="marker-1017088"></a>versizes a single side of a layer. The dx and dy values determine the direction and amount of growth. You can specify two different directions within a single command.</p>
<p>
<a id="pgfId-1017093"></a>For more information about sizing geometries, refer to the <a href="chap13.html#25976">SHRINK</a>.</p>

<h4>
<a id="pgfId-1017094"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017095"></a><span class="webflare-courier-new" style="white-space:pre"><em>input-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053892"></a> The name of the input layer.</p>

<p><strong>
<a id="pgfId-1053897"></a><span class="webflare-courier-new" style="white-space:pre"><em>dx dy</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053900"></a> The amount you want to size the layer. This value is a real number in microns or mils. This is the unit set by the SCALE command.</p>

<p>
<a id="pgfId-1033153"></a> </p>
<table class="webflareTable" id="#id1033128">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033130"></a>If dx &gt; 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033132"></a>Right edge grows</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033134"></a>If dy &gt; 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033136"></a>Top edge grows</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033138"></a>If dx = 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033140"></a>No growth</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033142"></a>If dy = 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033144"></a>No growth</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033146"></a>If dx &lt; 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033148"></a>Left edge grows</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033150"></a>If dy &lt; 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033152"></a>Bottom edge grows</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1017098"></a><span class="webflare-courier-new" style="white-space:pre"><em>dx2 dy2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053906"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Specifies a second size amount. All values must be positive.</p>

<p><strong>
<a id="pgfId-1053911"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053914"></a> The name of the trapezoid file.</p>

<p><strong>
<a id="pgfId-1053919"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053922"></a> The name of the output cell to which you can optionally output the sized data.</p>

<p><strong>
<a id="pgfId-1053927"></a><span class="webflare-courier-new" style="white-space:pre"><em>l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053930"></a> The layer number of the output cell.</p>

<p><strong>
<a id="pgfId-1053935"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053938"></a> The datatype number associated with the layer number (l-num) of the output cell.</p>

<h4>
<a id="pgfId-1017103"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017104"></a>*DESCRIPTION<br />SCALE = 0.001 MIC<br />RESOLUTION = 0.001 MIC<br />*END<br />*OPERATION<br />...<br />GROW lay1 -0.5 -0.0 lay2 ;Grow left edge 0.5 microns<br />...<br />GROW lay5 0.25 0.25 lay6            ;SIZE MEBES data in<br />RELOCATE lay6 BY -0.125 -0.125 lay7 ;layf by 0.125,which<br />*END</pre>
<h3>
<a id="pgfId-1017107"></a>HED<a id="hedtext"></a>TEXT </h3>
<a id="pgfId-1017108"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
HEDTEXT = <code><em>file-name</em></code> </pre>
<h4>
<a id="pgfId-1017109"></a>Description</h4>

<p>
<a id="pgfId-1017113"></a>S<a id="marker-1017110"></a><a id="marker-1017111"></a>pecifies the Hcell <a id="marker-1017112"></a>text file name. This command is similar to the EDTEXT command, except it is used for texting hierarchical cells. Use this command to attach Hcell pin texts to Hcell pins.</p>
<p>
<a id="pgfId-1017114"></a>Each statement in the file must have the following items:</p>
<ul><li>
<a id="pgfId-1017115"></a>The text name</li><li>
<a id="pgfId-1017116"></a>The x and y coordinates<br />
<a id="pgfId-1017117"></a>These coordinates are relative to Hcell coordinates. The x and y are not case sensitive.</li><li>
<a id="pgfId-1017118"></a>The name of the Hcell</li></ul>



<p>
<a id="pgfId-1017119"></a>Optionally, you can use ATTACH parameter to indicate the layer to which to attach the text. If you do not specify ATTACH, the text is attached according to the CONNECT-LAYER reference.</p>
<p>
<a id="pgfId-1017120"></a>The file accepts a tab as a delimiter. You can use a semicolon (;) to start a comment. The comment must be on its own line. You can put the comment starter (;) in the first column of a line, or you can precede it with blank spaces. You cannot put a comment at the end of a line of text in an HEDTEXT file. The Dracula program ignores all text after the comment starter. You can also use a blank space in place of an equal sign (=). </p>

<h4>
<a id="pgfId-1017121"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1017122"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053945"></a><code>&#160;&#160;&#160;&#160;</code>Cell and composite.</p>

<p><strong>
<a id="pgfId-1053950"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053953"></a> HERC, HLVS, and HLPE.</p>

<h4>
<a id="pgfId-1017124"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017125"></a>hedtext abc.htx</pre>

<p>
<a id="pgfId-1017126"></a>For file abc.htx:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017127"></a>VDD    x=56    y=89   inv<br />VSS    x=6     y=40   ATTACH=met    inv<br />IN     x=41    y=90   ATTACH=poly   inv<br />OUT    x=89    y=44                 inv<br />VDD    x=123   y=96   ATTACH=met    nand<br /></pre>
<h3>
<a id="pgfId-1017129"></a>HIERARCHEN </h3>
<a id="pgfId-1017130"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
HIERARCHEN <code><em>flayer-name hlayer-name</em></code> </pre>
<h4>
<a id="pgfId-1017131"></a>Description</h4>

<p>
<a id="pgfId-1017136"></a>C<a id="marker-1017132"></a><a id="marker-1017133"></a>onverts a <a id="marker-1017134"></a>flattened layer to a <a id="marker-1017135"></a>hierarchical layer. </p>

<h4>
<a id="pgfId-1017137"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1017138"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053960"></a> Hierarchical.</p>

<p><strong>
<a id="pgfId-1053965"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053968"></a> HDRC.</p>

<h4>
<a id="pgfId-1017140"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017141"></a><span class="webflare-courier-new" style="white-space:pre"><em>flayer-name</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053974"></a> The name of a flattened layer generated by a prior FLATTEN command.</p>

<p><strong>
<a id="pgfId-1053979"></a><span class="webflare-courier-new" style="white-space:pre"><em>hlayer-name</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053982"></a> The hierarchical version of flayer-name. This layer has the same Hcells as before the FLATTEN command was issued.</p>
<p>
<a id="pgfId-1017143"></a>If you use this command in a mode other than hierarchical, Dracula makes a copy of only layer flayer-name to layer hlayer-name. Therefore, if you change check mode from hierarchical to flat, you do not have to edit the rules file.</p>

<h4>
<a id="pgfId-1017144"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017145"></a>HIERARCHEN fmetal hmetal</pre>
<h3>
<a id="pgfId-1024576"></a><a id="14000"></a>HOLE</h3>
<a id="pgfId-1039870"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
HOLE {[options]} <em>layer-a</em> {<code><em>x_boundary</em></code> <code><em>y_boundary}</em></code> <em>trapfile</em> </pre>
<h4>
<a id="pgfId-1024578"></a>Description</h4>

<p>
<a id="pgfId-1039882"></a>The HOLE command extracts holes for the specified layer and forms a new layer for later related DRC checking. This command always selects the holes region by region. Thus the region number assigned by the Dracula tool affects the results of the HOLE command. </p>

<h4>
<a id="pgfId-1024580"></a>Arguments </h4>
<p><strong>
<a id="pgfId-1039890"></a><code>C</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053989"></a> Treats two polygons with only their corners touching as the same region and selects the correct holes.</p>

<p><strong>
<a id="pgfId-1053994"></a><code>I</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1053997"></a> Generates innermost holes that contain no internal holes, but may contain <code>layer-a</code> shapes.</p>

<p><strong>
<a id="pgfId-1054005"></a><code>I&#8217;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054008"></a> Generates innermost empty holes that contain neither internal hole nor other <code>layer-a</code> shapes. The output is subset of <code>[I]</code> option.</p>

<p><strong>
<a id="pgfId-1054016"></a><code>O</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054019"></a> Generates outermost holes that can contain both the internal holes and <code>layer-a</code> shapes, but can not be inside of other hole.</p>

<p><strong>
<a id="pgfId-1054027"></a><code>O&#8217;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054030"></a> Generates a subset of <code>[O]</code> option, which has no <code>layer-a</code> shapes inside the hole and is not inside of other hole.</p>

<p><strong>
<a id="pgfId-1054038"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054041"></a> Specified layer to extract holes.</p>

<p><strong>
<a id="pgfId-1054046"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_boundary</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>y_boundary</em></span>  </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054049"></a>Optionally specified filter box boundary.</p>

<p><strong>
<a id="pgfId-1054054"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054064"></a> Output layer that contains holes of <code>layer-a</code></p>

<h4>
<a id="pgfId-1024584"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039901"></a>HOLE metal 10 10 smet </pre>

<p>
<a id="pgfId-1024586"></a>Layer <em>smet </em>contains shapes that extract holes of the input layer <em>metal </em>as seen in<em> </em>the following figure. </p>
<p>
<a id="pgfId-1024616"></a></p>

<h4>
<a id="pgfId-1027742"></a></h4>
<div class="webflare-div-image">
<img width="676" height="516" src="images/chap13-81.gif" /></div>
<h4>
<a id="pgfId-1039945"></a>Example 2</h4>

<p>
<a id="pgfId-1039946"></a>By default, the Dracula tool treats two polygons touched by only the corner points as different regions. In the following figure, the corner-touched polygons are treated as different regions (region #1 and region #2). </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039947"></a>HOLE metal 10 20 smet</pre>

<p>
<a id="pgfId-1039952"></a>Using the above rule and layout, layer <em>smet</em> is empty.</p>

<p>
<a id="pgfId-1039950"></a></p>
<div class="webflare-div-image">
<img width="668" height="410" src="images/chap13-82.gif" /></div>

<p>
<a id="pgfId-1039987"></a>A new option in the Dracula 4.9 release, the option C for HOLE treats two polygons touched by only the corner points as the same region as illustrated in the following figure.</p>
<p>
<a id="pgfId-1039943"></a>HOLE[C] metal 10 20 smet</p>
<p>
<a id="pgfId-1039993"></a>HOLE[C] treats two polygons touched by only corner points as the same region and so can extract correctly the holes inside layer <em>metal.</em></p>

<h4>
<a id="pgfId-1048595"></a></h4>
<div class="webflare-div-image">
<img width="668" height="429" src="images/chap13-83.gif" /></div>
<h4>
<a id="pgfId-1048598"></a>Example 3</h4>

<p>
<a id="pgfId-1048601"></a>The following example illustrates how do <code>I, I&#8217;, O</code> and <code>O&#8217;</code> options work:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048603"></a>HOLE[I] INLAY IMOST</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048604"></a>HOLE[I&#8217;] INLAY IMOSTE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048605"></a>HOLE[O] INLAY OMOST</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048606"></a>HOLE[O&#8217;] INLAY OMOSTE</pre>

<p>
<a id="pgfId-1048678"></a>Figure below shows INLAY and 4 different results of the command above.</p>
<p>
<a id="pgfId-1048682"></a></p>

<div class="webflare-div-image">
<img width="644" height="804" src="images/chap13-84.gif" /></div>
<h3>
<a id="pgfId-1048684"></a>INT </h3>
<a id="pgfId-1017148"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
INT{[ ]} <code><em>layer-a</em></code>{&amp;<code><em>layer-a1</em></code>}[ ]  <code><em>layer-b</em></code>{&amp;<code><em>layer-b1</em></code>}
LT/LE/EQ/RANGE/SELLT/SELLE/SELGT/SELGE/SELEQ/SELNE/SELRA <code><em>n1</em></code> {<code><em>n2</em></code>} {<code><em>trapfile</em></code>} {OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} {&amp;} </pre>
<h4>
<a id="pgfId-1017149"></a>Description</h4>

<p>
<a id="pgfId-1017153"></a>D<a id="marker-1017150"></a><a id="marker-1017151"></a>etermines the depth to which <a id="marker-1017152"></a>polygons of two layers overlap. This command measures between the inside edges of polygons.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042319"></a>The INT command will not flag violations between obtuse angled edges.</div>

<h4>
<a id="pgfId-1047365"></a>Shell environment variables</h4>

<ul><li>
<a id="pgfId-1047369"></a><code>setenv SPAC_LISTERR_DIGIT [ 2 | 3 ] </code><br />
<a id="pgfId-1047370"></a>Use this environment variable to set number of digits after the decimal point for EXT/ENC/WIDTH/INT log report.</li></ul>


<h4>
<a id="pgfId-1017154"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1017155"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054071"></a> Flat, cell, hierarchical, and composite.</p>

<p><strong>
<a id="pgfId-1054076"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054079"></a> HDRC.</p>

<h4>
<a id="pgfId-1017157"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017158"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054085"></a> The name of the first input layer.</p>

<p><strong>
<a id="pgfId-1054090"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054093"></a> The name of the second input layer.</p>

<p><strong>
<a id="pgfId-1054098"></a><code>&amp;</code><span class="webflare-courier-new" style="white-space:pre"><em>layer-a1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054101"></a> Renames (conjunctive rename) the layer containing the error flags. The original layer name is then restored to the original layer. Do not put a space between the layer-a and &amp;layer-a1 names, for example, poly&amp;rpoly.</p>

<p><strong>
<a id="pgfId-1054106"></a><code>&amp;</code><span class="webflare-courier-new" style="white-space:pre"><em>layer-b1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054109"></a> Same as &amp;layer-a1 except that it refers to layer-b.</p>

<p><strong>
<a id="pgfId-1054114"></a><code>Measurement Operation</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054123"></a>Measures between the polygons of layer-a that overlap polygons of layer-b. (Note: Overlapping is a commutative relation; that is, if A overlaps B, then B overlaps A.) Measures from inside segments of layer-a to inside segments of layer-b for segments that do not coincide.</p>
<p class="webflare-indent1">
<a id="pgfId-1017163"></a> Flags violations after comparing the measurements against the limits you specify, such as: </p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1017164"></a>
 You must supply only one of these measurements:</div>
<p>
<a id="pgfId-1035746"></a></p>
<table class="webflareTable" id="#id1033184">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033238"></a><code>LT/LE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033240"></a>Flags an error if two segments are spaced less than <em>n1</em> for <em>LT</em> or less than or equal to <em>n1</em> for <em>LE</em>. Does not flag an error if the segments touch.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033242"></a><code>EQ </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033244"></a>Flags an error if two segments are spaced l equal to <em>n1</em>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033246"></a><code>RANGE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1 n2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033248"></a>Flags an error if two segments are spaced less than n2 and greater than n1. If you do not want acute-angle error flags, specify the range measurement.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033250"></a><code>SELGT/SELGE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033252"></a>SELGT outputs in trapezoid format the layer-a polygons that the program does not flag if you specify an LE measurement with the same options. SELGE has the same function as SELGT except that it works for an LT operation. Do not use the OUTPUT statement with this option. Specify a trapfile name instead. This check can only be used in flat and cell modes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033254"></a><code>SELLT/SELLE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033256"></a>SELLT and SELLE output in trapezoid format those layer-a polygons that the program flags if you specify an LT n1 or an LE n1 and use the same options. Specify a trapfile name instead of using the OUTPUT statement. This check can only be used in flat and cell modes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033258"></a><code>SELEQ/SELNE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033260"></a>SELEQ and SELNE output in trapezoid format those layer-a polygons that the program flags if you specify an EQ n1 or an NE n1 and use the same options. Specify a trapfile name instead of using the OUTPUT statement. This check can only be used in flat and cell modes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033262"></a><code>SELRA </code><span class="webflare-courier-new" style="white-space:pre"><em>n1 n2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033264"></a>SELRA outputs in trapezoid format those layer-a polygons that Dracula flags if you specified a RANGE n1 n2 measurement, and you used the same options. Specify a trapfile name instead of using the OUTPUT statement.</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1017172"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054136"></a> The name of the trapezoid file.</p>

<p><strong>
<a id="pgfId-1054141"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054144"></a> Sends the results to an output cell. The output cell contains clean polygons in polygon format, resulting in reduced trapezoid construction lines and a more compact cell.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017174"></a>The trapfile option and OUTPUT command are mutually exclusive. If you use any of the following options, you must also use the trapfile option.</div>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017175"></a><code>R<br />R&#8217;<br />SELLT<br />SELLE<br />SELLGT<br />SELLGE<br />SELLRA<br />SELEQ<br />SELNE</code></pre>

<p><strong>
<a id="pgfId-1017184"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054153"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1054158"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054161"></a> The datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only; values can range from 0 to 63. </p>

<p><strong>
<a id="pgfId-1054166"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054169"></a> Ampersand sign indicates a conjunctive rule.</p>

<h4>
<a id="pgfId-1017187"></a>Command Options</h4>

<p>
<a id="pgfId-1017193"></a>Options applicable to hierarchical Dracula are indicated with an <img width="41" height="23" src="images/chap13-85.gif" />
 icon in the margin. A plus (+) in an option adds error flags. A minus (-) in an option removes error flags. </p>

<p><strong>
<a id="pgfId-1042603"></a><code>B</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054175"></a> Flags the actual part of a violation on a segment instead of the entire segment. This option can be applied only with LT or LE modifiers. Neither RA, GT, nor GE modifiers can contain the B option.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1054178"></a>Causes round-off side effects on non-45-degree edges.</div>

<p><strong>
<a id="pgfId-1017194"></a><code>C</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054188"></a> (-) Flags the edge pair when the edges are parallel. </p>

<p><strong>
<a id="pgfId-1054193"></a><code>C&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054196"></a> (-) Inverse of C option. Flags nonparallel edges. </p>

<p><strong>
<a id="pgfId-1054201"></a><code>F</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054204"></a> Outputs error flags in trapezoid format that execute information for edge-sizing SIZE[E] operations.</p>

<p><strong>
<a id="pgfId-1054209"></a><code>F&#8217;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054212"></a> Outputs error flags in trapezoid format. You must specify only <em>trapfile</em> name. It is similar to <code>R</code> option but does not turn on the <code>P</code> option.</p>

<p><strong>
<a id="pgfId-1054217"></a><code>N</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054220"></a> (-) Does not flag violations on polygons that are part of the same node. Use the ONNECT command to connect nodes before using this option. This option checks composite plane and cell plane nodal information, as well as nodal information between the composite plane and cell plane.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-86.gif" /></div>
<p><strong>
<a id="pgfId-1054226"></a><code>N&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054229"></a> (-) Inverse of N option. Flags violations on polygons that are part of the same node. Use the CONNECT command to connect nodes before using this option. Checks composite plane and cell plane nodal information, as well as nodal information between the composite plane and cell plane.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-87.gif" /></div>
<p><strong>
<a id="pgfId-1054234"></a><code>P</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054237"></a> (-) Flags segments of edges that project onto each other. Two edges project if perpendicular lines from a referenced edge intersect the other edge. The referenced edge is the edge most closely aligned to the x or y axis. </p>

<p><strong>
<a id="pgfId-1054243"></a><code>P&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054246"></a> (-) Inverse of P option. Flags edges that do not project onto each other. </p>

<p><strong>
<a id="pgfId-1054251"></a><code>R</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054254"></a> Outputs in trapezoid format the <a id="marker-1017210"></a>trapezoids enclosing the projection of violation flag pairs. You must specify the only output layer. Turns on the P option. </p>

<p><strong>
<a id="pgfId-1054259"></a><code>R&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054262"></a> Outputs error flags in trapezoid format so you can reuse error data. You can process the created layer (from the error flags) with logical operations. The flags are one resolution unit wide (as specified in the Description block). You cannot specify an output error cell. </p>

<p><strong>
<a id="pgfId-1054267"></a><code>S</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054270"></a> (+) Flags violations on the two polygons if the edges of one polygon are within a &#8220;square boundary&#8221; and inside the other polygon. When you use this option, you can also specify the CORNER-CORNER and CORNER-EDGE options. The default values for n2 and n3 are n1. If you do not specify the CORNER-CORNER option, n2 is set equal to n1. If you do not specify CORNER-EDGE option, n3 is set equal to n1.</p>

<p>
<a id="pgfId-1033497"></a></p>
<div class="webflare-div-image">
<img width="495" height="135" src="images/chap13-88.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1033458"></a> Use the following syntax for these options:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017227"></a><code>INT[S] layer1 layer2 LT n1 {CORNER-CORNER n2} {CORNER-EDGE n3}</code></pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017228"></a>The CORNER-CORNER checking value, n2, and the CORNER-EDGE value, n3, cannot be greater than the normal checking value, n1, because n2 and n3 act like filters and reduce the number of errors that were initially caught by n1. n2 must be greater or equal to n1/sqrt(2).</div>
<p class="webflare-indent1">
<a id="pgfId-1017229"></a> Only 90 degree angles are treated as &quot;CORNER&quot;.</p>

<p><strong>
<a id="pgfId-1017230"></a><code>T</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054304"></a> (+) Flags inside segments of polygons of two layers that <a id="marker-1017231"></a>coincide.</p>

<p><strong>
<a id="pgfId-1054309"></a><code>U</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054312"></a> (-) Does not flag violations on polygons that are part of the same node. Use the CONNECT command to establish nodal connectivity before using this option. This option checks only the data on the composite plane.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-89.gif" /></div>
<p><strong>
<a id="pgfId-1054317"></a><code>U&#39;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054320"></a> (-) Inverse of the U option. Flags violations on polygons that are part of the same node. Use the CONNECT command to connect nodes before using this option. Checks only data on the composite plane.</p>

<div class="webflare-div-image">
<img width="41" height="32" src="images/chap13-90.gif" /></div>
<p><strong>
<a id="pgfId-1054325"></a><code>V</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054328"></a>(+) Checks the inside edges of layer-a to the inside edges of all surrounding geometries of layer-b.</p>

<p>
<a id="pgfId-1027798"></a></p>
<div class="webflare-div-image">
<img width="520" height="190" src="images/chap13-91.gif" /></div>
<p><strong>
<a id="pgfId-1017258"></a><code>X</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054334"></a> Checks the delta value in the x direction between two edges. The edges must project onto each other. Does not check non-Manhattan data.</p>

<p><strong>
<a id="pgfId-1054339"></a><code>Y</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054342"></a> Checks the delta value in the y direction between two edges. The edges must project onto each other. Does not check non-Manhattan data.</p>

<h4>
<a id="pgfId-1017260"></a>Layer Options</h4>
<p><strong>
<a id="pgfId-1017261"></a><code>O</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054348"></a> Checks the original layer, not the layer generated by the previous operation in the conjunctive rule. Use this option only with a conjunctive rule and on a layer with error flags. </p>

<h4>
<a id="pgfId-1017262"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017263"></a>ENC layer1 layer2 LT 1 outl1 &amp;<br />EXT layer1 layer3 LT 1 outl2 &amp;<br />INT layer1[O] layer3 LT 2 OUTPUT err1 23</pre>
<h4>
<a id="pgfId-1017264"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017283"></a>INT srcdrn epi LT 4 OUTPUT drc04 31 </pre>
<p>
<a id="pgfId-1027818"></a></p>
<div class="webflare-div-image">
<img width="507" height="279" src="images/chap13-92.gif" /></div>
<h4>
<a id="pgfId-1017284"></a>Example 3</h4>

<p>
<a id="pgfId-1017285"></a>This example checks the minimum intersection depth of poly and diffusion for forming capacitors. Touching is also an error.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017328"></a>INT[T] poly diff LT 2 OUTPUT drc04 32 </pre>

<p>
<a id="pgfId-1027843"></a></p>
<div class="webflare-div-image">
<img width="676" height="234" src="images/chap13-93.gif" /></div>
<h4>
<a id="pgfId-1017329"></a>Example 4</h4>

<p>
<a id="pgfId-1017330"></a>This example checks for minimum width of metal at the region where metal overlaps the poly by less than 2 microns.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017331"></a>INT[P] poly metal LT 2 &amp; <br />INT[P] metal metal[0] LT 6 OUTPUT drc04 33 </pre>

<h4>
<a id="pgfId-1017332"></a>Example 5</h4>

<p>
<a id="pgfId-1017333"></a>Example 4 can be rewritten: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017334"></a>INT[P] poly metal&amp;mpoly LT 2 &amp; <br />INT[P] &amp;mpoly metal LT 6 OUTPUT drc04 33 </pre>
<p>
<a id="pgfId-1017335"></a>This example also checks for minimum width of metal at the region where metal overlaps the poly by less than 2 microns.</p>
<p>
<a id="pgfId-1017336"></a>Layer metal is renamed to &amp;mpoly in the conjunctive rename operation and now &amp;mpoly contains the error flags from the joined operations. Also layer metal reverts to metal[O] at this point. The new layer &amp;mpoly can be used in a later DRC check. The conjunctive rename is optional but can save CPU resources.</p>

<h4>
<a id="pgfId-1017337"></a>Example 6</h4>

<p>
<a id="pgfId-1017338"></a>This example checks for the minimum intersection depth of poly and metal, and depths that are less than 2 microns are output as errors. Errors generated by poly and metal and where poly and metal carry the same electrical node are not output as an error.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017339"></a>INT[N] poly metal LT 2 OUTPUT drc04 34 </pre>

<h4>
<a id="pgfId-1017340"></a>Example 7</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017383"></a>INT[R] poly diff LT 4 cap</pre>
<p>
<a id="pgfId-1027892"></a></p>
<div class="webflare-div-image">
<img width="516" height="300" src="images/chap13-94.gif" /></div>
<h3>
<a id="pgfId-1023682"></a><a id="31043"></a>KEDTEXT</h3>
<a id="pgfId-1023687"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
KEDTEXT = &lt;kedtext_filename&gt;</pre>
<h4>
<a id="pgfId-1023688"></a>Description</h4>

<p>
<a id="pgfId-1025073"></a>Specify the text input source from a file for the &quot;Keep Cell Text&quot; feature in an LVS or LVL job. The format for the <code>KEDTEXT</code> file is the same as the <code>HEDTEXT</code> file.</p>
<p>
<a id="pgfId-1025074"></a>There are two ways to specify text input source for the &#8220;Keep Cell Text&#8221; feature. One is the <code>KTEXT</code> command in the Input-Layer Block which reads texts from the CAD graphics database, the other is the <code>KEDTEXT</code> command in the Operation block which reads texts from a plain ASCII file. The two commands can exist simultaneously.<a id="marker-1025075"></a></p>

<h4>
<a id="pgfId-1023692"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1023693"></a><code>mode</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054355"></a> Flat</p>

<h4>
<a id="pgfId-1025128"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1025129"></a><code>kedtext_filename</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054361"></a> Specifies the name of the file containing the text input source.</p>

<h4>
<a id="pgfId-1025100"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025101"></a>KEDTEXT = myKedtext.txt</pre>

<p>
<a id="pgfId-1025102"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025103"></a>KEDTEXT = /mypath/myKedtext.txt</pre>
<h3>
<a id="pgfId-1017384"></a>LCONNECT </h3>
<a id="pgfId-1017386"></a><a id="marker-1017385"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LCONNECT  <code><em>layer</em></code>  CONN/DISC  <code><em>label</em></code>  {<code><em>trapfile</em></code>} OUTPUT  <code><em>c-name  l-num</em></code>  {<code><em>d-num</em></code>} </pre>
<h4>
<a id="pgfId-1017387"></a>Description</h4>

<p>
<a id="pgfId-1017389"></a>D<a id="marker-1017388"></a>etermines if areas at specific layers are part of a labeled node. The command outputs the areas you specify to an output cell. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017390"></a>The output cell you specify cannot be used as the output of another command.</div>

<h4>
<a id="pgfId-1017391"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017392"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054368"></a> The layer to check. The layer must be a conductor layer you define in the CONNECT-LAYER and CONNECT commands.</p>

<p><strong>
<a id="pgfId-1054373"></a><code>CONN/DISC</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054376"></a> CONN<a id="marker-1017393"></a> means that the areas that are part of the labeled node are reported. DISC<a id="marker-1017395"></a> means that the areas that are not part of the labeled node are reported. </p>

<p><strong>
<a id="pgfId-1054381"></a><span class="webflare-courier-new" style="white-space:pre"><em>label</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054384"></a> Text label of the node considered for the check. The label must be assigned text in the layout database and conform to the text rules.</p>

<p><strong>
<a id="pgfId-1054389"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054392"></a> Name you designate as the output file to contain composite trapezoids. Before you do any operation on a trapfile, you need to &#8220;OR&#8221; it. </p>

<p><strong>
<a id="pgfId-1054397"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054400"></a> Sends the results of the operation to an output cell. The output cell you specify cannot be used as the output of another command.</p>

<p><strong>
<a id="pgfId-1054405"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054408"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system.</p>
<p class="webflare-indent1">
<a id="pgfId-1033120"></a> If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1017400"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054417"></a> Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only; values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1017401"></a>Examples</h4>

<p>
<a id="pgfId-1017402"></a>This example checks all polygons on the diffusion layer to see if any are disconnected to the labeled node VCC. The output is on layer 40 of cell difvcc40. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017403"></a>LCONNECT diff DISC vcc OUTPUT difvcc 40 </pre>
<p>
<a id="pgfId-1017404"></a>This example checks all polygons on the pwell layer to see if any are disconnected to the labeled node VSS. The output is on layer 63 of cell flowel63. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017405"></a>LCONNECT pwell DISC vss OUTPUT flowel 63 </pre>

<h3>
<a id="pgfId-1017407"></a>LENGTH </h3>
<a id="pgfId-1017409"></a><a id="marker-1017408"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LENGTH <code><em>layer-a</em></code> {&amp;<code><em>layer-a1</em></code>} GT/GE/  LT/LE/ RANGE <code><em>n1</em></code> {<code><em>n2</em></code>} 
{OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} {&amp;} </pre>
<h4>
<a id="pgfId-1017410"></a>Description</h4>

<p>
<a id="pgfId-1017412"></a>C<a id="marker-1017411"></a>hecks length dimensions. Use this check only as part of a conjunctive rule. When the dimensional check fails in the previous check, this command checks the dimension of the failure. It indicates a violation only when both checks fail.&#160;&#160; </p>

<h4>
<a id="pgfId-1017413"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017414"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054424"></a> Name of the input layer.</p>

<p><strong>
<a id="pgfId-1054429"></a><code>&amp;</code><span class="webflare-courier-new" style="white-space:pre"><em>layer-a1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054432"></a> Renames (conjunctive rename) the layer containing the error flags. The original layer name is then restored to the original layer. No spaces are allowed between the layer-a and &amp;layer-a1 names, for example, poly&amp;rpoly. </p>

<p><strong>
<a id="pgfId-1054437"></a><code>Measurement Operation</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054440"></a>Measures between all nonconsecutive pairs of inside edges of the polygons of the input layer. Flags violations after comparing the measurements against the limits you specify, including: </p>

<p>
<a id="pgfId-1035327"></a></p>
<table class="webflareTable" id="#id1035312">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035314"></a><code>GT/GE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035316"></a>GT means that error segment length greater than n1 layout units causes a violation. GE means that length greater than or equal to n1 layout units causes a violation. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035318"></a><code>LT/LE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035320"></a>LT means that length less than n1 layout units causes a violation. LE means that length less than or equal to n1 layout units causes a violation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035322"></a><code>RANGE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1 n2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035324"></a>RANGE means that length greater than n1 and less than n2 layout units causes a violation (n1 &lt; range &lt;n2).</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1017420"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054446"></a><code>&#160;&#160;&#160;&#160;</code>Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1054451"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054454"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>
<p class="webflare-indent1">
<a id="pgfId-1017422"></a> Format of the output is the same as the original database.</p>

<p><strong>
<a id="pgfId-1017423"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054463"></a> Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<p><strong>
<a id="pgfId-1054468"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054471"></a> Indicates a conjunctive rule. </p>

<h4>
<a id="pgfId-1017425"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017426"></a>EXT[P] metal LT 4 &amp; <br />LENGTH metal GT 6 OUTPUT rule10 11 </pre>
<p>
<a id="pgfId-1027941"></a></p>
<div class="webflare-div-image">
<img width="676" height="373" src="images/chap13-95.gif" /></div>
<h4>
<a id="pgfId-1017477"></a>Example 2</h4>

<p>
<a id="pgfId-1017478"></a>This example checks for metal contact (contact) of internal size 3 by 3 only. Uses the conjunctive rename operation. Layer &amp;cont3 can be used later in another conjunctive DRC check. Conjunctive rename is optional and can save CPU resources. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017479"></a>WIDTH contact LT 3 OUTPUT drc11 15 <br />SIZE contact BY .2 ocont <br />ENC[P] contact&amp;cont3 ocont RANGE 0.19 0.21 &amp; <br />LENGTH &amp;cont3 GT 3 OUTPUT drc11 17 </pre>

<h4>
<a id="pgfId-1017480"></a>Example 3</h4>

<p>
<a id="pgfId-1017481"></a>This example checks for poly overlap diffusion (gate extension) only on transistors having gate lengths 2 microns or less. Touching is also an error.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017482"></a>AND poly diff gate <br />ENC[T] gate diff LT .001 &amp; <br />LENGTH gate LE 2 &amp; <br />ENC[T] gate poly LT 2 OUTPUT drc11 12 </pre>

<p>
<a id="pgfId-1028002"></a></p>
<div class="webflare-div-image">
<img width="676" height="523" src="images/chap13-96.gif" /></div>
<h3>
<a id="pgfId-1017534"></a><a id="12883"></a>LEX<a id="lextract"></a>TRACT </h3>
<a id="pgfId-1017535"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LEXTRACT <code><em>pset layer-a</em></code> {<code><em>layer-b</em></code>} BY ELEMENT[<code><em>type</em></code>]{<code><em>pfname</em></code>}{&amp;}</pre>
<a id="pgfId-1017536"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LEXTRACT<code><em> pset layer-a</em></code> {<code><em>layer-b</em></code>} BY PARASITIC[<code><em>type</em></code>]{<code><em>pfname</em></code>}{&amp;}</pre>
<a id="pgfId-1044170"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LEXTRACT pset layer-a {layer-b} BY NODE {pfname} {&amp;}</pre>
<a id="pgfId-1044171"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LEXTRACT[E]  RES  layer-c  layer-d   BY RES{[type]}    &amp;</pre>
<h4>
<a id="pgfId-1017538"></a>Description</h4>

<p>
<a id="pgfId-1017540"></a>E<a id="marker-1017539"></a>xtracts geometric parameters from one or two layers of a device (BJT, CAP, DIO, MOS, or RES). Specify parameters to extract in a PARSET command in the Description block. The number of input layers you specify with the <a id="marker-1017541"></a>LEXTRACT command depends on the primitive parameters you specify with the PARSET command. The first layer you specify must be a device layer or a layer with the device number tagged on by a DEVTAG command. The second layer you specify can augment the parameters you are extracting from the first layer. </p>
<p>
<a id="pgfId-1017542"></a>When you use the LEXTRACT command, you must also specify a PARSET command in the Description block.</p>
<p>
<a id="pgfId-1017544"></a>Group parameter extractions for each device type in a <a id="marker-1017543"></a>conjoined group. Specify only one LEXTRACT conjoined group with the EQUATION command for each device type. For a discussion of flexible LPE parameter set extraction, refer to <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE).&#8221;</a></p>
<p>
<a id="pgfId-1017549"></a>For<a id="marker-1017548"></a> bipolar devices, LEXTRACT extracts width and length, as well as the geometric parameters (area and perimeter) from one or more layers. Group all parameter extractions for each device type in a conjoined group. Specify only one conjoined group for each device type (element [type]). </p>

<h4><em>
<a id="pgfId-1017551"></a>Antenna Ch<a id="marker-1017550"></a>eck</em></h4>

<p>
<a id="pgfId-1017552"></a>In certain applications, you might want to compare the ratio of device area to the layer area driving the devices. This check, called an antenna check, is useful when you want to ensure that induced capacitance, caused by a fabrication process or a circuit operation, does not cause the drive current or the transition time to become unstable. Use the NODE argument in the LEXTRACT command as part of an antenna check. Refer also to the CALCULATE, COMPUTE, and CHKPAR commands. </p>
<p>
<a id="pgfId-1017553"></a>To perform antenna checks, you need to do the following:</p>
<ul><li>
<a id="pgfId-1017554"></a>To form the necessary connection layers, use the layer operation.</li><li>
<a id="pgfId-1017555"></a>To extract the parameters per each node for specified layers, use the LEXTRACT BY NODE command.</li><li>
<a id="pgfId-1017556"></a>To calculate the parameter ration of each node among multiple layers, specify the CALCULATE command.</li><li>
<a id="pgfId-1017557"></a>To check and output the violation geometries, use the CHKPAR command.</li></ul>



<p>
<a id="pgfId-1017558"></a>To run an antenna check with HLPE</p>
<ol><li>
<a id="pgfId-1017559"></a>Run cell mode antenna check.</li><li>
<a id="pgfId-1017560"></a>Run composite mode antenna check on the same directory.</li></ol>

<p>
<a id="pgfId-1017561"></a>When running composite mode, COMPUTE reads the parameter file generated by the cell mode and add the data to the composite plane for each cell instance.</p>
<p>
<a id="pgfId-1017562"></a>See Example 1 for an sample antenna check rule. For additional information about antenna checks, see &#8220;<em><a actuate="user" class="URL" href="../draculauser/chap2.html#antenna_checks" show="replace" xml:link="simple">Writing Antenna Checks</a></em>&#8221; in the &#8220;Writing Rules for Dracula&#8221; chapter of the Dracula User Guide.</p>
<p>
<a id="pgfId-1017564"></a>When you use more than one LEXTRACT command, you need to group them together in the Dracula rules file. You cannot place another command within a group of LEXTRACT commands. In addition, you need to group LEXTRACT, DEVTAG, LVSCHK, or LPECHK commands together. Do not use any other command within any group of these commands.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1017565"></a>
If the LEXTRACT commands in your rules file are not grouped together, PDRACULA does not issue a warning.</div>
<h4>
<a id="pgfId-1017566"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017567"></a><span class="webflare-courier-new" style="white-space:pre"><em>pset</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054478"></a> Name of the parameter set PARSET to extract (specified in the Description block). The name can have up to four alphanumeric characters, the first of which must be a letter. </p>

<p><strong>
<a id="pgfId-1054483"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054486"></a> The first layer from which parameters are extracted. This layer must be either the device layer or a layer with a device number tagged by the DEVTAG command. </p>

<p><strong>
<a id="pgfId-1054491"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054494"></a> The optional second layer from which parameters are extracted. It is used in relation to the first layer to extract geometric parameters such as overlapped areas and perimeters.</p>

<p><strong>
<a id="pgfId-1054499"></a><code>NODE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054502"></a> Extracts parameters from layer-a onto each node. Because of this, layer-a must contain nodal information. Use this keyword when checking the area ratio of layers on devices or long nodes (antenna check). For example:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017571"></a><code>LEXTRACT pset layer1 {layer 2} BY NODE outfile {&amp;}</code></pre>

<p><strong>
<a id="pgfId-1017572"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054511"></a> Type of device specified in the ELEMENT command. For example, BJT[NV] for a vertical npn and BJT[LP] for a lateral pnp. Also, the type of device specified in the PARASITIC command. Elements can be BJT, CAP, DIO, MOS, and RES. Parasitics can be CAP, DIO, and RES. </p>

<p><strong>
<a id="pgfId-1054516"></a><span class="webflare-courier-new" style="white-space:pre"><em>pfname</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054519"></a> Output <a id="marker-1017573"></a>parameter file name. Specify only one file name for each conjoined group. </p>

<p><strong>
<a id="pgfId-1054524"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054527"></a> Conjunction of several extractions into one output file. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017576"></a>When you use conjunctive rules in LEXTRACT, only the primitive parameters that appear in the equations are extracted.</div>

<h4>
<a id="pgfId-1017577"></a>Example 1</h4>

<p>
<a id="pgfId-1017578"></a>The following is a sample rules file that checks connectivity up to metal1 for any antenna violation before processing metal2 and metal3.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017579"></a>*DESCRIPTION<br />PARSET ANT AREA PERI<br />*END<br />*INPUT-LAYER<br />NPLUS=1<br />NWELL=2<br />POLY=4<br />CONT=5<br />METAL=6 TEXT=20 ATTACH=METAL<br />PPLUS=7<br />VAPOX=8<br />VIA=9<br />METAL=10 TEXT=21 ATTACH=METAL<br />CONNECT-LAY= PWELL NWELL PDIFF NDIFF POLY METAL <br />SUBSTRATE CELLB = 12<br />*END<br />*OPERATION<br />NOT CELLB NWELL PWELL<br />NOT NPLUS POLY NDIFF<br />NOT PPLUS POLY PDIFF<br />OR PPLUS NPLUS PLUS</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017580"></a>AND POLY PLUS GATE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017581"></a>AND PDIFF PWELL PPLUG
AND NDIFF NWELL NPLUG
CONNECT NDIFF NWELL BY NPLUG
CONNECT PDIFF PWELL BY PPLUG
CONNECT METAL NDIFF BY CONT
CONNECT METAL PDIFF BY CONT
CONNECT METAL POLY BY CONT
AND NDIFF CONT NCONT
AND PDIFF CONT PCONT

OR NCONT PCONT NPCONT
SELECT[N] METAL CUT NPCONT GMET
NOT METAL GMET M1&#160;&#160;&#160;&#160; ; the concerned part<br />
AND POLY CONT PLCONT
AND PLCONT GMET PGCONT
SELECT[N] POLY CUT PGCONT GPOL
NOT POLY GPOL NPOL</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017582"></a>AND NPOL GATE NGPOL&#160;&#160;&#160;&#160; ; the concerned part<br />NOT NPOL GATE NFPOL&#160;&#160;&#160;&#160; ; the concerned part<br />
LEXTRACT ANT NFPOL BY NODE AFPOLY
LEXTRACT ANT NGPOL BY NODE AGATE
LEXTRACT ANT M1 BY NODE PM1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017583"></a>CALCULATE RATIO= (SUM.AFPOLY+SUM.PM1)/SUM.AGATE<br />CHKPAR PAR RATIO NGPOL GT 100 LONG1 OUTPUT PLONG 50<br />CHKPAR PAR RATIO NFPOL GT 100 LONG2 OUTPUT PLONG 51<br />CHKPAR PAR RATIO M1 GT 100 LONG3 OUTPUT PLONG 52<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017584"></a>*END</pre>
<h4>
<a id="pgfId-1017585"></a>Example 2</h4>

<p>
<a id="pgfId-1017586"></a>Vertical NPN:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017587"></a>*DESCRIPTION <br />PARSET pbip area peri ca cp ba bp ea ep <br />. <br />*END <br />*OPERATION<br />.<br />ELEMENT BJT[n]    emit   coll   base emit <br />DEVTAG BJT[n]     coll   collr <br />DEVTAG BJT[n]     base   baser <br />LEXTRACT pbip     emit   BY BJT[n] npar &amp; <br />LEXTRACT pbip     collr  BY BJT[n] &amp; <br />LEXTRACT pbip     baser  BY BJT[n] <br /></pre>

<p>
<a id="pgfId-1017588"></a>Areas and perimeters of emitter, collector, and base are extracted and stored in the NPAR.DAT file. Because coll and base layers are not the device layer, they must be tagged with device numbers using the DEVTAG command. The device layer is emit. The above example handles npn devices with multiple emitters. </p>

<h4>
<a id="pgfId-1017589"></a>Example 3</h4>

<p>
<a id="pgfId-1017590"></a>Lateral PNP with multiple collectors:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017591"></a>*DESCRIPTION <br />PARSET plat area peri ca cp ba bp ea ep <br />. <br />*END <br />*OPERATION <br />. <br />ELEMENT BJT   [lp]    coll    coll   base   oemit <br />DEVTAG BJT    [lp]    oemit   emitl <br />DEVTAG[L]     emit l  emit    emitr <br />LEXTRACT      plat    emitr   BY     BJT[lp] bjt lp &amp; <br />LEXTRACT      plat    coll    BY     BJT[lp]<br /></pre>

<p>
<a id="pgfId-1017592"></a>BJT[LP] are lateral pnp bipolar transistors with multiple collectors around the same emitter. The oemit layer is true size emitter (emit) oversized so that it touches or overlaps the device layer (coll) to facilitate terminal extractions. Device numbers are tagged to the emit1 layer and then emit1 tags the emit layer and outputs to emitr. Areas and perimeters of emit and coll are extracted and put in the BJTLP.DAT file.</p>

<h4>
<a id="pgfId-1017593"></a>Example 4</h4>

<p>
<a id="pgfId-1017594"></a>Extracting width and length of a BJT:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017595"></a>*DESCRIPTION<br /> ...<br />MODEL=BJT[VN],VNPN BJT[LP],LPNP BJT[SP],SPNP DIO[OV],OVD <br />PARSET BJTS AREA OVPR L W<br /> ...<br />*END<br />*OPERATION<br /> ...<br />AND      EMIT BURIED     XYZ<br />NOT      XYZ  TRUBASE    MNO<br />EXT[PR]  VNPN CONT LT 6 DUMMY<br />ELEMENT    BJT[VN]  VNPN     BURIED   TRUBASE   METAL1<br />ELEMENT    BJT[LP]  CLPNP    CLPNP    BURIED    OLPNP<br />ELEMENT    BJT[SP]  SUBPNP   BULK     EMIT      TRUBASE<br /> ...<br />ELEMENT  RES  RESBODY  TRUBASE<br />PARAMETER RES 1<br /> ...<br />LEXTRACT BJTS VNPN DUMMY by BJT[VN] VNPARA &amp;<br />EQUATION W=OVPR &amp;<br />EQUATION L=AREA/W<br />
LPECHK&#160;&#160;BJTWPERCENT = 10.00 BJTLPERCENT = 11.0<br />LPECHK  RESWPERCENT =  5.00 RESLPERCENT =  8.0<br />
*END</pre>

<p>
<a id="pgfId-1017596"></a>To extract the length and width of a BJT, you must define a PARSET with a W and L. Then specify an LEXTRACT defining the equations and extraction layers. In this example, an EXT[PR] check is done between the device layer and a contact layer to produce an intermediate layer that can compute the periphery overlap (OVPR). The periphery overlap is treated as W while L is computed from AREA divided by W. If no existing layer can be used together with the device layer to produce the overlap periphery you want, you might need to digitize a new layer for that purpose.</p>
<p>
<a id="pgfId-1017597"></a>In the SPICE file generated by the LPESELECT BJT command in conjunction with the LEXTRACT command, the bipolar SPICE file has the following format: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017598"></a>CA = the area of the collector BP = the perimeter of the base <br />CP = the perimeter of the collector EA = the area of the emitter<br />BA = the area of the base EP = the perimeter of the emitter </pre>

<h4>
<a id="pgfId-1017599"></a>Example 5</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017600"></a>Q1 out1 in1 gnd npn $ CA=1050 CP=130 BA=500 BP=90 EA=100 EP=40 </pre>

<p>
<a id="pgfId-1017601"></a>(Remember that $ is a SPICE comment character.)</p>

<h4>
<a id="pgfId-1017602"></a>Example 6</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029984"></a>LEXTRACT ANT GATE BY NODE PGATE<br />LEXTRACT ANT NGATE BY NODE PNGATE<br />LEXTRACT ANT M1 BY NODE PM1<br />LEXTRACT ANT M2 BY NODE PM2<br />CALCULATE RES1 = PNGATE/PGATE<br />CALCULATE RES2 = (PNGATE + c1 * PM1)/PGATE<br />CALCULATE RES3 = (PNGATE + c1 * PM1 + c2 * PM2)/PGATE<br />CHKPAR PAR RES1 PGATE GT200 LONG1 OUTPUT PLONG 50<br />CHKPAR PAR RES2 PGATE GT300 LONG2 OUTPUT NLONG 50<br />CHKPAR PAR RES3 PGATE GT400 LONG3 OUTPUT LONG 50</pre>

<p>
<a id="pgfId-1044382"></a>This example is based on one parameter being extracted. For mixed calculations, use the following:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017614"></a>CALCULATE RES4 = (PNGATE.AREA + k1 * PM1.AREA + k2 * PM1.PERI)/PGATE.AREA</pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044179"></a>The operands for the CALCULATE command are layers, not variables.</div>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1044180"></a><strong>LEXTRACT[E]&#160;&#160;RES&#160;&#160;layer-c&#160;&#160;layer-d&#160;&#160; BY RES{[type]}&#160;&#160;  &amp;</strong></pre>
<p>
<a id="pgfId-1044181"></a>Consider the rule fragment for extraction parameters of resistors with contacts (please see <a href="chap13.html#88866">Figure&#160;13-4</a> ).</p>

<p><strong>Figure 13-4
<a id="pgfId-1044193"></a><a id="88866"></a>Test Pattern</strong></p>
<p>
<a id="pgfId-1044208"></a></p>
<div class="webflare-div-image">
<img width="668" height="256" src="images/chap13-97.gif" /></div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044218"></a>;Element Definition
ELEMENT  RES{[type]} layer-a layer-b
;Tagging
DEVTAG           RES{[type]} layer-b layer-d
DEVTAG[L]        layer-d  layer-f   layer-c
; Resistor  Body parameter calculation, and ;;; Contact Resistor parameter calculation
LEXTRACT RES   layer-a     layer-b   BY RES{[type]}   pfname &amp;
EQUATION      parameter_1 = FORTRAN-expression  &amp;
EQUATION     parameter_2 = FORTRAN-expression    &amp;
EQUATION      parameter_3 = FORTRAN-expression depends on 
&#160;&#160;&#160;&#160;parameter_1 and parameter_2   &amp;<br />LEXTRACT  RES  layer-c  layer-d   BY RES{[type]}    &amp;<br />EQUATION      parameter_4 = FORTRAN-expression  &amp;<br />EQUATION&#160;&#160;    parameter_5 = parameter_3+ parameter_4</pre>

<p>
<a id="pgfId-1044317"></a>If <span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span> is empty, <span class="webflare-courier-new" style="white-space:pre"><em>parameter_4</em></span> is not calculated and <span class="webflare-courier-new" style="white-space:pre"><em>parameter_5</em></span> is not calculated for this resistor (e.g. RES2 on <a href="chap13.html#88866">Figure&#160;13-4</a>) either. To avoid this issue the [E] option is used. For instance, if you use:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044235"></a>LEXTRACT[E]  RES  layer-c  layer-d   BY RES{[type]}    &amp;<br />EQUATION      parameter_4 = FORTRAN-expression  &amp;<br />EQUATION&#160;&#160;    parameter_5 = parameter_3+ parameter_4</pre>

<p>
<a id="pgfId-1044342"></a>In this case, parameter_4 =0 for the empty layer-c case and </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044239"></a>EQUATION&#160;&#160;parameter_5 = parameter_3+ parameter_4 (for RES1 and RES3)</pre>

<p>
<a id="pgfId-1044240"></a>becomes</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044241"></a>EQUATION&#160;&#160;parameter_5 = parameter_3&#160;&#160;(for RES2)</pre>

<p>
<a id="pgfId-1044242"></a>and all resistors are extracted.</p>

<h4>
<a id="pgfId-1045057"></a>Example 7</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1044244"></a>; Element Definition<br />ELEMENT          RES[D]   DRES       DRTRM<br />; Tagging<br />DEVTAG           RES[D]   DRTRM      TAGCON1<br />DEVTAG[L]        TAGCON1  DRTCON     DRCON<br />; Resistor Body parameter calculation, and ;;; Contact Resistor parameter calculation<br />LEXTRACT RES     DRES     DRTRM   BY RES[D]   pfname &amp;<br />EQUATION      W=(W1+W2)/2 &amp;<br />EQUATION      L=AREA/W &amp;<br />EQUATION      RB=1000*L/W &amp;<br />LEXTRACT[E] RES  DRCON    TAGCON1 BY RES[D] &amp;<br />EQUATION      RC=2*25/(AREA/2) &amp;<br />EQUATION      R=RB+RC<br /></pre>
<h3>
<a id="pgfId-1044210"></a>LINK </h3>
<a id="pgfId-1044211"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LINK <code><em>layer</em></code> TO <code><em>label</em></code> </pre>
<h4>
<a id="pgfId-1017619"></a>Description</h4>

<p>
<a id="pgfId-1017622"></a>F<a id="marker-1017620"></a>orces a layer with node information to a label (text). Use the <a id="marker-1017621"></a>LINK command after establishing the circuit connection. After a layer is linked, the original node information is overwritten. Use the LINK command only to connect the substrate layer when you cannot make a connection with the CONNECT command. </p>

<h4>
<a id="pgfId-1017623"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017624"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054534"></a> Name of the layer of a previously generated layer or a layer name from the Input-Layer block. </p>

<p><strong>
<a id="pgfId-1054539"></a><span class="webflare-courier-new" style="white-space:pre"><em>label</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054542"></a> Text label either from the CAD database text or from EDTEXT.</p>

<h4>
<a id="pgfId-1017626"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017627"></a>LINK sub TO gnd </pre>
<h3>
<a id="pgfId-1017629"></a><a id="16344"></a>LPECHK </h3>
<a id="pgfId-1017631"></a><a id="marker-1017630"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LPECHK  {[<code><em>options</em></code>]}  {SUBTYPE-AS-PARAM=YES/NO} {MOS-WIDTH-SUMMARY=YES/NO} {WPERCENT=<code><em>n1</em></code>}  {LPERCENT=<code><em>n2</em></code>} {WEFFECT=<code><em>n3</em></code>}  {CAPAREA=<code><em>n4</em></code>}  {CAPVAL=<code><em>n5</em></code>}  {DIOAREA=<code><em>n6</em></code>}  {DIOPERI=<code><em>n7</em></code>}  {RESSIZE=<code><em>n8</em></code>} {RESVAL=<code><em>n9</em></code>}  {W/L-PERCENT=<code><em>n10</em></code>}  {MULDELW=<code><em>n11</em></code>}  {LISTUNMATCH=<code><em>n12</em></code>} {EAPER=<code><em>n13</em></code>}  {PRINTLINE=<code><em>n14</em></code>}  {BJTWPERCENT=<code><em>n15</em></code>}  {BJTLPERCENT=<code><em>n16</em></code>}  {RESWPERCENT=<code><em>n17</em></code>}  {RESLPERCENT=<code><em>n18</em></code>} </pre>
<h4>
<a id="pgfId-1017632"></a>Description</h4>

<p>
<a id="pgfId-1017634"></a>S<a id="marker-1017633"></a>pecifies the LPE checking option. If you specify the SCHEMATIC command in the Description block, you can exercise LPE options on layout data and schematic data. The LPECHK and LVS options are similar in function. This command must fit on one line. To use multiple options, specify more than one LPECHK command. </p>
<p>
<a id="pgfId-1017635"></a>If you specify LPECHK in your rule file, you must define the schematic file. Otherwise, you get an error message. If you do not have a schematic, Dracula interprets this as an error. Dracula ignores the command and generates a jxrun.com file. You must determine the seriousness of the error flagged by Dracula and whether you want to submit the job.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017636"></a>When you use more than one LPECHK command, they need to be grouped together in the Dracula rules file. You cannot place another command in a group of LEXTRACT commands. In addition, you need to group LEXTRACT, DEVTAG, LVSCHK, or LPECHK commands together. Do not use any other command in any group of these commands.</div>

<h4>
<a id="pgfId-1017637"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017638"></a><span class="webflare-courier-new" style="white-space:pre"><em>options</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054551"></a> Can include the following values:</p>

<p>
<a id="pgfId-1034101"></a></p>
<table class="webflareTable" id="#id1033549">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033904"></a><code>B</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033906"></a>Keeps parallel BJT transistors unsmashed, but smashes MOS, LDD, resistor, capacitor, and diode devices.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033908"></a><code>C</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033910"></a>Forms CMOS gates such as NORs, NANDs, AOIs, and OAIs, except when you specify the LPECHK<code> X </code>option. The subtypes in the ELEMENT MOS command and in the SPICE/CDL netlist must be MOS[N] and MOS[P] and model = N and P, respectively, to form the CMOS gates. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1033911"></a>Inverters are formed by default except if the <code>X</code> option is turned on.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033917"></a><code>E</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033919"></a>Uses the information of body parameters to match parallel devices. LVSCHK uses the percentage tolerances described later (like WPERCENT, LPERCENT, CAPVAL, RESVAL,&#160;&#160;etc.) to match parallel transistors in the schematic with corresponding parallel transistors in the layout. For 4.8 or higher versions, this is the default. Otherwise, the default is to match pairs at random.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033921"></a><code>F</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033923"></a>Filters unused MOS devices (that is, for gate arrays). The FILTER-OPTIONS command overrides this option. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033925"></a><code>G</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033927"></a>Filters both the schematic and the layout in the same way. The FILTER-OPTIONS command overrides this option. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033929"></a><code>K</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033931"></a>Keeps parallel transistors &#8220;unsmashed.&#8221; Default is to smash devices. K overrides the B option.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033933"></a><code>L</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033935"></a>Same as the C option except AOI and OAI gates are not formed. The subtype restrictions still apply. L option overrides the C option. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033937"></a><code>O</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033939"></a>Forms parallel and series MOS structures even if neither is connected to power or ground. By default, LVS does not form SMID or PMID structures. This option enables LVS to recognize BiCMOS structures and enables the LVS gate level matching capability. You can use &#8220;O&#8221; option with any other option except the &#8220;X&#8221; option. </p>
<p>
<a id="pgfId-1033940"></a>LVS recognizes an SMID or PMID node as the following:</p>

<ul><li>
<a id="pgfId-1034021"></a>Any pads assigned text, other than power, ground, or supply nodes</li><li>
<a id="pgfId-1034031"></a>An input (gate node) of any MOS/LDD transistors</li><li>
<a id="pgfId-1034038"></a>A conjunction point between MOS elements and LDD elements</li><li>
<a id="pgfId-1034049"></a>A conjunction point between different subtype MOS/LDD elements</li></ul>




<p>
<a id="pgfId-1034063"></a>LVS forms parallel/series structures:</p>

<ul><li>
<a id="pgfId-1034070"></a>PUP(/SUP): A parallel or series structure with one power end and one terminal end</li><li>
<a id="pgfId-1034077"></a>PDW(/SDW): A parallel or series structure with one ground end and one terminal end</li><li>
<a id="pgfId-1034086"></a>PMID(/SMID): A parallel or series structure not connected to power or ground at either terminal</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033978"></a><code>P</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033980"></a>Checks <a id="Poption_LPECHK"></a>the ELEMENT capacitor&#8217;s polarity. This option does not swap the terminal order of the ELEMENT CAP and the CDL capacitor command. For addition information, refer to the <a href="chap13.html#58344">ELEMENT CAP</a> section in this chapter. See also the <em><a href="chap13.html#Zoption_LPESELECT">Z option in LPESELECT</a></em>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033985"></a><code>R</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033987"></a>Smashes series resistors.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033989"></a><code>S</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033991"></a>Smashes MOS split-gates. The S-OPTION-CLASS command in the Description block determines whether this option smashes split gates connected to power or ground, split gates not connected to power or ground, or all split gates. The CARE-SPLIT-ORDER command in the Description block checks the input order of split gates.</p>
<p>
<a id="pgfId-1034096"></a>Device sizes (W and L) are combined using the usual formula for the related parallel devices. In cases where some of the input signals to the series structures are swapped, the MOS devices on one series structure are mapped to the MOS devices on the other series structure at random for the purpose of combining device sizes. Intermediate nodes of the series structures are also combined as a single node for the resulting single series structure. Parasitics (diodes, capacitors) for these nodes are lumped together.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033997"></a><code>T</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033999"></a>Considers substrate terminal connections as regular terminal connections during matching process. The matching process propagates the match information through the substrate connections and the subsequent instances.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034001"></a><code>U</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034003"></a>Reports in the discrepancy file (.LVS) only the unmatched schematic and unmatched layout devices on matched nodes (Type 4, 5, and 6 LVS errors). Device size, substrate, and subtype checks are not affected. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034005"></a><code>X</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034007"></a>Compares layout to schematic on the transistor level instead of on the logic-gate level.</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1017667"></a><code>SUBTYPE-AS-PARAM=YES/NO</code><a id="marker-1017666"></a>  </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054568"></a>If you specify YES, Dracula matches two devices with different subtypes. Dracula then checks the subtype as if it were checking a parameter.</p>
<p class="webflare-indent1">
<a id="pgfId-1017668"></a> If you specify NO, and the two devices have different subtypes, Dracula treats them as different devices and never matches them. Default is NO.</p>

<p><strong>
<a id="pgfId-1017670"></a><code>MOS-WIDTH-SUMMARY=YES/NO </code><a id="marker-1017669"></a> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054577"></a>If you specify YES, Dracula reports the summary of MOS devices by subtype and width in the .lvs file.</p>
<p class="webflare-indent1">
<a id="pgfId-1017671"></a>  If you specify NO, Dracula uses the default report format.</p>

<p><strong>
<a id="pgfId-1017673"></a><code>WPERCENT=</code><a id="marker-1017672"></a><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054586"></a> Percentage of the transistor width tolerance when compared with the schematic width specification (0 &lt; n1 &lt; 100; the default is no check). </p>

<p><strong>
<a id="pgfId-1054591"></a><code>LPERCENT=</code><a id="marker-1017674"></a><span class="webflare-courier-new" style="white-space:pre"><em>n2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054594"></a> Percentage of the transistor length tolerance when compared with the schematic length specification (0&lt; n2 &lt; 100; the default is no check). </p>

<p><strong>
<a id="pgfId-1054599"></a><code>WEFFECT=</code><a id="marker-1017676"></a><span class="webflare-courier-new" style="white-space:pre"><em>n3</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054602"></a> A user-specified value, the effective MOS channel width/length calculation. You can specify WEFFECT as a positive or negative value. Each 15-degree turn in a transistor channel causes a 1/6 fraction of WEFFECT specified times length (L) to be added or subtracted from a transistor default width (W) for a pull down device (default is 0). For a load-device, W remains as is and L is modified. See the algorithm at the end of this option list. </p>

<p><strong>
<a id="pgfId-1054607"></a><code>CAPAREA=</code><a id="marker-1017678"></a><span class="webflare-courier-new" style="white-space:pre"><em>n4</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054610"></a> Percentage tolerance of the capacitor area in the LVS comparing process (0 &lt; n4 &lt; 100; the default is no check). See CAPVAL option. </p>

<p><strong>
<a id="pgfId-1054615"></a><code>CAPVAL=</code><a id="marker-1017680"></a><span class="webflare-courier-new" style="white-space:pre"><em>n5</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054618"></a> Percentage tolerance of the capacitor value in the LVS comparing process (0 &lt; n5 &lt; 100; the default is no check). You can specify only CAPAREA or CAPVAL, but not both; the choice depends on the SPICE or CDL netlist specification. </p>

<p><strong>
<a id="pgfId-1054623"></a><code>DIOAREA=</code><a id="marker-1017682"></a><span class="webflare-courier-new" style="white-space:pre"><em>n6</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054626"></a> Percentage tolerance of the diode area in the LVS comparing process (0 &lt; n6 &lt; 100; the default is no check). </p>

<p><strong>
<a id="pgfId-1054631"></a><code>DIOPERI=</code><a id="marker-1017684"></a><span class="webflare-courier-new" style="white-space:pre"><em>n7</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054634"></a> Percentage tolerance of the diode periphery in the LVS comparing process (0 &lt; n7 &lt; 100; the default is no check). </p>

<p><strong>
<a id="pgfId-1054639"></a><code>RESSIZE=</code><a id="marker-1017686"></a><span class="webflare-courier-new" style="white-space:pre"><em>n8</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054642"></a> Percentage tolerance of the number of squares in a resistor in the LVS comparing process (0 &lt; n8 &lt; 100; the default is no check). See also the RESVAL option. </p>

<p><strong>
<a id="pgfId-1054647"></a><code>RESVAL=</code><a id="marker-1017688"></a><span class="webflare-courier-new" style="white-space:pre"><em>n9</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054650"></a>Percentage tolerance of resistor value in the LVS comparing process (0 &lt; n9 &lt; 100; the default is no check.). You can specify only RESSIZE or RESVAL, but not both, and the choice depends on the SPICE/CDL netlist specification. For additional discussion and illustrations, refer to <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE).&#8221;</a></p>

<p><strong>
<a id="pgfId-1054655"></a><code>W/L-PERCENT=</code><a id="marker-1017693"></a><span class="webflare-courier-new" style="white-space:pre"><em>n10</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054658"></a> Percentage tolerance of MOS transistor width/length in the LVS comparing process (0 &lt; n10 &lt; 100; the default is no check). </p>

<p><strong>
<a id="pgfId-1054663"></a><code>MULDELW=</code><a id="marker-1017695"></a><span class="webflare-courier-new" style="white-space:pre"><em>n11</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054666"></a> User-specified value compensating for multiple parallel finger MOS transistors on effective channel widths. MULDELW is usually a negative value (default is 0). For more information about parallel MOS transistors, refer to <a href="chap6.html#31304">Chapter 6, &#8220;Comparing Layouts and Schematics (LVS).&#8221;</a></p>

<p><strong>
<a id="pgfId-1054671"></a><code>LISTUNMATCH=</code><a id="marker-1017700"></a><span class="webflare-courier-new" style="white-space:pre"><em>n12</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054674"></a> Maximum number of unmatched schematic and layout devices to print out. (0 ≤ n12 ≤ 1,000,000; the default is 100).</p>

<p><strong>
<a id="pgfId-1054679"></a><code>EAPER=</code><a id="marker-1017702"></a><span class="webflare-courier-new" style="white-space:pre"><em>n13</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054682"></a>Percentage tolerance of the bipolar emitter area in the LVS comparison (0 &lt; n13 &lt; 100;the default is no check). You must input emitter sizes of bipolar transistors from the schematic netlist onto the schematics.</p>

<p><strong>
<a id="pgfId-1054687"></a><code>PRINTLINE=</code><a id="marker-1017704"></a><span class="webflare-courier-new" style="white-space:pre"><em>n14</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054690"></a> Maximum unmatched occurrences to print out. (0 &lt; n14 &lt; 1,000,000; the default is 1,000).</p>

<p><strong>
<a id="pgfId-1054695"></a><code>BJTWPERCENT=</code><a id="marker-1017706"></a><span class="webflare-courier-new" style="white-space:pre"><em>n15</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054698"></a>Percentage tolerance of the BJT transistor width in the LVS comparing process. (0 &lt; n15 &lt; 100; the default is no check).</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1017708"></a>You must specify PARSET and LEXTRACT commands to extract width or length.</div>

<p><strong>
<a id="pgfId-1017710"></a><code>BJTLPERCENT=</code><a id="marker-1017709"></a><span class="webflare-courier-new" style="white-space:pre"><em>n16</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054704"></a> Percentage tolerance of the BJT transistor length in the LVS comparing process (0 &lt; n16 &lt; 100; the default is no check).</p>

<p><strong>
<a id="pgfId-1054709"></a><code>RESWPERCENT=</code><a id="marker-1017711"></a><span class="webflare-courier-new" style="white-space:pre"><em>n17</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054712"></a> Percentage tolerance of the resistor width in the LVS comparing process (0 &lt; n17 &lt; 100; the default is no check). Both length and width must be specified if the option for smashing parallel resistors is on. The default is smash parallel resistors.</p>

<p><strong>
<a id="pgfId-1054717"></a><code>RESLPERCENT=</code><a id="marker-1017713"></a><span class="webflare-courier-new" style="white-space:pre"><em>n18</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054720"></a> Percentage tolerance of the resistor length in the LVS comparing process (0 &lt; n18 &lt; 100; the default is no check). Both length and width must be specified if the option for smashing parallel resistors in on. The default is smash parallel resistors.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1017715"></a>The value you specify, including 0, (percentage tolerance) for WPERCENT, LPERCENT, CAPAREA, CAPVAL, DIOAREA, DIOPERI, RESSIZE, RESVAL, W/L-PERCENT, and MULDELW, BJTWPERCENT, BJTLPERCENT, RESWPERCENT, RESLPERCENT, and EAPER, comparison accuracy is actually done at + 1/200th of the natural unit for example, 0.005 microns and 0.005 mils.</div>
<p>
<a id="pgfId-1017716"></a>The following algorithm is used: </p>
<p class="webflare-indent1">
<a id="pgfId-1017717"></a>For WEFFECT  =   0, 
W<sub>actual</sub>   =  W
L<sub>actual</sub>  =   A/W </p>
<ul><li>
<a id="pgfId-1017719"></a><a id="marker-1017718"></a>For a pulldown device (L is unmodified) <br />
<a id="pgfId-1017720"></a>W<sub>{actual}</sub> = W<sub>{init}</sub> - (WEFFECT * I *L)     ; if W<sub>{init}</sub> is greater than L<br />
<a id="pgfId-1017721"></a>where<br />
<a id="pgfId-1017722"></a>W<sub>{actual}</sub> = the actual width of the gate<br />
<a id="pgfId-1017723"></a>W<sub>{init} </sub>= the initial width of the gate. This is always calculated by Dracula.<br />
<a id="pgfId-1017724"></a>WEFFECT = a compensation coefficient you supply to Dracula to correctly calculate the actual width/length of a transistor gate.<br />
<a id="pgfId-1017725"></a>I = the total of a device&#8217;s internal angles (in units of 90 degrees)<br />
<a id="pgfId-1017726"></a>L = the length of the gate which is equal to the total area of the gate divided by the initial width of the gate (e.g. Area/W{init}) </li><li>
<a id="pgfId-1017727"></a>For a load device (W is unmodified) <br />
<a id="pgfId-1017728"></a>L<sub>{actual}</sub> = L<sub>{init}</sub> - (WEFFECT * I *L)    ; if L<sub>{init}</sub> ≥ W<br />
<a id="pgfId-1017729"></a>where<br />
<a id="pgfId-1017730"></a>L<sub>{actual}</sub> = the actual length of the gate<br />
<a id="pgfId-1017731"></a>L<sub>{init}</sub> = the length of the gate which is equal to the total area of the gate divided by the width of the gate (e.g. Area/W)<br />
<a id="pgfId-1017732"></a>WEFFECT = a compensation coefficient you supply to Dracula to correctly calculate the actual width/length of a transistor gate.<br />
<a id="pgfId-1017733"></a>I = the total of a device&#39;s internal angles (in units of 90 degrees, with each internal angle rounded to the nearest 15 degrees)<br />
<a id="pgfId-1017734"></a>W = the width of the gate. This is always calculated for you by Dracula.</li></ul>















<p>
<a id="pgfId-1017738"></a>For additional discussion and illustrations, refer to <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE).&#8221;</a></p>

<h4>
<a id="pgfId-1017739"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017740"></a>LPECHK[X] WPERCENT = 15 LPERCENT = 15</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017741"></a>If the SCHEMATIC command is specified in the Description block, a discrepancy file such as LPEPRT.LVS is automatically generated. Check this file before further analyzing the LPE run data.</div>

<h4>
<a id="pgfId-1017742"></a>Example 2</h4>

<p>
<a id="pgfId-1017743"></a>I/90 = 2 [90 + 90 = 180 degrees] </p>
<p class="webflare-indent1">
<a id="pgfId-1017744"></a>For a pulldown device:
WEFFECT= 0.5, W = 12
L = 1, and W<sub>actual</sub> = 11</p>
<p class="webflare-indent1">
<a id="pgfId-1017745"></a>For a load device: 
WEFFECT= 0.5, W = 1
L = 12, and L<sub>actual </sub>= 11</p>

<p>
<a id="pgfId-1028058"></a></p>
<div class="webflare-div-image">
<img width="540" height="202" src="images/chap13-98.gif" /></div>
<h4>
<a id="pgfId-1017781"></a>Example 3</h4>

<p>
<a id="pgfId-1017782"></a>I/90 = 1 [45 + 45 = 90 degrees] </p>
<p class="webflare-indent1">
<a id="pgfId-1017783"></a>For a pulldown device:
WEFFECT = 0.0, W = 16 
L = 3.31, and W<sub>actual </sub>= 16
where WEFFECT = CORNER.</p>
<p class="webflare-indent1">
<a id="pgfId-1017784"></a>For another pulldown device:
WEFFECT = 1.0, W = 16 
L = 3.31, and W<sub>actual</sub> = 12.69 
</p>

<p>
<a id="pgfId-1028100"></a></p>
<div class="webflare-div-image">
<img width="573" height="247" src="images/chap13-99.gif" /></div>

<p>
<a id="pgfId-1017846"></a></p>

<h3>
<a id="pgfId-1017848"></a>LPESELECT</h3>
<a id="pgfId-1017850"></a><a id="marker-1017849"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LPESELECT  {[<code><em>options</em></code>]} <code><em>element</em></code> {[<code><em>type</em></code>]}  {GE/GT <code><em>val-a</em></code>} {RANGE  <code><em>val-a val-b</em></code>}  {CORNER = <code><em>n1</em></code>}  {OUTPUT  <code><em>c-name</em></code> {<code><em>l-num</em></code>}}  {&amp;} </pre>
<h4>
<a id="pgfId-1017851"></a>Description</h4>

<p>
<a id="pgfId-1017853"></a>S<a id="marker-1017852"></a>elects a group of elements to print in CDL or SPICE format. You can use more than one LPESELECT command to put more than one group of elements on the same report. You can select only parasitic capacitance when you specify your own thresholds.</p>

<h4>
<a id="pgfId-1017854"></a>LPESELECT and PRE</h4>

<p>
<a id="pgfId-1017856"></a>With PRE, the LPESELECT RES command indicates that the <a id="marker-1017855"></a>parasitic resistor elements should be output to a SPICE or CDL netlist for PARASITIC RES. It also short circuits nodes connected to parasitic resistors whose resistance is under a specified threshold. The other LPESELECT element options (MOS, DIO, CAP, and BJT) report the shorted nodes as a single node.</p>
<p>
<a id="pgfId-1017858"></a>The S (<a id="marker-1017857"></a>backannotation) option indicates that the nodes in the output file are labeled with the node names derived from the LVS check netlist used during the first connection pass. <a id="marker-1017859"></a>Subnodes (split nodes) are labeled with names derived from the schematic netlist, for backannotation, or derived from the node numbers obtained in the first pass, when backannotation is not specified. To get the actual subnode names, the node name or the node number is concatenated with a delimiter and a subnode number. The delimiter is a colon (:) or the delimiter specified in the PRE command SUBNODE-DELIMITER in the Description block.</p>
<p>
<a id="pgfId-1017860"></a>For layout-only jobs (where there is no backannotation), the prefix of parasitic resistance, capacitance, and diode are RR, CC, and DD, respectively. To specify a different parasitic prefix, see the PREFIX-PARASITIC section in Chapter 11 of this manual.</p>

<h4>
<a id="pgfId-1017861"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017862"></a><span class="webflare-courier-new" style="white-space:pre"><em>options</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054727"></a> Can include the following:</p>

<p>
<a id="pgfId-1035337"></a></p>
<table class="webflareTable" id="#id1034105">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034375"></a><code>A</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034377"></a>Flags capacitances on all nodes, including power and ground nodes. If you do not specify this option, LPESELECT does not report capacitances on power and ground nodes. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034379"></a><code>C</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034381"></a>Checks cross-coupling capacitance. If you do not specify cross-coupling capacitance, total loading is assumed. Use this option with the <em>S</em> option when you want to group or smash different subtypes of capacitors. Option C overwrites option A and filters out power to group parasitic capacitances.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034383"></a><code>D</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034385"></a>When used with the S option, specifies that the device number assigned by LOGLVS is reported in the output SPICE file. The corresponding device name and number is stored in EXPELE.LIS in ASCII format, which is generated by LOGLVS. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034387"></a><code>E</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034389"></a>Suppresses the output &#8220;/&#8221; between the SUBCKT I/O pins and names in the HLPE or HPRE extracted reports. </p>
<p>
<a id="pgfId-1040996"></a>In Dracula 4.81 and subsequent versions, you can now apply this E option to box elements too. When this E option is turned on, the &#8220;/&#8221; between I/O pins and a box element&#8217;s boxname in SPICE output is suppressed. See &#8220;<a href="chap13.html#33234">Example 6 - Example For The E Option</a>&#8221; for more information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034391"></a><code>F</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034393"></a>Filters options for the layout only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034395"></a><code>G</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034397"></a>Specifies that original ground node names, rather than the default VSS node name, are used in the output SPICE file. This option should not be used with the N option. </p>
<p>
<a id="pgfId-1039035"></a>VSS is the default for composite and cell mode.</p>
<p>
<a id="pgfId-1038985"></a>In multiple-ground cases, if you want only one of them as ground node in the output SPICE file, the <a href="chap11.html#42467">LPE-GROUND</a> command now lets you specify a unique ground name. The LPE-GROUND command overwrites this LPESELECT[G] command.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047403"></a><code>H</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047405"></a>Reports the capacitance, area and perimeter of capacitors. The area and the perimeter are reported as a comment with the prefix <code> $AREA=</code> and <code>$PERI=</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034399"></a><code>K</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042932"></a>Specifies that parallel transistors, transistors of the same source, gate, and drain (connected to the same nodes) do not smash into one. Instead, LPESELECT reports these transistors individually. For a layout-only job, it can be used to turn off the smash of the BJT elements.</p>
<p>
<a id="pgfId-1042933"></a>This option also specifies that parallel boxes are not smashed into one.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034403"></a><code>L</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034405"></a>Disallows pin swapping that might result from backannotating a SPICE file based on the schematic. Use this option with the S option when you want to backannotate a SPICE file based on the layout with no pin swapping. For a layout-only job, use this option to retain the terminal order of CAP elements.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034407"></a><code>M</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034409"></a>Smashes MOS split-gates.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034411"></a><code>N</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034413"></a>Specifies the pure SPICE format preferred.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034471"></a><code>O</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034460"></a>Specifies to keep the original instance and device names of HLPE/HPRE or CELL mode LPE extracted results instead of renaming the extracted results Xnnn.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034424"></a><code>P</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034426"></a>Checks cross-coupling capacitance as a percentage of total loading. If you do not specify cross-coupling capacitance, this command performs a check directly against val-a. Options C, P, and A are implemented only to select CAP (capacitors). </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034428"></a><code>R</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034430"></a>Reports the area and perimeter of parasitic capacitors. Reports the area in place of the capacitance value. Reports the perimeter as a comment with the prefix &#8220;PERI=.&#8221;</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034432"></a><code>S</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1039026"></a>Schematic node names report preferred (from LOGLVS). </p>
<p>
<a id="pgfId-1039110"></a>For this <span class="webflare-courier-new" style="white-space:pre"><em>S</em></span> option, the schematic ground is used in flat mode. VSS is still used as the default for composite and cell mode. You can use the G option or LPE-GROUND to overwrite the default ground VSS.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1045064"></a><code>Q</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1045066"></a>This option works with the &#8216;S&#8217; option. Using this option presents the pin order in the report as it is found in the netlist .SUBCKT statement.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034436"></a><code>T</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034438"></a>Outputs cross-coupling capacitance and does not filter out parasitics between multiple power or ground busses (for example, analog to digital power busses). Parasitic capacitance with both nodes at a power or ground node is not filtered out. Option T is a superset of option C and cannot be used with A or C.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034440"></a><code>U</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034442"></a>Does not comment out parasitic CAP and RES whose terminals are connected to power and ground nodes or power and ground subnodes in the SPICE output. This option takes effect whether back annotation is on or off.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034444"></a><code>V</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034446"></a>Specifies the expanded name of cell instances without the prefix X.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034448"></a><code>W</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038661"></a>Reports L (length) and W (width) of bipolar transistor (BJT) devices and resistance.</p>
<p>
<a id="pgfId-1038662"></a>In the Dracula versions prior to 4.81, this <span class="webflare-courier-new" style="white-space:pre"><em>W</em></span> option supported the L/W of only resistors.</p>
<p>
<a id="pgfId-1038663"></a>In Dracula 4.81 and subsequent versions, this <span class="webflare-courier-new" style="white-space:pre"><em>W</em></span> option in the LPESELECT command supports the L/W of not just resistors, but also the L/W (width) of bipolar transistor (BJT) devices on LVS and prints that W/L into SPICE netlists. For example,</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038664"></a>LPESELECT[W] BJT</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1039644"></a>For BJT devices, Dracula needs to specify this L/W using the <a href="chap13.html#12883">LEXTRACT</a> command in your rule file.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034452"></a><code>X</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034454"></a>Does not print out commented devices and cell instances. If you do not specify this option, Dracula outputs commented devices and cell instances.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034456"></a><code>Y</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034458"></a>Reports the x/y location of all element types in the LPESELECT listing file. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1041302"></a><code>Z</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1041306"></a>Checks the <a id="Zoption_LPESELECT"></a>ELEMENT capacitor polarity. This option does not swap the terminal order of the ELEMENT CAP and the CDL capacitor command.</p>
<p>
<a id="pgfId-1041571"></a>This is a new option for LPESELECT in Dracula 4.81 and functions the same way as the P option on <em><a href="chap13.html#Poption_LPECHK">LPECHK</a></em> or <em><a href="chap13.html#Poption_LVSCHK">LVSCHK</a></em>. </p>
<p>
<a id="pgfId-1041577"></a>By default, the Dracula tool smashes parallel devices in LVS and LPE operations. But, you can prevent the smashing of capacitors with different polarity by using the [P] option of the LPECHK or LVSCHK commands.</p>
<p>
<a id="pgfId-1041585"></a>When there is just the LPESELECT command in the rule file (and you are not using LPECHK or LVSCHK commands), you need to prevent the smashing of capacitors with different polarity. In such a case, the Z option of the LPESELECT command helps you check the polarity of capacitors.</p>
<p>
<a id="pgfId-1041572"></a>If in the rule file, the LPECHK or LVSCHK exists with LPESELECT[Z], PDRACULA produces the following warning messages (depending on the commands that you are using):</p>

<ul><li>
<a id="pgfId-1041327"></a>LVSCHK[P] + LPESELECT<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1041328">
<a id="pgfId-1041328"></a>WARNING: LVSCHK[P] capacitors polarity option has been extended to LPE operations</pre></li><li>
<a id="pgfId-1041329"></a>LVSCHK + LPESELECT[Z]<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1041330">
<a id="pgfId-1041330"></a>WARNING: LPESELECT[Z] capacitors polarity option has been extended to LVS operations</pre></li><li>
<a id="pgfId-1041333"></a>LPECHK+LPESELECT[Z]<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1041334">
<a id="pgfId-1041334"></a>WARNING: LPESELECT[Z] capacitors polarity option has been extended to LPE operations.</pre></li></ul>





<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041342"></a>The [Z] option takes the CAP element type only. When using with other elements, PDRACULA produces the following WARNING message</div>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1041344"></a>LPESELECT[Z] option is valid for CAP element only</pre>
<p>
<a id="pgfId-1041553"></a>See &#8220;<a href="chap13.html#94885">Example 7 - First Example With the Z option in LPESELECT</a>&#8221; and <br />&#8220;<a href="chap13.html#26903">Example 8 - Second Example With the Z option in LPESELECT</a>&#8221; in this section for more information.</p>

</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1017883"></a><span class="webflare-courier-new" style="white-space:pre"><em>element</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054733"></a> One of the device types listed below. If you do not include element, LPESELECT selects all device types.</p>

<p>
<a id="pgfId-1035340"></a></p>
<table class="webflareTable" id="#id1034476">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034478"></a>MOS </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034480"></a>MOS devices</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034482"></a>DIO </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034484"></a>Diode devices</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034486"></a>CAP </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034488"></a>Capacitor devices</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034490"></a>BJT </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034492"></a>Bipolar devices </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034494"></a>RES </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034496"></a>Resistor devices</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034498"></a>LDD </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034500"></a>Lightly doped drain</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1017887"></a> For more information about ELEMENT MOS/BJT/RES, refer to <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE).&#8221;</a></p>

<p><strong>
<a id="pgfId-1017889"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054742"></a> The type code you specify in the element device command. If you do not specify a type, this command invokes all element types.</p>
<p class="webflare-indent1">
<a id="pgfId-1017890"></a> To group or smash different subtypes of capacitors, specify <em>type</em> as [<em>new-subtype:subtype+subtype</em>+...]. This syntax sums the capacitance values of multiple subtypes into a new subtype. The SPICE output file then contains all parasitic metal caps, all poly capacitors, and so forth, smashed into a new group subtype. The subtypes can have different parset numbers and must be defined by PARASITIC commands.</p>

<p><strong>
<a id="pgfId-1017891"></a><code>GE/GT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054751"></a> The GE and GT options work for parasitic devices only.</p>

<p>
<a id="pgfId-1034512"></a></p>
<table class="webflareTable" id="#id1034503">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034505"></a>GE </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034507"></a>element parameters must be greater than or equal to val-a.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034509"></a>GT</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034511"></a>element parameters must be greater than val-a.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1017893"></a> If you do not specify this field during a conjunct, the default relational condition is GE 0.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1017894"></a>You can select only parasitic capacitance when you specify your own thresholds.</div>

<p><strong>
<a id="pgfId-1017895"></a><code>RANGE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054760"></a> Element parameters, which must be greater than or equal to val-a, and less than or equal to val-b.</p>

<p><strong>
<a id="pgfId-1054765"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-a/value-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054768"></a> Specifies value-a or value-b, which can be a floating point number (maximum of seven digits) or a floating-point number followed by an integer exponent (maximum two digits). When you specify floating-point numbers, the leading zeros are not counted in the seven-character restriction. The preprocessor rounds the value at the seventh digit. In scientific notation, the limit is 16 characters truncated at the 17th character. </p>

<p><strong>
<a id="pgfId-1054773"></a><code>CORNER = </code><a id="marker-1017897"></a><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054776"></a> The effective MOS channel width/length calculation. You can specify CORNER as a positive or negative value. For a pulldown device (default = 0), for each 15-degree turn in a transistor channel, a 1/6 fraction of CORNER specified times length (L) is added or subtracted from a transistor default width (W). For a load-device, W is not changed and L is modified. </p>
<p class="webflare-indent1">
<a id="pgfId-1017899"></a> CORNER uses the same algorithm as WEFFECT in LPECHK. </p>

<p><strong>
<a id="pgfId-1017900"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054785"></a> Outputs SPICE listing to a file.</p>

<p><strong>
<a id="pgfId-1054790"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054793"></a> C-name and l-num are concatenated to make up the file name and the subcircuit name of the SPICE listing. C-name can have six alphanumeric characters. If l-num is not specified, only c-name is used. For example, if c-name = CKTNAM and l-num = 10, the output file name is CKTNAM10 and the subcircuit name is the same in the SPICE listing. </p>

<p><strong>
<a id="pgfId-1054798"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054801"></a> Indicates a conjunctive rule. You can join LPESELECT only with other LPESELECT commands.</p>

<h4>
<a id="pgfId-1017903"></a>Example 1</h4>

<p>
<a id="pgfId-1017904"></a>This example shows how you can obtain layout node number information. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017905"></a>LPESELECT mos &amp; <br />LPESELECT dio &amp; <br />LPESELECT cap GE 0.01 OUTPUT cktnam 10 </pre>
<h4>
<a id="pgfId-1017906"></a>Example 2</h4>

<p>
<a id="pgfId-1017907"></a>This example uses the S option to obtain schematic node name information. This example assumes a SCHEMATIC is provided and the LPECHK command is invoked.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017908"></a>LPECHK <br />LPESELECT [SY] MOS[N] CORNER = 0.5 &amp; <br />LPESELECT [SY] MOS[P] CORNER = 0.5 &amp; <br />LPESELECT[S] DIO[N] &amp; <br />LPESELECT[S] DIO[P] &amp; <br />LPESELECT[S] CAP[A] GT 0.0 &amp; <br />LPESELECT[S] CAP[B] GT 0.0 &amp; <br />LPESELECT[S] CAP[C] GT 0.0 OUTPUT testck </pre>

<p>
<a id="pgfId-1017909"></a>The output file name is testck.dat. It contains listings of the following: </p>
<ul><li>
<a id="pgfId-1017910"></a>MOS type N and type P are grouped separately with their effective transistor sizes calculated and their x/y coordinates indicated.</li><li>
<a id="pgfId-1017911"></a>DIODE type N and type P are grouped separately.</li><li>
<a id="pgfId-1017912"></a>Parasitic capacitor types A, B, and C are grouped separately.</li></ul>



<h4>
<a id="pgfId-1017913"></a>Example 3</h4>

<p>
<a id="pgfId-1017914"></a>In the following example, parasitic capacitor types <em>A</em>, <em>B</em>, <em>C</em> are grouped as a new group subtype <em>D</em>. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017915"></a>LPESELECT[CS] CAP[D:A+B+C] GT 0</pre>
<h4>
<a id="pgfId-1017916"></a>Example 4</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017917"></a>LPESELECT[SO] MOS &amp;<br />LPESELECT[S] CAP[A] GT 0.0 OUTPUT SPICE</pre>
<h4>
<a id="pgfId-1017918"></a>Example 5</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017919"></a>LPESELECT[S] RES GE 500 &amp;<br />LPESELECT[S] MOS &amp;<br />LPESELECT[S] DIO &amp;<br />LPESELECT[S] CAP OUTPUT SPICE</pre>

<p>
<a id="pgfId-1017920"></a>Any parasitic resistors with values under 500 are shorted. Units are specified in the command under the Description block.</p>

<h4>
<a id="pgfId-1040946"></a><a id="33234"></a>Example 6 - Example For The E Option</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040947"></a>LPESELECT[E] IND OUTPUT SPICE</pre>

<p>
<a id="pgfId-1040958"></a>SPICE output:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040964"></a>XB1009&#160;&#160;  5  OUT  IND  NR=2.50  W=15.00U  S=1.50U  RAD=60.00</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040965"></a>XB1010&#160;&#160;  18  20  IND  NR=4.50  W=15.00U  S=1.50U  RAD=30.00</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040966"></a>          ======</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040967"></a>            |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040962"></a>             ---&gt; pin list</pre>

<p>
<a id="pgfId-1040959"></a>Without the E option, the output would be as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040978"></a>XB1009&#160;&#160;  5  OUT  / IND  NR=2.50  W=15.00U  S=1.50U RAD=60.00</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1040974"></a>XB1010&#160;&#160;  18  20  / IND  NR=4.50  W=15.00U  S=1.50U RAD=30.00</pre>
<h4>
<a id="pgfId-1041363"></a><a id="94885"></a>Example 7 - First Example With the Z option in LPESELECT</h4>

<p>
<a id="pgfId-1041365"></a></p>

<div class="webflare-div-image">
<img width="668" height="198" src="images/chap13-100.gif" /></div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041430"></a>LPESELECT&#160;&#160;CAP OUTPUT SPICE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041431"></a>LPESELECT&#160;&#160;CAP[A] GT 0.0 OUTPUT SPICE</pre>

<p>
<a id="pgfId-1041432"></a>C1 and C2 capacitors are smashed. Dracula produces SPICE parameters of smashed capacitors C1+C2.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041443"></a>LPESELECT[Z]&#160;&#160;CAP OUTPUT SPICE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041444"></a>LPESELECT[Z]&#160;&#160;CAP[A] GT 0.0 OUTPUT SPICE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041445"></a>LPECHK[P] ... LPESELECT&#160;&#160;CAP OUTPUT SPICE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041446"></a>LPECHK[P] ... LPESELECT&#160;&#160;CAP[A] GT 0.0 OUTPUT SPICE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041447"></a>LVSCHK[P] ...LPESELECT&#160;&#160;CAP OUTPUT SPICE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041448"></a>LVSCHK[P] ...LPESELECT&#160;&#160;CAP[A] GT 0.0 OUTPUT SPICE</pre>

<p>
<a id="pgfId-1041463"></a>C1 and C2 capacitors are not smashed. Dracula produce SPICE parameters of C1 and C2 capacitors separately.</p>

<h4>
<a id="pgfId-1041533"></a><a id="26903"></a>Example 8 - Second Example With the Z option in LPESELECT</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041461"></a></pre>
<div class="webflare-div-image">
<img width="668" height="198" src="images/chap13-101.gif" /></div>

<p>
<a id="pgfId-1041521"></a>C1 and C2 capacitors are smashed. Dracula produces SPICE parameters of smashed capacitors C1+C2</p>
<p>
<a id="pgfId-1041525"></a>These options, the LPESELECT [Z] option, the LPECHK [P] option, and the LVSCHK[P] have no effect on smashing.</p>

<h3>
<a id="pgfId-1017922"></a><a id="20777"></a>LVSCHK </h3>
<a id="pgfId-1017923"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LVSCHK  {[<em>options</em>]} {SUBTYPE-AS-PARAM=YES/NO/BCDLMR} {MOS-WIDTH-SUMMARY=YES/NO} {MOSCAP-AREA = <em>n0</em>}{PRINTLINE = <em>n1</em>} {WPERCENT = <em>n2</em>} {LPERCENT = <em>n3</em>} {WEFFECT = <em>n4</em>} {CAPAREA=<em>n5</em>}  {CAPVAL=<em>n6</em>} {DIOAREA=<em>n7</em>} {DIOPERI=<em>n8</em>}  {RESSIZE=<em>n9</em>} {RESVAL=<em>n10</em>}  {W/L-PERCENT=<em>n11</em>} {MULDELW=<em>n12</em>}  {LISTUNMATCH=<em>n13</em>} {EAPER=<em>n14</em>} {BJTWPERCENT=<em>n15</em>} {BJTLPERCENT=<em>n16</em>}  {RESWPERCENT=<em>n17</em>} {RESLPERCENT=<em>n18</em>} {LDDWEFFECT=<code><em>n19</em></code>} {SMASH=[<code><em>CDMRQ</em></code>}]</pre>
<h4>
<a id="pgfId-1017924"></a>Description</h4>

<p>
<a id="pgfId-1017928"></a><a id="marker-1043501"></a><a id="marker-1043502"></a>Extracts the <a id="marker-1017927"></a>layout database for a consistency check between layout and <a id="marker-1017929"></a>schematic. This command must fit on one line. To use multiple options, specify more than one<a id="marker-1017930"></a> LVSCHK command. </p>
<p>
<a id="pgfId-1023672"></a>If you specify LVSCHK in your rule file, you must define the schematic file. Otherwise, you get an error message. If you do not have a schematic, Dracula interprets this as an error. Dracula ignores the command and generates a <code>jxrun.com</code> file. You must determine the seriousness of the error flagged by Dracula and whether you want to submit the job.</p>
<p>
<a id="pgfId-1042358"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>DRAC_MAX_AMB_PARA_GRP</em></span> variable can be set as the node count limit for ambiguous group matching. The default limit is 1000. A value less than or equal to zero will switch off the algorithm completely. If the variable is set, the following message will appear: <br />*/L* USING ENV. VARIABLE DRAC_MAX_AMB_PARA_GRP= <span class="webflare-courier-new" style="white-space:pre"><em>n</em></span>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1023674"></a>When you use more than one LVSCHK command, you must group them together in the Dracula rules file. Also, you cannot place another command in a group of LVSCHK commands. In addition, you need to group LEXTRACT, DEVTAG, LVSCHK, or LPECHK commands. Do not use any other command in any group of these commands.</div>

<h4>
<a id="pgfId-1017933"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1017934"></a><span class="webflare-courier-new" style="white-space:pre"><em>options</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1054810"></a> Can include the following:</p>

<p>
<a id="pgfId-1034608"></a></p>
<table class="webflareTable" id="#id1054992">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034641"></a><code>A</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034643"></a>Smashes s<a id="Aargument"></a>eries capacitors.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034645"></a><code>B</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034647"></a>Keeps parallel BJT transistors unsmashed, but smashes MOS, LDD, resistor, capacitor, and diode devices.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034649"></a><code>C</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034651"></a>Forms CMOS gates such as NORs, NANDs, AOIs, and OAIs except when you specify the LVSCHK <code>X</code><span class="webflare-courier-new" style="white-space:pre"><em> </em></span>option. The subtypes in the ELEMENT MOS command and in the SPICE/CDL netlist must be MOS[N] and MOS[P] and model = N and P, respectively, to form the CMOS gates. </p>

<b>Note:</b><br />
<a id="pgfId-1034656"></a>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1038574"></a>The C option forms inverters with one-character subtypes. </li><li>
<a id="pgfId-1038657"></a>The CMOS-NTYPE and CMOS-PTYPE commands form inverters with two-character subtypes.</li></ul></li></ul><ul><li class="skip" style="list-style-type:none"><br />
<a id="pgfId-1038599"></a>See <a href="chap11.html#18775">CMOS-NTYPE</a> and <a href="chap11.html#41554">CMOS-PTYPE</a> for more information. </li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034695"></a><code>E and E&#8217;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042382"></a>Controls the matching of parallel devices.</p>
<p>
<a id="pgfId-1042383"></a>For ambiguous groups of devices, Dracula has to determine which schematic should match layout. E is a scheme to start from the device and E&#8217; is scheme to start from the node. It is best to run LVSCHK twice, once with E and once with E&#8217;, (or in reverse sequence) then compare the results. Only real errors will appear in both runs.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042384"></a>The E and E&#8217; options cannot be used during the same run.</div>

<p>
<a id="pgfId-1042385"></a>E and E&#8217; use the percentage tolerances described later (for example, WPERCENT, LPERCENT, CAPVAL, RESVAL, and so on) to match parallel devices in the schematic with corresponding parallel devices in the layout based on the information of body parameters.</p>

<ul><li>
<a id="pgfId-1042386"></a>If it finds percentage tolerances, Dracula 4.8 (or higher) turns on the E option automatically, if it is not already set, and notifies the user with a NOTE message.</li><li>
<a id="pgfId-1042387"></a>If E&#8217; is set, LVSCHK uses the E&#8217; scheme even if percentage tolerances are present. Dracula does not turn on the E option automatically if E&#8217; is set.</li><li>
<a id="pgfId-1042397"></a>If percentage tolerances are not set, LVSCHK matches pairs at random.</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034699"></a><code>F</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034701"></a>Filters the unused MOS devices, for example, gate arrays. Allows the layout and schematic to be filtered differently. The FILTER-OPTIONS command overrides this option. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034703"></a><code>G</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034705"></a>Filters both the schematic and the layout in the same way. The FILTER-OPTIONS command overrides this option. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1043179"></a>H</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1045501"></a>Merges all SUP and SDW serial MOS devices with a common gate and a common substrate into a single MOS device. If WPERCENT is specified then all MOS devices must have a same width. The width will be written onto a single merged MOS device. The length value will be equal to the sum of the length of all merged MOS devices. If MOS devices do not have equal width then the devices are not merged. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1045533"></a>This is used with the O option.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1043183"></a>J</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1045540"></a>Merges all SMID serial MOS devices with a common gate and a common substrate into a single MOS device. If WPERCENT is specified then all MOS devices must have a same width. The width will be written onto a single merged MOS device. The length value will be equal to the sum of the length of all merged MOS devices. If MOS devices do not have equal width then the devices are not merged. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1045541"></a>This is used with the O option.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034707"></a><code>K</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034709"></a>Keeps parallel devices &#8220;unsmashed.&#8221; Default is to smash devices. The K option overrides the <span class="webflare-courier-new" style="white-space:pre"><em>B</em></span> option. In Dracula 4.81 and subsequent versions, a qualifier has been added to the<span class="webflare-courier-new" style="white-space:pre"><em> K</em></span> option such that it will not smash parallel devices with the exception of those devices you specify in the qualifier. </p>
<p>
<a id="pgfId-1038596"></a>When the <span class="webflare-courier-new" style="white-space:pre"><em>S</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>K</em></span> options are turned on at the same time, the <span class="webflare-courier-new" style="white-space:pre"><em>S</em></span> option will outweigh the <span class="webflare-courier-new" style="white-space:pre"><em>K</em></span> option, which means that the <span class="webflare-courier-new" style="white-space:pre"><em>K</em></span> option will have no effect and PDRACULA will output warning message to notify users of this conflict situation. However, the <code>jxrun.com</code> file will still be generated.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034711"></a><code>L</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034713"></a>Same as the C option except does not form AOI and OAI gates. Subtype restrictions still apply. L option overrides the C option.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034715"></a><code>M</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034717"></a>Dracula recognizes inverters when the inverter has been created by shorting the gates of a NAND or a NOR structure together.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034719"></a><code>N</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034721"></a>Check gate level substrate terminal connections. Without this option, only transistor level substrate connections are considered as regular terminals during the matching process if <code>T</code> option is set. Set both <code>N</code> and <code>T</code> options when you need to form pseudo-gate structures and match the substrate nodes. This option works correctly only if substrate terminal connections are connected to global nodes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034723"></a><code>O</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034725"></a>Forms parallel and series MOS structures even if neither is connected to power or ground. By default, LVS does not form SMID or PMID structures. This option enables LVS to recognize BiCMOS structures and enables the LVS gate-level matching capability. You can use the O option with any other option except the X option. </p>
<p>
<a id="pgfId-1034803"></a>LVS recognizes an SMID or PMID node as the following:</p>

<ul><li>
<a id="pgfId-1034804"></a>Any pads assigned text, other than power, ground, or supply nodes</li><li>
<a id="pgfId-1034805"></a>An input (gate node) of any MOS/LDD transistors</li><li>
<a id="pgfId-1034806"></a>A conjunction point between MOS elements and LDD elements</li><li>
<a id="pgfId-1034807"></a>A conjunction point between different subtype MOS/LDD elements</li></ul>




<p>
<a id="pgfId-1034808"></a>LVS forms parallel/series structures:</p>

<ul><li>
<a id="pgfId-1034809"></a>PUP(/SUP): A parallel or series structure with one power end and one terminal end</li><li>
<a id="pgfId-1034810"></a>PDW(/SDW): A parallel or series structure with one ground end and one terminal end</li><li>
<a id="pgfId-1034801"></a>PMID(/SMID): A parallel or series structure not connected to power or ground at either terminal</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034830"></a><code>P</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034832"></a>Checks the <a id="Poption_LVSCHK"></a>ELEMENT capacitor&#8217;s polarity. This option does not swap the terminal order of the ELEMENT CAP and the CDL capacitor command. See the <a href="chap13.html#58344">ELEMENT CAP</a> command for additional information. See also the <em><a href="chap13.html#Zoption_LPESELECT">Z option in LPESELECT.</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034834"></a><code>R</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034836"></a>Smashes <a id="Rargument"></a>series resistors.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034838"></a><code>S</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034840"></a>Smashes MOS split-gates. The S-OPTION-CLASS command in the Description block determines whether this option smashes split gates connected to power or ground, split gates not connected to power or ground, or all split gates. The CARE-SPLIT-ORDER command in the Description block checks the input order of split gates.</p>

<p>
<a id="pgfId-1034845"></a>This illustration shows a split gate SUPI device smashed to a single SUP device. This is how the S option works by default.</p>

<p>
<a id="pgfId-1034888"></a></p>
<div class="webflare-div-image">
<img width="445" height="234" src="images/chap13-102.gif" /></div>
<p>
<a id="pgfId-1034843"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034939"></a><code>T</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034941"></a>Considers substrate terminal connections as regular terminal connections during the matching process. The matching process propagates the match information through the substrate connections and the subsequent instances. This option cannot trace the substrate nodes of pseudo-gate structures. To match the substrate, do not form a pseudo-gate.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034943"></a><code>U</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034945"></a>Reports in the discrepancy file (.LVS) only the unmatched schematic and unmatched layout devices on matched nodes (Type 4, 5, and 6 LVS errors). Device size, substrate, and subtype checks are not affected. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034947"></a><code>X</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034949"></a>Carries out the comparison at the transistor level (that is, no swap allowed).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034951"></a><code>Z</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034953"></a>Filters out devices with no general paths to any nonpower/ground pad.</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1018003"></a><code>SUBTYPE-AS-PARAM=YES/NO /BCDLMR/X</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055159"></a>Determines whether Dracula matches devices with subtypes and treats the subtypes as parameters.</p>
<p class="webflare-indent1">
<a id="pgfId-1043346"></a> If you specify YES, Dracula matches all devices with different subtypes. Dracula then checks the subtypes as if it were checking parameters. </p>
<p class="webflare-indent1">
<a id="pgfId-1018004"></a> If you specify NO, and the MOS, LDD, and BJT devices have different subtypes, Dracula treats them as different devices and does not match them with subtypes. However, Dracula matches all other devices, such as RES, CAP, and DIO, with subtypes and treats the subtypes as parameters, as if <code>SUBTYPE-AS-PARAM</code> were set to YES. The default is NO. </p>
<p class="webflare-indent1">
<a id="pgfId-1043278"></a> If you specify B, C, D, L, M, or R, Dracula treats the subtypes of the specified devices as parameters. The devices that you can specify are the following:</p>
<p class="webflare-indent1">
<a id="pgfId-1043279"></a> B: BJT</p>
<p class="webflare-indent1">
<a id="pgfId-1043280"></a> C: capacitor</p>
<p class="webflare-indent1">
<a id="pgfId-1043281"></a> D: diode</p>
<p class="webflare-indent1">
<a id="pgfId-1043288"></a> L: lightly doped drain</p>
<p class="webflare-indent1">
<a id="pgfId-1043289"></a> M: MOS</p>
<p class="webflare-indent1">
<a id="pgfId-1043290"></a> R: resistor</p>
<p class="webflare-indent1">
<a id="pgfId-1043521"></a> For example, <code>SUBTYPE-AS-PARAM=BD</code> causes Dracula to treat only the subtypes of BJTs and diodes as parameters.</p>
<p class="webflare-indent1">
<a id="pgfId-1043522"></a> If you specify X, Dracula does not match any device subtype as a parameter.</p>

<p><strong>
<a id="pgfId-1018005"></a><code>MOS-WIDTH-SUMMARY=YES/NO </code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055168"></a>If you specify YES, Dracula reports the summary of MOS devices by subtype and width in the .lvs file.</p>
<p class="webflare-indent1">
<a id="pgfId-1018006"></a> If you specify NO, Dracula uses the default report format.</p>

<p><strong>
<a id="pgfId-1018008"></a><code>MOSCAP-AREA=</code><a id="marker-1018007"></a><span class="webflare-courier-new" style="white-space:pre"><em>n0</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055177"></a> Checks the capacitance effect in a MOSCAP device area. Because a MOSCAP device has characteristics similar to a capacitor, this check measures the capacitance effect. By default, Dracula checks only the width and length of a MOSCAP. With this option turned on, if the W/L values do not match, the area is checked for a capacitance effect. If this option is not turned on, Dracula verifies a MOSCAP device as a MOS device. It does not measure the capacitance effect of other types of devices. </p>

<p><strong>
<a id="pgfId-1055182"></a><code>PRINTLINE=</code><a id="marker-1018009"></a><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055185"></a> The maximum unmatched occurrences to print out (0 &lt; n1 &lt; 1,000,000; default =1,000).</p>

<p><strong>
<a id="pgfId-1055190"></a><code>WPERCENT=</code><a id="marker-1018011"></a><span class="webflare-courier-new" style="white-space:pre"><em>n2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055193"></a> The percentage tolerance of the MOS transistor width in the LVS comparing process (0 &lt; n2 &lt; 100; default = no check). </p>

<p><strong>
<a id="pgfId-1055198"></a><code>LPERCENT=</code><a id="marker-1018013"></a><span class="webflare-courier-new" style="white-space:pre"><em>n3</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055201"></a> The percentage tolerance of the MOS transistor length in the LVS comparing process (0 &lt; n3 &lt; 100; default = no check).</p>

<p><strong>
<a id="pgfId-1055206"></a><code>WEFFECT=</code><a id="marker-1018015"></a><span class="webflare-courier-new" style="white-space:pre"><em>n4</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055209"></a> Effective MOS channel width/length calculation you specify. You can specify WEFFECT as a positive or negative value. Each 15 degree turn in a transistor channel causes a 1/6 fraction of WEFFECT specified times length (L) to be added or subtracted from a transistor default width (W) for a pull-down device (default = 0). For a load-device, W remains as is and L is modified. </p>
<p class="webflare-indent1">
<a id="pgfId-1018017"></a> The following algorithm is used: </p>
<p class="webflare-indent1">
<a id="pgfId-1018018"></a> For WEFFECT = 0,
W<sub>actual</sub> = W
L<sub>actual</sub> = A/W</p>

<p>
<a id="pgfId-1035341"></a></p>
<table class="webflareTable" id="#id1034961">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="8">

<ul><li>
<a id="pgfId-1034963"></a>For a pulldown device (L is unmodified) </li></ul>

<blockquote id="#id1034965">
<a id="pgfId-1034965"></a>W<sub>{actual}</sub> = W<sub>{init}</sub> - (WEFFECT * I *L)     ; if W<sub>{init}</sub> is greater than L</blockquote>
<blockquote id="#id1034967">
<a id="pgfId-1034967"></a>where</blockquote>
<blockquote id="#id1034969">
<a id="pgfId-1034969"></a>W<sub>{actual}</sub> = the actual width of the gate</blockquote>
<blockquote id="#id1034971">
<a id="pgfId-1034971"></a>W<sub>{init} </sub>= the initial width of the gate. This is always calculated by Dracula.</blockquote>
<blockquote id="#id1034973">
<a id="pgfId-1034973"></a>WEFFECT = a compensation coefficient you supply to Dracula to correctly calculate the actual width/length of a transistor gate.</blockquote>
<blockquote id="#id1034975">
<a id="pgfId-1034975"></a>I = the total of a device&#8217;s internal angles (in units of 90 degrees)</blockquote>
<blockquote id="#id1034977">
<a id="pgfId-1034977"></a>L = the length of the gate which is equal to the total area of the gate divided by the initial width of the gate (e.g. Area/W{init})</blockquote>
</td>
</tr>
<tr />
<tr />
<tr />
<tr />
<tr />
<tr />
<tr />
<tr>
<td class="webflareTd" colspan="1" rowspan="8">

<ul><li>
<a id="pgfId-1034979"></a>For a load device (W is unmodified) </li></ul>

<blockquote id="#id1034981">
<a id="pgfId-1034981"></a>L<sub>{actua}l</sub> = L<sub>{init}</sub> - (WEFFECT * I *L)    ; if L<sub>{init}</sub> ≥ W</blockquote>
<blockquote id="#id1034983">
<a id="pgfId-1034983"></a>where</blockquote>
<blockquote id="#id1034985">
<a id="pgfId-1034985"></a>L<sub>{actual}</sub> = the actual length of the gate</blockquote>
<blockquote id="#id1034987">
<a id="pgfId-1034987"></a>L<sub>{init}</sub> = the length of the gate, which is equal to the total area of the gate divided by the width of the gate (e.g. Area/W)</blockquote>
<blockquote id="#id1034989">
<a id="pgfId-1034989"></a>WEFFECT = a compensation coefficient you supply to Dracula to correctly calculate the actual width/length of a transistor gate.</blockquote>
<blockquote id="#id1034991">
<a id="pgfId-1034991"></a>I = the total of a device&#39;s internal angles (in units of 90 degrees, with each internal angle rounded to the nearest 15 degrees)</blockquote>
<blockquote id="#id1034993">
<a id="pgfId-1034993"></a>W = the width of the gate. This is always calculated for you by Dracula.</blockquote>
</td>
</tr>
<tr />
<tr />
<tr />
<tr />
<tr />
<tr />
<tr />
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1018038"></a> For additional discussion and illustrations, see <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE).&#8221;</a></p>

<p><strong>
<a id="pgfId-1018040"></a><code>CAPAREA=</code><a id="marker-1018039"></a><span class="webflare-courier-new" style="white-space:pre"><em>n5</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055229"></a>Percentage tolerance of the capacitor area in the LVS comparing process (0 &lt; n5 &lt; 100; the default is no check.). See <code>CAPVAL </code>option. </p>

<p><strong>
<a id="pgfId-1055234"></a><code>CAPVAL=</code><a id="marker-1018041"></a><span class="webflare-courier-new" style="white-space:pre"><em>n6</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055237"></a> Percentage tolerance of the capacitor value in the LVS comparing process (0 &lt; n6 &lt; 100; the default is no check.). Only <code>CAPAREA</code> or <code>CAPVAL </code>can be specified, but not both, and the choice depends on the SPICE/CDL netlist specification. </p>

<p><strong>
<a id="pgfId-1055242"></a><code>DIOAREA=</code><a id="marker-1018043"></a><span class="webflare-courier-new" style="white-space:pre"><em>n7</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055245"></a> Percentage tolerance of the diode area in the LVS comparing process (0 &lt; n7 &lt; 100; the default is no check).</p>

<p><strong>
<a id="pgfId-1055250"></a><code>DIOPERI=</code><a id="marker-1018045"></a><span class="webflare-courier-new" style="white-space:pre"><em>n8</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055253"></a> Percentage tolerance of the diode periphery in the LVS comparing process (0 &lt; n8 &lt; 100; the default is no check). </p>

<p><strong>
<a id="pgfId-1055258"></a><code>RESSIZE=</code><a id="marker-1018047"></a><span class="webflare-courier-new" style="white-space:pre"><em>n9</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055261"></a> Percentage tolerance of the number of squares in a resistor in the LVS comparing process (0 &lt; n9 &lt; 100; the default is no check). See <code>RESVAL </code>option. <code>*.RESSIZE</code> doesn&#8217;t compare the width/length of resistors. It allows these values to be put into the <code>LVSLOGIC.DAT</code> file from the input CDL/Spice netlist.</p>

<p><strong>
<a id="pgfId-1055266"></a><code>RESVAL=</code><a id="marker-1018049"></a><span class="webflare-courier-new" style="white-space:pre"><em>n10</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055269"></a> Percentage tolerance of resistor value in the LVS comparing process (0 &lt; n10 &lt; 100; the default is no check). You can specify only <code>RESSIZE </code>or <code>RESVAL</code>, but not both, and the choice depends on the SPICE/CDL netlist specification. For additional discussion and illustrations, see Chapter 7, &#8220;Extracting Electrical Parameters.&#8221; <code>*.RESVAL</code> allows the resistance values to be put into the <code>LVSLOGIC.DAT</code> file from the netlist.</p>

<p>
<a id="pgfId-1035349"></a></p>
<table class="webflareTable" id="#id1035003">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035005"></a>When using LOGLVS it is necessary to specify either <code>*.RESVAL</code> or <code>*.RESSIZE</code>, but not both in the CDL/Spice file. (This is already mentioned in Chapter 5, under the <a href="chap5.html#31627">*.BIPOLAR</a> section. Similarly you can specify either <code>*.CAPVAL</code> or <code>*.CAPAREA</code>, but not both in the CDL/Spice file). </div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035007"></a>If you are running CDLOUT to generate the CDL netlist make sure that you have properly set the values for the Check Resistors and Check Capacitors fields in the form to have the appropriate parameter information sent to the netlist file for resistors and/or capacitors respectively. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035009"></a>In a typical resistor CDL card, you have the following fields:</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035011"></a><code>Rxxx term1 term2 {res} {$SUB=substrate} {$[mname] / $.MODEL=mname} {$W=width} {$L=length}</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035013"></a>If you want to check the resistor&#8217;s value, put the value of this resistor in the <code>{res}</code> field. When running LOGLVS make sure you have the <code>*.RESVAL</code> command in your CDL/SPICE netlist. When running PDRACULA make sure you have the <code>RESVAL</code> option for the LVSCHK command in your rule file. This will compare the two resistor values (in ohms).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035015"></a>If you want to check the resistor&#8217;s size (number of squares), put the number of squares of the resistor in the <code>{res}</code> field. When running LOGLVS you should have the <code>*.RESSIZE</code> command in your CDL/SPICE netlist. When running PDRACULA you should have the <code>RESSIZE</code> option for the <code>LVSCHK</code> command in your rule file. This will compare the two resistor sizes (in number of squares).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035017"></a>The <code>$W</code> and <code>$L</code> have nothing to do with calculating the number of squares. They are strictly used for comparing the tolerances of the width and length of the resistor using the following options on the <code>LVSCHK</code> command, <code>RESWPERCENT</code> and <code>RESLPERCENT</code> respectively.</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1018052"></a><code>W/L-PERCENT=</code><a id="marker-1018051"></a><span class="webflare-courier-new" style="white-space:pre"><em>n11</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055276"></a> Percentage tolerance of the MOS transistor width/length in the LVS comparing process (0 &lt; n11 &lt; 100; the default is no check). </p>

<p><strong>
<a id="pgfId-1055281"></a><code>MULDELW=</code><a id="marker-1018053"></a><span class="webflare-courier-new" style="white-space:pre"><em>n12</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055284"></a> Value you specify compensating for multiple parallel finger MOS transistors on effective channel widths. MULDELW is usually a negative value. The default is 0. For information about parallel MOS transistors, refer to <a href="chap6.html#31304">Chapter 6, &#8220;Comparing Layouts and Schematics (LVS).&#8221;</a></p>

<p><strong>
<a id="pgfId-1055289"></a><code>LISTUNMATCH=</code><a id="marker-1018058"></a><span class="webflare-courier-new" style="white-space:pre"><em>n13</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055292"></a> Maximum number of unmatched schematic and layout devices to print out (0&#160;&#160;≤ n13&#160;&#160;≤ 1,000,000; the default is 100). </p>

<p><strong>
<a id="pgfId-1055297"></a><code>EAPER=</code><a id="marker-1018060"></a><span class="webflare-courier-new" style="white-space:pre"><em>n14</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055300"></a> Percentage tolerance of the bipolar emitter area in the LVS comparison (0 &lt; n14 &lt; 100; the default is no check). You must input emitter sizes of bipolar transistors from the schematic netlist onto the schematics.</p>

<p><strong>
<a id="pgfId-1055305"></a><code>BJTWPERCENT=</code><a id="marker-1018062"></a><span class="webflare-courier-new" style="white-space:pre"><em>n15</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055308"></a> Percentage tolerance of the BJT transistor width in the LVS comparing process (0 &lt; n15 &lt; 100; the default is no check).</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1018064"></a>You must specify PARSET and LEXTRACT commands to extract width or length.</div>

<p><strong>
<a id="pgfId-1018066"></a><code>BJTLPERCENT=</code><a id="marker-1018065"></a><span class="webflare-courier-new" style="white-space:pre"><em>n16</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055314"></a> Percentage tolerance of the BJT transistor length in the LVS comparing process (0 &lt; n16 &lt; 100; the default is no check).</p>

<p><strong>
<a id="pgfId-1055319"></a><code>RESWPERCENT=</code><a id="marker-1018067"></a><span class="webflare-courier-new" style="white-space:pre"><em>n17</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055322"></a> Percentage tolerance of the resistor width in the LVS comparing process (0 &lt; n17 &lt; 100; the default is no check). Both length and width must be specified if the option for smashing parallel resistors is on. The default is smash parallel resistors. If either length or width is not specified, all width/length of resistors are 0, which means unspecified.<a id="marker-1018069"></a></p>

<p><strong>
<a id="pgfId-1055327"></a><code>RESLPERCENT=</code><a id="marker-1018070"></a><span class="webflare-courier-new" style="white-space:pre"><em>n18</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055330"></a> Percentage tolerance of the resistor length in the LVS comparing process (0 &lt; n18 &lt; 100; the default is no check). Both length and width must be specified if the option for smashing parallel resistors is on. The default is smash parallel resistors.</p>

<p><strong>
<a id="pgfId-1055335"></a><code>LDDWEFFECT=</code><span class="webflare-courier-new" style="white-space:pre"><em>n19</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055338"></a>Add this argument, <code>LDDWEFFECT</code> for effective LDD channel width/length calculation. Same usage as <code>WEFFECT</code> (see the <code>WEFFECT</code> argument above) except that <code>LDDWEFFECT</code> is for LDD calculation whereas <code>WEFFECT</code> is for MOS calculation.</p>
<p class="webflare-indent1">
<a id="pgfId-1035029"></a> Example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025135"></a><code> LVSCHK LDDWEFFECT = 1.0</code></pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1045551"></a>For any value specified except 0 (percentage tolerance) for WPERCENT, LPERCENT, CAPAREA, CAPVAL, DIOAREA, DIOPERI, RESSIZE, RESVAL, W/LPERCENT, MULDELW, BJTWPERCENT, BJTLPERCENT, RESWPERCENT, RESLPERCENT, and EAPER options, comparison accuracy is actually done at + 1/200th of the natural unit; that is, 0.005 microns or 0.005 mils. For 0 value comparison accuracy is actually done at 0.0001%.</div>

<p><strong>
<a id="pgfId-1038540"></a><code>{SMASH=[CDMRQ]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055353"></a> <a id="marker-1039634"></a>Add this argument to set or clear bytes. When LVSCHK[SK] is used, <span class="webflare-courier-new" style="white-space:pre"><em>S</em></span> overrides <span class="webflare-courier-new" style="white-space:pre"><em>K</em></span>, and thus all <em>CDMRQ</em> gets cleared. When you use the syntax </p>
<p class="webflare-indent1">
<a id="pgfId-1038541"></a> <code>LVSCHK[K] SMASH=[</code><span class="webflare-courier-new" style="white-space:pre"><em>CDMRQ</em></span><code>]</code></p>
<p class="webflare-indent1">
<a id="pgfId-1038542"></a> where </p>
<p class="webflare-indent1">
<a id="pgfId-1038627"></a> <span class="webflare-courier-new" style="white-space:pre"><em>C</em></span> = capacitors
<span class="webflare-courier-new" style="white-space:pre"><em>D</em></span> = diodes
<span class="webflare-courier-new" style="white-space:pre"><em>M</em></span> = MOS transistors
<span class="webflare-courier-new" style="white-space:pre"><em>R</em></span> = resistors
<span class="webflare-courier-new" style="white-space:pre"><em>Q</em></span> = BJT bipolar devices</p>
<p class="webflare-indent1">
<a id="pgfId-1038628"></a> If you use the <span class="webflare-courier-new" style="white-space:pre"><em>K</em></span> option and specify any of the above devices in the SMASH qualifier all devices with the exception of those listed in the qualifier will not be smashed.</p>
<p class="webflare-indent1">
<a id="pgfId-1038631"></a> See the &#8220;<a href="chap13.html#21976">Example 2 - Using the K option and the SMASH Qualifier</a>&#8221; in this section for more information.</p>

<h4>
<a id="pgfId-1038633"></a>Examples</h4>
<h4><em>
<a id="pgfId-1038634"></a>Example 1</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038635"></a>LVSCHK[FX] PRINTLINE = 3000 </pre>

<p>
<a id="pgfId-1038636"></a>Checks a gate array circuit at its transistor level. The printout lists up to 3,000 unmatched occurrences. The device width and length are not checked. W and L are compared only when WPERCENT and LPERCENT are mentioned. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038637"></a>LVSCHK[S] WPERCENT = 10 LPERCENT = 5 WEFFECT = .5 </pre>

<p>
<a id="pgfId-1038638"></a>Checks a circuit with pseudo gates being formed. All split-gates in the schematic and layout are smashed to a single SUP or SDW device for LVS checking. MOS transistor width and length are checked to ±10% and ±5%, respectively. LVS calculates the device&#8217;s W and L values as before and only modifies the device&#8217;s W value according to the formula above for a pull-down device. For every 90-degree turn and every 45-degree turn, W is reduced (subtracted) by (.5)*(L) and (.25)*(L), respectively. The L value remains the same. If a load device is encountered, L is modified and the W value remains the same. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038639"></a>LVSCHK WPERCENT=5 LPERCENT=2 RESVAL=5 DIOAREA=10<br />LVSCHK DIOPERI=10 CAPVAL=5 </pre>

<p>
<a id="pgfId-1038640"></a>This compares layout database device sizes to the netlist device sizes. Comparison of MOS width is at 5%, MOS length at 2%, resistor values at 5%, diode area at 10%, diode perimeter at 10%, and capacitor value at 5%. You can repeat the LVSCHK command to include the desired check options, and their tolerances are +/-. To compare resistor, diode, and capacitor values, the appropriate options must be turned on in the input SPICE/CDL netlists. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038641"></a>LVSCHK[P] W/L-PERCENT=1 LISTUNMATCH=500 </pre>

<p>
<a id="pgfId-1038642"></a>This compares the layout database device size W/L ratios to the netlist device size W/L ratios. Comparison of MOS W/L ratios is at 1%. The capacitor polarity is checked such that ELEMENT CAP terminals are not allowed to swap with the CDL capacitor terminals. The printout lists up to 500 unmatched schematic and layout devices. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1038643"></a>To use the above device size checks, you must understand the device layer concept for the ELEMENT commands. It is the device layer that carries the device dimension, such as NGATE and PGATE layers for CMOS process. </div>
<p>
<a id="pgfId-1038644"></a>To do device size checks of CAP and RES, specify the ELEMENT CAP and ELEMENT RES commands along with the PARAMETER CAP and PARAMETER RES commands. There is no PARAMETER DIO command.</p>
<p>
<a id="pgfId-1018084"></a>I/90 = 2 [90 + 90 = 180 degrees] </p>
<p class="webflare-indent1">
<a id="pgfId-1018085"></a>For a pulldown device:
WEFFECT= 0.5, W = 12
L = 1, and W<sub>actual</sub> = 11</p>
<p class="webflare-indent1">
<a id="pgfId-1018086"></a>For a load device: 
WEFFECT= 0.5, W = 1
L = 12, and L<sub>actual </sub>= 11 </p>

<p>
<a id="pgfId-1028217"></a></p>
<div class="webflare-div-image">
<img width="540" height="202" src="images/chap13-103.gif" /></div>

<p>
<a id="pgfId-1018122"></a>I/90 = 1 [45 + 45 = 90 degrees] </p>
<p class="webflare-indent1">
<a id="pgfId-1018123"></a>For a pulldown device:
WEFFECT = 0.0, W = 16 
L = 3.31, and W<sub>actual </sub>= 16
where WEFFECT = CORNER.</p>
<p class="webflare-indent1">
<a id="pgfId-1018124"></a>For another pulldown device:
WEFFECT = 1.0, W = 16 
L = 3.31, and W<sub>actual</sub> = 12.69
</p>

<p>
<a id="pgfId-1028259"></a></p>
<div class="webflare-div-image">
<img width="573" height="247" src="images/chap13-104.gif" /></div>
<h4><em>
<a id="pgfId-1018186"></a><a id="21976"></a>Example 2 - Using the K option and the SMASH Qualifier</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038557"></a>LVSCHK[K] SMASH=[RC]</pre>

<p>
<a id="pgfId-1038556"></a>The above command will not smash any parallel devices with the exception of parallel resistors and capacitors. If you use the above command in the OPERATION block and SMASH-RES-TYP = YES and/or SMASH-CAP-TYP=YES command in the DESCRIPTION block of commands, this command will only smash series devices.</p>
<p>
<a id="pgfId-1043186"></a>Example 3 - Merging SUP and SDW Devices into a Single MOS</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1043199"></a>LVSCHK[H]</pre>

<p>
<a id="pgfId-1043467"></a>This example merges all SUP and SDW serial MOS devices with a common gate into a single MOS device, but it does not merge SMID MOS devices with a common gate:</p>
<p>
<a id="pgfId-1043219"></a>Example 4 - Merging SMID Devices into a Single MOS</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1043211"></a>LVSCHK[OJ]</pre>

<p>
<a id="pgfId-1043477"></a>This example merges all SMID serial MOS devices with a common gate, but it does not merge SUP and SDW serial MOS devices with a common gate:</p>
<p>
<a id="pgfId-1043229"></a>Example 5 - Merging SDW, SUP, and SMID Devices into a Single MOS</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1043240"></a>LVSCHK[OHJ]</pre>

<p>
<a id="pgfId-1043484"></a>This last example merges all SUP, SDW, and SMID serial MOS devices with a common gate into a single MOS device:</p>

<h3>
<a id="pgfId-1018233"></a>MULTILAB</h3>
<a id="pgfId-1018235"></a><a id="marker-1018234"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
MULTILAB {<code><em>trapfile</em></code>} OUTPUT  <code><em>c-name  l-num</em></code>  {<code><em>d-num</em></code>}</pre>
<h4>
<a id="pgfId-1018236"></a>Description</h4>

<p>
<a id="pgfId-1018239"></a>D<a id="marker-1018237"></a>etermines if a single node is labeled with different <a id="marker-1018238"></a>text strings, which usually occurs when two or more labeled nodes are shorted to each other. For example, if one node is labeled as both VCC and VSS, the power and ground nodes are shorted to each other somewhere in the layout. To locate where these nodes are shorted, MULTILAB traces the closest path between the different <a id="marker-1018240"></a>labels. </p>
<p>
<a id="pgfId-1018241"></a>MULTILAB outputs the &#8220;pruned&#8221; nodes that have more than one label. &#160;&#160;&#160;&#160;Text involved with multiple labels is discarded after this check and no longer exists for any other ERC check. Multiple label problems must be cleared of errors before you inspect other ERC checks. MULTILAB and SAMELAB errors lead to false LVS or LPE output, so you should clear their errors before going on to LVS or LPE. For more information about ERC checks, refer to <a href="chap4.html#75716">Chapter 4, &#8220;Checking Electrical Rules (ERC).&#8221;</a></p>
<p>
<a id="pgfId-1018245"></a>It is strongly recommended that you include both MULTILAB and SAMELAB commands in an LVS or LPE input rules file.</p>

<h4>
<a id="pgfId-1018246"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018247"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055363"></a> Name you designate as the output file to contain composite trapezoids. Before you do any operation on a trapfile, you must OR it with itself or with the substrate layer.</p>

<p><strong>
<a id="pgfId-1055368"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055371"></a> Sends the results of the operation to an output cell.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018249"></a>The output cell you specify cannot be used as the output of another command.</div>

<p><strong>
<a id="pgfId-1018250"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055377"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and l-num is 5, the output cell name is rule0305.</p>

<p><strong>
<a id="pgfId-1055387"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055390"></a> Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only; values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1018252"></a>Example</h4>

<p>
<a id="pgfId-1018253"></a>This example checks all nodes that have more than one label. The result is output to the shorts40 cell on layers beginning with layer 40 and ending at a higher layer number, depending on the number of CONNECT-LAYERS and contact layers. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018254"></a>MULTILAB OUTPUT shorts 40 </pre>

<h3>
<a id="pgfId-1023504"></a>MULTI-SHEETRES<a id="multisheetres"></a></h3>
<a id="pgfId-1023505"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
MULTI-SHEETRES RES[type] width sheet_res_value</pre>
<h4>
<a id="pgfId-1023506"></a>Description</h4>

<p>
<a id="pgfId-1023507"></a>Provide different sheet resistance values based on different resistor widths to compute the resistance of the parasitic resistor devices defined by the associated PARASITIC RES command. The MULTI-SHEETRES must follow the corresponding PARASITIC RES and ATTRIBUTE RES commands. This is the expanded rule for multiSheetRes option in extractParasitic command.</p>

<h4>
<a id="pgfId-1023508"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1023509"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055397"></a> A two-character code that denotes the type of parasitic resistor device. The first character must be A-Z. The second character can be A-Z or 0-9, excluding 8. The second character is optional. Dracula uses this code to match this command with the associated PARASITIC RES command.</p>

<p><strong>
<a id="pgfId-1055402"></a><span class="webflare-courier-new" style="white-space:pre"><em>width</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055405"></a> For resistors with width less than or equal to this value (larger than the previous width range), use its corresponding sheet_res_value to calculate resistance. For resistor width larger than the maximum width specified in MULTI-SHEETRES commands, use sheet_res_value of ATTRIBUTE for resistance calculation.</p>

<p><strong>
<a id="pgfId-1055410"></a><span class="webflare-courier-new" style="white-space:pre"><em>sheet_res_value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055413"></a> The sheet resistance value in units per square, where the units correspond to the resistance units specified in the UNIT command.</p>

<h4>
<a id="pgfId-1023512"></a>Example</h4>

<p>
<a id="pgfId-1023513"></a>In this example, resistor with width &gt; 0 and &lt;= 0.1, use 0.15 as sheet resistance value. Resistor with width &gt; 0.1 and &lt;= 0.15, use 0.1 as sheet resistance value. for resistor width &gt; 0.15, use 0.15 as sheet resistance value.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023514"></a>PARASITIC RES[P] PRES PTRM</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023515"></a>ATTRIBUTE RES[P] 0.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023516"></a>MULTI-SHEETRES[P] 0.1 0.15</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023517"></a>MULTI-SHEETRES[P] 0.15 0.1</pre>
<h3>
<a id="pgfId-1018256"></a>NDCOUNT </h3>
<a id="pgfId-1018258"></a><a id="marker-1018257"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
NDCOUNT  <code><em>elem</em></code> {[<code><em>type</em></code>]}  <code><em>layer  condition  n1</em></code>  {<code><em>trapfile</em></code>} OUTPUT  <code><em>c-name l-num </em></code> {<code><em>d-num</em></code>}  {&amp;}   </pre>
<h4>
<a id="pgfId-1018259"></a>Description</h4>

<p>
<a id="pgfId-1018262"></a>C<a id="marker-1018260"></a>ounts <a id="marker-1018261"></a>nodes that connect to an element through specific layers. The command outputs those elements with specified node counts to an output cell. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018263"></a>The output cell you specify cannot be used as the output of another command.</div>

<h4>
<a id="pgfId-1018264"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018265"></a><span class="webflare-courier-new" style="white-space:pre"><em>elem</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055429"></a> Type of element to check. You must define this element by an ELEMENT command. </p>
<p class="webflare-indent1">
<a id="pgfId-1018267"></a> MOS = <a id="marker-1018266"></a>MOS devices
BJT = <a id="marker-1018268"></a>Bipolar devices 
PAD = <a id="marker-1018269"></a>PAD windows
LDD = LDD devices</p>

<p><strong>
<a id="pgfId-1018270"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055438"></a> Two-letter (A-Z) code that denotes the type of MOS device. This can differentiate N-channel from P-channel in CMOS or differentiate MOS devices with different implants. </p>

<p><strong>
<a id="pgfId-1055443"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055446"></a> Layer through which the connections are being checked. A layer name of ALL can check all of the conductor layers defined in the ELEMENT command for the elem and type. </p>

<p><strong>
<a id="pgfId-1055451"></a><span class="webflare-courier-new" style="white-space:pre"><em>condition n1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055454"></a> Tests according to one of the following conditions:</p>

<p>
<a id="pgfId-1035379"></a> </p>
<table class="webflareTable" id="#id1035354">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035356"></a>LT n1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035358"></a>For a node count less than the number n1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035360"></a>LE n1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035362"></a>For a node count less than or equal to the number n1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035364"></a>EQ n1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035366"></a>For a node count equal to the number n1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035368"></a>NE n1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035370"></a>For a node count not equal to the number n1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035372"></a>GT n1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035374"></a>For a node count greater than the number n1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035376"></a>GE n1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035378"></a>For a node count greater than or equal to the number n1</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1018275"></a> where the number n1 can be an integer between 0 and 63. </p>

<p><strong>
<a id="pgfId-1018276"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055466"></a> Name you designate as the output file to contain composite trapezoids. Before you do any operation on a trapfile, you must OR it with itself or with the substrate layer. </p>

<p><strong>
<a id="pgfId-1055471"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055474"></a> Sends the results of the operation to an output cell. The output cell you specify cannot be used as the output of another command.</p>

<p><strong>
<a id="pgfId-1055479"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055482"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1055487"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055490"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only; values can range from 0 to 63. </p>

<p><strong>
<a id="pgfId-1055495"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055498"></a> Indicates a conjunctive rule. You can conjoin this command with other NDCOUNT and ECONNECT commands. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018281"></a>NDCOUNT outputs the device layers of the element that satisfies the specific condition. ELEMENT PAD has no effect on the NDCOUNT command. </div>

<h4>
<a id="pgfId-1018282"></a>Examples</h4>

<p>
<a id="pgfId-1018283"></a>In this example, all MOS elements that have only one node connected through the srcdrn layer are considered as capacitors. Thus, plotting the output cell caps40 on layer 40 shows all MOS capacitors. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018284"></a>NDCOUNT MOS srcdrn EQ 1 OUTPUT caps 40 </pre>
<p>
<a id="pgfId-1018285"></a>This example collects MOS elements that have source/drain counts greater than 2 (a three-terminal source/drain MOS device). The output cell name is twosd40. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018286"></a>NDCOUNT MOS srcdrn GT 2 OUTPUT twosd 40 </pre>
<p>
<a id="pgfId-1018287"></a>For a previously constructed metal-gate CMOS element, this check detects the elements that have a connection to other than one node through the metal. The output cell name is ergate40. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018288"></a>NDCOUNT MOS[C] metal NE 1 OUTPUT ergate 40 </pre>
<p>
<a id="pgfId-1018289"></a>In the following example, all bipolar elements that have their collector, base, and emitter terminals shorted together are output in error cell mixup50 on layer 50.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018290"></a>NDCOUNT BJT all EQ 1 OUTPUT mixup 50 </pre>

<h3>
<a id="pgfId-1018293"></a>NEIG<a id="marker-1018292"></a>HBOR </h3>
<a id="pgfId-1018294"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
NEIGHBOR <code><em>dense-layer sparse-layer [grow-number] outlayer {OUTPUT c-name l-num}</em></code></pre>
<h4>
<a id="pgfId-1018295"></a>Description</h4>

<p>
<a id="pgfId-1018296"></a>Sizes the sparse layer, performs a logical AND with the sized sparse layer and the dense layer, and checks the distance between the sparse layer and the created layer. </p>
<p>
<a id="pgfId-1018297"></a>This command enhances performance for DRC checks between sparse and dense layers.</p>

<h4>
<a id="pgfId-1018298"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018299"></a><span class="webflare-courier-new" style="white-space:pre"><em>dense-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055505"></a> Input layer on which to perform logical AND with sized sparse-layer.</p>

<p><strong>
<a id="pgfId-1055510"></a><span class="webflare-courier-new" style="white-space:pre"><em>sparse-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055513"></a> Input layer to size and perform logical AND with dense-layer.</p>

<p><strong>
<a id="pgfId-1055518"></a><span class="webflare-courier-new" style="white-space:pre"><em>grow-number</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055521"></a> Amount to enlarge the dense-layer. The default value is 0.0.</p>

<p><strong>
<a id="pgfId-1055526"></a><span class="webflare-courier-new" style="white-space:pre"><em>outlayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055529"></a> Output layer for the operation.</p>

<p><strong>
<a id="pgfId-1055534"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055537"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1055542"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055545"></a>C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and <br />l-num is 5, the output cell name is rule0305. </p>

<h4>
<a id="pgfId-1018305"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018306"></a>NEIGHBOR metal pad 52 padmet<br />EXT pad padmet LT 50 OUTPUT error 63</pre>
<h3>
<a id="pgfId-1018310"></a>NODE-FILE</h3>
<a id="pgfId-1018311"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
NODE-FILE [F/N] = <code><em>filename</em></code> {OUTPUT <code><em>cellname</em></code> <code><em>layer-number</em></code>}</pre>
<h4>
<a id="pgfId-1018312"></a>Description</h4>

<p>
<a id="pgfId-1018317"></a>I<a id="marker-1018313"></a><a id="marker-1018314"></a>dentifies a file that lists a <a id="marker-1018315"></a>node set to be extracted in a <a id="marker-1018316"></a>selective LPE run. Include this command in the Operation block if you want LPE to extract the layout parasitics and devices associated with a particular path. As an alternative to NODE-FILE, you can use the NODE-SELECT command to list the nodes.</p>
<p>
<a id="pgfId-1018318"></a>NODE-FILE can optionally output the node set to a cell.</p>
<p>
<a id="pgfId-1018319"></a>You must use two other commands for selective LPE: LPE-QUERY and SELECT-MODE. For details about these commands, refer to <h-hot><a href="chap11.html#71072">Chapter 11, &#8220;Description Block Commands.&#8221;</a></h-hot></p>

<h4>
<a id="pgfId-1018323"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018324"></a><code>F</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055552"></a> Used with LPE-QUERY=CORE only. Enforces a filtering process so only the devices connected to the user-specified nodes are output. This eliminates some parasitic capacitors that connect only to the adjacent nodes.</p>

<p><strong>
<a id="pgfId-1055557"></a><code>N</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055560"></a> When you specify node numbers instead of node names, you need to turn this option on.</p>

<p><strong>
<a id="pgfId-1055565"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055568"></a> Outputs the geometries of each conduction layer to a unique file. For example, if you have three conduction layers, the selected geometries are dumped into the following three output files:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018327"></a><code>cellName+layerNumber<br />cellName+(layerNumber+1)<br />cellName+(layerNumber+2)</code></pre>

<p><strong>
<a id="pgfId-1018328"></a><span class="webflare-courier-new" style="white-space:pre"><em>filename </em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055577"></a>Name of a file that lists a node set.</p>

<p><strong>
<a id="pgfId-1055582"></a><span class="webflare-courier-new" style="white-space:pre"><em>cellname</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055585"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Name of an optional output cell. The name can have up to six alphanumeric characters and no special characters.</p>

<p><strong>
<a id="pgfId-1055590"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-number </em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055593"></a>Layer number of the output cell. <em>Layer-number </em>depends on your CAD system. If your <em>cellname</em> is <em>rule03</em> and <em>layer-number</em> is 5, the output cell name is <em>rule0305</em>.</p>

<h4>
<a id="pgfId-1018331"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018332"></a>NODE-FILE = nets1</pre>
<h3>
<a id="pgfId-1018336"></a>NODE-SELECT</h3>
<a id="pgfId-1018337"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
NODE-SELECT {[N|F]} = <code><em>net-name</em></code>.../ [OUTPUT <code><em>cellname layer-number</em></code>]</pre>
<h4>
<a id="pgfId-1018338"></a>Description</h4>

<p>
<a id="pgfId-1018343"></a>L<a id="marker-1018339"></a><a id="marker-1018340"></a>ists a <a id="marker-1018341"></a>node set to be extracted in a <a id="marker-1018342"></a>selective LPE run. Include this command in the Operation block if you want LPE to extract the layout parasitics and devices associated with a particular path.</p>
<p>
<a id="pgfId-1018344"></a>As an alternative to NODE-SELECT, you can use the NODE-FILE command to identify a file that lists the nodes. You can use either the NODE-SELECT command or the NODE-FILE command to select the node set, but not both. For details, refer to the NODE-FILE command description. NODE-SELECT can optionally output the node set to a cell.</p>
<p>
<a id="pgfId-1018345"></a>You must use two other commands for selective LPE: LPE-QUERY and SELECT-MODE. For details about these commands, refer to the &#8220;Description Block Commands&#8221; chapter.</p>

<h4>
<a id="pgfId-1018346"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018347"></a><code>N</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055600"></a><code>&#160;&#160;&#160;&#160;</code>If you specify node numbers instead of node names for <em>net-name1</em> and <em>net-name2</em>, you must also specify this option.</p>

<p><strong>
<a id="pgfId-1055605"></a><code>F</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055608"></a> Used with LPE-QUERY=CORE only. Enforces a filtering process so only the devices connected to the user-specified nodes are output. This eliminates some parasitic capacitors that connect only to the adjacent nodes.</p>

<p><strong>
<a id="pgfId-1055613"></a><span class="webflare-courier-new" style="white-space:pre"><em>net-name</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055616"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>A list of the node names or numbers in the node set separated by spaces. You must end the node list with a slash (/).</p>

<p><strong>
<a id="pgfId-1055621"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055624"></a> Outputs the geometries of each conduction layer to a unique file. For example, if you have three conduction layers, the selected geometries are dumped into the following three output files:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018351"></a><code>cellName+layerNumber<br />cellName+(layerNumber+1)<br />cellName+(layerNumber+2)</code></pre>

<p><strong>
<a id="pgfId-1018352"></a><span class="webflare-courier-new" style="white-space:pre"><em>cellname</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055633"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Name of an optional output cell. The name can have up to six alphanumeric characters and no special characters.</p>

<p><strong>
<a id="pgfId-1055638"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-number </em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055641"></a>Layer number of the output cell. <em>Layer-number </em>depends on your CAD system. For example, if <em>cellname</em> is <em>rule03</em> and <em>layer-number</em> is <em>5</em>, the output cell name is <em>rule0305</em> for the last layer specified in the <em>connect-layer </em>statement. The subsequent cells (<em>rule0306, rule0307</em>,...) are assigned using a reverse sequence of the <em>connect-layer</em> conductor layers.</p>

<h4>
<a id="pgfId-1018354"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018355"></a>NODE-SELECT = NET1 NET2 NET3 / OUTPUT NEWCELL 5</pre>
<h3>
<a id="pgfId-1018357"></a><a id="31629"></a>NOT </h3>
<a id="pgfId-1018359"></a><a id="marker-1018358"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
NOT {[D{n}]} <em>layer-a layer-b trapfile</em><code><em> </em></code>{OUTPUT <em>c-name l-num {d-num</em>}} </pre>
<h4>
<a id="pgfId-1018360"></a>Description</h4>

<p>
<a id="pgfId-1018362"></a>C<a id="marker-1018361"></a>reates a new layer from two other layers. The trapezoid file created by this operation consists of the first layer minus the region shared by both layers. </p>
<p>
<a id="pgfId-1044063"></a>Database partition functions were added for the SELECT, SIZE, and LOGICAL commands. These enhancements resolve capacity limitation issues with Dracula. This allows you to partition input layers of these functions into blocks. When you run Distributed Dracula, each block (pair) can be assigned to one processor. Specify a value between 2-10 inclusive following &#8216;D&#8217; to indicate the number of partitions desired. The default value of &#8216;D&#8217; is 4 if the value is omitted.</p>
<b>Note:</b><br />
<a id="pgfId-1018364"></a>
<ul><li>
<a id="pgfId-1038148"></a>There is a performance gain in the database partition feature for SELECT in the 4.8 version. The same is not true for SIZE and LOGICAL on account of too much overhead from the pre-process (PRESEL for SIZE) and post-process (LOGMRG for LOGICAL) stages during the operations. Database partition scheme is designed specially for resolving Dracula capacity issues and is applied to flat mode only.</li><li>
<a id="pgfId-1038138"></a>In the 4.81 and 4.9 versions, Dracula provides a method to optimize original rules and create more optimized rules to speed up run time. In the description block commands section, you can add the command <code>optimize-rule=YES/NO</code> (default is <code>NO</code>) and speed up the run time. In the 4.81 and 4.9 Dracula versions, PDRACULA issues to you suggestions for optimizing your rule. See the section, &#8220;<a href="chap13.html#23185">Example 2 - Optimizing the Rule Using the NOT Command</a>&#8221; for more information.</li></ul>

<p>
<a id="pgfId-1038136"></a></p>

<h4>
<a id="pgfId-1018365"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018366"></a><code>D</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055650"></a> Turn on the database partition feature</p>

<p><strong>
<a id="pgfId-1055655"></a><code>n</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055658"></a>Number of blocks to be partitioned into</p>

<p><strong>
<a id="pgfId-1055664"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055667"></a> Name of the first <a id="marker-1018368"></a>input layer</p>

<p><strong>
<a id="pgfId-1055672"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055675"></a> Name of the second input layer</p>

<p><strong>
<a id="pgfId-1055680"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055683"></a>Layer created by the logical operation. Arguments <em>layer-a </em>and <em>layer-b</em> are order dependent and can affect the output <em>trapfile</em> if connectivity has been established. The electrical node information is automatically stamped on this generated layer from the first layer (<em>layer-a</em>) name after nodal information is set up by using the CONNECT command on <em>layer-a</em>. The <em>trapfile</em> can have up to seven characters and no special characters. A-Z and 0-9 are permitted, but the first character must be a letter. </p>

<p><strong>
<a id="pgfId-1055688"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055691"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1055696"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055699"></a><em>C-name</em> is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. <em>L-num</em> is the cell layer number determined by your CAD system. If your <em>c-name</em> is <em>rule03</em> and <br /><em>l-num </em>is 5, the output cell name is <em>rule0305</em>. </p>

<p><strong>
<a id="pgfId-1055704"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055707"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (<em>l-num</em>) of the output cell. Use <em>d-num</em> for GDSII only. Values can range from 0 to 63.</p>

<p><strong>
<a id="pgfId-1055712"></a><code>E</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055715"></a> Creates an edge information file for each generated layer. For sidewall capacitance extraction, use this information. This information is used for sidewall capacitance extraction.</p>

<h4>
<a id="pgfId-1018377"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018378"></a>AND ndiff poly  ngate<br />AND pdiff poly  pgate<br />NOT ndiff ngate nsd <br />NOT pdiff pgate psd </pre>
<p>
<a id="pgfId-1028329"></a></p>
<div class="webflare-div-image">
<img width="676" height="450" src="images/chap13-105.gif" /></div>
<h4>
<a id="pgfId-1038149"></a><a id="23185"></a>Example 2 - Optimizing the Rule Using the NOT Command </h4>

<p>
<a id="pgfId-1038152"></a>In the following rule,</p>
<p>
<a id="pgfId-1038153"></a>Rule-A:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038154"></a>NOT &#160;&#160;&#160;&#160; L1 T1 L2<br />NOT&#160;&#160;&#160;&#160; L2 T2 L3<br />NOT&#160;&#160;&#160;&#160; L3 T3 L4<br />NOT&#160;&#160;&#160;&#160; L4 T4 L5</pre>

<p>
<a id="pgfId-1038155"></a>In Rule-A (the above rule)<code> L2</code>, <code>L3</code>, and <code>L4</code> are not used in the other rule. You can optimize the rule as follows:</p>
<p>
<a id="pgfId-1038163"></a>Rule-B:</p>
<p>
<a id="pgfId-1038164"></a><code>CAT&#160;&#160;&#160;&#160;T1&#160;&#160;&#160;&#160;T2&#160;&#160;&#160;&#160;T3&#160;&#160;&#160;&#160;T4&#160;&#160;&#160;&#160;T5
NOT&#160;&#160;&#160;&#160;L1&#160;&#160;&#160;&#160;T5&#160;&#160;&#160;&#160;L5</code></p>
<p>
<a id="pgfId-1038165"></a>In<code> </code>Rule-A, Dracula requires run time for running four NOT commands, but in Rule-B, Dracula requires only one NOT command&#8217;s run time.</p>

<h3>
<a id="pgfId-1018467"></a>OC<a id="marker-1018465"></a>TBIAS </h3>
<a id="pgfId-1018468"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
OCTBIAS <code><em>inlayer BY n1 outlayer </em></code>{OUTPUT <code><em>c-name l-num</em></code>} </pre>
<h4>
<a id="pgfId-1018469"></a>Description</h4>

<p>
<a id="pgfId-1018470"></a>Cuts all Manhattan corners on the input layer into octagonal corners with a radius of n1 and outputs the results to a new layer. </p>

<p>
<a id="pgfId-1028422"></a></p>
<div class="webflare-div-image">
<img width="667" height="272" src="images/chap13-106.gif" /></div>
<h4>
<a id="pgfId-1018516"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018517"></a><span class="webflare-courier-new" style="white-space:pre"><em>inlayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055722"></a> Name of the input layer.</p>

<p><strong>
<a id="pgfId-1055727"></a><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055730"></a> Radius of the octagonal corners.</p>

<p><strong>
<a id="pgfId-1055735"></a><span class="webflare-courier-new" style="white-space:pre"><em>outlayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055738"></a> Name of the output layer.</p>

<p><strong>
<a id="pgfId-1055743"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055746"></a> Sends the results of the operation to an output cell. </p>

<p><strong>
<a id="pgfId-1055761"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055764"></a>C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and <br />l-num is 5, the output cell name is rule0305. </p>

<h4>
<a id="pgfId-1018522"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018523"></a>*OPERATION<br />.<br />OCTBIAS metal BY 5 omet OUTPUT OMET 50<br />.<br />SIZE[X] poly BY 10 opoly OUTPUT OPOLY 63<br />.<br />*END</pre>
<h3>
<a id="pgfId-1018525"></a><a id="10276"></a>OR </h3>
<a id="pgfId-1018527"></a><a id="marker-1018526"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
OR [D{n}]} <em>layer-a layer-b trapfile</em> {OUTPUT <em>c-name</em><code><em> </em></code><em>l-num</em> {<em>d-num</em>}} </pre>
<h4>
<a id="pgfId-1018528"></a>Description</h4>

<p>
<a id="pgfId-1018530"></a>C<a id="marker-1018529"></a>reates a new layer from two other layers. The trapezoid file created by this operation consists of the total region of both layers. </p>
<p>
<a id="pgfId-1044071"></a>Database partition functions were added for the SELECT, SIZE, and LOGICAL commands. These enhancements resolve capacity limitation issues with Dracula. This allows you to partition input layers of these functions into blocks. When you run Distributed Dracula, each block (pair) can be assigned to one processor. Specify a value between 2-10 inclusive following &#8216;D&#8217; to indicate the number of partitions desired. The default value of &#8216;D&#8217; is 4 if the value is omitted.</p>
<b>Note:</b><br />
<a id="pgfId-1018532"></a>
<ul><li>
<a id="pgfId-1038027"></a>There is a performance gain in the database partition feature for SELECT in the 4.8 version. The same is not true for SIZE and LOGICAL on account of too much overhead from the pre-process (PRESEL for SIZE) and post-process (LOGMRG for LOGICAL) stages during the operations. Database partition scheme is designed specially for resolving Dracula capacity issues and is applied to flat mode only.</li><li>
<a id="pgfId-1038017"></a>In the 4.81 and 4.9 versions, Dracula provides a method to optimize original rules and create more optimized rules to speed up run time. In the description block commands section, you can add the command <code>optimize-rule=YES/NO</code> (default is <code>NO</code>) and speed up the run time. In the 4.81 and 4.9 Dracula versions, PDRACULA issues to you suggestions for optimizing your rule. See &#8220;<a href="chap13.html#27267">Example 2 - Optimizing the Rule Using the OR Command</a>&#8221; section for more information.</li></ul>


<h4>
<a id="pgfId-1018533"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018534"></a><code>D</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055771"></a><code>&#160;&#160;&#160;&#160;</code>Turns on the database partition feature</p>

<p><strong>
<a id="pgfId-1055776"></a><code>n</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055779"></a><code>&#160;&#160;&#160;&#160;</code>Number of blocks to be partitioned into</p>

<p><strong>
<a id="pgfId-1055784"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055787"></a> First input layer name.</p>

<p><strong>
<a id="pgfId-1055792"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055795"></a> Second input layer name. </p>

<p><strong>
<a id="pgfId-1055800"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055803"></a> Layer created by the logical operation. The t<em>rapfile</em> can have up to seven characters and no special characters. A-Z and 0-9 are permitted, but the first character must be a letter.</p>

<p><strong>
<a id="pgfId-1055808"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055816"></a> Sends the results of the operation to an output cell. </p>

<p><strong>
<a id="pgfId-1055821"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055824"></a> <em>C-name</em> is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. <em>L-num</em> is the cell layer number determined by your CAD system. If your <em>c-name</em> is <em>rule03</em> and <br /><em>l-num</em> is 5, the output cell name is <em>rule0305</em>. </p>

<p><strong>
<a id="pgfId-1055829"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055832"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (<em>l-num</em>) of the output cell. Use <em>d-num</em> for GDSII only. Values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1018543"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018561"></a>OR metala metalb metal</pre>
<p>
<a id="pgfId-1028474"></a></p>
<div class="webflare-div-image">
<img width="518" height="369" src="images/chap13-107.gif" /></div>
<h4>
<a id="pgfId-1038030"></a><a id="27267"></a>Example 2 - Optimizing the Rule Using the OR Command</h4>

<p>
<a id="pgfId-1038031"></a>You can replace several OR commands by the command, <code>CAT+one-OR.</code></p>
<p>
<a id="pgfId-1038039"></a>For example,</p>
<p>
<a id="pgfId-1038040"></a>You can replace these original rules:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038041"></a>OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;FLP&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;ZFLP&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;FLN&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;ZFLN&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;FLPX&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;ZFLPX&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;FLNX&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;ZFLNX&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;FLPH&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;FLNH&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;FPB&#160;&#160;&#160;&#160;FL
OR&#160;&#160;&#160;&#160;FL&#160;&#160;&#160;&#160;FNB&#160;&#160;&#160;&#160;FL<br /></pre>

<p>
<a id="pgfId-1038086"></a>by the following:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038087"></a>cat&#160;&#160;&#160;&#160;ZFL&#160;&#160;&#160;&#160; FLP  ZFLP  FLN  ZFLN  FLPX  ZFLNX   FLPH  FLNH  FPB  tmp1<br />or&#160;&#160;&#160;&#160;tmp1 &#160;&#160;&#160;&#160; f1 f1</pre>
<h3>
<a id="pgfId-1018563"></a>OVERLAP </h3>
<a id="pgfId-1018565"></a><a id="marker-1018564"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
OVERLAP <code><em>input-layer trapfile</em></code> {OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}}</pre>
<h4>
<a id="pgfId-1018566"></a>Description</h4>

<p>
<a id="pgfId-1018569"></a>C<a id="marker-1018567"></a>reates a layer out of <a id="marker-1018568"></a>overlapping polygons on the same layer. Use this command only for an input layer from your CAD graphics system. </p>

<h4>
<a id="pgfId-1018570"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018571"></a><span class="webflare-courier-new" style="white-space:pre"><em>input-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055839"></a> Name of the input layer.</p>

<p><strong>
<a id="pgfId-1055844"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055847"></a>Layer created by this command. Can be up to seven alphanumeric characters and no special characters. The first character must be a letter. </p>

<p><strong>
<a id="pgfId-1055852"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055855"></a> Outputs edges to the output file in an output cell.</p>

<p><strong>
<a id="pgfId-1055860"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055863"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and <br />l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1055868"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055871"></a> Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1018576"></a>Example</h4>

<p>
<a id="pgfId-1018577"></a>This example checks input layer diff for digitized polygons that overlap. Use to check overlaps prior to running optical PG. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018578"></a>OVERLAP diff difov OUTPUT ov1 50</pre>

<h3>
<a id="pgfId-1035382"></a>OVL</h3>
<a id="pgfId-1035383"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
OVL <em>in-lay1 inlay2</em> {WITHIN <em>nn</em>} <em>out-lay1</em> {<em>out-lay2</em>}
{OUTPUT <em>c-name l-num</em> {<em>d-num</em>} }</pre>
<h4>
<a id="pgfId-1018581"></a>Description</h4>

<p>
<a id="pgfId-1018582"></a>Outputs the trapezoids from the first input layer that are overlapped or within a specific distance from those in the second input layer to one or two output layers.</p>

<h4>
<a id="pgfId-1018583"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018584"></a><code>{WITHIN</code> <em>nn</em><code>}</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055884"></a> Positive value specifying the growing value of <em>in-lay2</em>.</p>

<p><strong>
<a id="pgfId-1055889"></a><code>{</code><span class="webflare-courier-new" style="white-space:pre"><em>out-lay2</em></span><code>}</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055892"></a> Outputs non-overlapping shapes from <em>in-lay1</em> (while with overlapping shapes in <em>out-lay1</em>).</p>

<h4>
<a id="pgfId-1018586"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018587"></a>OVL CONTACT METAL WITHIN 2.0 GOODCON BADCON</pre>

<p>
<a id="pgfId-1018588"></a>Will output from CONTACT that are within 2 microns from METAL to GOODCON, and the others in BADCON. </p>
<p>
<a id="pgfId-1018589"></a></p>

<h3>
<a id="pgfId-1018592"></a><a id="68390"></a>PARAMETER CAP </h3>
<a id="pgfId-1018594"></a><a id="marker-1018593"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PARAMETER  CAP [<code><em>type</em></code>]  <code><em>value-a  value-b</em></code> </pre>
<h4>
<a id="pgfId-1018595"></a>Description</h4>

<p>
<a id="pgfId-1018597"></a>I<a id="marker-1018596"></a>nputs the capacitance per unit area (value-a) and capacitance per unit perimeter (value-b). This LVS command extracts the capacitance values of the capacitors and compares these values to the schematic values. The PARAMETER CAP command works with the ELEMENT CAP command. If you do not specify PARAMETER CAP for a given ELEMENT CAP in an LVS run, the default is zero and LVS does not check capacitor value. </p>

<h4>
<a id="pgfId-1018598"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018599"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055900"></a> The type of CAP device specified in the ELEMENT CAP command.</p>

<p><strong>
<a id="pgfId-1055905"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-a</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055908"></a>The c<a id="marker-1018600"></a>apacitance per unit area of layer-a that exists between layer-b and layer-c of the ELEMENT CAP command. The value you specify for <br />value-a can be a floating point number (maximum 7 digits) or a floating point number followed by an integer exponent (maximum 2 digits). When you specify floating point numbers, the leading zeros are not counted in the 7-character restriction. The preprocessor rounds the value at the 7th digit. In scientific notation, the limit is 16 characters and is truncated at the 17th. </p>

<p><strong>
<a id="pgfId-1055913"></a><span class="webflare-courier-new" style="white-space:pre"><em>value-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055916"></a> The capacitance per unit perimeter of layer-a of the ELEMENT CAP command. The value you specify for value-b can be a floating point number (maximum 7 digits) or a floating point number followed by an integer exponent (maximum 2 digits). When you specify floating point numbers, the leading zeros are not counted in the 7-character restriction. The preprocessor rounds the value at the 7th digit. In scientific notation, the limit is 16 characters and is truncated at the 17th.</p>

<h4>
<a id="pgfId-1018603"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018604"></a>ELEMENT CAP[A] metpol metal poly <br />PARAMETER CAP[A] 1E-18 </pre>

<p>
<a id="pgfId-1018605"></a>For LVS capacitance checking, you must use the LVSCHK or LPECHK option of CAPVAL because it specifies the value of 1E-18 per square unit. </p>

<h4>
<a id="pgfId-1018606"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018607"></a>ELEMENT CAP[P] pl2 poly buried <br />PARAMETER CAP[P] 1 </pre>

<p>
<a id="pgfId-1018608"></a>If you use the LVSCHK option of CAPVAL (together with *.CAPVAL in CDL netlist) and the parameter value of 1 per square unit, as shown in this example, then checking the capacitance value is equivalent to checking capacitor area. The only exception is that the VALUE= syntax, instead of the AREA= syntax, is reported in the LVS report file.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018609"></a>For CAPVAL and CAPAREA specification, refer to the LVSCHK or the LPECHK command descriptions and the &#8220;Compiling Network Descriptions&#8221; chapter.</div>

<h3>
<a id="pgfId-1018611"></a>PARAMETER RES</h3>
<a id="pgfId-1018612"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PARAMETER  RES[<code><em>type</em></code>]  <code><em>value </em></code></pre>
<h4>
<a id="pgfId-1018613"></a>Description</h4>

<p>
<a id="pgfId-1018617"></a>I<a id="marker-1018614"></a>nputs the <a id="marker-1018615"></a>sheet resistance value of <a id="marker-1018616"></a>resistors defined by an ELEMENT RES command. This LVS command indicates the resistance values for the resistors extracted from the layout database. If you do not specify <a id="marker-1018618"></a>PARAMETER RES for a given ELEMENT RES in an LVS run, the default is zero, and LVS does not check the resistor value. </p>
<p>
<a id="pgfId-1018619"></a>The unit of sheet resistance must agree with the layout unit and the resistance unit. Specify units in the Description block with the <a id="marker-1018620"></a>UNIT command so the calculated values agree with the schematic information. </p>

<h4>
<a id="pgfId-1018621"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018623"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055923"></a> Type of<a id="marker-1018622"></a> RES device specified in the ELEMENT RES[type] command.</p>

<p><strong>
<a id="pgfId-1055928"></a><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055931"></a> Sheet resistance value. If you specify this value, you must use the LVSCHK option of RESVAL. The value you specify for value-a or <br />value-b can be floating point (maximum seven digits) or a floating-point number followed by an integer exponent (maximum two digits). When you specify floating-point numbers, the leading zeros are not counted in the seven-character restriction. However, if the significant digits exceed the seven-digit limit, the preprocessor rounds the value at the seventh digit. In scientific notation, the limit is 16 characters and the number is truncated at the 17th. </p>
<p>
<a id="pgfId-1018625"></a>If you specify a value of one ohm per square, you must specify the LVSCHK RESSIZE (resistor size) option. </p>

<h4>
<a id="pgfId-1018626"></a>Example 1 </h4>

<p>
<a id="pgfId-1018627"></a>In the following example, LVS extracts resistance values for S type resistors using a sheet resistance value of 100 per square. When you specify sheet resistance, use the LVSCHK option of RESVAL.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018628"></a>ELEMENT RES[S] PRES PTERM <br />PARAMETER RES[S] 100</pre>

<h4>
<a id="pgfId-1018629"></a>Example 2</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018630"></a>ELEMENT RES[P] PRES1 POLY <br />PARAMETER RES[P] 1 </pre>
<p>
<a id="pgfId-1018631"></a>If you use the LVSCHK option of RESVAL (together with *.RESVAL in the CDL netlist) and specify the parameter value of 1 ohm per square, as in this example, the resistance value check is equivalent to checking resistor size. The only exception is that Dracula reports the VALUE = syntax, instead of the NS = syntax, in the LVS report file. Remember that you are checking the resistor size.</p>
<p>
<a id="pgfId-1018632"></a>If you want LVS to perform resistor size checking, use the LVSCHK option of RESSIZE. You do not need to specify the parameter value.</p>
<p>
<a id="pgfId-1018633"></a>For RESVAL and RESIZE specifications, refer to the LVSCHK or the LPECHK command descriptions and Chapter 5, &quot;Compiling Network Descriptions (LOGLVS).&quot; </p>
<p>
<a id="pgfId-1018636"></a>For information about resistance computation, refer to <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE).&#8221;</a></p>

<h3>
<a id="pgfId-1018639"></a>PARASITIC CAP </h3>
<a id="pgfId-1018640"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PARASITIC CAP[R] [subT<code><em>ype</em></code>]  <code><em>deviceLayer  termLayer1  termLayer2</em></code></pre>
<h4>
<a id="pgfId-1018641"></a>Description</h4>

<p>
<a id="pgfId-1018643"></a>D<a id="marker-1018642"></a>efines parasitic capacitor devices resulting from overlaps or fringe effects. Add an ATTRIBUTE CAP command after the PARASITIC CAP command. ATTRIBUTE CAP associates the geometry data with the process-dependent electrical properties. ATTRIBUTE does not take units. The scale of the parasitic attribute needs to match the scale of the layout database. </p>
<p>
<a id="pgfId-1018644"></a>Parasitic capacitors apply to stray capacitances that are either </p>
<ul><li>
<a id="pgfId-1018645"></a>Between two nodes at different conductor layers</li><li>
<a id="pgfId-1018646"></a>Between two nodes at the same conductor layer</li></ul>

<p>
<a id="pgfId-1018647"></a>This command does not extract capacitances if both terminals are at the same node. When extracting the overlap capacitance with fringe effect, the first terminal layer determines the possible fringe effect on the overlap capacitance. Thus, the sequence of terminal layers is important. Refer to the <a href="chap13.html#22844">ATTRIBUTE CAP</a> section for capacitance extraction of different types.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018651"></a>When specifying the R option, note the following conditions:</div>
<ul><li>
<a id="pgfId-1018652"></a>When the poly layer is extracted for parasitic resistance, you must specify the gate layer in the CUT-TERM command.</li><li>
<a id="pgfId-1018653"></a>The first terminal layer in the PARASITIC CAP command must be derived from the cut-term connection layer by using logical operations.</li></ul>

<p>
<a id="pgfId-1018655"></a>For more information on extracting parasitic capacitance, see &#8220;<em>Extracting Parasitic Capacitance</em>&#8221; in the &#8220;Extracting RC Parasitics&#8221; chapter of the Dracula User Guide.</p>

<h4>
<a id="pgfId-1018656"></a>PARASITIC CAP with PRE</h4>

<p>
<a id="pgfId-1018658"></a>Use the <a id="marker-1018657"></a>PARASITIC CAP command with PRE. Resistor device layers for PARASITIC RES are allowed as terminal layers for PARASITIC CAP. These resistor device layers, in general, have no nodal information.</p>
<p>
<a id="pgfId-1018659"></a>If the first terminal layer in a PARASITIC CAP command is a PARASITIC RES device layer, the PARASITIC CAP device layer is not required to have nodal information. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018660"></a>Dracula issues a warning if the PARASITIC CAP command is issued before any PARASITIC RES command.</div>

<h4>
<a id="pgfId-1018661"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018663"></a><code>R</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055938"></a> Use this option only when extracting TPR and CLL parameters in a PRE job.</p>

<p><strong>
<a id="pgfId-1055943"></a><span class="webflare-courier-new" style="white-space:pre"><em>subType</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055946"></a> Two-character code that denotes the type of <a id="marker-1018664"></a>parasitic CAP device. The first character must be A-Z. The second character is optional and can be A-Z or 0-9 (excluding the number 8). This code differentiates between parasitic capacitor devices. </p>

<p><strong>
<a id="pgfId-1055951"></a><span class="webflare-courier-new" style="white-space:pre"><em>deviceLayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055954"></a> Device layer, one region per device. This layer defines the area and perimeter of the capacitor. The region of this layer touches or overlaps the capacitor conductor layers. Also, this device layer must carry the same nodal information as the termLayer1 terminal conductor. </p>

<p><strong>
<a id="pgfId-1055959"></a><span class="webflare-courier-new" style="white-space:pre"><em>termLayer1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055962"></a> T<a id="marker-1018667"></a>erminal conductor layer. This layer is the conductor layer for one side of the capacitor and must carry node information. </p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1018669"></a>When specifying the R option, termLayer1 must be derived from the original cut-term layer by logical operations.</div>

<p><strong>
<a id="pgfId-1018670"></a><span class="webflare-courier-new" style="white-space:pre"><em>termLayer2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055969"></a> Terminal conductor layer. This layer is the conductor layer for the other side of the capacitor and must carry node information. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018671"></a>The ELEMENT CAP command represents discrete devices only. Use the PARASITIC CAP command for stray or parasitic capacitance. </div>

<h4>
<a id="pgfId-1018672"></a>Example 1</h4>

<p>
<a id="pgfId-1018673"></a>In the following example, the PARASITIC capacitor of type X forms between mt1 and poly conductor layers. The device layer is mtpoly (mtpoly = metal and poly).</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018674"></a>STAMP mtpoly BY mt1 <br />PARASITIC CAP[X] mtpoly mt1 poly <br />ATTRIBUTE CAP[X] 0.0005 </pre>
<p>
<a id="pgfId-1018675"></a>The two connecting layers of capacitor terminals are mt1 and poly. The device layer, mtpoly, must always carry the same electrical node of the first connecting layer, layer-b. That is, mtpoly and mt1 must convey the same node in the example. Capacitance of type X is calculated using the following formula:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018676"></a>(area) × (0.0005)</pre>

<h4>
<a id="pgfId-1018677"></a>Example 2</h4>

<p>
<a id="pgfId-1018678"></a>In this example, the PARASITIC capacitor of [F] type is for the fringe capacitance between metal lines. The device layer is metal and the conductor layers are metal. The parasitic capacitance between metal lines is calculated for spacing distances up to 6 units.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018679"></a>PARASITIC CAP[F] metal metal metal<br />ATTRIBUTE CAP[F] 6.0 0.0005 </pre>
<p>
<a id="pgfId-1018680"></a>The capacitance calculation is calculated using the following formula: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018681"></a>(projected metal length) x (0.005) x (1/distance between metal) </pre>

<h4>
<a id="pgfId-1018682"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018683"></a>PARASITIC CAP[mp] mtpol mt1 poly <br />ATTRIBUTE CAP[mp] 1E-18 1E-12 </pre>

<p>
<a id="pgfId-1018684"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018685"></a>PARASITIC CAP[mp] mtpol mt1 poly <br />ATTRIBUTE CAP[mp] .0005 .00012 </pre>

<p>
<a id="pgfId-1018686"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018687"></a>PARASITIC CAP[mp] mtpol mt1 poly <br />ATTRIBUTE CAP[mp] .0001234567E-9 .00007654321E-10 </pre>

<p>
<a id="pgfId-1018688"></a>Remember, the leading zeros do not count in the seven significant digit restriction. </p>
<p>
<a id="pgfId-1018692"></a>Refer to the <a href="chap13.html#22844">ATTRIBUTE CAP</a> section for more examples.</p>

<h3>
<a id="pgfId-1018694"></a>PARASITIC DIO </h3>
<a id="pgfId-1018696"></a><a id="marker-1018695"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PARASITIC  DIO [<code><em>type</em></code>]  <code><em>layer-a  layer-b  layer-c </em></code> {<code><em>layer-d</em></code>}  {<code><em>layer-e</em></code>}</pre>
<h4>
<a id="pgfId-1018697"></a>Description</h4>

<p>
<a id="pgfId-1018699"></a>D<a id="marker-1018698"></a>efines the parasitic P-N and N-P junction diodes. You can extract the following six types of parameters from a <a id="marker-1018700"></a>parasitic junction diode: </p>

<p><strong>
<a id="pgfId-1018701"></a>A1,P1</strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055976"></a> Area or perimeter of a diffusion geometry not overlapped by another layer. </p>

<p><strong>
<a id="pgfId-1055981"></a>A2,P2</strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055984"></a> Area or perimeter of a diffusion geometry overlapped by a second layer, such as a metal-contact opening layer. </p>

<p><strong>
<a id="pgfId-1055989"></a>A3,P3</strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055992"></a> Area or perimeter of a diffusion geometry overlapped by a third layer, such as a buried-contact (a contact without metal) opening layer, an implant layer, or the gate region of a transistor. </p>

<h4>
<a id="pgfId-1018704"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018706"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1055998"></a> Two-character code that denotes the type of <a id="marker-1018705"></a>parasitic DIO device. The first character must be A-Z. The second character is optional and can be A-Z or 0-9 (except for the number 8). This code differentiates parasitic diode devices. </p>

<p><strong>
<a id="pgfId-1056003"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056006"></a>  A1, P1 device layer, one region per device. This layer defines the parasitic diode region that touches or overlaps the anode and cathode conductor layers. Using this device layer extracts the diode area and perimeter as A1 and P1, respectively, or </p>
<p class="webflare-indent1">
<a id="pgfId-1018709"></a> A1 &lt;-- A1 
P1 &lt;-- P1 </p>
<p class="webflare-indent1">
<a id="pgfId-1018710"></a> This device layer must be the same layer name as the anode or cathode conductor layer, depending whether they are P-N or N-P junction diodes, and must carry nodal information. </p>

<p><strong>
<a id="pgfId-1018712"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056015"></a>A<a id="marker-1018711"></a>node conductor layer. This layer is the conductor layer for the anode terminal and must carry node information. For a P-N diode, this layer name must be the same as the name you specified in layer-a. </p>

<p><strong>
<a id="pgfId-1056020"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056023"></a> Cathode conductor layer. This layer is the conductor layer for the cathode terminal and must carry node information. For an N-P diode, this layer name must be the same as the name you specified in layer-a. The preprocessor checks this syntax. </p>

<p><strong>
<a id="pgfId-1056028"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-d</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056031"></a> A2, P2 <a id="marker-1018714"></a>definition layer. This layer modifies the device layer either by overlapping or touching geometries. The extracted diode area and perimeter are modified to the following: </p>
<p class="webflare-indent1">
<a id="pgfId-1018716"></a> A1 &lt;-- A1-A2 
P1 &lt;-- P1-P2
A2 &lt;-- A2 
P2 &lt;-- P2 </p>

<p><strong>
<a id="pgfId-1018717"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-e</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056040"></a> A3, P3 definition layer. This layer further modifies the device layer, after A2, P2 are invoked, either by overlapping or touching geometries. The extracted diode area and perimeter are modified to the following: </p>
<p class="webflare-indent1">
<a id="pgfId-1018718"></a> A1 &lt;-- A1-A2-A3
P1 &lt;-- P1-P2-P3
A2 &lt;-- A2-A3
P2 &lt;-- P2-P3
A3 &lt;-- A3
P3 &lt;-- P3 </p>

<h4>
<a id="pgfId-1018745"></a>Perimeter Examples</h4>
<p>
<a id="pgfId-1028498"></a></p>
<div class="webflare-div-image">
<img width="676" height="316" src="images/chap13-108.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018746"></a>The ELEMENT DIO command represents the true discrete device only. Use the PARASITIC DIO command for stray/parasitic diodes. </div>

<p>
<a id="pgfId-1028531"></a></p>
<div class="webflare-div-image">
<img width="507" height="437" src="images/chap13-109.gif" /></div>
<h4>
<a id="pgfId-1018792"></a>Examples</h4>

<p>
<a id="pgfId-1018793"></a>In the following example, the PARASITIC diode of type N forms between nsrcdrn and p-substrate of a N-channel MOS process. The device layer is nsrcdrn, the anode conductor layer is psub, and the cathode conductor layer is nsrcdrn. The extracted diode area and perimeter are calculated from device layer nsrcdrn. The nsrcdrn and the cathode conduction layer have the same layer name and must carry nodal information. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018794"></a>PARASITIC DIO[N] nsrcdrn psub nsrcdrn </pre>
<p>
<a id="pgfId-1018795"></a>In the following example, the PARASITIC diode of type P forms between psd and nwell. The extracted diode area is calculated from device layer pdio and the perimeter and from device layer pdio minus the side where the pgate touches pdio. This effectively removes the gate perimeter region of the diode. The anode conductor is pdio, and the cathode is nwell. The device layer pdio and the anode conductor layer have the same layer name and must carry nodal information.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018796"></a>PARASITIC DIO[P] pdio pdio nwell pgate </pre>

<h3>
<a id="pgfId-1018798"></a>PARASITIC RES</h3>
<a id="pgfId-1018799"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PARASITIC RES[<code><em>type</em></code>] <code><em>layer-a layer-b</em></code> {<code><em>layer-c</em></code>}</pre>
<h4>
<a id="pgfId-1018800"></a>Description</h4>

<p>
<a id="pgfId-1018806"></a><a id="marker-1018801"></a><a id="marker-1018802"></a>Defines <a id="marker-1018803"></a>parasitic resistor devices in the layout database for PRE. An<a id="marker-1018804"></a> <a id="marker-1018805"></a>ATTRIBUTE RES command must follow the PARASITIC RES command to provide the associated process-dependent sheet resistivity used to compute the resistance values of the devices. </p>
<p>
<a id="pgfId-1018807"></a>Dracula issues a warning if the PARASITIC CAP command is issued before any PARASITIC RES command.</p>
<p>
<a id="pgfId-1018809"></a>For more information on extracting parasitic resistance, see &#8220;<em>Extracting Parasitic Resistance</em>&#8221; in the &#8220;Extracting RC Parasitics&#8221; chapter of the Dracula User Guide.</p>

<h4>
<a id="pgfId-1018810"></a>Checking Methods</h4>
<p><strong>
<a id="pgfId-1018811"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056050"></a> Flat and composite.</p>

<p><strong>
<a id="pgfId-1056055"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056058"></a> PRE and HPRE.</p>

<h4>
<a id="pgfId-1018813"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018814"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056064"></a> A one- or two-character code that denotes the type of parasitic resistor device. The first character must be A to Z; the second character, which is optional, can be A to Z or 0 to 9, excluding 8. Dracula uses this code to match this command with the associated ATTRIBUTE RES command.</p>

<p><strong>
<a id="pgfId-1056070"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056073"></a> Device layer, one region per device. This layer defines the resistor region whose parameters are to be extracted. This region must touch or cut the conductor layer.</p>

<p><strong>
<a id="pgfId-1056079"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056082"></a> Terminal conductor layer.</p>

<p><strong>
<a id="pgfId-1056087"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-c</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056090"></a> Optional second terminal conductor layer.</p>

<h4>
<a id="pgfId-1018818"></a>Example</h4>

<p>
<a id="pgfId-1018819"></a>In this example, LPE extractions of parasitic resistance values made from PRES are computed using the sheet resistance value .01 Kohms/square.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018820"></a>*DESCRIPTION<br />UNIT = CAPACITANCE,PF AREA,U PERIMETER,M RESISTANCE,K<br />*OPERATION<br />PARASITIC RES[P] PRES PTRM<br />ATTRIBUTE RES[P] .01</pre>
<h3>
<a id="pgfId-1018822"></a>PATHCHK </h3>
<a id="pgfId-1018824"></a><a id="marker-1018823"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PATHCHK  {[<code><em>option</em></code>s]}  LEVEL  <code><em>n1</em></code>  {<code><em>trapfile</em></code>} OUTPUT  <code><em>c-name  
l-num </em></code> {<code><em>d-num</em></code>} </pre>
<h4>
<a id="pgfId-1018825"></a>Description</h4>

<p>
<a id="pgfId-1018826"></a>Checks MOS circuits where a node is supposed to have a path to both power and ground through one or more sources/drains of the MOS device, resistor device, BJT device, DIO device, and LDD device. This command assigns an error code to nodes without a proper path to either power or ground. The error codes are as follows:</p>
<table class="webflareTable" id="#id1056182">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056184"></a>Error Level 1 </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056186"></a>Internal nodes with a path to ground but not to power.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056188"></a>Error Level 2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056190"></a>Internal nodes with a path to power but not to ground.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056192"></a>Error Level 3 </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056194"></a>Internal nodes without a path to either power or ground.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056196"></a>Error Level 4 </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056198"></a>Internal nodes without a path to power, ground or pads, where pads are labeled nodes reported in the 6PADL.DAT file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056200"></a>Error Level 5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056202"></a>Internal nodes with a path to both power and ground.</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1018831"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1018832"></a><span class="webflare-courier-new" style="white-space:pre"><em>options</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056215"></a> Can include the following:</p>

<p>
<a id="pgfId-1036504"></a></p>
<table class="webflareTable" id="#id1035394">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035396"></a><code>F</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035398"></a>Excludes nodes that connect to unused devices (as in a gate array circuit). These nodes are not output. The F option is for error level 4 only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035400"></a><code>X</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035402"></a>Excludes nodes that connect to the source/drain of the CROSS-OVER MOS device from the output. This command uses the gate as the crossover and does not use the source/drains. The X option is for error level 4 only. </p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1018835"></a><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056222"></a> Error level number (1-4). Nodes assigned this error level code are reported and placed in the output cell.</p>

<p><strong>
<a id="pgfId-1056227"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056230"></a> Name you designate as the output file to contain composite trapezoids. Before you do any operation on a trapfile, you need to &#8220;OR&#8221; it with itself or the substrate layer. </p>

<p><strong>
<a id="pgfId-1056235"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056238"></a> Sends the results of the operation to an output cell.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1018838"></a>The output cell you specify cannot be used as the output of another command.</div>

<p><strong>
<a id="pgfId-1018839"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056244"></a>C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. </p>
<p class="webflare-indent1">
<a id="pgfId-1035407"></a> If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1018840"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056253"></a> Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only; values can range from 0 to 63. </p>
<p>
<a id="pgfId-1018841"></a>When you use ELEMENT PAD, input and output nodes with an attached ELEMENT PAD are not checked by the PATHCHK command. Also, the PATHCHK command recognizes a power node texted with :S as a power node. Therefore, error level 4 considers all pads (labeled nodes) to be potential supply nodes. The PATHCHK command level 4 does not trace paths beyond the pads. Path tracing in levels 1, 2, and 3 can be stopped only by power and ground nodes.</p>

<h4>
<a id="pgfId-1018842"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018843"></a>PATHCHK     LEVEL 1    OUTPUT    pathlr 50 <br />PATHCHK     LEVEL 2    OUTPUT    path2r 50 <br />PATHCHK     LEVEL 3    OUTPUT    path3r 50 <br />PATHCHK[FX] LEVEL 4    OUTPUT    path4r 50<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035412"></a></pre>
<p>
<a id="pgfId-1028583"></a></p>
<div class="webflare-div-image">
<img width="676" height="437" src="images/chap13-110.gif" /></div>
<h3>
<a id="pgfId-1024947"></a><a id="30436"></a>PERI</h3>
<a id="pgfId-1024958"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PERI <em>layer-a</em> RANGE <em>n1 n2</em> <em>trapfile</em> {OUTPUT <em>c-name</em> <em>l-num</em> (<em>d-num</em>}}</pre>
<h4>
<a id="pgfId-1024959"></a>Description</h4>

<p>
<a id="pgfId-1024960"></a>Performs a polygon perimeter check. This operation checks polygons to determine if their perimeter is within an area range and outputs to the specified output layer.</p>

<h4>
<a id="pgfId-1024961"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1024962"></a><em>layer-a</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056262"></a> Name of the input layer</p>

<p><strong>
<a id="pgfId-1056268"></a><code>RANGE </code><em>n1 n2</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056271"></a> Flags polygon with perimeter such that n1&lt;=<code>PERI=&gt;n2</code></p>

<p><strong>
<a id="pgfId-1056277"></a><em>trapfile</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056280"></a> Name of the output layer</p>

<p><strong>
<a id="pgfId-1056286"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056289"></a>Sends the results of the operation to an output cell</p>

<p><strong>
<a id="pgfId-1056295"></a><em>c-name l-num</em>  <em>c-name</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056298"></a>is the name of the output cell which has six alphanumeric characters or fewer and no special characters, <em>l-num</em> is the cell layer number determined by your CAD system. If your <em>c-name</em> is <code>rule03</code> and <em>l-num</em> is <code>5</code>, the output cell name is <code>rule0305</code>.</p>

<p><strong>
<a id="pgfId-1056304"></a><em>d-num</em> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056307"></a>The datatype number associated with layer number (<em>l-num</em>) of the output cell. Use <em>d-num</em> for GDSII only. Values can range from <code>0</code> to <code>63.</code></p>

<h4>
<a id="pgfId-1024968"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024969"></a>PERI cont RANGE 3.98 4.02 cont1</pre>

<p>
<a id="pgfId-1024970"></a>Find the 1 micron length square of the <code>cont</code> layer. The perimeter of a square falls within the range of <code>3.98</code> to <code>4.02</code>.</p>

<h3>
<a id="pgfId-1019011"></a>PLENGTH </h3>
<a id="pgfId-1019012"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PLENGTH <code><em>layer-a</em></code> {RANGE/NE/EQ}<code><em> n1 n2</em></code> {<code><em>trapfile</em></code>} {OUTPUT 
<code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} </pre>
<h4>
<a id="pgfId-1019013"></a>Description</h4>

<p>
<a id="pgfId-1019015"></a>C<a id="marker-1019014"></a>hecks the length of a series of connected edges generated from other dimensional checks with T and R options, instead of just checking the length of an edge. <a id="marker-1019016"></a>PLENGTH has the same format as an AREA command. </p>

<h4>
<a id="pgfId-1019017"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019018"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056320"></a> Input layer name. This layer must be generated by an ENCLOSURE, EXTERNAL, or INTERSECT command with T and R options. </p>

<p><strong>
<a id="pgfId-1056325"></a><code>RANGE</code><a id="marker-1019019"></a><span class="webflare-courier-new" style="white-space:pre"><em> n1 n2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056328"></a> Flags the paths with length such that n1 &lt; PLENGTH &lt; n2. </p>

<p><strong>
<a id="pgfId-1056333"></a><span class="webflare-courier-new" style="white-space:pre"><em>NE</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056336"></a> Reports an error if any value of the layer specified is not equal to the value you specify.</p>

<p><strong>
<a id="pgfId-1056341"></a><span class="webflare-courier-new" style="white-space:pre"><em>EQ</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056344"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Reports an error if any value of the layer specified is equal to the value you specify.</p>

<p><strong>
<a id="pgfId-1056349"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056352"></a>Optional trapezoid file name.</p>

<p><strong>
<a id="pgfId-1056357"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056360"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1056365"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056368"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. </p>
<p class="webflare-indent1">
<a id="pgfId-1035423"></a> If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1019026"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056377"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only; values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1019027"></a>Example 1</h4>

<p>
<a id="pgfId-1019028"></a>This example checks for gate length less than 10.0 microns. Option TR generates the gatelen layer.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019029"></a>SELECT  gate    TOUCH[1:1] epi epgate<br />ENC[TR] epgate  diff LT .001 gatelen<br />PLENGTH gatelen RANGE 0.0 10.05 output d123 23</pre>

<h4>
<a id="pgfId-1019030"></a>Example 2</h4>

<p>
<a id="pgfId-1019031"></a>This example checks all gate widths for less than 4 microns, including bent gates. Option TR generates the gatewd layer.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019032"></a>ENC[TR] gate   poly LT .001 gatewd<br />PLENGTH gatewd RANGE 0 4 OUTPUT gatewd 24</pre>

<h3>
<a id="pgfId-1019034"></a>POSTENC</h3>
<a id="pgfId-1019035"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
POSTENC  <code><em>inlayer outlayer</em></code> </pre>
<h4>
<a id="pgfId-1019036"></a>Description</h4>

<p>
<a id="pgfId-1019038"></a>P<a id="marker-1019037"></a>romotes the data to the corresponding Hcell plane if there is any cell-to-cell overlapping. You can use this command in hierarchical mode only. When you run a hierarchical DRC check, the error is reported only on the appropriate cell. </p>

<h4>
<a id="pgfId-1019039"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019040"></a><span class="webflare-courier-new" style="white-space:pre"><em>inlayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056384"></a> Trapfile from the WIDTH, EXTERNAL, ENCLOSURE, and INTERSECT commands.</p>

<p><strong>
<a id="pgfId-1056389"></a><span class="webflare-courier-new" style="white-space:pre"><em>outlayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056392"></a> Generated trapfile name.</p>

<h4>
<a id="pgfId-1019042"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019043"></a>POSTENC poly1 polyXX<br />
POSTENC metal1 metalXX</pre>
<h3>
<a id="pgfId-1019045"></a>PROBE</h3>
<a id="pgfId-1019047"></a><a id="marker-1019046"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROBE  <code><em>label</em></code> {<code><em>trapfile</em></code>}{OUTPUT  <code><em>c-name  l-num</em></code>  {<code><em>d-num</em></code>}}  {&amp;} </pre>
<h4>
<a id="pgfId-1019048"></a>Description</h4>

<p>
<a id="pgfId-1019050"></a>P<a id="marker-1019049"></a>robes a node if the node is labeled. You must provide input text in the layout database to label a specified node. Although you can specify labels of up to 12 characters, PROBE recognizes only the first eight, so you need to make sure the first eight characters are unique. You can place the node in an output cell for visual inspection or reference. </p>

<h4>
<a id="pgfId-1019051"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019054"></a><span class="webflare-courier-new" style="white-space:pre"><em>label</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056399"></a> <a id="marker-1019052"></a>Text <a id="marker-1019053"></a>label of the node considered for the check. The text must exist in the layout database and conform to the text rules. </p>

<p><strong>
<a id="pgfId-1056411"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056414"></a> Name you designate as the output file to contain composite trapezoids. Before you do any operation on a trapfile, you need to &#8220;OR&#8221; it with itself or the substrate layer.</p>

<p><strong>
<a id="pgfId-1056419"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056423"></a> Sends the results of the operation to an output cell.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1019057"></a>The output cell you specify cannot be used as the output of another command.</div>

<p><strong>
<a id="pgfId-1019058"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056429"></a>C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1056434"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056437"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<p><strong>
<a id="pgfId-1056442"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056445"></a> indicates a conjunctive rule. This command can be conjoined with other PROBE and ELCOUNT commands. </p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1019061"></a>PROBE outputs the entire node that electrically carries the label. </div>

<h4>
<a id="pgfId-1019062"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019063"></a>PROBE vcc OUTPUT vcc 50 <br />
PROBE clock OUTPUT clock 50 </pre>
<h3>
<a id="pgfId-1019065"></a>RCONNECT </h3>
<a id="pgfId-1019066"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
RCONNECT <code><em>layer-a layer-b</em></code> BY <code><em>cont-layer</em></code> </pre>
<h4>
<a id="pgfId-1019067"></a>Description</h4>

<p>
<a id="pgfId-1019071"></a>D<a id="marker-1019068"></a><a id="marker-1019069"></a>efines the <a id="marker-1019070"></a>interlayer connectivity after PRE cuts parasitic resistors from the original conduction layers. It reconnects the layers after subnodes have been cut from the original conduction layers.</p>
<p>
<a id="pgfId-1019072"></a>The syntax of the command is similar to that of the CONNECT command. Layers in the RCONNECT commands must include nodal information extracted from the original conduction layers involved in parasitic extraction. </p>
<p>
<a id="pgfId-1019073"></a>All PRE runs must include the RCONNECT command because RCONNECT identifies the run as a PRE run to PDRACULA.</p>

<h4>
<a id="pgfId-1019074"></a>Checking Methods</h4>
<p><strong>
<a id="pgfId-1019075"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056452"></a> Flat, composite.</p>

<p><strong>
<a id="pgfId-1056457"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056460"></a> PRE, HPRE.</p>

<h4>
<a id="pgfId-1019077"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019078"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056466"></a> Name of the first input layer. The layer must have nodal information.</p>

<p><strong>
<a id="pgfId-1056471"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056474"></a> Name of the second input layer. The layer must have nodal information.</p>

<p><strong>
<a id="pgfId-1056479"></a><span class="webflare-courier-new" style="white-space:pre"><em>cont-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056482"></a> Specifies a layer that has been previously defined and consists of the contacts that connect layer-a and layer-b.</p>
<p class="webflare-indent1">
<a id="pgfId-1019081"></a> Multiple RCONNECT commands with the same cont-layer can have only one master layer and can connect from the master layer to any other layers. For more details, refer to the CONNECT command description in this chapter and the CONNECT-LAYER command description in the &#8220;Input-Layer Block Commands&#8221; chapter.</p>

<h4>
<a id="pgfId-1019082"></a>Example</h4>

<p>
<a id="pgfId-1019083"></a>The POLY interconnect has been split into parasitic resistors and resistor terminals. The terminal layer created after the split is PTRM. The original connectivity was defined by the following:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019084"></a>CONNECT METAL POLY BY MCO<br />CONNECT METAL DIFF BY MCO<br />CONNECT POLY DIFF BY EPI</pre>
<p>
<a id="pgfId-1019085"></a>To reconnect the layers after the split layers and subnodes have been created, PTRM replaces POLY in the RCONNECT commands:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019086"></a>STAMP PTRM BY POLY <br />RCONNECT METAL PTRM BY MCO<br />RCONNECT METAL DIFF BY MCO <br />RCONNECT PTRM DIFF BY EPI</pre>
<p>
<a id="pgfId-1019087"></a>The STAMP command gets back nodal information on the layer PTRM from POLY if PTRM lost it in the extraction process.</p>

<h3>
<a id="pgfId-1024855"></a><a id="31990"></a>RECTCHK</h3>
<a id="pgfId-1042441"></a><a id="marker-1024862"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
RECTCHK[OPTION] layer {WIDLEN NE/EQ val1 val2} {WIDTH NE/EQ/LT/RA/GT val1 {val2}} {LENGTH NE/EQ/LT/RA/GT val1 {val2}} {trapfile} {OUTPUT err lay}</pre>
<h4>
<a id="pgfId-1024864"></a>Description</h4>

<p>
<a id="pgfId-1049207"></a>Checks rectangle shape, especially for contact/via layers, in flat mode only. Without any additional options the behavior is as follows:</p>
<ul><li>
<a id="pgfId-1049208"></a>If there are no <code>WIDTH/LENGTH/WIDLEN</code> limitations it reports all non-rectangle shapes.</li><li>
<a id="pgfId-1049209"></a>If there is at least one of <code>WIDTH/LENGTH/WIDLEN</code> limitations, it reports all non-rectangle shapes and all rectangle shapes which satisfy limitation.</li></ul>


<h4>
<a id="pgfId-1042449"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1042450"></a><span class="webflare-courier-new" style="white-space:pre"><em>OPTION</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056492"></a> Can include the following:</p>

<p>
<a id="pgfId-1042469"></a></p>
<table class="webflareTable" id="#id1042451">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042453"></a><code>R</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042455"></a>Report the error only if the shape is a rectangle. Butted rectangles are not reported.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042457"></a><code>A</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042459"></a>If you use both <code>WIDTH</code> and <code>LENGTH</code>, by default, it is an OR operation. If you use [A], then it&#8217;s an <code>AND</code> operation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042461"></a><code>T</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042463"></a>Checks for butted trapezoids. This option is useful for checking the thickness of rings, and so on. Also, checks every trapezoid in a layer independently from each other.</p>
<p>
<a id="pgfId-1049239"></a>The [R] option skips checking if it has butted manhattan rectangles. You should use [T] option only on manhattan shapes. If no <code>WIDTH/LENGTH/WIDLEN</code> limitation given, it outputs only rectangular trapezoids.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042466"></a>D</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049271"></a>Checks figures that are exact donuts of a particular shape. If no <code>WIDTH/LENGTH/WIDLEN</code> limitation given, it outputs all donut shapes from input layer. See example 5 below to clarify the definition of donut shapes.</p>
</td>
</tr>
</tbody></table>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042470"></a>Any combination of [R ], [T ], and [D ] options is not allowed.</div>

<p><strong>
<a id="pgfId-1024871"></a><code>WIDLEN</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056498"></a> Exact width length check</p>

<p><strong>
<a id="pgfId-1056503"></a><code>WIDTH</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056506"></a> Shorter side of rectangle</p>

<p><strong>
<a id="pgfId-1056512"></a><code>LENGTH</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056515"></a> Longer side of rectangle</p>

<h4>
<a id="pgfId-1024874"></a>Example 1</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1024875"></a>RECTCHK contact WIDLEN NE 3 3 OUTPUT err 1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1024876"></a>; Check the size of contact 3x3; Butted contacts are errors.</pre>

<h4>
<a id="pgfId-1024877"></a>Example 2</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1024878"></a>RECTCHK[R] layer WIDTH NE 3 LENGTH GT 6&#160;&#160;        </pre>
<p class="webflare-indent1">
<a id="pgfId-1024922"></a>(It&#8217;s an OR operation, not an AND operation.)</p>
<p class="webflare-indent1">
<a id="pgfId-1024879"></a>The width must be 3, and length cannot be longer than 6. Don&#39;t report it if it is not a rectangle. You no longer need to use WIDTH and AREA to do this kind of check.</p>

<h4>
<a id="pgfId-1024880"></a>Example 3</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1024881"></a>RECTCHK[A] layer WIDTH LT 3 LENGTH GT 6&#160;&#160; (it&#39;s AND)</pre>
<p class="webflare-indent1">
<a id="pgfId-1024882"></a>Select rectangles with WIDTH smaller than 3 and LENGTH greater than 6.</p>

<h4>
<a id="pgfId-1024901"></a>Example 4</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1035500"></a>RECTCHK[T] ring WIDTH NE 1.2 OUTPUT err 1</pre>

<p>
<a id="pgfId-1028671"></a></p>
<div class="webflare-div-image">
<img width="676" height="198" src="images/chap13-111.gif" /></div>
<h4>
<a id="pgfId-1042475"></a>Example 5</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1042476"></a>RECT [D ] poly1 WIDTH LT ..18 OUTPUT NPE4 46<br /></pre>

<div class="webflare-div-image">
<img width="676" height="293" src="images/chap13-112.gif" /></div>

<p>
<a id="pgfId-1042517"></a>In this example, distance A,D will be checked as a length while distances B,C and E,F will be checked as widths. Any other shape is not considered a donut by [D ] option.</p>

<h3>
<a id="pgfId-1019089"></a>RELOCATE<a id="RELOCATE"></a></h3>
<a id="pgfId-1019092"></a><a id="marker-1019090"></a><a id="marker-1019091"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
RELOCATE <code><em>layer-a</em></code> BY <code><em>X Y trapfile</em></code> {MAG = <code><em>scale</em></code>} </pre>
<h4>
<a id="pgfId-1045907"></a>Description</h4>

<p>
<a id="pgfId-1045910"></a>A Dracula operation that creates a new la<a id="marker-1045916"></a>yer fro<a id="marker-1045927"></a>m another layer. The trapezoid file consists of data from layer-a shifted to a new x,y position or data from layer-a with each of its vertices multiplied by the specified scale. </p>

<h4>
<a id="pgfId-1019097"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019098"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056523"></a> Input layer name.</p>

<p><strong>
<a id="pgfId-1056528"></a><span class="webflare-courier-new" style="white-space:pre"><em>X,Y</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056531"></a> New location of layer-a data that is shifted by natural units specified for X and Y.</p>

<p><strong>
<a id="pgfId-1056536"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056539"></a> Trapezoid file name. Consists of trapezoidal data shifted and/or magnified. Trapfile can have up to seven characters and no special characters. A-Z and 0-9 are permitted, but the first character must be a letter. </p>

<p><strong>
<a id="pgfId-1056544"></a><span class="webflare-courier-new" style="white-space:pre"><em>scale</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056547"></a> Optional magnification factor. Default magnification is equal to unity. Accept only a scale of up to three decimal values.</p>
<p>
<a id="pgfId-1019102"></a>New data location: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019103"></a>new x = (old x).(scale)+ X <br />new y = (old y).(scale)+Y </pre>

<h4>
<a id="pgfId-1019104"></a>Examples</h4>

<p>
<a id="pgfId-1019105"></a>This example shifts the data in the metal layer by a negative 5 units in the x direction. Outputs the data to the met5 layer. Does not magnify. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019106"></a>RELOCATE metal BY -5 0 met5 </pre>
<p>
<a id="pgfId-1019107"></a>This example magnifies the active layer by 5 times. Outputs the data to the active5 layer. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019108"></a>RELOCATE active BY 0 0 active5 MAG = 5 </pre>
<p>
<a id="pgfId-1019109"></a>This example magnifies the cont layer by 2 times. Shifts the data by negative 1 unit in the x direction and negative 2 units in the y direction. Outputs the final data to the newcont layer. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019110"></a>RELOCATE cont BY -1 -2 newcont MAG=2</pre>

<h3>
<a id="pgfId-1042816"></a>RLENGTH </h3>
<a id="pgfId-1042818"></a><a id="marker-1042817"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
RLENGTH <code><em>layer-a</em></code> {&amp;<code><em>layer-a1</em></code>} GT/GE/  LT/LE/ RANGE <code><em>n1</em></code> {<code><em>n2</em></code>} 
{OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} {&amp;} </pre>
<h4>
<a id="pgfId-1019115"></a>Description</h4>

<p>
<a id="pgfId-1019116"></a>This command is similar to LENGTH, but it is used with EXT while LENGTH is only applied to a single layer. This command checks the length dimension based on the same region. If the error flags are created on the same region, they are merged to form the length of the error flag.</p>

<h4>
<a id="pgfId-1019117"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019118"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056561"></a> Name of the input layer.</p>

<p><strong>
<a id="pgfId-1056566"></a><code>&amp;</code><span class="webflare-courier-new" style="white-space:pre"><em>layer-a1</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056570"></a>Renames (conjunctive rename) the layer containing the error flags. The original layer name is then restored to the original layer. No spaces are allowed between the layer-a and &amp;layer-a1 names, for example, poly&amp;rpoly. </p>

<p><strong>
<a id="pgfId-1056575"></a><code>Measurement Operation </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056578"></a>Measures between all nonconsecutive pairs of inside edges of the polygons of the input layer. Compares the measurements against the limits you specify and flags violations. </p>

<p><strong>
<a id="pgfId-1056583"></a><code>GT/GE/</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056586"></a>GT means that error segment length greater than n1 layout units causes a violation. GE means that length greater than or equal to n1 layout units causes a violation. </p>

<p><strong>
<a id="pgfId-1056591"></a><code>LT/LE/</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056594"></a> LT means that length less than n1 layout units causes a violation. LE means that length less than or equal to n1 layout units causes a violation.</p>

<p><strong>
<a id="pgfId-1056599"></a><code>RANGE </code><span class="webflare-courier-new" style="white-space:pre"><em>n1 n2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056602"></a> RANGE means that length greater than n1 and less than n2 layout units causes a violation (n1 &lt; range &lt;n2).</p>

<p><strong>
<a id="pgfId-1056607"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056610"></a><code>&#160;&#160;&#160;&#160;</code>Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1056615"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056618"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. </p>
<p class="webflare-indent1">
<a id="pgfId-1035507"></a> If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>
<p class="webflare-indent1">
<a id="pgfId-1019126"></a> Format of the output is the same as the original database.</p>

<p><strong>
<a id="pgfId-1019127"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056627"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<p><strong>
<a id="pgfId-1056632"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056635"></a> Indicates a conjunctive rule. </p>

<h4>
<a id="pgfId-1019129"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019130"></a>EXT METAL1 LT 0.8 &amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019131"></a>RLENGTH METAL1 GT 2.0 OUTPUT err 01</pre>
<h3>
<a id="pgfId-1019134"></a>RSPF<a id="marker-1019133"></a>SELECT</h3>
<a id="pgfId-1019135"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
RSPFSELECT {[opt]} {INST=YES/NO} filename</pre>
<h4>
<a id="pgfId-1019136"></a>Description</h4>

<p>
<a id="pgfId-1019140"></a><a id="marker-1019137"></a>Generates a reduced standard p<a id="marker-1019138"></a><a id="marker-1019139"></a>arasitic file (RSPF) for HPRE. Use this command in composite mode only. </p>
<p>
<a id="pgfId-1019141"></a>The default unit of input capacitance is Farad, and the default unit of resistance capacitance is ohm. The default unit for reduction algorithms is PF, and the default for resistance is ohm. Dracula converts input resistance capacitance values to the corrected scale during the reduction process. Dracula converts output resistance capacitance values from reduction algorithms back to the specified scale before RSPF is written out. Therefore, you must carefully specify the scale in the UNIT command in order to get meaningful resistance capacitance values.</p>

<h4>
<a id="pgfId-1019142"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019143"></a><code>opt</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056644"></a> Specifies whether to backannotate (S option) or not (no option).</p>

<p><strong>
<a id="pgfId-1056649"></a><span class="webflare-courier-new" style="white-space:pre"><em>INST=YES/NO</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056652"></a> The default is YES and the instance section will be output. The user can delete the instance section by using the NO option.</p>

<p><strong>
<a id="pgfId-1056657"></a><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056661"></a> Sends the results of the operation to this file. Dracula appends a .dat to the file specified.</p>

<h4>
<a id="pgfId-1019146"></a>Example</h4>

<p>
<a id="pgfId-1019147"></a>This example creates a reduced parasitic file named RSPF.dat with backannotation.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019148"></a>RSPFSELECT[S] RSPF </pre>
<h3>
<a id="pgfId-1019150"></a>SAMELAB </h3>
<a id="pgfId-1019152"></a><a id="marker-1019151"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SAMELAB  {<code><em>trapfile</em></code>} OUTPUT  <code><em>c-name  l-num </em></code> {<code><em>d-num</em></code>} </pre>
<h4>
<a id="pgfId-1019153"></a>Description</h4>

<p>
<a id="pgfId-1019156"></a>D<a id="marker-1019154"></a>etects when the <a id="marker-1019155"></a>same label is assigned to multiple nodes. This situation usually occurs when </p>
<ul><li>
<a id="pgfId-1019157"></a>The layout of a node is not complete </li><li>
<a id="pgfId-1019158"></a>There are missing contacts </li><li>
<a id="pgfId-1019159"></a>There are gaps or other errors </li></ul>


<p>
<a id="pgfId-1019160"></a>SAMELAB outputs multiple nodes with the same label in an output cell. </p>
<p>
<a id="pgfId-1019162"></a>Text involved with SAMELAB is discarded after this check and thus the <a id="marker-1019161"></a>text no longer exists for any other ERC checks. SAMELAB problems must be cleared of errors before proceeding to inspect other ERC checks. MULTILAB and SAMELAB errors lead to false LVS or LPE output, so you must clear their errors before going on to LVS or LPE. For more information about ERC checks, refer to <a href="chap4.html#75716">Chapter 4, &#8220;Checking Electrical Rules (ERC).&#8221;</a></p>
<p>
<a id="pgfId-1019166"></a>You should include both MULTILAB and SAMELAB commands in an LVS or LPE rules file. </p>

<h4>
<a id="pgfId-1019167"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019168"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056668"></a> Name you designate as the output file to contain composite trapezoids. Before you do any operation on a trapfile, you need to OR it.</p>

<p><strong>
<a id="pgfId-1056673"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056676"></a> Sends the results of the operation to an output cell.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1019170"></a>The output cell you specify cannot be used as the output of another command.</div>

<p><strong>
<a id="pgfId-1019171"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056682"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1056687"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056690"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1019173"></a>Example</h4>

<p>
<a id="pgfId-1019174"></a>In this example, different nodes with the same label are output to the opens40 error cell on the layer beginning with layer 40 and ending at a higher layer number depending on the number of CONNECT-LAYERS and contact layers. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019175"></a>SAMELAB OUTPUT opens 40 </pre>
<h3>
<a id="pgfId-1019177"></a><a id="35797"></a>SCONNECT</h3>
<a id="pgfId-1019178"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SCONNECT <code><em>upper-layer lower-layer</em></code> BY <code><em>contact-layer</em></code> 
{LINK label}</pre>
<h4>
<a id="pgfId-1019179"></a>Description</h4>

<p>
<a id="pgfId-1019183"></a>Cr<a id="marker-1019180"></a>eates a connection between a <a id="marker-1019181"></a>conductor layer and a <a id="marker-1019182"></a>soft connect layer. <a id="marker-1019184"></a>SCONNECT allows unidirectional passing of nodal information according to the CONNECT-LAYER sequence, that is, passing nodal information from the conductor to the soft connect layer, but not the reverse.</p>
<p>
<a id="pgfId-1019185"></a>If multiple SCONNECT trapezoids are reported in the .ERC file, Dracula reports the following warning in the .lvs file:</p>

<a id="pgfId-1019186"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
*/W* WARNING :: SOFT-CONNECTING MULTIPLE NODES IN UPPER LAYERS TO ONE POLYGON REGION IN: PWELL</pre>

<p>
<a id="pgfId-1019187"></a>To use the global majority rule for SCONNECT conflict resolution, see GLOBAL-SCONNECT.</p>

<h4>
<a id="pgfId-1019188"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019189"></a><span class="webflare-courier-new" style="white-space:pre"><em>upper-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056697"></a> Upper layer name.</p>

<p><strong>
<a id="pgfId-1056702"></a><span class="webflare-courier-new" style="white-space:pre"><em>lower-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056705"></a> Lower layer name. Connectivity passes from upper-layer to lower-layer (soft connect layer) but not the reverse. </p>

<p><strong>
<a id="pgfId-1056710"></a><a id="marker-1019191"></a><span class="webflare-courier-new" style="white-space:pre"><em>contact-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056713"></a> Previously defined layer that consists of the contacts that connect upper-layer to lower-layer. Must have at least three characters.</p>
<p>
<a id="pgfId-1019193"></a>As an example, you can make a soft connection when you use one NWELL region to connect (and pass nodal information) between two separate NSRCDRN regions. In the regular nodal passing scheme, Dracula treats the three regions as one electrical node. However, the SCONNECT command assigns different node numbers to the regions. </p>
<p>
<a id="pgfId-1019194"></a>When the nodes have different numbers, instead of merging all connecting nodes, SCONNECT picks and pushes one node number in NSRCDRN onto NWELL. Dracula selects the node number that contains the most trapezoids of connected nodes among the soft-connected layers. </p>
<p>
<a id="pgfId-1019195"></a>You can then use the SOFTCHK command to report the violation geometries in one or both connect layers. You can also use the ABORT-SOFTCHK command to stop the job when soft connection violations exist. If you ignore these violations, the errors might resurface during LVSCHK. Therefore, it is good practice to stop the job and fix any soft connection violations.</p>
<p>
<a id="pgfId-1019196"></a>When you use the U option in SOFTCHK, this command outputs trapezoids whose node number contains the fewest number of trapezoids among those node numbers that are soft connected by the same region in the lower layer. </p>

<p><strong>
<a id="pgfId-1019197"></a><code>LINK </code><span class="webflare-courier-new" style="white-space:pre"><em>label</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056720"></a> Links floating substrates (lower- layer) to label (power or ground) unless the substrates are assigned text other than power or ground. </p>

<h4>
<a id="pgfId-1019198"></a>Example 1</h4>

<p>
<a id="pgfId-1019199"></a>In this example, nodal information passes from nsd to nwell and not in reverse.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019200"></a>*OPERATION<br />.<br />.<br />AND NWELL NSD NPNWELL<br />AND PSUB PSD PINSUB<br />;<br />CONNECT METAL PSD BY CONTS<br />CONNECT METAL NSD BY CONTS<br />CONNECT METAL POLY BY CONTS<br />CONNECT SCMET METAL BY VIA<br />SCONNECT NSD NWELL BY NPNWELL<br />SCONNECT PSD PSUB BY PINSUB<br />;<br />SOFTCHK NWELL OUTPUT[U] ERR1 50<br />SOFTCHK PSUB OUTPUT[U] ERR2 50<br />;</pre>
<h4>
<a id="pgfId-1019201"></a>Example 2</h4>

<p>
<a id="pgfId-1019202"></a>This example links NWELL to VDD unless the nwell is assigned another text.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019203"></a>*DESCRIPTION<br />...<br />GEN-TEXT-FILE = GENTXT.OUT<br />GEN-TEXT-WIRE = YES <br />...<br />*END<br />*INPUT-LAYER<br />...<br />GEN-TEXT-LAYER = NWELL...METAL...<br />CONNECT-LAYER = NWELL ...METAL...<br />...<br />*END<br />*OPERATION<br />...<br />SCONNECT METAL NWELL BY NWCONT LINK VDD<br />...<br />*END</pre>
<h4>
<a id="pgfId-1025152"></a>Example 3</h4>

<p>
<a id="pgfId-1025159"></a>This example demonstrates incremental connection. The connection is rebuilt because the AVSS label needs to be excluded from the IPDEF layer.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025161"></a>*DESCRIPTION<br />...<br />ALLOW-RECONNECT = YES<br />...<br />*END<br />*OPERATION<br />...<br />CONNECT&#160;&#160;      ALMI    IPF     BY      PFCON</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025162"></a>CONNECT&#160;&#160;      ALMI    ADEF    BY      CWW</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025163"></a>CONNECT&#160;&#160;      ADEF    IPDEF   BY      PDCT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025164"></a>CONNECT&#160;&#160;      ADEF    INDEF   BY      NDCT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025165"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025166"></a>SELECT&#160;&#160;       IPDEF   LABEL   AVSS?   xIPDEF</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025167"></a>NOT&#160;&#160;          IPDEF   xIPDEF          VSIPDEF</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025168"></a>; connection rebuild starting point</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025169"></a>CONNECT&#160;&#160;      ALMI    IPF     BY      PFCON</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025170"></a>CONNECT&#160;&#160;      ALMI    ADEF    BY      CWW</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025171"></a>CONNECT&#160;&#160;      ADEF    IPDEF   BY      PDCT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025172"></a>CONNECT&#160;&#160;      ADEF    INDEF   BY      NDCT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025173"></a>; connection rebuild end point</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025174"></a>SCONNECT&#160;&#160;     INDEF   INWELL BY      SSX</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025175"></a>SCONNECT&#160;&#160;     VSIPDEF PWELL   BY      PPX</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025176"></a>SCONNECT&#160;&#160;     VSIPDEF KIBAN   BY      KKX</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025177"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025178"></a>SOFTCHK&#160;&#160;      INWELL OUTPUT[U]     NST      101 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025179"></a>SOFTCHK&#160;&#160;      PWELL OUTPUT[U]     PST      102 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025180"></a>SOFTCHK&#160;&#160;      KIBAN OUTPUT[U]     KST      103 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025181"></a>...<br />*END</pre>
<h3>
<a id="pgfId-1019205"></a><a id="29047"></a>SELECT </h3>

<p>
<a id="pgfId-1039619"></a>For the syntax for SELECT, see Option I through Option IX in the sections below.</p>

<h4>
<a id="pgfId-1038273"></a>Description</h4>

<p>
<a id="pgfId-1019208"></a>S<a id="marker-1019207"></a>elects a group of polygons from a layer and creates a trapezoid file with the new layer. <a id="marker-1019209"></a>SELECT is an area-relation command. For example, if a polygon on <em>layer-a</em> is related to <em>layer-b</em>, the <em>layer-a</em> polygon is output. You can use this command to perform selective operations that cannot be done by logical operations, such as sizings, spacing checks, and conjunctive rules.</p>
<p>
<a id="pgfId-1019210"></a>Nodal information associated with the selected polygons is passed to the trapezoid file. Database partition functions were added for the SELECT, SIZE, and LOGICAL commands. These enhancements resolve capacity limitation issues with Dracula. This allows you to partition input layers of these functions into blocks. When you run Distributed Dracula, each block (pair) can be assigned to one processor. Specify a value between 2-10 inclusive following &#8216;D&#8217; to indicate the number of partitions desired. The default value of &#8216;D&#8217; is 4 if the value is omitted.</p>
<b>Note:</b><br />
<a id="pgfId-1019211"></a>
<ul><li>
<a id="pgfId-1038097"></a>There is a performance gain in the database partition feature for SELECT in the 4.8 version. The same is not true for SIZE and LOGICAL on account of too much overhead from the pre-process (PRESEL for SIZE) and post-process (LOGMRG for LOGICAL) stages during the operations. Database partition scheme is designed especially for resolving Dracula capacity issues and is applied to flat mode only. The performance of the SELECT command in the 4.8 version is equal to the 4.6.0698, 4.6.0998, and 4.6.1298 versions and is 5 to 20 times faster than the 4.7 release.</li><li>
<a id="pgfId-1038100"></a>In the 4.81 and 4.9 versions, Dracula provides a method to optimize original rules and create more optimized rules to speed up run time. In the description block commands section, you can add the command <code>optimize-rule=YES/NO</code> (default is <code>NO</code>) and speed up the run time. In the 4.81 and 4.9 Dracula versions, PDRACULA issues to you suggestions for optimizing your rule. See the section, &#8220;<a href="chap13.html#13461">Example 2 - Optimizing the Rule Using the SELECT Command</a>&#8221; for more information.</li></ul>


<h4>
<a id="pgfId-1019212"></a><a id="27440"></a>Option I - Syntax for SELECT</h4>
<a id="pgfId-1019213"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SELECT[N] <em>layer-a relation layer-b trapfile</em> {OUTPUT <em>c-name</em><code><em> 
</em></code><em>l-num</em> {<em>d-num</em>}} </pre>
<p><strong>
<a id="pgfId-1019214"></a><code>N</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056727"></a> Turns on node-based rather than polygon-based selection. Selection is based on nodal numbers rather than region numbers. Specify this option after the CONNECT command in the operation block of a rule file. PDRACULA issues a warning message if the order in which you specified these commands is incorrect.</p>
<p class="webflare-indent1">
<a id="pgfId-1035516"></a> Returns all shapes on <em>layer-a</em> that</p>

<p>
<a id="pgfId-1035534"></a></p>
<table class="webflareTable" id="#id1035529">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ol><li>
<a id="pgfId-1035531"></a>Satisfies the relation to <em>layer-b</em></li></ol>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ol><li>
<a id="pgfId-1035533"></a>Are part of the same node as layer-a that was derived in part1.</li></ol>

</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1035539"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056736"></a> Layer to select from</p>

<p><strong>
<a id="pgfId-1056741"></a><span class="webflare-courier-new" style="white-space:pre"><em>relation</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056744"></a> Can be one of the following:</p>

<p><strong>
<a id="pgfId-1056749"></a><code>INSIDE</code><a id="marker-1019217"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056752"></a> Specifies <em>layer-a</em> polygon that is totally inside a <em>layer-b</em> polygon. Outputs the <em>layer-a</em> polygon and inside-touch <em>layer-b</em>. </p>

<p><strong>
<a id="pgfId-1056757"></a><code>OUTSIDE</code><a id="marker-1019219"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056760"></a> Specifies<em> layer-a</em> polygon that is totally outside a <em>layer-b </em>polygon. Outputs the <em>layer-a</em> polygon and touch <em>layer-b</em>. </p>

<p><strong>
<a id="pgfId-1056765"></a><code>HOLE</code><a id="marker-1019221"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056768"></a> Specifies <em>layer-a </em>polygon that has its entire outside surface exactly touching the outside surface of <em>layer-b</em> (for example, a <em>layer-a</em> polygon that exactly fits in the hole of a donut-shaped <em>layer-b</em> polygon). The selected <em>layer-a</em> polygons are outside and touch.</p>

<p><strong>
<a id="pgfId-1056773"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056776"></a> Layer to relate to.</p>

<p><strong>
<a id="pgfId-1056781"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056784"></a> Layer created by the SELECT operation. The <em>trapfile</em> can have up to seven characters and no special characters. You can use A-Z and 0-9, but the first character must be a letter. </p>

<p><strong>
<a id="pgfId-1056789"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056792"></a><code>&#160;&#160;&#160;&#160;</code>Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1056797"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056800"></a><em>C-name</em> is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. <em>L-num</em> is the cell layer number determined by your CAD system. If your <em>c-name</em> is <em>rule03</em> and <br /><em>l-num</em> is <code>5</code>, the output cell name is <em>rule0305</em>. </p>

<p><strong>
<a id="pgfId-1056805"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056808"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (<em>l-num</em>) of the output cell. Use <em>d-num</em> for GDSII only. Values can range from <code>0</code> to <code>63</code>. </p>

<h4>
<a id="pgfId-1019228"></a><a id="42302"></a>Option II </h4>
<a id="pgfId-1019229"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SELECT {[D{n}]|[N]} <em>layer-a relation </em>{[<em>n1:n2</em>]} <em>layer-b</em> <em>trapfile</em> {OUTPUT <em>c-name</em> <em>l-num</em> {<em>d-num</em>}} </pre>

<p>
<a id="pgfId-1019230"></a>SELECT&#8217;s <code>D</code> option (<code>SELECT[D]</code>) is now used for the database partition for <code>SELECT</code>. It can apply to all <code>SELECT</code> options except the following:</p>
<ul><li>
<a id="pgfId-1019231"></a>SELECT[N].. (&quot;N&quot; option)</li><li>
<a id="pgfId-1019232"></a>SELECT .. LABEL</li><li>
<a id="pgfId-1019233"></a>SELECT .. CONN</li><li>
<a id="pgfId-1019234"></a>SELECT ANGLE</li></ul>



<p>
<a id="pgfId-1019235"></a>This option selects a range of instances that satisfy the selective condition. This option applies to the CUT, TOUCH, and ENCLOSE relationships.</p>

<p><strong>
<a id="pgfId-1019236"></a><code>D</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056815"></a> Turns on the database partition feature</p>

<p><strong>
<a id="pgfId-1056820"></a><code>n</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056823"></a> Number of blocks to be partitioned into</p>

<p><strong>
<a id="pgfId-1056828"></a><code>N</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056831"></a> Turns on node-based rather than polygon-based selection. Selection is based on nodal numbers rather than region numbers. Specify this option after the <code>CONNECT</code> command in the operation block of a rule file. PDRACULA issues a warning message if the order in which you specified these commands is incorrect.<br />
Returns all shapes on <em>layer-a</em> that</p>

<p>
<a id="pgfId-1035540"></a></p>
<table class="webflareTable" id="#id1035542">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ol><li>
<a id="pgfId-1035544"></a>Satisfies the relation to <em>layer-b</em></li></ol>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ol><li>
<a id="pgfId-1035546"></a>Are part of the same node as layer-a that was derived in part1.</li></ol>

</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1035557"></a> <em>Example</em> (see the Figure that follows).</p>

<p>
<a id="pgfId-1028699"></a></p>
<div class="webflare-div-image">
<img width="668" height="338" src="images/chap13-113.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1022703"></a><code> INPUT-LAYER
 ...
 CONT = 5
 MET1 = 6
 VIA  = 7
 MET2 = 8
 ...
 CONNECT-LAYER = POLY MET1 MET2
*END
*OPERATION
 ...
 CONNECT MET2 MET1 BY VIA
 CONNECT MET1 POLY BY CONT
 ...
 SELECT[N] MET1 OVERLAP POLY M1NOVC OUTPUT M1NOVC 63
 SELECT MET1 CONN POLY M1CONC OUTPUT M1CONC 63
 ...
*END</code></p>
<p class="webflare-indent1">
<a id="pgfId-1022732"></a> The example illustrates the functionality and differences of SELECT[N] and SELECT .. CONN. </p>
<p class="webflare-indent1">
<a id="pgfId-1023123"></a> The SELECT[N] command will first include <code>MET1 #1</code> and <code>MET1 #3</code> into M1NOVC because they both overlap poly (the fact that <code>MET1 #1</code> connects to poly with contact is merely coincidental). By virtue of the &#8217;<code>CONNECT MET2 MET1 BY VIA</code>&#8217; command, <code>MET1 #1</code> and <code>MET1 #2</code> are part of the same net; the same is true for <code>MET1 #3</code> and <code>MET1 #4</code>. Since <code>MET1 #2</code> is part of the same node as <code>MET1 #1</code>, <code>MET1 #2</code> will also be included in M1NOVC. <code>MET1 #4</code> will also be included in M1NOVC because it is part of the same node as <code>MET1 #3</code>.</p>
<p class="webflare-indent1">
<a id="pgfId-1023120"></a> The SELECT ... CONN command will first include <code>MET1 #1</code> into M1CONC because of the &#8220;<code>CONNECT MET1 POLY BY CONT&#8221;</code> command. <code>MET1 #3</code> is not connected to <code>POLY</code> and is therefore not considered. By virtue of the &#8220;<code>CONNECT</code> <code>MET2 MET1</code><em> </em><code>BY</code> <code>VIA</code>&#8221; command, <code>MET1 #1</code> and <code>MET1 #2</code> are part of the same node; <code>MET1 #2</code> will also be included in M1CONC.</p>

<p><strong>
<a id="pgfId-1019238"></a><code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>n1:n2</em></span><code>]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056845"></a><code>&#160;&#160;&#160;&#160;</code>The range of instances. Outputs <em>layer-a</em> polygons that fall within the condition range of <em>layer-b</em>. The range values (<em>n1</em> and <em>n2</em>) are inclusive and must be integers. Zero is not allowed.</p>

<p><strong>
<a id="pgfId-1056850"></a><code>CUT</code><a id="marker-1019239"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056853"></a><code>&#160;&#160;&#160;&#160;</code>Specifies <em>layer-a</em> polygon that has portions both inside and outside <em>layer-b</em>.</p>

<p><strong>
<a id="pgfId-1056858"></a><code>TOUCH</code><a id="marker-1019241"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056861"></a> Specifies <em>layer-a</em> polygon that touches only from the outside of a <em>layer-b</em> polygon. Does not include a <em>layer-a</em> polygon that both touches and cuts a polygon of <em>layer-b</em>. </p>

<p><strong>
<a id="pgfId-1056866"></a><code>ENCLOSE</code><a id="marker-1019243"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056869"></a> Specifies <em>layer-a</em> polygon that encloses a polygon of <em>layer-b</em>. Includes a <em>layer-a</em> polygon that is inside and touching <em>layer-b</em>. </p>

<p><strong>
<a id="pgfId-1056874"></a><code>OVERLAP</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056877"></a> Specifies <em>layer-a</em> polygon that overlaps (including <code>TOUCH</code>, <code>CUT</code>, <code>ENCLOSE</code>, and <code>INSIDE</code>) a polygon of <em>layer-b</em>. The overlap relation includes all relationships except for those of <em>layer-a</em> polygons entirely outside of <em>layer-b</em> polygons. </p>
<p>
<a id="pgfId-1019246"></a>Currently, the SPACING module does not have a database partition feature. However, since <code>EXT[E]</code> is translated into SELECT by PDRACULA, it is possible to have a data partition for <code>EXT[E].</code> <code>EXT&#8217;s D</code> option must combine with the <code>E</code> option (<code>EXT</code>[<code>DE</code>]).</p>
<p>
<a id="pgfId-1038307"></a>.</p>
<table class="webflareTable" id="#id1019247">
<caption style="text-align:left;"><p>
</p><div class="ft-figtabl-title">
<a id="pgfId-1019249"></a>SELECT Database Partition (Distributed Dracula on 2 Nodes)</div></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019259"></a></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019261">
<a id="pgfId-1019261"></a>Total </span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019263">
<a id="pgfId-1019263"></a>PRESEL</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019265">
<a id="pgfId-1019265"></a>POSCAT</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019267">
<a id="pgfId-1019267"></a>SELECT</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019269">
<a id="pgfId-1019269"></a>SELECT</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019271"></a>00:37:57</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019273"></a>Not Applicable</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019275"></a>Not Applicable</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019277"></a>00:37:57</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019279">
<a id="pgfId-1019279"></a>SELECT[D]</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019281"></a>00:29:27 (+1.29x)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019283"></a>00:06:17</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019285"></a>00:02:39</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019287"></a>00:05:56</p>
<p>
<a id="pgfId-1019288"></a>00:08:27</p>
<p>
<a id="pgfId-1019289"></a>00:15:23</p>
<p>
<a id="pgfId-1019290"></a>00:11:06</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019292">
<a id="pgfId-1019292"></a>SELECT[D2]</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019294"></a>00:33:36 (+1.13x)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019296"></a>00:06:07</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019298"></a>00:02:28</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019300"></a>00:13:25</p>
<p>
<a id="pgfId-1019301"></a>00:24:54</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019303">
<a id="pgfId-1019303"></a>SELECT[D3]</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019305"></a>00:32:35 (+1.16x)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019307"></a>00:06:13</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019309"></a>00:02:31</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019311"></a>00:07:54</p>
<p>
<a id="pgfId-1019312"></a>00:15:35</p>
<p>
<a id="pgfId-1019313"></a>00:15:51</p>
</td>
</tr>
</tbody></table>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1019314"></a>In version 4.7.0399 and later versions, the original <code>EXT[TOE]</code> needs two <code>SELECT</code> and one <code>SPACING</code>. </div>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019315"></a>EXT[TOE] = EXT with [<code><em>T</em></code>], [<code><em>O</em></code>], and [<code><em>E</em></code>] options turned to <em>on</em> </pre>
<p>
<a id="pgfId-1019316"></a>where <em>T</em> represents touch, <em>0</em> represents overlap, and <em>E</em> represents fully enclosed. SELECT is slow. The flow in the 4.7.0399 version uses one AND and one SPACING. AND is faster than SELECT.</p>

<h4>
<a id="pgfId-1019317"></a>Option III</h4>
<a id="pgfId-1019318"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SELECT <em>layer-a</em> LABEL{[R]} <em>label-name</em> <em>trapfile</em> {OUTPUT <em>c-name</em> <em>l-num</em> {<em>d-num</em>}} </pre>

<p>
<a id="pgfId-1019319"></a>This option selects all <span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span> polygons that are part of the <span class="webflare-courier-new" style="white-space:pre"><em>label-name</em></span> texted net. You must establish nodal connectivity on <span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span> with the <code>CONNECT</code>, <code>SCONNECT</code> or <code>STAMP</code> command before using this option. </p>

<p><strong>
<a id="pgfId-1019321"></a><a id="marker-1019320"></a><code>[R]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056886"></a> Selects all <span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span> polygons that physically attach to the <span class="webflare-courier-new" style="white-space:pre"><em>label-name</em></span> text that establishes the net. You must specify the <code>ATTACH</code> command for <span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span> in the INPUT-LAYER block. </p>

<p><strong>
<a id="pgfId-1056900"></a><span class="webflare-courier-new" style="white-space:pre"><em>label-name</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056903"></a> The text label of the net to check.</p>

<h4><em>
<a id="pgfId-1049364"></a>Example</em></h4>

<p>
<a id="pgfId-1049377"></a></p>

<div class="webflare-div-image">
<img width="668" height="129" src="images/chap13-114.gif" /></div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049431"></a>*INPUT-LAYER</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049432"></a> ... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049433"></a> poly = 5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049434"></a> contact = 6</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049435"></a> metal1 = 7</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049436"></a> text = 10 attach = poly</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049437"></a> ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049438"></a> CONNECT-LAYER = poly metal1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049439"></a>*END</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049440"></a>*OPERATION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049441"></a> ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049442"></a> CONNECT poly metal1 BY contact</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049443"></a> ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049444"></a> SELECT poly LABEL IN layerA</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049445"></a> SELECT poly LABEL[R] IN layerB</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049446"></a> ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049447"></a>*END</pre>

<p>
<a id="pgfId-1049470"></a>The <code>LABEL</code> operator will include all three poly shapes (poly #1, poly #2 and poly #3) into <code>layerA</code> because they are all part of the texted net <code>IN</code>.</p>
<p>
<a id="pgfId-1049472"></a>The <code>LABEL[R]</code> operator will only include the poly #1 and poly #3 shapes into <code>layerB</code> because the <code>IN</code> text attaches only to these two shapes.</p>

<h4>
<a id="pgfId-1019323"></a>Option IV</h4>
<a id="pgfId-1019324"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SELECT <em>layer-a</em> VERTEX [<em>n1:n2</em>] <em>trapfile</em> {OUTPUT <em>c-name</em> 
{<em>d-num</em>}} </pre>

<p>
<a id="pgfId-1019325"></a>This option selects all <em>layer-a</em> polygons that satisfy the vertex count. SELECT counts the vertices after merging the polygon vertices. SELECT counts double digitized vertices only one time.</p>

<p><strong>
<a id="pgfId-1019326"></a><code>VERTEX</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056910"></a> A <em>layer-a</em> polygon that satisfies the vertex count range. A rectangular polygon has four vertices.</p>

<p><strong>
<a id="pgfId-1056926"></a><code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>n1:n2</em></span><code>]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056929"></a> The range of vertex counts. Outputs <em>layer-a</em> polygons that fall within the count range. The range values (<em>n1</em> and <em>n2</em>) are inclusive and must be integers. Zero is not allowed.<code></code><a id="marker-1056919"></a></p>

<h4>
<a id="pgfId-1019329"></a>Option V</h4>
<a id="pgfId-1019330"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SELECT <em>layer-a</em> ANGLE [<em>n1</em>] <em>output-layer</em> {OUTPUT <em>c-name</em> <em>l-num
</em>{<em>d-num</em>}}</pre>

<p>
<a id="pgfId-1019331"></a>This option lets you separate all-angle geometries from Manhattan geometries.</p>

<p><strong>
<a id="pgfId-1019332"></a><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056935"></a> Specifies which angled geometries to separate. You can specify one of the following options:</p>
<table class="webflareTable" id="#id1035570">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035572"></a><code>90</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035574"></a>For manhattan geometries. (All edges are either vertical or horizontal.)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035576"></a><code>45</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035578"></a>For 45-degree geometries. (All edges are either 45 degrees, or edges are manhattan and contain at least one 45 degree edge.)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035580"></a><code>-90</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035582"></a>For non-manhattan geometries. (At least one edge is not vertical or horizontal.)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035584"></a><code>-45</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035586"></a>For non-45 degree geometries. (Angles are other than manhattan and 45 degrees.)</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1019337"></a>Option VI</h4>
<a id="pgfId-1019338"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SELECT <em>layer1</em> BY <em>layer2</em> LABEL([<code>t</code>] | [t&#8217;]) (<em>label</em>|<em>label-list</em>) <em>outLayer</em> {OUTPUT <em>c-name</em> <em>l-num</em> {<em>d-num</em>}}</pre>

<p>
<a id="pgfId-1019339"></a>Use this command when you specify the IDTEXT command in the Input Layer block.</p>

<p><strong>
<a id="pgfId-1019340"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056941"></a> Layer name from which objects are selected.</p>

<p><strong>
<a id="pgfId-1056946"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056949"></a> IDTEXT layer name.</p>

<p><strong>
<a id="pgfId-1056954"></a><code>t</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056957"></a> Selects objects texted by the given labels.</p>

<p><strong>
<a id="pgfId-1056962"></a><code>t&#8217;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056965"></a> Selects objects that are not texted by the given labels.</p>

<p><strong>
<a id="pgfId-1056970"></a><span class="webflare-courier-new" style="white-space:pre"><em>label</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056973"></a> Any label, which can include meta characters such as <code>?</code>.</p>

<p><strong>
<a id="pgfId-1056978"></a><span class="webflare-courier-new" style="white-space:pre"><em>label-list</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056981"></a> A list of up to a maximum of 20 labels ({<em>label</em>...}).</p>

<p><strong>
<a id="pgfId-1056986"></a><span class="webflare-courier-new" style="white-space:pre"><em>outLayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056989"></a> Name of the output layer.</p>

<h4>
<a id="pgfId-1019347"></a>Option VII</h4>
<a id="pgfId-1019348"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SELECT {NOT} <em>layer-a</em> <em>relation layer-b trapfile</em> {OUTPUT <em>c-name 
l-name</em> {<em>d-name</em>}}</pre>

<p>
<a id="pgfId-1019349"></a>This option lets you output the complemented outputs without using another NOT command.</p>

<p><strong>
<a id="pgfId-1019350"></a><code>NOT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1056995"></a> Use this command to provide complemented output with the single rule.</p>

<h4>
<a id="pgfId-1019351"></a>Option VIII</h4>
<a id="pgfId-1019352"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SELECT <em>layer-a</em> CONN <em>layer-b</em> <em>output-layer</em> {OUTPUT <em>c-name</em> <em>l-name</em> {<em>d-num</em>}}</pre>

<p>
<a id="pgfId-1019353"></a>This option lets you select geometric based on layer connectivity.</p>

<p><strong>
<a id="pgfId-1019354"></a><code>CONN</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057001"></a> Output <em>layer-a</em> polygons that are connected to <em>layer-b</em>. The output is a subset of <em>layer-a</em>.</p>

<h4>
<a id="pgfId-1019355"></a>Option IX</h4>
<a id="pgfId-1019356"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SELECT layer-a NODE schematic-name output-layer</pre>

<p>
<a id="pgfId-1019357"></a>This option selects <em>layer-a</em> layer geometries that are cross referenced to specified schematic names. LVSCHK is necessary before you apply this command.</p>

<p><strong>
<a id="pgfId-1019358"></a><code>NODE</code> <span class="webflare-courier-new" style="white-space:pre"><em>schematic-name</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057007"></a>Name of the specified schematic</p>

<h4>
<a id="pgfId-1019363"></a>Examples</h4>
<h4><em>
<a id="pgfId-1038305"></a>Example 1</em></h4>

<p>
<a id="pgfId-1019364"></a>This example selects all <em>nplus</em> polygons with an annotated text string beginning with the characters <em>hv</em>. Outputs these polygons on <em>hvnplus</em>. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019365"></a>SELECT&#160;&#160; <em>nplus</em>   INSIDE   <em>pwell&#160;&#160; nsrcdrn</em> <br />SELECT&#160;&#160; <em>nplus</em>   OUTSIDE  <em>pwell&#160;&#160; nguard</em> <br />SELECT&#160;&#160; <em>nplus&#160;&#160;</em> LABEL&#160;&#160;  <em>hv</em>?&#160;&#160;   <em>hvnplus</em> </pre>
<p>
<a id="pgfId-1035594"></a>This example selects <em>metal </em>polygons with annotated pads. Outputs these polygons on <em>pads</em>. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019367"></a>SELECT&#160;&#160; <em>metal</em>   LABEL ?:? <em>pads</em> </pre>
<p>
<a id="pgfId-1019368"></a>This example selects transistors that have one source/drain. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019369"></a>SELECT&#160;&#160; gate&#160;&#160; TOUCH[1:1]&#160;&#160; <em>nsrcdrn cap</em> </pre>
<p>
<a id="pgfId-1019370"></a>This example selects a poly polygon with res text attached as resistor layer, polres. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019371"></a>SELECT&#160;&#160; <em>poly</em>   LABEL[R]   <em>res</em>?&#160;&#160; <em>polres </em></pre>
<p>
<a id="pgfId-1019372"></a>In the following example, the gdcont layer contains quadrilateral contacts. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019373"></a>SELECT <em>contact</em> VERTEX[4:4] <em>gdcont</em> </pre>
<p>
<a id="pgfId-1019374"></a>In the following example, the bad1 and drc317 layers contain contacts with three or fewer vertices. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019375"></a>SELECT <em>contact</em> VERTEX[1:3] <em>bad1</em> OUTPUT <em>drc317</em> </pre>
<p>
<a id="pgfId-1019376"></a>In the following example, the bad2 and drc418 layers contain contacts with more than four vertices.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019504"></a>SELECT contact VERTEX[5:999] bad2 OUTPUT drc4 18</pre>
<p>
<a id="pgfId-1036511"></a></p>
<div class="webflare-div-image">
<img width="544" height="649" src="images/chap13-115.gif" /></div>
<p>
<a id="pgfId-1028768"></a></p>
<div class="webflare-div-image">
<img width="527" height="589" src="images/chap13-116.gif" /></div>

<p>
<a id="pgfId-1019505"></a></p>

<p>
<a id="pgfId-1028817"></a></p>
<div class="webflare-div-image">
<img width="483" height="198" src="images/chap13-117.gif" /></div>

<p>
<a id="pgfId-1022480"></a>In the following example <code>POLY</code> is selected and cross-referenced to the schematic name <code>VDD*</code> to output layer <code>POLY1</code>. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019506"></a>*OPERATION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019507"></a>...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019508"></a>LVSCHK</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019509"></a>...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019510"></a>SELECT POLY NODE VDD* POLY1......</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019511"></a>*END</pre>
<h4><em>
<a id="pgfId-1038113"></a><a id="13461"></a>Example 2 - Optimizing the Rule Using the SELECT Command</em></h4>

<p>
<a id="pgfId-1038114"></a>You can optimize the following two rules</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038117"></a>SELECT layer-a relation layer-b layer-c<br />NOT layer-a layer-c layer-d</pre>

<p>
<a id="pgfId-1038116"></a>(and <code>layer-c</code> is not used for the other rule)</p>
<p>
<a id="pgfId-1038124"></a>to one rule using the following command</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038123"></a>SELECT NOT layer-a relation layer-b layer-d</pre>

<p>
<a id="pgfId-1038125"></a>The above optimization will save you the run time for one NOT command.</p>

<h4>
<a id="pgfId-1019519"></a>SELECT Command with CONN</h4>

<p>
<a id="pgfId-1022221"></a>In previous versions of the tool, if you used SELECT <em>layA</em> CONN <em>layB layC</em> and <em>layA</em> or <em>layB</em> did not have nodal information, the SELECT stage terminated.</p>
<p>
<a id="pgfId-1022235"></a>In the 4.8 version of Dracula, you can set the environment variable <span class="webflare-courier-new" style="white-space:pre"><em>DRAC_SELCONN_NOTABORT. </em></span>SELECT CONN runs without terminating the process. The trapezoid without the nodal information is output to the log file.</p>

<h3>
<a id="pgfId-1019521"></a><a id="25976"></a>SHRINK</h3>
<a id="pgfId-1019523"></a><a id="marker-1019522"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 SHRINK <code><em>input-layer dx dy</em></code> <code><em>{dx2 dy2}</em></code> {<code><em>trapfile</em></code>} {OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} </pre>
<h4>
<a id="pgfId-1019524"></a>Description</h4>

<p>
<a id="pgfId-1019526"></a>U<a id="marker-1019525"></a>ndersizes a single side of a layer. The dx and dy values determine the direction and amount the data shrinks.</p>
<p>
<a id="pgfId-1019527"></a>Refer also to the GROW command description in this chapter.</p>

<h4>
<a id="pgfId-1019528"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019529"></a><span class="webflare-courier-new" style="white-space:pre"><em>input-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057014"></a> Input layer name.</p>

<p><strong>
<a id="pgfId-1057019"></a><span class="webflare-courier-new" style="white-space:pre"><em>dx dy</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057022"></a> Amount to undersize the layer. This value is a real number in microns or mils. This is the unit set by SCALE.</p>

<p>
<a id="pgfId-1035745"></a> </p>
<table class="webflareTable" id="#id1035621">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035623"></a>If dx &gt; 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035625"></a> Right edge shrinks </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035627"></a>If dy &gt; 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035629"></a>Top edge shrinks</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035631"></a>If dx = 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035633"></a> No sizing</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035635"></a>If dy = 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035637"></a>No sizing</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035639"></a>If dx &lt; 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035641"></a> Left edge shrinks</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035643"></a>If dy &lt; 0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035645"></a>Bottom edge shrinks</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1019534"></a><span class="webflare-courier-new" style="white-space:pre"><em>dx2 dy2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057028"></a>Specifies the second set of direction. All values must be positive.</p>

<p><strong>
<a id="pgfId-1057033"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057036"></a> Trapezoid file name.</p>

<p><strong>
<a id="pgfId-1057041"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057044"></a> Name of the output cell. You can optionally output the sized data to a cell. </p>

<p><strong>
<a id="pgfId-1057049"></a><span class="webflare-courier-new" style="white-space:pre"><em>l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057052"></a> Layer number of the output cell.</p>

<p><strong>
<a id="pgfId-1057057"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057060"></a> Datatype number associated with the layer number (l-num) of the output cell.</p>

<h4>
<a id="pgfId-1019539"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019540"></a>*DESCRIPTION<br />SCALE = 0.001 MIC<br />RESOLUTION = 0.001 MIC<br />MEBES-UNIT = 0.25 MIC<br />*END<br />*OPERATION<br />...<br />SHRINK layer3 1 1.5 layer4  ;Shrink right edge 1 micron.<br />...                         ;Shrink top edge 1.5 micron.<br />*END</pre>
<h3>
<a id="pgfId-1019543"></a><a id="93080"></a>SIZE </h3>
<a id="pgfId-1045283"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SIZE {[options]} input-layer BY n1 {TRUNCATE {trunc_value}} {trapfile} {OUTPUT c-name l-num {d-num}}</pre>
<a id="pgfId-1045284"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SIZE {[options]} input-layer BY n1 STEP {step_value/AUTO} {TRUNCATE {trunc_value}} {output-layer} {trapfile} {OUTPUT c-name l-num {d-num}}</pre>
<a id="pgfId-1045286"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SIZE {[options}] input-layer-a {WITHIN input-layer-b} BY n1 [STEP step_value] {TRUNCATE {trunc_value}} {trapfile} {OUTPUT c-name l-num {d-num}}</pre>
<a id="pgfId-1045288"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SIZE[D{n}] input-layer BY n {STEP step-value} {TRUNCATE {trunc_value}} {trapfile} {OUTPUT c-name l-num {d-num}}</pre>
<a id="pgfId-1039675"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SIZE input-layer DOWN-UP BY n1 {TRUNCATE {trunc_value}} {trapfile} {OUTPUT c-name l-num {d-num}}</pre>
<h4>
<a id="pgfId-1019548"></a>Description</h4>

<p>
<a id="pgfId-1019550"></a>Cr<a id="marker-1019549"></a>eates a new layer from another layer. This command oversizes or undersizes the new layer by a specified number of layout units and moves the sides of the polygon perpendicularly. The numerical sign determines whether to oversize (+) or undersize (-) the polygon. </p>
<p>
<a id="pgfId-1044090"></a>Database partition functions were added for the SELECT, SIZE, and LOGICAL commands. These enhancements resolve capacity limitation issues with Dracula. This allows you to partition input layers of these functions into blocks. When you run Distributed Dracula, each block (pair) can be assigned to one processor. Specify a value between 2-10 inclusive following &#8216;D&#8217; to indicate the number of partitions desired. The default value of &#8216;D&#8217; is 4 if the value is omitted.</p>
<b>Note:</b><br />
<a id="pgfId-1019552"></a>
<ul><li>
<a id="pgfId-1037990"></a>There is a performance gain in the database partition feature for SELECT in the 4.8 version. The same is not true for SIZE and LOGICAL because of too much overhead from the pre-process (PRESEL for SIZE) and post-process (LOGMRG for LOGICAL) stages during the operations. Database partition scheme is designed specially for resolving Dracula capacity issues and is applied to flat mode only. Currently, the database partition feature for SIZE does not support other options. <br />
<a id="pgfId-1019553"></a>SIZE does not output text information. <br />
<a id="pgfId-1019554"></a>When sizing databases with layers digitized with arbitrary angles (circles) or when sizing databases with cell placements not on fixed grids (some auto-routers), set the RESOLUTION command in the Description block at 0.005 microns or less. This setting alerts the SIZE command to handle round-off problems and to effectively &#8220;lock&#8221; the adjacent line segments. <br />
<a id="pgfId-1019555"></a>The <code>WITHIN</code> option works only in flat mode. It supports step-wise sizing to avoid significant round-off effects resulting from large sizing and to improve SIZE performance for large values.<br />
<a id="pgfId-1019556"></a>When using the <code>SIZE WITHIN</code> option, a contact can change size and fill the space of any portion of the shape it is within, including ring (donut) shapes, U shapes or L shapes. The contact can &quot;jump over&quot; any gap (notch) that exists for any single area (contacts cannot jump over to adjacent but different areas).   If you have ring, U, or L shapes, it is best to use the STEP x option with the <code>WITHIN</code> option. The value of the STEP size x should be less than the minimum external notch spacing of the ring or U shape so that each step of the sizing cannot jump across the gap.</li><li>
<a id="pgfId-1019557"></a>When using the SIZE command on a 45-degree angle, oversizing and undersizing might produce a different shape than the original. When you oversize a 45-degree angle, it snaps to the grid, which might modify the shape. If you then undersize this layer, it will snap to the grid again, resulting in a different shape than you started with.</li><li>
<a id="pgfId-1037989"></a>In the 4.81 and subsequent versions, Dracula provides a method to optimize original rules and create more optimized rules to speed up run time. In the description block commands section, you can add the command <code>optimize-rule=YES/NO</code> (default is <code>NO</code>) and speed up the run time. In the 4.81 and 4.9 Dracula versions, PDRACULA issues to you suggestions for optimizing your rule. See <a href="chap13.html#23008">Example 13 - Optimizing the Rule Using the SIZE Command</a> of this section. </li><li>
<a id="pgfId-1042959"></a>When you size non-orthogonal polygons, set the value of the <code>RESOLUTION</code> command to the same value as that of the <code>SCALE</code> command; otherwise, Dracula may distort the resulting shape. For example, if <code>SCALE = 0.001</code> <code>MICRON</code>, the <code>RESOLUTION</code> command should also be set to <code>RESOLUTION = 0.001</code> <code>MICRON</code>. <br />
<a id="pgfId-1043057"></a>If you need to know if any polygons or cell placements are off-grid, add this command:<pre class="webflare-pre-block webflare-courier-new" id="#id1042968">
<a id="pgfId-1042968"></a>FLAG-OFFGRID = YES <code><em>value</em></code></pre>
<a id="pgfId-1042970"></a>where <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> is the grid value in the Description block.<br />
<a id="pgfId-1042972"></a>Here is an example: <pre class="webflare-pre-block webflare-courier-new" id="#id1043064">
<a id="pgfId-1043064"></a>FLAG-OFFGRID = YES 0.01</pre>
<a id="pgfId-1042974"></a>Do not specify <code>MICRON</code> or <code>MIL</code> after the grid value, since the scale factor is already implied in the <code>SCALE</code> command.</li></ul>














<h4>
<a id="pgfId-1019558"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019559"></a><code>B</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057076"></a> Adjusts the width of error flags that result from spacing checks with the <em>R&#8217;</em> option.</p>

<p><strong>
<a id="pgfId-1057081"></a><code>D</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057084"></a> Turns onS the database partition feature.</p>

<p><strong>
<a id="pgfId-1057089"></a><code>n</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057092"></a> Represents the number of blocks to be partitioned.</p>

<p><strong>
<a id="pgfId-1057097"></a><code>E</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057100"></a><code>&#160;&#160;&#160;&#160;</code>Sizing only for edges as projections. This option is used with the SPACING[D] option, which outputs error flags in trapezoid format that contain information for edge sizing later on. Edge size is only supported at flatten mode, and can only produce trapezoid output, not polygon output. </p>

<p><strong>
<a id="pgfId-1057112"></a><code>L</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057115"></a> Adjusts the length of error flags that result from spacing checks with the <em>R&#8217;</em> option. </p>

<p><strong>
<a id="pgfId-1057120"></a><code>N</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057123"></a> Prevents polygon data output from the SIZE command from being included in the OUTDISK file. Use this option only if you want to fracture <em>sized</em> polygon data and do not want this data included in the OUTDISK<code> </code>file. Use this option only when you specify an <em>output</em> layer.</p>

<p><strong>
<a id="pgfId-1057128"></a><code>O</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057131"></a> (Oversize only) Sizes the layer but does not merge the sized data. Generates only the sized geometries that overlap. You can specify only the <em>trapfile</em> name.</p>
<p class="webflare-indent1">
<a id="pgfId-1019569"></a> When oversizing a layer, some polygons might extend into each other. SIZE forms one &#8220;clean polygon&#8221; from the potential overlap. When undersizing a layer, polygons with complex shapes tend to separate. SIZE does not create gaps on polygon cut lines, but a gap can result if part of the polygon width undersizes to 0 or less. This command prevents polygons from turning inside-out.</p>

<p><strong>
<a id="pgfId-1057139"></a><code>P</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057145"></a> (Undersize only) Sizes the layer as &#8220;pre-merged&#8221; data (as opposed to &#8220;merged&#8221; data). Therefore, the abutted polygons generate gaps where previously abutted. Apply the <code>P</code> option to the original layer only, not to the derived layer. When specifying the <code>P</code> option, input and output layers must be different; otherwise, conflicts might arise in later sizing operations.</p>

<p><strong>
<a id="pgfId-1057150"></a><code>R</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057153"></a> R&#160;&#160;(Undersize only) Reverses sizing capability. When doing undersize, if the sizing dimension causes the geometry width to go down to zero, this option allows it to reverse direction. This option works for manhattan shapes only. Result layer will contain processed manhattan shapes from input layer. All non-manhattan shapes will generate new layer which name will combined from original layer name and &quot;-NM&quot;. E.g. for &quot;M1&quot; layers non-manhatten shapes will form &quot;M1-NM&quot; layer.</p>

<p><strong>
<a id="pgfId-1057158"></a><code>T</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057161"></a> Outputs trapezoid shapes to SIZE output file, not a polygon file. If you specify <code>T</code>, you must specify OUTPUT. If you specify <code>T,</code> you cannot specify any other option (<code>A,</code> <code>B,</code> <code>G</code>, and so on).</p>

<p><strong>
<a id="pgfId-1057166"></a><code>W</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057169"></a> Specifies a minimum polygon cut-line width of 0.5 microns instead of the default of 1 micron. Use this command option when sizing very dense layers such as <em>diffusion</em>, <em>poly</em>, or <em>metal</em> in a MOS memory layout. For more information, refer to the SIZE-MIN-WIDTH command in <a href="chap11.html#71072">Chapter 11, &#8220;Description Block Commands.&#8221;</a>.</p>

<p><strong>
<a id="pgfId-1057174"></a><span class="webflare-courier-new" style="white-space:pre"><em>input-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057177"></a> Specifies the input layer name.</p>

<p><strong>
<a id="pgfId-1057182"></a><code>TRUNCATE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057185"></a> Specifies that the sizing of input layers truncates acute angles. Sizing by positive value means cutting convex angles. Sizing by negative value means cutting concave angles.</p>

<p><strong>
<a id="pgfId-1057193"></a><span class="webflare-courier-new" style="white-space:pre"><em>trunc_value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057196"></a> Optional value, that determines maximum distance of acute-angles that will not be truncated. The truncation distance = n1*trunc_value. The default value is sqrt(2). (It means that all angles less than 45 degrees will be truncated)</p>

<p><strong>
<a id="pgfId-1057204"></a><code>WITHIN</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057207"></a>Specifies that the sizing of input-layer-a is limited to the enclosing input-layer-b. This function efficiently checks latch-up problems.</p>

<p><strong>
<a id="pgfId-1057212"></a><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057215"></a><code>&#160;&#160;&#160;&#160;</code>Number of layout units to oversize or undersize the <em>input-layer</em>.</p>

<p><strong>
<a id="pgfId-1057220"></a><code>STEP</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057223"></a> Specifies that the sizing of the <em>input-layer</em> is to be step-wise, performing a series of size operations using <em>step_value</em> until the overall distance <em>n1 </em>is reached. When you specify a SIZE <em>WITHIN</em> operation, a logical AND operation with <em>input-layer-b</em> is followed by the size operation.</p>
<p class="webflare-indent1">
<a id="pgfId-1019585"></a> If you are sizing over 10 microns and you do not use STEP, huge vertex polygons are created, which cause slow performance and undesirable sizing.</p>

<p><strong>
<a id="pgfId-1019586"></a><code>STEP </code><span class="webflare-courier-new" style="white-space:pre"><em>step_value</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057232"></a>Dimension by which to size in each STEP. Specifying this argument splits the SIZE function into a number of SIZE and logical AND functions. These functions are internally performed by Dracula to increase the accuracy of sizing for U-shaped geometries.</p>

<p>
<a id="pgfId-1028850"></a></p>
<div class="webflare-div-image">
<img width="518" height="242" src="images/chap13-118.gif" /></div>
<p><strong>
<a id="pgfId-1019607"></a><code>AUTO</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057238"></a> When you specify STEP AUTO, the value of STEP is automatically adjusted according to your rules file. Use AUTO for large value sizing only (sizing over 10 microns).</p>

<p><strong>
<a id="pgfId-1057243"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057246"></a> Trapezoid file created by the resizing operation.</p>

<p><strong>
<a id="pgfId-1057251"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057254"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1057259"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057262"></a> <em>C-name</em> is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. <em>L-num</em> is the cell layer number determined by your CAD system. &#160;&#160;&#160;&#160;If your <em>c-name</em> is <em>rule03</em> and <em>l-num</em> is 5, the output cell name is <em>rule0305</em>. </p>
<p class="webflare-indent1">
<a id="pgfId-1019611"></a> The output cell (<em>c-name</em>) usually generates three cells that contain the total sized data. The data is in PG-compatible polygon format. The three cells are suffixed as follows:</p>

<p>
<a id="pgfId-1035770"></a></p>
<table class="webflareTable" id="#id1035754">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035756"></a><code>A</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035758"></a>Contains the sized data with acute angles. <em>C-name</em> generates this cell only if there are sized polygons with acute angles. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035760"></a><code>G</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035762"></a>Contains the sized data created by the first and second passes of the SIZE operation. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035764"></a><code>R</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035766"></a>Contains the sized data not in the cells suffixed with G and A. Sized data in this cell are questionable and require inspection. However, the data are good for most PG-compatible systems. Usually your data sizes correctly and there are no <em>R</em> cells. </p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1019615"></a> This conservative SIZE algorithm checks the sized data for the following:</p>

<p>
<a id="pgfId-1036508"></a> </p>
<table class="webflareTable" id="#id1035771">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1035773"></a>Acute angle </li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1035775"></a>Re-entrant </li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1035777"></a>Width too narrow (default is less than 1 micron)</li></ul>

</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1039686"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057277"></a> Datatype number associated with the layer number (<em>l-num</em>) of the output cell. Use<em> d-num</em> for GDSII only; values can range from 0 to 63.</p>

<p><strong>
<a id="pgfId-1057282"></a><code>DOWN-UP</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057285"></a>Keyword implemented to filter the smaller redundant parts of a big polygon. First of all, Dracula cuts the polygon into pieces by both vertical and horizontal directions according to each vertices&#8217; coordinations, and then calculates the width of each piece to see if it will remove it or not. </p>
<p class="webflare-indent1">
<a id="pgfId-1039700"></a> This option helps to extract big geometries that satisfy a specific width condition. Two similar ways to achieve this functionality is to either: </p>
<p class="webflare-indent1">
<a id="pgfId-1039701"></a> Use the WIDTH check with the [R] option to output the required segments. Refer to the <em>WIDTH[R]</em> command in this chapter for more information.</p>
<p class="webflare-indent1">
<a id="pgfId-1039703"></a> Do a SIZE-DOWN operation, followed by a SIZE-UP operation. This method is more accurate, but introduces performance problems with dense layers like <em>METAL. </em>This option is limited to FLAT mode only.</p>
<p class="webflare-indent1">
<a id="pgfId-1039687"></a> The result of a single SIZE DOWN-UP is not intended to simulate that of a SIZE DOWN followed by a SIZE UP operation. Actually, the output is more like a WIDTH check with the [R] option. For example, </p>

<p>
<a id="pgfId-1039707"></a></p>
<div class="webflare-div-image">
<img width="668" height="379" src="images/chap13-119.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1039764"></a> The result of R1 is more preferable than R2 because two consecutive SIZE operations will probably give rise to acute angles and cause false errors in subsequent checks.</p>
<p class="webflare-indent1">
<a id="pgfId-1039762"></a> For example, the following rules used in one case helped to eliminate false errors caused by acute angles induced by two SIZE DOWN-UP commands:</p>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1039771"></a><code>WIDTH[R]&#160;&#160;MT1&#160;&#160;             LT   10.0    MT1L10</code></pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1039772"></a><code>NOT&#160;&#160;     MT1       MT1L10               MT1G10</code></pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1039773"></a><code>SIZE&#160;&#160;    MT1G10    BY   -4.95           UM1G10</code></pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1039774"></a><code>SIZE&#160;&#160;    UM1G10    BY    4.95           OM1G10</code></pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1039775"></a><code>EXT&#160;&#160;     OM1G10    MT1     LT   1.3  OUT   D6D  53 ;</code></pre>

<p class="webflare-indent1">
<a id="pgfId-1039768"></a> If MT1 is a very dense layer, it takes longer in the above example to do the WIDTH[R] operation. But, if a single SIZE DOWN-UP command is used it takes hardly 30 seconds and the speed is optimized by 160 times with the result being almost as accurate as <code>MT1G10</code> without inducing any acute angle. </p>
<p class="webflare-indent1">
<a id="pgfId-1057302"></a></p>
<table class="webflareTable" id="#id1019618">
<caption style="text-align:left;"><p>
</p><div class="ft-figtabl-title">
<a id="pgfId-1019620"></a>SIZE Database Partition (Distributed Dracula on 2 Nodes)</div></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019630"></a></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019632">
<a id="pgfId-1019632"></a>Total </span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019634">
<a id="pgfId-1019634"></a>PRESEL</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019636">
<a id="pgfId-1019636"></a>POSCAT</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019638">
<a id="pgfId-1019638"></a>SIZE</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019640">
<a id="pgfId-1019640"></a>SIZE</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019642"></a>00:29:11</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019644"></a>Not Applicable</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019646"></a>Not Applicable</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019648"></a>00:29:11</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019650">
<a id="pgfId-1019650"></a>SIZE[D]</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019652"></a>00:45:09<br />(-1.55x)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019654"></a>00:28:08</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019656"></a>00:05:36</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019658"></a>00:05:57</p>
<p>
<a id="pgfId-1019659"></a>00:05:45</p>
<p>
<a id="pgfId-1019660"></a>00:05:39</p>
<p>
<a id="pgfId-1019661"></a>00:05:30</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019663">
<a id="pgfId-1019663"></a>SIZE[D2]</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019665"></a>00:43:39 <br />(-1.50x)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019667"></a>00:27:19</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019669"></a>00:05:14</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019671"></a>00:11:13</p>
<p>
<a id="pgfId-1019672"></a>00:10:31</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1019674">
<a id="pgfId-1019674"></a>SIZE[D3]</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019676"></a>00:44:03<br />(-1.51x)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019678"></a>00:25:44</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019680"></a>00:05:24</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019682"></a>00:07:18</p>
<p>
<a id="pgfId-1019683"></a>00:06:48</p>
<p>
<a id="pgfId-1019684"></a>00:06:03</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1019685"></a>Example 1</h4>

<p>
<a id="pgfId-1019686"></a>This example sizes all poly data, outputs it to the <em>unpoly</em> layer, and creates <em>upoly30G, upoly30A </em>(sometimes), and <em>upoly30R</em> (rarely). </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019687"></a>SIZE poly BY -.1 unpoly OUTPUT upoly 30 </pre>
<h4>
<a id="pgfId-1019688"></a>Example 2</h4>

<p>
<a id="pgfId-1019689"></a>In this example, the <code>T</code> option specifies that output cell <code>OMETALIO.DAT</code> is a polygon file that contains trapezoid shapes instead of a normal polygon file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019690"></a>SIZE[T] METAL1 BY 5 OMETAL OUTPUT OMETAL 10 </pre>
<h4>
<a id="pgfId-1019691"></a>Example 3</h4>

<p>
<a id="pgfId-1019692"></a>This example sizes <em>cont </em>layer shapes by 25 microns, but keeps the resulting <em>cont </em>shapes within their enclosing met1 shapes. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019693"></a>SIZE cont WITHIN met1 BY 25.0 conts</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1019713"></a>This option sizes across a notch in the <em>met1</em> layer by the full amount.</div>

<p>
<a id="pgfId-1028877"></a></p>
<div class="webflare-div-image">
<img width="668" height="223" src="images/chap13-120.gif" /></div>
<h4>
<a id="pgfId-1019714"></a>Example 4</h4>

<p>
<a id="pgfId-1019715"></a>The following example sizes the <em>cont </em>layer shapes by 25 microns in steps of 4.9 microns, keeping the resulting shape within the enclosing <em>met1</em> shape at each step. This results in growing around the notch (rather than skipping over it), but this takes Dracula longer to execute than the method used in Example 3. The value of 4.9 microns is chosen to be just less than the minimum <em>met1</em> notch allowed in the process. Therefore, within any one step, the sized shape cannot skip across the notch.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019738"></a>SIZE cont WITHIN met1 BY 25.0 STEP 4.9 conts</pre>
<p>
<a id="pgfId-1028918"></a></p>
<div class="webflare-div-image">
<img width="635" height="235" src="images/chap13-121.gif" /></div>
<h4>
<a id="pgfId-1019739"></a> Example 5</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019740"></a>SIZE poly BY -1 unpoly<br />SIZE poly BY 1 ovpoly </pre>
<p>
<a id="pgfId-1028966"></a></p>
<div class="webflare-div-image">
<img width="676" height="632" src="images/chap13-122.gif" /></div>
<h4>
<a id="pgfId-1019791"></a>Example 6</h4>

<p>
<a id="pgfId-1019792"></a>After the logical operation, this example sizes the layer gate by 0. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019793"></a>AND dif poly gate <br />SIZE gate BY 0 OUTPUT gate 16 </pre>
<h4>
<a id="pgfId-1019794"></a>Example 7</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019820"></a>SIZE[O] contact BY 2 drc3</pre>
<p>
<a id="pgfId-1029026"></a></p>
<div class="webflare-div-image">
<img width="503" height="202" src="images/chap13-123.gif" /></div>
<h4>
<a id="pgfId-1019821"></a>Example 8</h4>

<p>
<a id="pgfId-1019822"></a>When sizing layers from technologies that contain small geometries (2 microns or less), you can specify the SIZE-MIN-WIDTH command in the Description block. In this example, the SIZE command uses minimum polygon cut-line widths of 0.005 microns.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019823"></a>*DESCRIPTION <br />SIZE-MIN-WIDTH=0.005 mic <br />. <br />. <br />*END <br />*OPERATION <br />SIZE metal BY -.2 OUTPUT umetal 53 <br />*END </pre>

<p>
<a id="pgfId-1019824"></a>If you want a 10X reticle and you are using an optical system, you must specify a minimum value of 0.4 microns for SIZE-MIN-WIDTH because 4 microns is the minimum flash width. </p>

<h4>
<a id="pgfId-1019825"></a>Example 9</h4>

<p>
<a id="pgfId-1019826"></a>The SIZE-MAX-VERTEX default value is 200 vertices. Use the default only with a CAD layout system that accepts PG-compatible polygon formats with less than 200 vertices. In this example, the maximum number of vertices is 50 when building polygons on layer nbur54.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019827"></a>*DESCRIPTION <br />SIZE-MAX-VERTEX=50 <br />. <br />. <br />*END <br />*OPERATION <br />SIZE buried BY .2 OUTPUT nbur 54 <br />*END </pre>
<h4>
<a id="pgfId-1019828"></a>Example 10</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1022351"></a>SIZE[WN] poly BY 1 OUTPUT ovpoly 46   ; to output PG compatible <br />                                  ;   ; polygon format data to <br />                                  ;   ; a CAD system <br />SIZE&#160;&#160;   met BY .25 omet </pre>
<h4>
<a id="pgfId-1019830"></a>Example 11</h4>

<p>
<a id="pgfId-1019831"></a>This example checks a well region that contains a contact every 100 microns.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019832"></a>SIZE cont WITHIN well by 100 cont1 <br />NOT well cont1 latcherr</pre>
<p>
<a id="pgfId-1029058"></a></p>
<div class="webflare-div-image">
<img width="685" height="341" src="images/chap13-124.gif" /></div>
<h4>
<a id="pgfId-1019855"></a>Example 12</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019856"></a>;find metal 1 with width greater than 15 microns</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019857"></a>SIZE&#160;&#160;metal1&#160;&#160;DOWN-UP&#160;&#160;by 7.5&#160;&#160;bigmet15</pre>
<h4>
<a id="pgfId-1037991"></a><a id="23008"></a>Example 13 - Optimizing the Rule Using the SIZE Command</h4>

<p>
<a id="pgfId-1037997"></a>In Dracula 4.81 and higher versions, you can speed up the run time by replacing </p>
<ul><li>
<a id="pgfId-1038002"></a>Oversize or undersize sequence to &#8220;SIZE up-down&#8221; commands</li><li>
<a id="pgfId-1038003"></a>Undersize or oversize sequence to &#8220;SIZE down-up&#8221; commands</li><li>
<a id="pgfId-1038231"></a>If you have set <code>optimize-rule=yes</code> in your description block and if your statements in your rule file are as shown below:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1038232">
<a id="pgfId-1038232"></a>SIZE L1 by 0.1 T1
SIZE t1 by -0.1 L2</pre>
<a id="pgfId-1038233"></a>then PDRACULA will suggest to you to replace these above 2 statements by the following statement if you want to optimize your rule:<pre class="webflare-pre-block webflare-courier-new" id="#id1038234">
<a id="pgfId-1038234"></a>SIZE L1 up-down by 0.1 L2</pre></li><li>
<a id="pgfId-1038235"></a>If you have set <code>optimize-rule=yes</code> in your description block and if your statements in your rule file are as shown below:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1038236">
<a id="pgfId-1038236"></a>SIZE L1 by -0.1 T1
SIZE t1 by 0.1 L2</pre>
<a id="pgfId-1038237"></a>then PDRACULA will suggest to you to replace these above 2 statements by the following statement if you want to optimize your rule:<pre class="webflare-pre-block webflare-courier-new" id="#id1038238">
<a id="pgfId-1038238"></a>SIZE L1 down-up by 0.1 L2</pre></li></ul>










<h4>
<a id="pgfId-1045397"></a>Example 14 - </h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1045398"></a>SIZE L1 by &lt;s&gt;* TRUNCATE 1.41 L2</pre>
<p>
<a id="pgfId-1045399"></a>where <code>&lt;s&gt;</code> is the sizing distance.</p>
<p>
<a id="pgfId-1045395"></a>This will size the following figure:</p>

<p>
<a id="pgfId-1045413"></a></p>
<div class="webflare-div-image">
<img width="685" height="226" src="images/chap13-125.gif" /></div>
<h3>
<a id="pgfId-1019859"></a>SNAP<a id="SNAP"></a></h3>
<a id="pgfId-1019861"></a><a id="marker-1019860"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SNAP{[P]}<code><em> layer-a</em></code> TO <code><em>grid-value {trapfile</em></code>] </pre>
<h4>
<a id="pgfId-1019862"></a>Description</h4>

<p>
<a id="pgfId-1019865"></a>S<a id="marker-1019863"></a>naps the coordinates of the geometry to a specified <a id="marker-1019864"></a>grid and outputs the result to another layer.</p>

<h4>
<a id="pgfId-1019866"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019867"></a><code>P</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057312"></a> Snaps the coordinates of the geometry to a specified grid in a polygon file. The default is to snap the coordinates of the geometry to a specified grid in a trapezoid file.</p>

<p><strong>
<a id="pgfId-1057317"></a><span class="webflare-courier-new" style="white-space:pre"><em>input-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057320"></a> Input layer name. If <em>P</em> is specified, the <span class="webflare-courier-new" style="white-space:pre"><em>input-layer</em></span> must be a polygon file.</p>

<p><strong>
<a id="pgfId-1057325"></a><span class="webflare-courier-new" style="white-space:pre"><em>grid-value</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057328"></a>Grid to which to snap the layer. The value must be the multiple of the RESOLUTION specified in the Description block.</p>

<p><strong>
<a id="pgfId-1057333"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057336"></a>Output layer name. The <span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> can have up to seven alphanumeric characters and no special characters. The first character must be a letter. If <em>P</em> is not specified, the <span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> name must be specified.</p>
<p>
<a id="pgfId-1019871"></a>All coordinates of the input-layer are snapped to the nearest grid. The middle point is snapped in the positive direction.</p>

<h4>
<a id="pgfId-1019872"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019873"></a>*DESCRIPTION<br />   RESOLUTION = 0.005 mic<br />*END<br />*OPERATION<br />SNAP YYPOLY TO 0.1 ZZPOLY<br />SIZE ZZPOLY BY 0.0 OUTPUT PPOLY 4<br />SNAP[P] PPOLY04 TO 0.1</pre>
<h3>
<a id="pgfId-1019875"></a><a id="29351"></a>SOFTCHK</h3>
<a id="pgfId-1019877"></a><a id="marker-1019876"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SOFTCHK  <code><em>lower-layer</em></code> {<code><em>trapfile</em></code>} OUTPUT[U]  <code><em>c-name  l-num</em></code>  {<code><em>d-num</em></code>} </pre>
<h4>
<a id="pgfId-1019878"></a>Description</h4>

<p>
<a id="pgfId-1019881"></a>R<a id="marker-1019879"></a>eports regions on a specified layer that c<a id="marker-1019880"></a>onnect to more than one node. </p>

<h4>
<a id="pgfId-1019882"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019883"></a><span class="webflare-courier-new" style="white-space:pre"><em>lower-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057343"></a> Layer defined in SCONNECT that you are checking and from which you need to generate the soft connection violation outputs.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1042804"></a> The internal file naming convention is the input layer name prefixed with &quot;S_&quot;. Do not specify a layer name (for example, NWELL) and the S_prefixed version (S_NWELL) as it might result in a layer names conflict in which user data is overwritten by intermediate SOFTCHK results. </div>

<p><strong>
<a id="pgfId-1019884"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057352"></a>Name you designate as the output file to contain composite trapezoids. Before you do any operation on a trapfile, you need to either &#8220;OR&#8221; the layer with itself or &#8220;AND&#8221; the layer with the substrate layer. </p>

<p><strong>
<a id="pgfId-1057357"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057360"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1057365"></a><code>A</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057368"></a><code>&#160;&#160;&#160;&#160;</code>Outputs an <a id="marker-1019886"></a>upper_layer file containing all geometries.</p>

<p><strong>
<a id="pgfId-1057373"></a><code>U</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057376"></a><code>&#160;&#160;&#160;&#160;</code>Outputs an upper_layer file containing the errors Dracula selects.</p>

<p><strong>
<a id="pgfId-1057381"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057384"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and <br />l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1057389"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057392"></a> Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>
<p>
<a id="pgfId-1019891"></a>If there is more than one connection, the soft connection check region is connected by only the contacts whose node number contains the most number of trapezoids among the node numbers of the multiple contacts. It is best to fix the violations before continuing the job. </p>
<p>
<a id="pgfId-1019892"></a>All involved layers, except the specified layer, must have nodal information before any soft connection check can be made. </p>
<p>
<a id="pgfId-1019894"></a>Soft connection violations are reported in the<a id="marker-1019893"></a> .ERC file. In addition, the U option generates a <a id="marker-1019895"></a>graphic output file. This file has the trapezoids on the layers connecting the upper_layer and lower_layer. The file name is as specified in OUTPUT but preceded by U.</p>

<h4>
<a id="pgfId-1019896"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019897"></a>CONNECT-LAYER = NSUB PWELL PSD NSD POLY METAL MET2<br />.<br />.<br />.<br />CONNECT MET2 METAL BY VIA<br />CONNECT METAL POLY BY CONT<br />CONNECT METAL PSD BY CONT<br />CONNECT METAL NSD BY CONT<br />SCONNECT PSD PWELL BY CONT<br />SCONNECT NSD NSUB BY NCONT<br />.<br />.<br />.<br />SOFTCHK PWELL OUTPUT[U] DSOFT 50</pre>
<h3>
<a id="pgfId-1019899"></a>SPFSELECT </h3>
<a id="pgfId-1019900"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SPFSELECT{[<code><em>opt</em></code>]} <code><em>element</em></code>{[<code><em>type</em></code>]}{REL <code><em>val-a</em></code>} {RANGE <code><em>val-a val-b</em></code>} {CORNER = <code><em>n1</em></code>} {OUTPUT <code><em>c-name</em></code> {<code><em>l-num</em></code>}} {&amp;}</pre>
<h4>
<a id="pgfId-1019901"></a>Description</h4>

<p>
<a id="pgfId-1019904"></a>G<a id="marker-1019902"></a><a id="marker-1019903"></a>enerates a detailed standard parasitic file (DSPF) for HPRE. For more information about the DSPF format, refer to <h-hot><a href="chap9.html#47651"></a><xrefstd>DSPF Format<h-hot /></xrefstd></h-hot></p>
<p>
<a id="pgfId-1019909"></a>Argument definitions for the SPFSELECT command are the same as for the LPESELECT command except that you cannot specify a type if you specify a CAP element in your run file. </p>
<p>
<a id="pgfId-1019910"></a>To generate a DSPF file according to DFII instance or net naming conventions, specify the SPF-MAP-FILE command in the Description block. This DSPF file can be used as an input to Cadence Central Delay Calculator (CDC) tools for timing analysis.</p>

<h4>
<a id="pgfId-1019911"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1019912"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057399"></a> Composite.</p>

<p><strong>
<a id="pgfId-1057404"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057407"></a> HPRE.</p>

<h4>
<a id="pgfId-1019914"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019915"></a><span class="webflare-courier-new" style="white-space:pre"><em>opt</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057413"></a> Options are the following:</p>

<p>
<a id="pgfId-1035893"></a></p>
<table class="webflareTable" id="#id1035784">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035786"></a><code>A</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035788"></a>Flags capacitances on all nodes, including power and ground nodes; if not specified, capacitances on power and ground nodes are not reported.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035790"></a><code>C</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035792"></a>Checks cross-coupling capacitance; if not specified, total loading is assumed. Dummy C&#8217;s and R&#8217;s are not output into the SPF file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035794"></a><code>G</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035796"></a>Specifies that the original ground node names, rather than the default VSS node name, are used in the output SPICE file. This option should not be used with the N option.</p>
<p>
<a id="pgfId-1039008"></a>VSS is the default for composite and cell mode.</p>
<p>
<a id="pgfId-1038963"></a>In multiple-ground cases, if you want only one of them as ground node in the output SPICE file, the <a href="chap11.html#42467">LPE-GROUND</a> command now lets you specify a unique ground name. The LPE-GROUND command overwrites this SPFSELECT[G] command.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035798"></a><code>K</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035800"></a>Does not smash parallel transistors as one; for example, transistors of the same source, gate, drain (connected to the same nodes). Instead, these transistors are reported individually.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035802"></a><code>N</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035804"></a>Pure SPICE format preferred.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035806"></a><code>P</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035808"></a>Checks cross-coupling capacitance as a percentage of total loading. If you do not specify this option, a check is performed directly against val-a. Options <em>C, P, </em>and <em>A</em> are implemented to select only capacitors. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035810"></a><code>R</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035812"></a>Reports the area and perimeter of parasitic capacitors. The area is reported in place of the capacitance value. The perimeter is reported as a comment with the prefix <em>PERI=</em>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035814"></a><code>S</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035816"></a>Schematic node names report preferred (from LOGLVS). </p>
<p>
<a id="pgfId-1038997"></a>For this <span class="webflare-courier-new" style="white-space:pre"><em>S</em></span> option, the schematic ground is used in flat mode. VSS is still used as the default for composite and cell mode. You can use the G option or LPE-GROUND to overwrite the default ground VSS.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035818"></a><code>u</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035820"></a>Does not comment out parasitic CAP and RES with terminals connected to power and ground nodes or power and ground subnodes in the DSPF output. This option takes effect whether you do or do not specify back annotation. This option is used together with Z option. Whenever you specify the Z option, resistors and capacitors extracted on power and ground nets are output in commented form. You can use the U option to uncomment them.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035822"></a><code>Y</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035824"></a>Reports the transistor x and y coordinates in the LPESELECT listing file. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035826"></a><code>Z</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035828"></a>Outputs resistors and capacitors extracted on power and ground nets in the DSPF file. You cannot use this DSPF as input to Cadence CDC. The Z option also outputs the instance name in front of power and group net names in the instance section of the DSPF file.</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1035866"></a><span class="webflare-courier-new" style="white-space:pre"><em>element</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057420"></a> Type code specified in the ELEMENT device command. If no type is specified, all ELEMENT types are invoked.</p>

<p>
<a id="pgfId-1035892"></a></p>
<table class="webflareTable" id="#id1035871">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035873"></a>MOS </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035875"></a>MOS Devices</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035877"></a>DIO </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035879"></a>Diode Devices</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035881"></a>CAP </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035883"></a>Capacitor Devices</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035885"></a>BJT </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035887"></a>Bipolar Devices </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035889"></a>RES </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035891"></a>Resistor Devices</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1035868"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057426"></a> Specifies a one- or two-character code to denote the type of the element.</p>
<p class="webflare-indent1">
<a id="pgfId-1019930"></a> To group or smash different subtypes of capacitors, specify type as [<em>new-subtype:subtype+subtype+...</em>]. This syntax sums the capacitance values of multiple subtypes into a new subtype. The SPICE output file then contains all parasitic metal caps, all poly capacitors, and so forth, smashed into a new group subtype. The subtypes can have different parset numbers and must be defined by PARASITIC commands. You cannot use the S option when you group different subtypes.</p>

<p><strong>
<a id="pgfId-1019931"></a><code>REL</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057435"></a> Specifies one of the following:</p>

<p>
<a id="pgfId-1036509"></a></p>
<table class="webflareTable" id="#id1035894">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035896"></a>GE</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035898"></a>Element parameters must be greater than or equal to val-a. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035900"></a>GT</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035902"></a>Element parameters must be greater than val-a. </p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1019933"></a><code>RANGE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057442"></a> Specifies element parameters, which must be greater than or equal to <br />val-a and less than or equal to val-b. </p>

<p><strong>
<a id="pgfId-1057447"></a><span class="webflare-courier-new" style="white-space:pre"><em>val-a</em></span><code>/</code><span class="webflare-courier-new" style="white-space:pre"><em>val-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057450"></a> Specifies value for value-a or value-b, which can be floating point (maximum of 7 digits) or a floating-point number followed by an integer exponent (maximum 2 digits). When floating-point numbers are specified, the leading zeros are not counted in the 7-character restriction. The preprocessor rounds the value at the 7th digit. In scientific notation, the limit is 16 characters and is truncated at the 17th. </p>

<p><strong>
<a id="pgfId-1057455"></a><code>CORNER = </code><span class="webflare-courier-new" style="white-space:pre"><em>n1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057458"></a> Effective MOS channel width/length calculation. You can specify CORNER as a positive or negative value. For a pulldown device (default = 0), for each 15-degree turn in a transistor channel, a 1/6 fraction of CORNER specified times length (L) is added or subtracted from a transistor default width (W). For a load-device, W is not changed and L is modified. </p>
<p class="webflare-indent1">
<a id="pgfId-1019936"></a> CORNER uses the same algorithm as WEFFECT in LPECHK. </p>

<p><strong>
<a id="pgfId-1019937"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057467"></a> Outputs SPICE listing to a file. </p>

<p><strong>
<a id="pgfId-1057472"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057475"></a> C-name and l-num are concatenated to make up the file name and the subcircuit name of the SPICE listing. C-name can have six alphanumeric characters. If l-num is not specified, only c-name is used. For example, if c-name = CKTNAM and l-num = 10, the output file name is CKTNAM10 and the subcircuit name is the same in the SPICE listing. </p>

<p><strong>
<a id="pgfId-1057480"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057483"></a> Indicates a conjunctive rule. This command can be used only with other LPESELECT commands.</p>
<p>
<a id="pgfId-1019940"></a>For more information about ELEMENT MOS/DIO/CAP/BJT/RES, see <a href="chap7.html#72770">Chapter 7, &#8220;Extracting Electrical Parameters (LPE).&#8221;</a></p>

<h4>
<a id="pgfId-1019944"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019945"></a>SPFSELECT[S] RES[A] &amp;<br />SPFSELECT[S] CAP OUTPUT SPF1</pre>
<h3>
<a id="pgfId-1019947"></a>STAMP </h3>
<a id="pgfId-1019948"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
STAMP <code><em>stamped-layer</em></code> BY <code><em>stamping-layer </em></code> {OUTPUT {[<code><em>options</em></code>]} 
<code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} </pre>
<h4>
<a id="pgfId-1019949"></a>Description</h4>

<p>
<a id="pgfId-1019950"></a>The layer processing sequence and the interlayer contacts form electrical nodes. Dracula forms and uniquely labels each electrical node that results from the <a id="marker-1019951"></a>CONNECT-LAYER and <a id="marker-1019952"></a>CONNECT commands. This process is called stamping. </p>
<p>
<a id="pgfId-1019954"></a>The <a id="marker-1019953"></a>STAMP command flags generated layers that are part of an electrical node but are not defined in the CONNECT command. Use this command after establishing the circuit connection. <a id="marker-1019955"></a>STAMP places the <a id="marker-1019956"></a>node labeling information from the stamping layer on the stamped layer. Stamping occurs only for stamped-layer polygons that overlap polygons in the stamping layer. </p>
<p>
<a id="pgfId-1019957"></a>The STAMP command is not necessary for layers that result from the AND and NOT commands. Dracula automatically stamps layers produced with the AND and NOT commands. Dracula stamps the output layer with the node labeling of the first layer (layer-a).</p>

<h4>
<a id="pgfId-1019958"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1019959"></a><span class="webflare-courier-new" style="white-space:pre"><em>stamped-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057490"></a> Name of a previously generated layer to stamp with the electrical node specification. </p>

<p><strong>
<a id="pgfId-1057495"></a><span class="webflare-courier-new" style="white-space:pre"><em>stamping-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057498"></a> Name of a layer that contains the electrical node labeling information. This layer can result from a previous CONNECT or STAMP. </p>

<p><strong>
<a id="pgfId-1057503"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057506"></a> Generates an error file containing multiple-stamped geometries. The error output coordinates are also reported in the .LOG and .ERC files.</p>

<p><strong>
<a id="pgfId-1057511"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057514"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and <br />l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1057519"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057522"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1019964"></a>The output cell contains clean polygons in polygon format, resulting in reduced trapezoid construction lines and a more compact cell.</div>

<p><strong>
<a id="pgfId-1019965"></a><span class="webflare-courier-new" style="white-space:pre"><em>options</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057528"></a> Can be from among the following:</p>

<p>
<a id="pgfId-1036510"></a></p>
<table class="webflareTable" id="#id1035906">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035908"></a>T</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035910"></a>Appends text to the output files. This option is applicable to all ERC output files.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035912"></a>U</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035914"></a>Generates one more output file with the same file name prefixed by U. This file contains the error geometries on the stamping layer, which caused the multiple stamping violations.</p>
</td>
</tr>
</tbody></table>

<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1019967"></a> If regions overlap a stamped layer more than once and these regions carry different electrical nodes, the stamped layer becomes an undefined node. In other words, you can stamp only a singular node overlap. </div>

<h4>
<a id="pgfId-1019968"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019969"></a>CONNECT  met  poly BY  cont<br />STAMP cont&#160;&#160; BY met&#160;&#160;          ;met has node information </pre>

<p>
<a id="pgfId-1019970"></a>In the figure, numbers 12 and 60 are internal node numbers of layer met, and 0 represents either a no stamped node number or a conflicting node number. </p>

<p>
<a id="pgfId-1029102"></a></p>
<div class="webflare-div-image">
<img width="524" height="324" src="images/chap13-126.gif" /></div>
<h3>
<a id="pgfId-1019997"></a>TRIANGLE </h3>
<a id="pgfId-1019998"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
TRIANGLE <code><em>input-layer</em></code> size <code><em>output-layer </em></code></pre>
<h4>
<a id="pgfId-1019999"></a>Description</h4>

<p>
<a id="pgfId-1020001"></a>Creates<a id="marker-1020000"></a> an output file that contains four triangle shapes at four corners of input trapezoids.</p>

<h4>
<a id="pgfId-1020002"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1020003"></a><span class="webflare-courier-new" style="white-space:pre"><em>input-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057536"></a> BULK layer defined in the SUBSTRATE command.</p>

<p><strong>
<a id="pgfId-1057541"></a><span class="webflare-courier-new" style="white-space:pre"><em>size</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057544"></a> Length (in microns) of the legs of the triangles. If the length or width of the trapezoid is less than the specified size, Dracula does not generate the triangles for that trapezoid.</p>

<p><strong>
<a id="pgfId-1057549"></a><span class="webflare-courier-new" style="white-space:pre"><em>output-layer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057552"></a> Output layer for the triangles.</p>

<h4>
<a id="pgfId-1020006"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020007"></a>*OPERATION<br />.<br />TRIANGLE BULK 5 TRIBULK<br />*END</pre>

<p>
<a id="pgfId-1020030"></a>This example results in the following:</p>

<p>
<a id="pgfId-1029134"></a></p>
<div class="webflare-div-image">
<img width="495" height="167" src="images/chap13-127.gif" /></div>
<h3>
<a id="pgfId-1020032"></a>WIDTH </h3>
<a id="pgfId-1020034"></a><a id="marker-1020033"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
WIDTH{[<code><em>option1</em></code>]} <code><em>layer-a</em></code>{&amp;<code><em>layer-a</em></code>}[<code><em>option2</em></code>] LT/LE/RANGE/SELLT/SELLE/ SELGT/SELGE/SELRA/ GT/GE/EQ/SELEQ/SELNE <code><em>n1</em></code> {<code><em>n2</em></code>} ANGLE = angle-opt {<code><em>trapfile</em></code>} {OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>}} {&amp;}</pre>
<a id="pgfId-1020035"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
WIDTH{[option1]} <code><em>layer-a </em></code>RECT = n3 BY n4 {trapfile} {OUTPUT c-name l-num {d-num}}</pre>
<h4>
<a id="pgfId-1020036"></a>Description</h4>

<p>
<a id="pgfId-1020038"></a>C<a id="marker-1020037"></a>hecks the dimensions between inside edges of polygons on the input layer.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042324"></a>The WIDTH command will not flag violations between obtuse angled edges.</div>

<h4>
<a id="pgfId-1047382"></a>Shell environment variables</h4>

<ul><li>
<a id="pgfId-1047385"></a><code>setenv SPAC_LISTERR_DIGIT [ 2 | 3 ] </code><br />
<a id="pgfId-1047386"></a>Use this environment variable to set number of digits after the decimal point for EXT/ENC/WIDTH/INT log report.</li></ul>


<h4>
<a id="pgfId-1020039"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1020040"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057559"></a> Flat, cell, hierarchical, composite.</p>

<p><strong>
<a id="pgfId-1057564"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057567"></a> HDRC.</p>

<h4>
<a id="pgfId-1020042"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1020043"></a><span class="webflare-courier-new" style="white-space:pre"><em>option1</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057573"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Can include the following:</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1036089"></a>The plus sign (+) in an option adds error flags and the minus sign (-) removes error flags.</div>
<table class="webflareTable" id="#id1036090">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042595"></a><code>B</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042597"></a>Flags the actual part of a violation on a segment instead of the entire segment. This option can be applied only with LT or LE modifiers. Neither RA, GT, nor GE modifiers can contain the B option.<br /><strong>Note: </strong>Causes round-off side effects on non-45-degree edges.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036386"></a><code>C</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036388"></a>(-)Flags the edge-pair when the edges are parallel. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036390"></a><code>C&#8217;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036392"></a>(-)Inverse of the C option. Flags nonparallel edges.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036394"></a><code>D</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036396"></a>Disables acute-angle checking.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036398"></a><code>F</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036400"></a>Outputs error flags in trapezoid format that execute information for edge-sizing SIZE[E] operations.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048835"></a><code>F&#8217;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048837"></a>Outputs error flags in trapezoid format. You must specify only <em>trapfile</em> name. It is similar to <code>R</code> option but does not turn on the <code>P</code> option.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1036402"></a><code>L</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1036404"></a>Length check. Useful for exact contact check.</p>
<p>
<a id="pgfId-1036415"></a></p>
<div class="webflare-div-image">
<img width="414" height="154" src="images/chap13-128.gif" /></div>
<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1048559"></a>
This option is deprecated and should not be used. Use <code>RECTCHK</code> command instead.</div>
</td>
</tr>
<tr />
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036421"></a><code>P</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036423"></a>(-)Flags segments of edges that project onto each other. Two edges project if perpendicular lines from a referenced edge intersect the other edge. The referenced edge is the edge most closely aligned to the x or y axis. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036425"></a><code>P&#8217;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036427"></a>(-)Inverse of the P option. Flags edges that do not project onto each other. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036429"></a><code>R</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036431"></a>Outputs in trapezoid format the trapezoids enclosing the projection of violation flag pairs. You must specify only the trapfile name. This option turns on the P option. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036433"></a><code>R&#8217;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036435"></a>Outputs error flags in trapezoid format so you can reuse error data. You can process the created layer (from the error flags) with logical operations. The flags are one resolution unit wide (as specified in the Description block). You cannot specify an OUTPUT error cell. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036437"></a><code>S</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1036439"></a>(+)Flags violations on the polygon if the edges of the polygon are within a &#8220;square boundary&#8221; inside of the other polygon edge. When you use this option, you can also specify the CORNER-CORNER and CORNER-EDGE options. The default values for n2 and n3 are n1. If you do not specify the CORNER-CORNER option, n2 is set equal to n1. If you do not specify CORNER-EDGE option, n3 is set equal to n1. The values you specify for n2 and n3 must be less than or equal to the default normal checking value, n1.</p>
<p>
<a id="pgfId-1036457"></a></p>
<div class="webflare-div-image">
<img width="454" height="154" src="images/chap13-129.gif" /></div>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036459"></a><code></code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036463"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036465"></a>Use the following syntax for these options:</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036467"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036469"></a><code>WIDTH[S] layer1 LT n1 {CORNER-CORNER<br />  n2}{CORNER-EDGE n3} </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036471"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036473"></a>CORNER-CORNER works only when the two corners are opposite each other. This way, rotation has no effect on the area being checked.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036475"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036477"></a>CORNER-EDGE is bypassed if any error between two edge pairs has been flagged by a normal check.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036479"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036481"></a>The CORNER-CORNER checking value, n2, and the CORNER-EDGE value, n3, cannot be greater than the normal checking value, n1, because n2 and n3 act like filters and reduce the number of errors that were initially caught by n1. n2 must be greater than or equal to n1/sqrt(2).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036483"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036485"></a>Only 90 degree angles are treated as &quot;CORNER&quot;</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036487"></a><code>X</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036489"></a>Checks the delta value in the x direction between two edges. The edges must project onto each other. Does not check non-Manhattan data.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036491"></a><code>Y</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036493"></a>Checks the delta value in the y direction between two edges. The edges must project onto each other. Does not check non-Manhattan data.</p>
</td>
</tr>
</tbody></table>

<p><strong>
<a id="pgfId-1036244"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057580"></a> First input layer name.</p>

<p><strong>
<a id="pgfId-1057585"></a><code>&amp;</code><span class="webflare-courier-new" style="white-space:pre"><em>layer-a1</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057588"></a>Renames (conjunctive-rename) the layer containing the error flags. The original layer name is then restored to the original layer. No spaces are allowed between the layer-a and &amp;layer-a1 names, for example, poly&amp;rpoly.</p>

<p><strong>
<a id="pgfId-1057593"></a><span class="webflare-courier-new" style="white-space:pre"><em>option2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057596"></a><code>&#160;&#160;&#160;&#160;</code>Measures between all nonconsecutive pairs of inside edges of the polygons on the input layer.</p>
<p class="webflare-indent1">
<a id="pgfId-1020091"></a> Compares the measurements against the limits you specify and flags violations. </p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1020092"></a>
You must supply only one of these measurements:</div>
<p><strong>
<a id="pgfId-1020094"></a><code>LT/LE n1</code><a id="marker-1020093"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057605"></a><code>&#160;&#160;&#160;&#160;</code> Flags an error if the two segments are spaced less than n1 for LT or less than or equal to n1 for LE. Does not flag an error if the segments touch.</p>

<p><strong>
<a id="pgfId-1057610"></a><code>RANGE n1 n2</code><a id="marker-1020098"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057613"></a>  Flags an error if the two segments are spaced less than n2 and greater than n1. If you do not want acute-angle error flags, you must specify the RANGE measurement.</p>

<p><strong>
<a id="pgfId-1057618"></a><code>SELLT/SELLE n1</code><a id="marker-1022872"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057621"></a><code>&#160;&#160;&#160;&#160;</code> SELLT and SELLE output in trapezoid format those layer-a polygons that the program flags if you specify an LT n1 or an LE n1 and use the same options. Specify a trapfile name instead of using the OUTPUT statement. </p>

<p><strong>
<a id="pgfId-1057626"></a><code>SELGT/SELGE n1</code><a id="marker-1020100"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057629"></a>  SELGT outputs in trapezoid format the layer-a polygons that the program does not flag if you specify an LE measurement with the same options. SELGE has the same function as SELGT except that it works for an LT operation. You cannot use the OUTPUT statement with this option. Specify a trapfile name instead of using the OUTPUT statement.</p>

<p><strong>
<a id="pgfId-1057634"></a><code>SELRA n1 n2</code>  </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057637"></a>SELRA outputs in trapezoid format those layer-a polygons that the program would flag if you specify a RANGE n1 n2 measurement and use the same options. Specify a trapfile name instead of using the OUTPUT statement.</p>

<p><strong>
<a id="pgfId-1057647"></a><code>GT/GE n1</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057650"></a><code>&#160;&#160;&#160;&#160;</code> Flags an error if the two segments are spaced greater than n1 for GT or greater than or equal to n1 for GE. Does not flag an error if the segments touch.</p>
<div class="webflare-indent2 webflare-information-macro webflare-macro-note">
<a id="pgfId-1042915"></a>&quot;WIDTH GE/GT &lt;value&gt; ...&quot; is interpreted by DRACULA as &quot;WIDTH RANGE &lt;value&gt; 999 ...&quot;</div>

<p><strong>
<a id="pgfId-1022859"></a><code>EQ n1</code><a id="marker-1022858"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057656"></a><code>&#160;&#160;&#160;&#160;</code> Flags an error if the two segments are spaced equal to n1 for EQ. Does not flag an error if the segments touch.</p>

<p><strong>
<a id="pgfId-1057661"></a><code>SELEQ/SELNE n1</code><a id="marker-1022882"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057664"></a><code>&#160;&#160;&#160;&#160;</code> SELEQ output in trapezoid format those layer-a polygons that the program flags if you specify an EQ n1 and use the same options while SELNE outputs in trapezoid format those <em>layer-a</em> polygons that fail the EQ condition. Specify a trapfile name instead of using the OUTPUT statement. </p>

<p><strong>
<a id="pgfId-1057669"></a><span class="webflare-courier-new" style="white-space:pre"><em>angle-opt</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057672"></a> Specifies the 45, non-45, 90, or non-90 degree angle to be checked. When you use this option, the C option for the ANGLE option is automatically invoked, and you cannot disable it.</p>

<p><strong>
<a id="pgfId-1057677"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057680"></a> Trapezoid file name. Use this option only with the R or R&#39; option or with the SELLT, SELLE, SELGT, SELGE, SELRA operations. </p>

<p><strong>
<a id="pgfId-1057685"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057688"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1057693"></a><code>RECT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057696"></a> Checks rectangle shapes that are exactly this size: <em>n3xn4</em>.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1020114"></a>RECT check will be turned off immediately if it is used with LT/LE/GT/GE/EQ/RANGE/SELxx in WIDTH checks.</div>

<p><strong>
<a id="pgfId-1020115"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057702"></a>C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. Id your c-name is rule03 and <br />l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1057707"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057710"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only; values can range from 0 to 63. </p>

<p><strong>
<a id="pgfId-1057715"></a><code>&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057718"></a> Indicates a conjunctive rule.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1020118"></a>The output cell contains clean polygons in polygon format, resulting in reduced trapezoid construction lines and a more compact cell. The trapfile option and the OUTPUT command are mutually exclusive.</div>

<h4>
<a id="pgfId-1020119"></a>Layer Options</h4>
<p><strong>
<a id="pgfId-1020120"></a><code>O</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057724"></a> Checks the original layer, not the layer generated by the previous operation in the conjunctive rule. Use this option only with a conjunctive rule and on a layer with error flags. </p>

<h4>
<a id="pgfId-1020121"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020122"></a>ENC layer1 layer2 LT 1 outl1 &amp;<br />WIDTH layer1[O] LT 2 OUTPUT err1 23</pre>
<h4>
<a id="pgfId-1020123"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020138"></a>WIDTH metal LT 5 OUTPUT drc07 92 </pre>
<p>
<a id="pgfId-1029204"></a></p>
<div class="webflare-div-image">
<img width="569" height="293" src="images/chap13-130.gif" /></div>
<h4>
<a id="pgfId-1020139"></a>Example 3</h4>

<p>
<a id="pgfId-1020140"></a>This example checks for external metal spacing of 5.0 microns of metal lines that are 4.0 microns wide. These narrow metal lines must be spaced at 5.0 microns and not at 4.0 microns for wider busses.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020141"></a>WIDTH[PC] metal LE 4 &amp; <br />EXT[PC] metal metal[O] LT 5 OUTPUT drc07 93 </pre>

<p>
<a id="pgfId-1029229"></a></p>
<div class="webflare-div-image">
<img width="553" height="203" src="images/chap13-131.gif" /></div>
<h4>
<a id="pgfId-1020173"></a>Example 4</h4>

<p>
<a id="pgfId-1020174"></a>Example 3 rewritten: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020175"></a>WIDTH[PC] metal&amp;meta E 4 &amp; <br />EXT[PC] &amp;meta metal LT 5 OUTPUT drc07 94 </pre>
<p>
<a id="pgfId-1020176"></a>Also checks for external metal spacing as described in Example 2. Use the conjunctive-rename operation. This allows the &amp;meta conjuncted layer to be used later in another DRC conjunctive check. Layer metal reverts to metal[O] at this point. Conjunctive-rename is optional and can save CPU resources. </p>

<h4>
<a id="pgfId-1020177"></a>Example 5</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020206"></a>WIDTH met LT 3 output drc07 98 </pre>
<p>
<a id="pgfId-1029267"></a></p>
<div class="webflare-div-image">
<img width="507" height="190" src="images/chap13-132.gif" /></div>
<h4>
<a id="pgfId-1020207"></a>Example 6</h4>

<p>
<a id="pgfId-1020208"></a>This example checks for the width of circle metal contact (cmc) and produces no false errors. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020209"></a>WIDTH[C] cmc LT 5 drc07 90 </pre>

<h4>
<a id="pgfId-1020210"></a>Example 7</h4>

<p>
<a id="pgfId-1020211"></a>This example checks for metal contacts (mc) that are not 3 by n microns.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020212"></a>WIDTH[R] mc RANGE 2.99 3.01 mc3 <br />NOT mc mc3 badmc OUTPUT drc07 91 </pre>

<p>
<a id="pgfId-1029302"></a></p>
<div class="webflare-div-image">
<img width="676" height="161" src="images/chap13-133.gif" /></div>
<h4>
<a id="pgfId-1020245"></a>Example 8</h4>

<p>
<a id="pgfId-1020246"></a>The first three command lines check for transistor channel length of less than 3 microns. The fourth command checks for gate external spacing to contact (mc) in the direction of diffusion only. Touching is also an error. </p>
<p>
<a id="pgfId-1020247"></a>This example renames the gate layer to &amp;gwidth in the conjunctive-rename operation. This optional conjunct-rename operation saves a conjunctive command for the DRC check drc0796, thereby saving CPU resources. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020248"></a>AND poly diff gate <br />ENC[T] gate&amp;gwidth poly LT .001 &amp; <br />WIDTH[P] &amp;gwidth LT 3 OUTPUT drc07 92 </pre>
<p>
<a id="pgfId-1020249"></a>also </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020250"></a>EXT[T] &amp;gwidth mc LT 4 OUTPUT drc07 96 </pre>

<h4>
<a id="pgfId-1020251"></a>Example 9</h4>

<p>
<a id="pgfId-1020252"></a>This example outputs metal polygons that have widths greater than 10 microns only. Does not output widths less than or equal to 10 microns. The output layer is wmetal and is in trapezoid format. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020253"></a>WIDTH metal SELGT 10 wmetal </pre>

<h4>
<a id="pgfId-1020254"></a>Example 10</h4>

<p>
<a id="pgfId-1020255"></a>This example outputs metal polygons that are 10 microns in width at some point and are output to layer metal10 in trapezoid format. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020256"></a>WIDTH metal SELRA 9.9 10.1 metal10 </pre>

<h4>
<a id="pgfId-1020260"></a>Example 11</h4>

<p>
<a id="pgfId-1020261"></a>This example outputs the contact in the 3 X 3 rectangle shape.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020262"></a>WIDTH[L] CONTACT SELEQ 3 OUTPUT ERR 01</pre>

<h3>
<a id="pgfId-1020264"></a>XBOX </h3>
<a id="pgfId-1020265"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
XBOX {[T]} {[F]} <code><em>layer-a</em></code> OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>} </pre>
<h4>
<a id="pgfId-1020266"></a>Description</h4>

<p>
<a id="pgfId-1020270"></a>C<a id="marker-1020267"></a><a id="marker-1020268"></a>hecks for composite geometries in the specified layer that overlap or touch <a id="marker-1020269"></a>cell boxes (Hcell <a id="marker-1020271"></a>boundaries). Use the XBOX command to gather information about an HLVS operation. </p>

<h4>
<a id="pgfId-1020272"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1020273"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057731"></a> Composite.</p>

<p><strong>
<a id="pgfId-1057736"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057739"></a> HLVS.</p>

<h4>
<a id="pgfId-1020275"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1020276"></a><code>[T]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057752"></a> Indicates that touching is a violation.</p>

<p><strong>
<a id="pgfId-1057757"></a><code>[F]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057760"></a><code></code> Uses inner boundaries for framed Hcells, instead of Hcell boundaries, to check overlapping or touching.<a id="marker-1020277"></a><a id="marker-1020278"></a></p>

<p><strong>
<a id="pgfId-1057765"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057768"></a> Layer to be checked.</p>

<p><strong>
<a id="pgfId-1057774"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057777"></a> Sends the results to an output cell.</p>

<p><strong>
<a id="pgfId-1057782"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057785"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and <br />l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1057790"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057793"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1020284"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020285"></a>XBOX poly OUTPUT xpoly 55<br />XBOX[T] metal OUTPUT xmet 10<br />XBOX[TF] poly OUTPUT xpoly 51</pre>
<h3>
<a id="pgfId-1020287"></a>XCELL </h3>
<a id="pgfId-1020288"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
XCELL <code><em>layer-a layer-b</em></code> OUTPUT <code><em>c-name l-num</em></code> {<code><em>d-num</em></code>} </pre>
<h4>
<a id="pgfId-1020289"></a>Description</h4>

<p>
<a id="pgfId-1020292"></a>Checks <a id="marker-1020290"></a><a id="marker-1020291"></a>for geometries from the composite plane of layer-a or layer-b that <a id="marker-1020293"></a>overlap geometries in the<a id="marker-1020294"></a> Hcells from layer-a or layer-b. </p>
<p>
<a id="pgfId-1020295"></a>Use this command prior to an HLVS run to check for any device formation caused by overlapping areas of Hcells or by composite geometries that overlap Hcells. These devices are also checked by XDEVICE. Devices can be formed only by geometries that are solely from the composite or solely from within an Hcell. (The BASE-LAYER command is an exception to this rule.)</p>

<h4>
<a id="pgfId-1020296"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1020297"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057800"></a> Composite.</p>

<p><strong>
<a id="pgfId-1057805"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057808"></a> HLVS.</p>

<h4>
<a id="pgfId-1020299"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1020300"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057814"></a> First layer to be checked.</p>

<p><strong>
<a id="pgfId-1057819"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057822"></a> Second layer to be checked.</p>

<p><strong>
<a id="pgfId-1057827"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057830"></a> Outputs the results of the operation in the form of an output cell, where:</p>

<p><strong>
<a id="pgfId-1057835"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057838"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and <br />l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1057843"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057846"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1020305"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020306"></a>XCELL poly diff OUTPUT badgat 10</pre>
<h3>
<a id="pgfId-1020308"></a>XDEVICE </h3>
<a id="pgfId-1020309"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
XDEVICE <code><em>element</em></code>[<code><em>subtype</em></code>]  OUTPUT<code><em> C-name l-num</em></code> {<code><em>d-num</em></code>} </pre>
<h4>
<a id="pgfId-1020310"></a>Description</h4>

<p>
<a id="pgfId-1020313"></a>O<a id="marker-1020311"></a><a id="marker-1020312"></a>utputs devices formed by composite-to-cell or cell-to-cell interactions in a composite mode HLVS/HLPE/HERC run. These devices are <a id="marker-1020314"></a>extra devices that are not present in the schematics. The LVS report lists these devices, but they are not used in LVS matching nor reported in the HLPE output file. </p>
<p>
<a id="pgfId-1020315"></a>Specify only one XDEVICE command for each ELEMENT declaration. Dracula creates .ENC files for every layer. These .ENC files store information about the area between the cell plane and composite plane. </p>

<h4>
<a id="pgfId-1020316"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1020317"></a><span class="webflare-courier-new" style="white-space:pre"><em>element</em></span><code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>subtype</em></span><code>]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057855"></a> The element and its subtype.</p>

<p><strong>
<a id="pgfId-1057860"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057863"></a> Sends the results to an output cell.</p>

<p><strong>
<a id="pgfId-1057868"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057871"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and <br />l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1057876"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057879"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only. Values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1020321"></a>Example</h4>

<p>
<a id="pgfId-1020322"></a>This example outputs the composite-to-cell and cell-to-cell devices for MOS[P] to error cell ILLP10 and those for MOS[N] to ILLN11.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020323"></a>*OPERATION<br />ELEMENT MOS[P] PGATE POLY PSRCDRN NSUB<br />ELEMENT MOS[N] NGATE POLY NSRCDRN PWELL<br />XDEVICE  MOS[P]  OUTPUT  ILLP 10<br />XDEVICE  MOS[N]  OUTPUT  ILLN 11<br />LVSCHK[C] <br />*END</pre>
<p>
<a id="pgfId-1020324"></a>Dracula checks, and flags with x and y coordinates, devices formed by cell-to-cell or cell-to-composite interactions in the LVS report file. By the definition of an Hcell, these devices do not exist in the schematics. They are flagged as extra layout devices. The report format is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020325"></a>*********** XDEVICE SUMMARY REPORT ***********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020326"></a>EXTRA COMPOSITE/CELL OR CELL/CELL DEVICES IN LAYER  ILLN
&#160;&#160;&#160;&#160;ILLN         X=     5521.50,     Y=     4396.50 
&#160;&#160;&#160;&#160;ILLN&#160;&#160;       X=     5540.50,     Y=     4396.50</pre>

<p>
<a id="pgfId-1020327"></a>Dracula lists only the first 100 occurrences in the LVS report. They are listed whether or not you specified an XDEVICE. If you want an output layer for these devices, use the XDEVICE command. The output layer is a flat layer and all devices are output.</p>

<h3>
<a id="pgfId-1020329"></a><a id="38539"></a>XOR </h3>
<a id="pgfId-1020331"></a><a id="marker-1020330"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
XOR {[D{n}]} <em>layer-a layer-b trapfile</em> {OUTPUT <em>c-name l-num {d-num</em>}} </pre>
<h4>
<a id="pgfId-1020332"></a>Description</h4>

<p>
<a id="pgfId-1020334"></a>C<a id="marker-1020333"></a>reates a new layer from two other layers. The new layer consists of the total region of both layers minus the region shared by both layers. </p>
<p>
<a id="pgfId-1044098"></a>Database partition functions were added for the SELECT, SIZE, and LOGICAL commands. These enhancements resolve capacity limitation issues with Dracula. This allows you to partition input layers of these functions into blocks. When you run Distributed Dracula, each block (pair) can be assigned to one processor. Specify a value between 2-10 inclusive following &#8216;D&#8217; to indicate the number of partitions desired. The default value of &#8216;D&#8217; is 4 if the value is omitted.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1020337"></a>There is a performance gain in the database partition feature for SELECT in the 4.8 version. The same is not true for SIZE and LOGICAL on account of too much overhead from the pre-process (PRESEL for SIZE) and post-process (LOGMRG for LOGICAL) stages during the operations. Database partition scheme is designed specially for resolving Dracula capacity issues and is applied to flat mode only.</div>

<h4>
<a id="pgfId-1020338"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1020339"></a><code>D</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057886"></a> Turn on the database partition feature</p>

<p><strong>
<a id="pgfId-1057891"></a><code>n</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057894"></a> Number of blocks to be partitioned into</p>

<p><strong>
<a id="pgfId-1057899"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057902"></a> First input layer name</p>

<p><strong>
<a id="pgfId-1057907"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-b</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057910"></a> Second input layer name</p>

<p><strong>
<a id="pgfId-1057922"></a><span class="webflare-courier-new" style="white-space:pre"><em>trapfile</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057925"></a>Trapezoid file created by the logical operation. The t<em>rapfile </em>name can have up to seven characters and no special characters. A-Z and 0-9 are permitted, but the first character must be a letter.</p>

<p><strong>
<a id="pgfId-1057930"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057933"></a> Sends the results of the operation to an output cell.</p>

<p><strong>
<a id="pgfId-1057938"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057941"></a> <em>C-name</em> is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. <em>L-num</em> is the cell layer number determined by your CAD system. If your <em>c-name</em> is <em>rule03</em> and <br /><em>l-num</em> is 5, the output cell name is <em>rule0305</em>. </p>

<p><strong>
<a id="pgfId-1057946"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057949"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (<em>l-num</em>) of the output cell. Use <em>d-num</em> for GDSII only. Values can range from 0 to 63. </p>

<h4>
<a id="pgfId-1020347"></a>Example</h4>

<p>
<a id="pgfId-1020348"></a>The following example shows a database comparison between layers that are supposed to be identically digitized. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020399"></a>XOR diffa diffb err1 </pre>

<p>
<a id="pgfId-1029341"></a></p>
<div class="webflare-div-image">
<img width="676" height="527" src="images/chap13-134.gif" /></div>
<h3>
<a id="pgfId-1020401"></a>XVIA</h3>
<a id="pgfId-1020402"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
XVIA <code><em>layer-a</em></code> OUTPUT <code><em>C-name l-num</em></code> {<code><em>d-num</em></code>}</pre>
<h4>
<a id="pgfId-1020403"></a>Description</h4>

<p>
<a id="pgfId-1020408"></a>C<a id="marker-1020404"></a><a id="marker-1020405"></a>hecks for a <a id="marker-1020406"></a>contact layer that is not covered by a related <a id="marker-1020407"></a>conductor layer in either the composite plane or in the Hcells. You must specify the contact layer and related <a id="marker-1020409"></a>connect layers in a prior CONNECT command. </p>

<h4>
<a id="pgfId-1020410"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1020411"></a><code>modes</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057956"></a> Composite.</p>

<p><strong>
<a id="pgfId-1057961"></a><code>checks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057964"></a> HLVS.</p>

<h4>
<a id="pgfId-1020413"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1020414"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-a</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057977"></a> Layer containing the contacts to be checked.</p>

<p><strong>
<a id="pgfId-1057982"></a><code>OUTPUT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057985"></a> Sends the results to an output cell.</p>

<p><strong>
<a id="pgfId-1057990"></a><span class="webflare-courier-new" style="white-space:pre"><em>c-name l-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1057993"></a> C-name is the name of the output cell and can have six alphanumeric characters or fewer and no special characters. L-num is the cell layer number determined by your CAD system. If your c-name is rule03 and <br />l-num is 5, the output cell name is rule0305. </p>

<p><strong>
<a id="pgfId-1057998"></a><span class="webflare-courier-new" style="white-space:pre"><em>d-num</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1058001"></a><code>&#160;&#160;&#160;&#160;</code>Datatype number associated with the layer number (l-num) of the output cell. Use d-num for GDSII only; values can range from 0 to 63. </p>
<p>
<a id="pgfId-1020418"></a>Use this command to detect floating contacts that are not found otherwise and that are not allowed in HLVS runs.</p>

<h4>
<a id="pgfId-1020419"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020420"></a>XVIA contact OUTPUT uncont 10<br />XVIA via OUTPUT unvia 44</pre>

<p>
<a id="pgfId-1014140"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap12.html" id="prev" title="Input-Layer Block Commands">Input-Layer Block Commands</a></em></b><b><em><a href="appA.html" id="nex" title="Supported Database Records">Supported Database Records</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>