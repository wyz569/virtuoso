
<html><head><title>Checking Design Rules (DRC)</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sarita" />
<meta name="CreateDate" content="2023-09-14" />
<meta name="CreateTime" content="1694753391" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Dracula offers a complete set of integrated applications for IC layout designs. It contains information about the Dracula standalone verification product." />
<meta name="DocTitle" content="Dracula Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Checking Design Rules (DRC)" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="dracularef" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-14" />
<meta name="ModifiedTime" content="1694753391" />
<meta name="NextFile" content="chap4.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Physical Verification  Analysis" />
<meta name="PrevFile" content="chap2.html" />
<meta name="c_product" content="Dracula" />
<meta name="Product" content="Dracula" />
<meta name="ProductFamily" content="Dracula" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Dracula Reference -- Checking Design Rules (DRC)" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="dracularefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="dracularefTOC.html">Contents</a></li><li><a class="prev" href="chap2.html" title="Using Dracula">Using Dracula</a></li><li style="float: right;"><a class="viewPrint" href="dracularef.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap4.html" title="Checking Electrical Rules (ERC)">Checking Electrical Rules (ERC ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Dracula Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>3
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1014280"></a><hr />
<a id="10263"></a>Checking Design Rules (DRC)<hr />
</h1>

<p>
<a id="pgfId-1014281"></a>This chapter discusses Design Rule Checking in Dracula, focusing on the following topics:</p>
<ul><li>
<a id="pgfId-1014285"></a><a href="chap3.html#21082">&#8220;Design Rules Checker&#8221;</a></li><li>
<a id="pgfId-1014289"></a><a href="chap3.html#37975">&#8220;DRC Example&#8221;</a></li><li>
<a id="pgfId-1014292"></a><a href="chap3.html#32837">&#8220;Hierarchical and Multilevel Hierarchical Design Rules Checker&#8221;</a></li></ul>



<h2>
<a id="pgfId-1014295"></a><a id="21082"></a>Design Rules Checker</h2>

<p>
<a id="pgfId-1014296"></a>The Dracula Design Rules Checker (DRC) performs checks on layout geometries to ensure the layout can be manufactured under a specific IC process technology. Using DRC during the IC design process guarantees manufacturability of the layout and offers high yield for the process used.</p>
<p>
<a id="pgfId-1014297"></a>This chapter describes the DRC commands and shows a detailed example of a typical DRC run. It also describes hierarchical DRC (HDRC) and multilevel hierarchical DRC (MDRC).</p>
<p>
<a id="pgfId-1014298"></a>For more information about how to write different types of DRC checks, see &#8220;<h-hot><a actuate="user" class="URL" href="../draculauser/chap2.html#writing_drc_checks" show="replace" xml:link="simple">Writing DRC Checks</a></h-hot>&#8221; in the &#8220;Writing Rules for Dracula&#8221; chapter of the Dracula User Guide.</p>

<h3>
<a id="pgfId-1014300"></a>DRC Commands</h3>

<p>
<a id="pgfId-1014302"></a><a id="marker-1014301"></a>DRC includes an extensive set of design rules, including conjunctive rules. DRC commands are process technology independent, so you can write different Dracula rules files for different process technologies. The DRC commands can be grouped into three categories:</p>
<ul><li>
<a id="pgfId-1014304"></a><a id="marker-1014303"></a>Logical operation commands create new layers using combinations of original layers, previously created layers, or imported layers.</li><li>
<a id="pgfId-1014306"></a><a id="marker-1014305"></a>Sizing commands perform complex resizing and checking before producing final mask geometries. Dracula can resize layouts based on mask or silicon size and can accommodate the design rule requirements of new or modified process technologies.</li><li>
<a id="pgfId-1014308"></a><a id="marker-1014307"></a>Spacing commands check geometric spacing and sizing on polygons in the original and created layers. Dracula can flag and process errors further using conjunctive rules, the R option, or the R&#39; options.</li></ul>


<p>
<a id="pgfId-1014309"></a>The tab divider page at the beginning of this chapter lists all DRC commands. For detailed information about each DRC command, refer to <h-hot><a href="chap13.html#21059">Chapter 13, &#8220;Operation Block Commands.&#8221;</a></h-hot></p>

<h3>
<a id="pgfId-1014313"></a>Conjunctive Rules</h3>

<p>
<a id="pgfId-1014315"></a><a id="marker-1014314"></a>You can join some commands so that one command processes the errors output by a prior command. A conjunctive rule set is a series of commands that generates a single output.</p>
<p>
<a id="pgfId-1014317"></a><a id="marker-1014316"></a>To write a conjunctive rule, put an ampersand (&amp;) at the end of a command line. The output of that command is then available to any command that follows in the conjunctive set. Therefore, you can write a series of dependent checks. You must end a conjunctive rule set with an OUTPUT statement. </p>
<p>
<a id="pgfId-1014318"></a>The ampersand generates error flags for the corresponding input layers. Flags for layer-a segments are marked on layer-a, and flags for layer-b segments are marked on layer-b. These are conjuncted layers. Subsequent checks on a conjuncted layer filter these errors until any remaining errors are output. Use the renamed conjuncted layer in later checks so you do not have to recompute these error flags. Except for layers you rename, conjuncted layers revert back to the original layer after the conjunctive rule is completely processed.</p>
<p>
<a id="pgfId-1014319"></a>The ampersand (&amp;) is a reserved character, and anything that follows it on the same line is considered a comment. You cannot specify an output cell on the same line as an ampersand.</p>
<p>
<a id="pgfId-1014320"></a>The following is an example of a conjunctive rule using spacing checks:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014321"></a>EXT METAL LT 4.0 &amp;<br />LENGTH METAL GT 5.0 OUTPUT 10</pre>

<p>
<a id="pgfId-1014322"></a>The EXT command checks for geometries on the METAL layer with an external spacing of less than 4.0 units and flags them as errors. The LENGTH command then checks the error flags generated by the EXT command, finds the error flags that are greater than 5.0 units in length, and outputs them to layer 10.</p>

<h2>
<a id="pgfId-1014325"></a><a id="37975"></a>DRC <a id="drc_example"></a>Example<a id="marker-1016414"></a></h2>

<p>
<a id="pgfId-1014327"></a><a id="marker-1014326"></a>This section shows an example of a typical DRC run, including descriptions of the technology, the Description, Input-layer, and Operation block commands, and printed and graphic DRC output.</p>
<p>
<a id="pgfId-1014328"></a>This DRC example uses one cell of a memory chip. The following table lists information about the cell:</p>
<table class="webflareTable" id="#id1014329">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014331"></a>Technology</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014333"></a>3.5-micron NMOS</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014335"></a>Physical size</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014337"></a>410 x 260 microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014339"></a>Number of transistors</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014341"></a>160</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014343"></a>Number of polygons</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014345"></a>1100</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014347"></a>CAD graphics system</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014349"></a>Applicon 860</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014351"></a>Graphics unit scale</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014353"></a>0.0000152588 micron<br />(1 micron = 65536 VLSI units)</p>
</td>
</tr>
</tbody></table>

<h3>
<a id="pgfId-1014354"></a>Description Block</h3>

<p>
<a id="pgfId-1014357"></a><a id="marker-1014355"></a>The Description block contains the input/output devices and file names, CAD layout graphics system, graphics unit scale factor, cell (or portion of cell) under investigation, and execution mode. The commands for the Description block are as follows: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016437"></a>DESCRIPTION <br />;<br />PRIMARY = demo             ; Primary cell name<br />SYSTEM = cadence           ; CAD graphics system<br />INDISK = demodrc           ; Input file name<br />OUTDISK = demout           ; Output file name<br />SCALE = 0.0000152588 mic   ; Graphics scale factor<br />                           ; (or Rev-Scale = 65536 mic)<br />PRINTFILE = drcprt         ; Output print file<br />MODE = exec now            ; Execution mode<br />LISTERROR = yes            ; Extended error print<br />CHECK-PATH = yes           ; Checks expanded paths<br />RESOLUTION= 0.125 mic      ; Minimum layout increment<br />*END </pre>

<h3>
<a id="pgfId-1014359"></a>Input-Layer Block</h3>

<p>
<a id="pgfId-1014362"></a><a id="marker-1014360"></a>The <a id="marker-1014361"></a>Input-Layer block equates the system layer number with your own symbolic name and defines the mask sequence for the major layers in the technology process.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014363"></a>The srcdrn layer is not yet defined. A logical operation in the Operation block creates this layer.</div>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014364"></a>*INPUT-LAYER <br />;<br />diff      =  1   ; Diffusion input layer <br />epi       =  4   ; Epi contact input layer<br />poly      =  5   ; Polysilicon input layer <br />cont      =  6   ; Metal contact input layer<br />metal     =  7   ; Metal input layer <br />natural   =  9   ; Natural transistor implant layer <br />harddep   =  10  ; Hard depletion transistor implant<br />softdep   =  11  ; Soft depletion transistor implant<br />;<br />
CONNECT-LAYER = srcdrn poly metal&#160;&#160;;order of layer process<br />;<br />*END</pre>

<h3>
<a id="pgfId-1014365"></a>Operation Block</h3>

<p>
<a id="pgfId-1014367"></a><a id="marker-1014366"></a>As a result of the various chemical processes in the IC fabrication process, the silicon tends to expand or contract. Therefore, the IC masks might have to resize particular geometries to produce the after-process silicon geometries specified by each IC fabrication process. Because of the difference between the final silicon geometries and the IC masks, there are two ways to produce the IC layout.</p>
<ul><li>
<a id="pgfId-1014368"></a>Drawing based on mask size<br />
<a id="pgfId-1014369"></a>The designer develops the IC layout based on the mask size required to produce the final after-process silicon geometries.</li><li>
<a id="pgfId-1014370"></a>Drawing based on silicon size<br />
<a id="pgfId-1014371"></a>The designer develops the IC layout based on the final after-process silicon geometries.</li></ul>



<p>
<a id="pgfId-1014372"></a>Using the mask-size approach, the process engineer generates a set of mask design rules for the layout designer. These rules are based on the silicon design rules and the process deviation factor on the IC masks. The advantage of the mask-size approach is that the mask shop can use the layout database to produce the IC masks without resizing. The disadvantages of this approach are that mask design rules tend to be more complicated, layout has less physical meaning, and electrical parameters such as capacitance, resistance, and W/L become more difficult to compute. </p>
<p>
<a id="pgfId-1014373"></a>The design rules in the following examples are based on the mask-size approach. In the following rules, the dimensions for spacing are different in the &#8220;field&#8221; and &#8220;source-drain&#8221; directions because the polysilicon layer and the diffusion layer have different oversize and undersize amounts during the IC process.</p>
<p>
<a id="pgfId-1014374"></a>The following Operation block examples are based on a 3.5 NMOS process. The design rules and a sample rules file are shown for each example.</p>

<h4>
<a id="pgfId-1014375"></a>Gate and Depletion Rules</h4>

<p>
<a id="pgfId-1014376"></a>Typical mask design rules for the depletion implant mask (or enhancement blocking mask) and the gates are as follows: </p>
<ul><li>
<a id="pgfId-1014377"></a>Minimum overlap of transistors and capacitors for depletion implant mask (or enhancement blocking mask)<br />
<a id="pgfId-1014387"></a><table class="webflareTable" id="#id1014378">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014380"></a>In the field direction</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014382"></a>2.0 microns </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014384"></a>In the source or drain direction</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014386"></a>3.0 microns </p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1014388"></a>Minimum external spacing between depletion implant mask (or enhancement blocking mask) and transistors <br />
<a id="pgfId-1014398"></a><table class="webflareTable" id="#id1014389">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014391"></a>In the field direction</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014393"></a>2.5 microns </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014395"></a>In the source or drain direction</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014397"></a>3.5 microns </p>
</td>
</tr>
</tbody></table></li></ul>









<p>
<a id="pgfId-1014399"></a>Typical mask design rules for the epi contacts and transistors are as follows: </p>
<p class="webflare-indent1">
<a id="pgfId-1014400"></a>Minimum epi-contact spacing to a transistor edge </p>

<p>
<a id="pgfId-1014410"></a></p>
<table class="webflareTable" id="#id1014401">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014403"></a>In the field direction</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014405"></a>3.0 microns </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014407"></a>In the source or drain direction</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014409"></a>4.0 microns </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1014411"></a>To specify these rules, use the following commands in the Operation block: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014412"></a>*OPERATION<br />;<br />; FORM TRANSISTORS OVERSIZED IN SOURCE/DRAIN DIRECTION<br />;<br />SIZE poly BY 1 ovpoly ; Oversize polysilicon to expand channels in s/d direction.<br />AND ovpoly diff ovpodif ; Form ovpodif channels oversized in s/d direction. <br />NOT ovpodif epi xtor ; Form xtor transistors oversized in s/d direction.<br />;<br />; FORM DEPLETION IMPLANT AND ENHANCEMENT BLOCKING<br />;<br />OR natural harddep eblk ; Form enhancement blocking layer <br />OR harddep softdep depl ; Form depletion implant layer <br />;<br />ENC[T] xtor eblk LT 2.0 OUTPUT drc02 41 ; Enhancement <br />ENC[T] xtor depl LT 2.0 OUTPUT drc03 51 ; Depletion <br />; <br />EXT[T] eblk xtor LT 2.5 OUTPUT drc02 42 ; Enhancement <br />EXT[T] depl xtor LT 2.5 OUTPUT drc03 52 ; Depletion <br />; <br />EXT[T] epi xtor LT 3.0 OUTPUT drc04 61 <br />; <br />ENC[T] xtor&amp;pxtor ovpoly LT .001 &amp; ; Or in the direction of diffusion.<br />EXT[T] &amp;pxtor epi LT 3.0 OUTPUT drc05 62 <br />; diffusion conjunctive rename of xtor layer to &amp;pxtor fs</pre>

<h4>
<a id="pgfId-1014413"></a>Diffusion Separation Rules</h4>

<p>
<a id="pgfId-1014414"></a>Typical mask design rules for the external separation of the diffusion geometries are as follows: </p>
<p class="webflare-indent1">
<a id="pgfId-1014415"></a>Minimum diffusion external separation for the diffusion (field) mask when overlapped by an epi contact </p>
<p class="webflare-indent1">
<a id="pgfId-1014416"></a>Limiting case, no epi overlap 4.0 microns 
When either of the diffusion lines has an epi contact 4.5 microns 
When both of the diffusion lines have an epi contact 5.5 microns </p>
<p>
<a id="pgfId-1014417"></a>To specify these rules, use the following commands in the Operation block: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014418"></a>; Operation block, continued<br />;<br />; FORM DIFFUSION EPI-CONTACT OVERLAP LAYER<br />; diff = Diffusion layer<br />; epi  = Epi contact layer<br />; <br />AND diff epi diffep<br />; <br />EXT   diff         LT 4.0  OUTPUT drc01 32<br />EXT   diff diffep  LT 4.5  OUTPUT drc01 33<br />EXT   diffep       LT 5.5  OUTPUT drc01 34<br /></pre>

<h4>
<a id="pgfId-1014419"></a>Spacing Rules</h4>

<p>
<a id="pgfId-1014420"></a>This class of design rules includes the minimum spacing required to avoid shorts caused by the IC fabrication process. These rules generally involve external spacing checks between geometries, which tend to produce many false errors unless there is an effective electrical node capability. You can ignore these checks if the geometries are part of the same electrical node, even if the spacing is less than the allowable dimension.</p>
<p>
<a id="pgfId-1014421"></a>Typical external spacing design rules are as follows:</p>
<ul><li>
<a id="pgfId-1014422"></a>Minimum polysilicon-to-diffusion spacing is 1.0 micron (if not in the same electrical node). </li><li>
<a id="pgfId-1014423"></a>Minimum polysilicon metal contact-to-diffusion spacing is 4.0 microns (if not in the same electrical node). </li><li>
<a id="pgfId-1014424"></a>Minimum diffusion metal contact-to-polysilicon spacing is 3.5 microns (if not in the same electrical node). </li><li>
<a id="pgfId-1014425"></a>Minimum diffusion metal contact-to-transistor spacing in the direction of diffusion is 4.0 microns. </li></ul>



<p>
<a id="pgfId-1014426"></a>To specify these rules, use the following commands in the Operation block: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014427"></a>; Operation block, continued<br />;<br />; FORM THE SOURCE-DRAIN LAYER<br />; poly = Polysilicon layer <br />; diff = Diffusion layer <br />; cont = Metal contact layer (mc) <br />; epi  = Epi contact layer <br />; <br />NOT diff poly srcdrn  Form srcdrn = diff - poly <br />; <br />; ELECTRICAL NODE DEFINITION<br />; <br />CONNECT    metal     poly      BY cont <br />CONNECT    metal     srcdrn    BY cont <br />CONNECT    poly      srcdrn    BY epi <br />; <br />EXT[N] poly srcdrn LT 1.0 OUTPUT drc05 73<br />;<br />; FORM LAYERS OVERLAPPING THE METAL-CONTACTS<br />; <br />AND poly   cont mc poly  Form mcpoly polysilicon  metal contact <br />AND srcdrn cont mc srdn  Form mcsrdn source-drain metal contact<br />;<br />EXT[N]     mc poly   srcdrn    LT 4.0  OUTPUT drc06 86<br />EXT[N]     mc srdn   poly      LT 3.5  OUTPUT drc06 87<br />; <br />EXT[T]     &amp;pxtor    mc srdn   LT 3.0  OUTPUT drc06A 87<br /></pre>

<h4>
<a id="pgfId-1014428"></a>Enclosure Rules</h4>

<p>
<a id="pgfId-1014429"></a>Sometimes the dimension of the enclosure of a metal contact by the metal layer is larger in the direction of current than in the other direction. </p>
<p>
<a id="pgfId-1014430"></a>The design rule is the minimum polysilicon-metal contact enclosed by polysilicon enclosure spacing and the minimum metal spacing is 6.0 microns.</p>

<p>
<a id="pgfId-1014440"></a> </p>
<table class="webflareTable" id="#id1014431">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014433"></a>In the direction of current </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014435"></a>2.0 microns </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014437"></a>In all other directions </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014439"></a>1.0 micron </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1014441"></a>To specify this rule, use the following commands in the Operation block: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014442"></a>; Operation block, continued<br />; <br />; poly   = Polysilicon layer <br />; metal  = Metal layer <br />; cont   = Metal contact layer (mc)<br />; <br />ENC[TO]    cont  poly    LT 1.0   OUTPUT drc06 84 <br />; <br />SIZE      cont BY 3.0 ovmc ; Form metal-entry into metal-contact<br />AND       ovmc metal  xcmet ; Form metal-direction<br />ENC[PC]   cont xcmet  RANGE 2.99 3.01 &amp; <br />ENC[PCTO] cont poly   LT 2.0 OUTPUT drc06 85<br /></pre>

<h4>
<a id="pgfId-1014443"></a>Polysilicon-to-Diffusion Spacing Rules</h4>

<p>
<a id="pgfId-1014444"></a>Most processes require design rules that specify the minimum external spacing between the polysilicon and diffusion geometries. However, when metal crosses adjacent polysilicon and diffusion, the spacing requirement increases. This increase prevents metal from breaking during processing when it runs over the valleys formed by diffusion and polysilicon layers.</p>
<p>
<a id="pgfId-1014454"></a>Specify the design rule minimum polysilicon-to-diffusion spacing as follows:</p>
<table class="webflareTable" id="#id1014445">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014447"></a>When crossed by metal layer</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014449"></a>2.0 microns </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014451"></a>All other instances</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014453"></a>1.0 micron </p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1014455"></a>To specify this rule, use the following commands in the Operation block: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014456"></a>; Operation block, continued<br />; <br />; poly  = Polysilicon layer <br />; diff  = Diffusion layer <br />; metal = Metal layer <br />; <br />; FORM LAYERS OVERLAPPING THE METAL LAYER<br />; </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014457"></a>EXT[R] poly  diff LT 2.0  valley  ; Form the valley layer<br />AND&#160;&#160;metal&#160;&#160;valley&#160;&#160;metval&#160;&#160;OUTPUT drc05 74</pre>

<h4>
<a id="pgfId-1014458"></a>Metal Reflection Rules</h4>

<p>
<a id="pgfId-1014459"></a>The next class of design rules includes checks necessary to prevent adverse effects caused by reflecting light during the IC fabrication process. An adverse effect is often referred to as a &#8220;misalignment&#8221; or a &#8220;hazard.&#8221;</p>
<p>
<a id="pgfId-1014460"></a>As layers of various materials build up during the IC fabrication process, peaks and valleys forming on the IC cause angular light reflection. For example, if shaded areas of the IC mask for the metal layer represent the after-process metal geometries, light might reflect off the deposited metal when light passes through the clear areas in the mask. The following figure, &#8220;Cause of Metal Reflection,&#8221; shows this lighting effect.</p>

<div class="ft-figtabl-title">
<a id="pgfId-1014462"></a><a id="marker-1014461"></a>Cause of Metal Reflection</div>
<p>
<a id="pgfId-1014540"></a></p>
<div class="webflare-div-image">
<img width="619" height="414" src="images/chap3-2.gif" /></div>

<p>
<a id="pgfId-1014541"></a>In the following figure, &#8220;After-Process Geometries,&#8221; the areas under the shaded portion of the IC mask are exposed to light, which results in undersized geometries. The rules used in this example are based on the requirements of a positive photoresist process.</p>

<div class="ft-figtabl-title">
<a id="pgfId-1014543"></a><a id="marker-1014542"></a>After-Process Geometries</div>
<p>
<a id="pgfId-1014626"></a></p>
<div class="webflare-div-image">
<img width="676" height="268" src="images/chap3-3.gif" /></div>

<p>
<a id="pgfId-1014628"></a><a id="marker-1014627"></a>The mask design rules for metal reflection define the minimum width of the metal as follows:</p>
<table class="webflareTable" id="#id1014629">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014631"></a>Limiting case (no reflection)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014633"></a>5.0 microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014635"></a>When metal overlaps polysilicon by less than 2.0 microns</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014637"></a>6.0 microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014639"></a>When external separation between polysilicon and metal is less than 2.0 microns</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014641"></a>6.0 microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014643"></a>When diffusion extension over metal is less than 2.0 microns</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014645"></a>6.0 microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014647"></a>When enclosure spacing of metal to diffusion is less than 2.0 microns</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014649"></a>6.0 microns</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1014650"></a>To specify these rules, use the following commands in the Operation block: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014651"></a>; Operation block, continued<br />;<br />; poly = Polysilicon layer <br />; diff = Diffusion layer <br />; metal = Metal layer <br />; polymet = Polysilicon and metal layer <br />; <br />; LIMITING CASE NO REFLECTION<br />; <br />WIDTH     metal   LT 5.0    OUTPUT drc07 92 <br />; <br />; METAL OVER POLYSILICON REFLECTION CHECK<br />; <br />INT[P]    poly    metal     LT 2.0 &amp; <br />INT[P]    metal   metal[O]  LT 6.0   OUTPUT drc07 93<br />EXT[TP]   metal   poly      LT 2.0 &amp; <br />INT[P]    metal   metal[O]  LT 6.0   OUTPUT drc07 94<br />;<br />; METAL OVER DIFFUSION REFLECTION CHECK<br />; <br />ENC[TP]   metal   diff      LT 2.0 &amp; <br />INT[P]    metal   metal[O]  LT 6.0   OUTPUT drc07 95 <br />; <br />ENC[TP]   diff    metal     LT 2.0 &amp; <br />INT[P]    metal   metal[O]  LT 6.0   OUTPUT drc07 96<br /></pre>

<div class="ft-figtabl-title">
<a id="pgfId-1014652"></a>Metal Reflection Rules</div>
<p>
<a id="pgfId-1014714"></a>    </p>
<div class="webflare-div-image">
<img width="643" height="268" src="images/chap3-4.gif" /></div>
<h3>
<a id="pgfId-1014716"></a><a id="marker-1014715"></a>Executing DRC from a Design Rule Library</h3>

<p>
<a id="pgfId-1014717"></a>The design rules necessary to comply with the technology in this example are shown in the following Operation block:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014718"></a>*OPERATION<br />;<br />; FORM THE SOURCE-DRAIN LAYER<br />; <br />NOT         diff        poly            srcdrn<br />; <br />; ELECTRICAL NODE CONSTRUCTION<br />; <br />CONNECT     metal       poly            BY cont <br />CONNECT     metal       srcdrn          BY cont <br />CONNECT     poly        srcdrn          BY epi <br />; <br />; LAYER RESIZING OPERATIONS<br />; <br />SIZE        poly        BY 1.0          ovpoly <br />STAMP       ovpoly      BY              poly <br />SIZE        epi         BY 3.0          ovepi <br />; <br />; FORM TRANSISTORS OVERSIZED IN THE SOURCE-DRAIN DIRECTION<br />; <br />AND         ovpoly      diff            ovpodif <br />NOT         ovpodif     epi             xtor <br />; <br />; FORM DEPLETION IMPLANT MASK AND ENHANCEMENT BLOCKING MASK ; LAYERS<br />; <br />OR          harddep     softdep         depl <br />OR          natural     harddep         eblk <br />; <br />; DESIGN RULE CHECKS<br />; <br />; DIFFUSION MASK DRC<br />; <br />WIDTH       diff        LT 4.0          OUTPUT drc01 31<br />EXT         diff        LT 4.0          OUTPUT drc01 32<br />; <br />; DIFFUSION WITHIN EPI-CONTACT DRC<br />; <br />AND         diff        epi             diffep <br />; <br />EXT[P]      diff        diffep          LT 4.5  OUTPUT drc01 33<br />EXT[P]      diffep      LT 5.5          OUTPUT drc01 34<br />;<br />; ENHANCEMENT BLOCKING MASK DRC<br />;<br />ENC[T]      xtor        eblk            LT 2.0  OUTPUT drc02 41<br />EXT[T]      eblk        xtor            LT 2.5  OUTPUT drc02 42<br />EXT[P]      eblk        LT 3.0          OUTPUT drc02 43<br />; <br />; DEPLETION IMPLANT MASK DRC<br />; <br />AND         poly        diffep          podifep<br />;<br />ENC[T]      xtor        depl            LT 2.0  OUTPUT drc03 51 <br />EXT         depl        xtor            LT 2.5  OUTPUT drc03 52<br />EXT[P]      depl        LT 3.0          OUTPUT drc03 53<br />AREA        podifep     RANGE 0.0 20.0  OUTPUT drc03 54<br />ENC         diffep      epi             LT 1.0  OUTPUT drc03 55<br />;<br />; EPI-CONTACT DRC<br />; <br />AND         poly        ovepi           ovepipo<br />AND         srcdrn      ovepi           sdovepi<br />; <br />EXT[T]      epi         xtor            LT 3.0  OUTPUT drc04 61<br />EXT[O]      epi         mc              LE 0.0  OUTPUT drc04 62<br />EXT[P]      epi         LT 3.0          OUTPUT drc04 63<br />EXT[N]      ovepipo     sdovepi         LT 3.0  OUTPUT drc04 64<br />ENC[T]      xtor&amp;pxtor  poly            LT.001 &amp;<br />EXT[T]      &amp;pxtor      epi             LT 3.0  OUTPUT drc05 62<br />;<br />; POLYSILICON MASK DRC<br />; <br />WIDTH       poly        LT 3.5          OUTPUT drc05 71 <br />EXT         poly        LT 4.0          OUTPUT drc05 72 <br />EXT[N]      poly        srcdrn          LT 1.0  OUTPUT drc05 73 <br />; <br />; METAL BREAK<br />; <br />EXT[R]      poly        diff            LT 2.0  valley<br />AND         metal       valley          metval  OUTPUT drc05 74<br />EXT         metval      LT 2.0          OUTPUT drc05 74<br />; <br />ENC         xtor        poly            LT 3.0  OUTPUT drc05 75 <br />; <br />; METAL-CONTACT DRC<br />; <br />AND         poly        cont            mcpoly<br />AND         srcdrn      cont            mcsrdn<br />;<br />AREA        cont        RANGE           0. 9.   OUTPUT drc06 81 <br />ENC         cont        metal           LT 1.0  OUTPUT drc06 82 <br />ENC         cont        diff            LT 2.5  OUTPUT drc06 83 <br />ENC         cont        poly            LT 1.0  OUTPUT drc06 84 <br />SIZE        cont        BY 3.0          ovmc <br />AND         ovmc        metal           xcmet <br />ENC[PC]     cont        xcmet           RANGE 2.99 3.01 &amp; <br />ENC[PCTO]   cont        poly            LT 2.0  OUTPUT drc06 85 <br />WIDTH       xcmet       LT 6.0          OUTPUT drc06 86 <br />EXT[N]      mcpoly      srcdrn          LT 4.0  OUTPUT drc06 87 <br />EXT[N]      mcsrdn      poly            LT 3.5  OUTPUT drc06 88 <br />EXT[T]      &amp;pxtor      mcsrdn          LT 3.0  OUTPUT drc06a 87 <br />EXT         cont        LT 4.0          OUTPUT drc06 89 <br />; <br />; METAL DRC<br />;<br />EXT         metal       LT 4.0          OUTPUT drc07 91<br />WIDTH       metal       LT 5.0          OUTPUT drc07 92<br />; <br />; METAL OVER POLYSILICON REFLECTION<br />; <br />INT[P]      poly        metal           LT 2.0 &amp;<br />INT[P]      metal       metal[O]        LT 6.0  OUTPUT drc0 7 93<br />EXT[TP]     metal       poly            LT 2.0 &amp;<br />INT[P]      metal       metal[O]        LT 6.0  OUTPUT drc0 7 94<br />; <br />; METAL OVER DIFFUSION REFLECTION DRC<br />; <br />ENC[PT]     metal       diff            LT 2.0 &amp;<br />WIDTH       metal       metal[O]        LT 6.0  OUTPUT drc07 95<br />ENC[PT]     diff        metal           LT 2.0 &amp; <br />WIDTH       metal       metal[O]        LT 6.0  OUTPUT drc07 96 <br />; <br />* END <br /></pre>

<p>
<a id="pgfId-1014719"></a>After you create the Description, Input-Layer, and Operation blocks, you can store the blocks in one or more files. The following examples are files you can use:</p>
<p class="webflare-indent1">
<a id="pgfId-1014720"></a>Description block drcdesc.com 
Input-Layer block drcinpl.com 
Operation block drcoper.com </p>
<p>
<a id="pgfId-1014721"></a>You can then read the files into the preprocessor using the following PDRACULA commands:</p>
<p class="webflare-indent1">
<a id="pgfId-1014722"></a>/GET drcdesc NOLIST 
/GET drcinpl NOLIST 
/GET drcoper NOLIST 
/FINISH </p>
<p>
<a id="pgfId-1014723"></a>Alternatively, you can concatenate these three files into a single file, such as drc.com, and enter the file as follows: </p>
<p class="webflare-indent1">
<a id="pgfId-1014724"></a>/GET drc NOLIST 
/FINISH </p>
<p>
<a id="pgfId-1014725"></a>Direct user interface in the Dracula system takes place in the preprocessor, PDRACULA, which is the outermost shell of the verification system. The preprocessor provides execution control and most file management functions.</p>
<p>
<a id="pgfId-1014726"></a>To start PDRACULA, type the following command:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014727"></a>PDRACULA</pre>
<p>
<a id="pgfId-1014728"></a>The following example shows how to submit a DRC job to PDRACULA. Text you type is shown in bold.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014729"></a>**********************************************************<br />*/N* DRACULA3 (REV. 4.3 /SUN-4 /GENDATE: 14-AUG-95/07)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014730"></a> *** (Copyright 1995, Cadence) ***</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014731"></a>*/N* EXEC TIME =11:35:40 DATE = 16-AUG-95</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014732"></a>******************************************************** <br />:/GET drc NO </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014733"></a>:/FINISH</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014734"></a>**Note: CREATING DEFAULTING CNAMES-CSEN TO &quot;NO&quot; WHEN SYSTEM=APPLICON</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014735"></a>**CREATING : COMMAND FILE: jxrun.com</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014736"></a>**NOTE: THIS JOB HAS    28 STAGES<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014737"></a>END OF DRACULA COMPILATION</pre>
<h3>
<a id="pgfId-1014738"></a>Developing and Executing a Design Rule</h3>

<p>
<a id="pgfId-1014740"></a><a id="marker-1014739"></a>The preprocessor contains a command language with which you can develop technology processes for future use in production environments. The following example demonstrates the development of the metal-over-polysilicon reflection check. This example is an interactive session with the preprocessor.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014741"></a>You must read in a file or type in the Dracula commands before you can output this listing.</div>
<p>
<a id="pgfId-1014742"></a>Text you type is shown in bold.</p>
<p>
<a id="pgfId-1014743"></a>To start PDRACULA, type the following:</p>

<a id="pgfId-1014744"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PDRACULA

:/LIST ALL UNSORTED

*INPUT-LAYER
POLY     =        5 
METAL    =        7 
*END 
*OPERATION
AND      POLY     METAL  POLYMET 
WIDTH    POLYMET  LT 2   &amp;
ENC[T]   POLYMET  METAL  LT 0.001  &amp; 
WIDTH    METAL    LT 6   OUTPUT    drc07 93
*END

:/STORE yourfile

FILE: YOURFILE EXISTS, OVERWRITE (Y/N) ? Y

:/FINISH

SCALE : .0000152588 MIC (or Rev-Scale = 65536 MIC) 
RESOLUTION : .125 MIC
PRIMARY CELL : demo
INPUT-FILE-NAME
(INDISK NAME) : INDISK=demodrc
OUTPUT-FILE-NAME
(OUTDISK NAME) : OUTDISK=demout
SYSTEM : CADENCE 
MODE : EXEC NOW

Note:   CREATING PRECHK FILE   :JXPRECHK.COM
        AND RULES FILE         :JXRUN.COM

END OF DRACULA COMPILATION
FORTRAN STOP
Previous logical name assignment replaced
Job 456 entered on queue SYS$BATCH
WITHOUT PRECHECK, THE DRACULA JOB IS SUBMITTED</pre>
<h3>
<a id="pgfId-1014746"></a><a id="marker-1014745"></a>Viewing the Results</h3>

<p>
<a id="pgfId-1014747"></a>This section contains illustrations of system-generated printed and graphic output of violations. Ten violations are shown. The output cells containing the violations are shown in the examples on the following pages. The violations are the following:</p>
<ul><li>
<a id="pgfId-1014748"></a>DRC0132 External Spacing of Diffusion</li><li>
<a id="pgfId-1014749"></a>DRC0351 XTOR Enclosed by Depletion</li><li>
<a id="pgfId-1014750"></a>DRC0352 Depletion to Enhanced XTOR in Field Dir</li><li>
<a id="pgfId-1014751"></a>DRC0354 Minimum Gate Area When within EPI</li><li>
<a id="pgfId-1014752"></a>DRC0464 Poly to Diffusion Near EPI</li><li>
<a id="pgfId-1014753"></a>DRC0573 Poly to Diffusion (Node Option)</li><li>
<a id="pgfId-1014754"></a>DRC0574 Poly to Diffusion When Crossed by Metal</li><li>
<a id="pgfId-1014755"></a>DRC0685 Metal-Contact between Metal and Poly</li><li>
<a id="pgfId-1014756"></a>DRC0687 Metal-Contact within Diffusion to Poly</li><li>
<a id="pgfId-1014757"></a>DRC0792 Width of Metal </li></ul>










<h4>
<a id="pgfId-1014758"></a>Viewing the Summary File</h4>

<p>
<a id="pgfId-1014759"></a>The first step in evaluating a DRC analysis is to scan through the Violation/ Output Cell Summary using an online editor like vi or emacs. The summary contains a definition of the primary cell, cell name, layer number, windowed location in physical units, and number of line-segment violations.</p>
<p>
<a id="pgfId-1014760"></a>Text you type is shown in bold. To view the file in vi, type the following command at a UNIX command line:</p>

<a id="pgfId-1014761"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
vi Printf.sum</pre>

<p>
<a id="pgfId-1014762"></a>Dracula displays the following information:<br /></p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014763"></a>* * * * * * * * * * * * * * * * * * * * * * * * * * * * * *<br />* * * * * * * *         D R A C U L A       * * * * * * * *<br />* * * * * * * *     *** COPYRIGHT 1995***  * * * * * * * *<br />* * * * *         RELEASE 4.3 /    1995     * * * * * * * *<br />* * * * * * * * * * * * * * * * * * * * * * * * * * * * * *<br />BEGIN AT TIME=12:00:00  DATE=17-AUG-95<br />CELL  DRC0241  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL  DRC0243  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL  DRC0353  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL  DRC0355  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL  DRC0462  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL  DRC0463  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL  DRC0562  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL  DRC0682  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL  DRC0684  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL  DRC0686  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL  DRC0688  SKIPPED BECAUSE OF NO OUTPUT DATA <br />CELL&#160;&#160;DRC0796&#160;&#160;SKIPPED BECAUSE OF NO OUTPUT DATA </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014764"></a>-------------- OUTPUT CELL SUMMARY ---------------- <br />CELL      LAYER  # OF POLYGON <br />NAME      #      W I N D O W  LINE SEGMENTS <br />DRC0131   31     17.000       25.500   282.500  233.500  70 <br />DRC0132   32     90.500       40.500   112.500  172.000  10 <br />DRC0133   33     30.000       20.000   275.500  242.000  42 <br />DRC0134   34     111.000      15.500   124.500  156.500  24 <br />DRC0242   42     123.000      184.500  125.000  208.500  4 <br />DRC0351   51     41.000       156.500  42.500   174.500  2 <br />DRC0352   52     123.000      184.500  125.000  208.500  4 <br />DRC0354   54     98.000       29.000   351.500  169.500  3 <br />DRC0461   61     30.000       92.000   31.625   95.500   2 <br />DRC0464   64     29.500       19.500   275.500  161.500  34 <br />DRC0571   71     302.000      .000     350.000  262.000  6 <br />DRC0572   72     41.000       7.000    286.000  257.000  24 <br />DRC0573   73     261.000      35.500   266.500  226.500  20 <br />DRC0574   74     9.000        15.000   150.500  247.000  28 <br />DRC0575   75     30.000       90.625   36.000   94.125   4 <br />DRC0681   81     86.500       .000     348.500  262.000  14 <br />RC0683    83     36.000       16.000   288.000  265.000  14 <br />DRC0685   85     369.000      6.000    370.000  256.000  8 <br />DRC0687   87     41.000       44.500   321.500  257.000  10 <br />DRC0791   91     142.000      .000     411.000  265.000  10 <br />DRC0792   92     69.000       .000     395.000  262.000  14 <br />DRC0793   93     364.000      128.500  393.500  133.500  4 <br />DRC0794   94     75.000       79.000   267.375  221.000  6 <br />DRC0795   95     12.000       152.500  18.000   160.000  4 <br />PRIMARY CELL= OUTDEMO<br />WINDOW    =      9.000        .000     411.000  265.000 <br /></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014765"></a>********* PROBLEM GEOMETRIES LISTING ********* </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014766"></a>CELL: MB297 LAYER: 2 PROBLEM GEOMETRIES:ACUTE  -PROCESSED<br />-1123.00 233.00 -1123.00 187.00 -1254.00 187.00 -1254.00 202.00<br />-1275.00 202.00 -1275.00 187.00 -1384.00 187.00 -1384.00 233.00<br />-1373.00 233.00 -1373.00 227.00 -1293.00 227.00 -1293.00 233.00<br />-1248.00 233.00 -1248.00 227.00 -1168.00 227.00 -1168.00 233.00<br />-1168.00 228.00 -1168.00 233.00 -1123.00 233.00 <br />CELL: BLK1 LAYER: 9  PROBLEM GEOMETRIES:OPEN POLYGON -DISCARDED<br /></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014767"></a>- 380.00 282.00 -379.90  282.00 -1337.00 299.00 -1127.90 399.00 <br />-1108.90 380.00 </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014768"></a>***** END OF PROBLEM GEOMETRIES LISTING *****</pre>

<h4>
<a id="pgfId-1014769"></a>Viewing the Log Files</h4>

<p>
<a id="pgfId-1014770"></a>To print a detailed listing of the design rule violations in the .<em>log</em> and .<em>drc</em> files, use the LISTERROR command in the Description block.</p>
<p>
<a id="pgfId-1014771"></a>The listing of design rule violations shown below lists the type of checks performed, names of the layers, value of the checks, output layer numbers, and output cell names. For each violation, the x,y coordinates of the two line segments are printed in physical units.<br /></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014772"></a>EXTERNAL CHECK - DIFF SPACING = 4.000 ( 32.0 DBU) <br />OUTPUT LAYER # = 32 OUTPUT CELL NAME = DRC0132 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014773"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014774"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014775"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014776"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014777"></a>ERR&#160;&#160;--- LAYER DIFF ---&#160;&#160;                   --- LAYER DIFF --- </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014778"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014779"></a>  #  X1      Y1      X2      Y2      X1      Y1      X2      Y2<br />
&#160;&#160;1  90.500  40.500  90.500  43.500  94.000  44.000  94.000  44.500<br />  2  90.500  40.500  90.500  43.500  94.000  44.500  94.000  56.500<br />  3  90.500  87.500  90.500  90.500  94.000  74.500  94.000  86.500<br />  4  90.500  87.500  90.500  90.500  94.000  86.500  94.000  87.000<br />  5 109.000 160.000 109.000 172.000 112.500 157.500 112.500 162.000<br /></pre>
<h3>
<a id="pgfId-1014780"></a>Viewing the Violations</h3>

<p>
<a id="pgfId-1014781"></a>The examples on the following pages show the graphic output for the violations previously defined. Each page shows an example of a layout violation and the commands that flagged the violation.</p>

<h4>
<a id="pgfId-1014782"></a>DRC0132 External Spacing of Diffusion</h4>
<a id="pgfId-1014783"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EXT diff LT 4.0 OUTPUT drc01 32</pre>
<p>
<a id="pgfId-1014816"></a></p>
<div class="webflare-div-image">
<img width="658" height="627" src="images/chap3-5.gif" /></div>
<h4>
<a id="pgfId-1014817"></a>DRC0351 XTOR Enclosed by Depletion</h4>
<a id="pgfId-1014818"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ENC[T] xtor depl LT 3.0 OUTPUT drc03 51</pre>
<p>
<a id="pgfId-1014875"></a></p>
<div class="webflare-div-image">
<img width="676" height="558" src="images/chap3-6.gif" /></div>
<h4>
<a id="pgfId-1014876"></a>DRC0352 Depletion to Enhanced XTOR in Field Dir</h4>
<a id="pgfId-1014877"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EXT diff xtor LT 2.5 OUTPUT drc03 52 </pre>
<p>
<a id="pgfId-1014952"></a></p>
<div class="webflare-div-image">
<img width="676" height="558" src="images/chap3-7.gif" /></div>
<div class="ft-figtabl-title">
<a id="pgfId-1014953"></a>DRC0354 Minimum Gate Area When Within EPI</div>
<a id="pgfId-1014954"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
AREA podifep RANGE 0 20 OUTPUT drc03 54</pre>
<p>
<a id="pgfId-1015001"></a></p>
<div class="webflare-div-image">
<img width="676" height="586" src="images/chap3-8.gif" /></div>
<div class="ft-figtabl-title">
<a id="pgfId-1015002"></a>DRC0464 Poly to Diffusion Near EPI</div>
<a id="pgfId-1015003"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EXT[N] ovepipo sdovepi LT 3.0 OUTPUT drc04 64</pre>
<p>
<a id="pgfId-1015045"></a></p>
<div class="webflare-div-image">
<img width="676" height="456" src="images/chap3-9.gif" /></div>
<div class="ft-figtabl-title">
<a id="pgfId-1015046"></a></div>
<div class="ft-figtabl-title">
<a id="pgfId-1015047"></a></div>
<div class="ft-figtabl-title">
<a id="pgfId-1015048"></a>DRC0573 Poly to Diffusion (Node Option)</div>
<a id="pgfId-1015049"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EXT[N] poly srcdrn LT 1.0 OUTPUT drc05 73</pre>
<p>
<a id="pgfId-1015089"></a></p>
<div class="webflare-div-image">
<img width="676" height="528" src="images/chap3-10.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015090"></a>Because of the N option, this error violation is not flagged.</div>

<h4>
<a id="pgfId-1015091"></a>DRC0574 Poly to Diffusion When Crossed by Metal</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015092"></a>EXT[R]   poly   diff    LT 2.0  valley<br />AND      metal  valley  metval  OUTPUT drc05 74<br /></pre>
<div class="webflare-div-image">
<img width="676" height="547" src="images/chap3-11.gif" /></div>
<h4>
<a id="pgfId-1015148"></a>DRC0685 Metal-Contact Between Metal and Poly</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015149"></a>SIZE        cont  by 3.0  ovmc<br />AND         ovmc  metal   xcmet<br />ENC[PC]     cont  xcmet   RANGE 2.9 3.1 &amp;<br />ENC[PCTO]   cont  poly    LT 2.0  OUTPUT drc06 85<br /></pre>
<p>
<a id="pgfId-1015206"></a></p>
<div class="webflare-div-image">
<img width="676" height="473" src="images/chap3-12.gif" /></div>
<h4>
<a id="pgfId-1015207"></a>DRC0687 Metal-Contact Within Diffusion to Poly</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015208"></a>EXT[N] mcsdrn poly LT 3.5 OUTPUT drc06 87</pre>
<p>
<a id="pgfId-1015264"></a></p>
<div class="webflare-div-image">
<img width="676" height="553" src="images/chap3-13.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015265"></a>Because of the N option, this error violation is not flagged.</div>

<h4>
<a id="pgfId-1015266"></a>DRC0792 Width of Metal</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015267"></a>WIDTH metal LT 5.0 OUTPUT drc07 92</pre>
<p>
<a id="pgfId-1015283"></a></p>
<div class="webflare-div-image">
<img width="676" height="503" src="images/chap3-14.gif" /></div>
<h3>
<a id="pgfId-1015284"></a>Database Comparison</h3>

<p>
<a id="pgfId-1015285"></a>The following rules file demonstrates a DRC check that compares digitized layers of one database to layers of another database. The output is in a graphic format.</p>

<p>
<a id="pgfId-1015297"></a><a id="marker-1015296"></a></p>
<table class="webflareTable" id="#id1015286">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1015288">
<a id="pgfId-1015288"></a>compare1.com </span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1015290">
<a id="pgfId-1015290"></a>compare2.com </span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015292"></a><code>*DESCRIPTION<br />INDISK=lay1.db<br />PRIMARY=top1<br />.<br />.<br />.<br />*END<br />*INPUT-LAYER<br />meta=7<br />EXPORT meta<br />*END</code></p>
<a id="pgfId-1015293"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
</pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015295"></a><code>*DESCRIPTION <br />INDISK=lay2.db <br />PRIMARY=top2 <br />PRINTFILE=comprt <br />OUTDISK=comout <br />. <br />*END<br />*INPUT-LAYER<br />metb=7<br />IMPORT-meta<br />.<br />*END <br />*OPERATION <br />NOT metb meta err1 OUTPUT err1 50 <br />NOT meta metb err2 OUTPUT err2 50 <br />.<br />;or <br />.<br />XOR meta metb err1 OUTPUT err1 50 <br />*END </code></p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1015298"></a>To submit the comparison job, type the following: </p>

<a id="pgfId-1015299"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
% PDRACULA 
:/GET compare1.com n
:/NEXT
:/GET compare2.com n
:/FIN </pre>

<p>
<a id="pgfId-1015300"></a>This database comparison first runs the compare1.com job to read in the first database layers. Then the database comparison runs the compare2.com job to read in the second database layers and perform the graphic comparison. The summary report file is comprt.sum, and the graphic output file is comout.dat. </p>

<h2>
<a id="pgfId-1015303"></a><a id="32837"></a>Hierarchical and Multilevel Hierarchical Design Rules Checker</h2>

<p>
<a id="pgfId-1015306"></a><a id="marker-1015304"></a>HDRC provides the d<a id="marker-1015305"></a>esign rule checking function for hierarchical Dracula. Before reading this section, you should be familiar with the information about hierarchical Dracula found in the <a href="chap1.html#63196">Introducing Dracula</a> section in chapter 1 of this manual. </p>
<p>
<a id="pgfId-1015310"></a>As chip complexity and device count increase, the need for CPU time and disk space also increases. Dracula supports two-level hierarchical design rule checking (HDRC) and multilevel (MDRC) checking. MDRC supports multilevel design hierarchy so you can reduce the verification time and disk storage. Dracula has the following check modes: flat, cell, composite, hierarchical, and multilevel.</p>
<p>
<a id="pgfId-1015311"></a>The following information is described in this section:</p>
<ul><li>
<a id="pgfId-1015312"></a>Hcell selection</li><li>
<a id="pgfId-1015313"></a>Hcell creation, Hcell environments, and the composite plane</li><li>
<a id="pgfId-1015314"></a>HDRC modes</li><li>
<a id="pgfId-1015315"></a>HDRC error reports</li><li>
<a id="pgfId-1015316"></a>Sample HDRC rules file</li></ul>




<p>
<a id="pgfId-1015318"></a>For more information about running HDRC, see &#8220;<h-hot>Running a Hierarchical Design Rule Check</h-hot>&#8221; in the &#8220;Setting Up Hierarchical Dracula&#8221; chapter of the Dracula User Guide.</p>

<h3>
<a id="pgfId-1015320"></a><a id="marker-1015319"></a>Prerequisites</h3>

<p>
<a id="pgfId-1015321"></a>You need the following data to run HDRC:</p>
<ul><li>
<a id="pgfId-1015322"></a>An HDRC rules file</li><li>
<a id="pgfId-1015323"></a>A database file in one of the database formats that Dracula supports<br />
<a id="pgfId-1015326"></a>For a list of the supported database formats, refer to the <a href="chap11.html#55390">SYSTEM or SYSIN</a> section in Chapter 11 of this manual.</li></ul>



<h3>
<a id="pgfId-1015329"></a>Sele<a id="select_hcells"></a>cting HDRC Hcells</h3>

<p>
<a id="pgfId-1015332"></a><a id="marker-1015330"></a>In both hierarchical and cell modes, HDRC automatically selects <a id="marker-1015331"></a>Hcells according to internal criteria. This automatic selection of Hcells applies only to HDRC. The selection process initially assumes that all cells in the layout are Hcell candidates, except for those you declare in <a id="marker-1015333"></a>NOT-HCELL commands. Dracula applies each of the criteria in the following table, &#8220;Criteria for HDRC Hcell Selection,&#8221; to the Hcell candidates, successively eliminating candidates from the group. Dracula uses only cells that meet all five criteria.</p>
<p>
<a id="pgfId-1015334"></a>In addition, you can select Hcells by using the HCELL and HCELL-FILE commands. Or, in hierarchical mode only, you can exclude Hcells with the NOT-HCELL command. These commands override the default selection. However, these commands can affect the selection of other Hcells.</p>
<p>
<a id="pgfId-1015335"></a>In hierarchical mode only, you can modify the automatic Hcell selection process by changing the parameters with the HCELL-RULE command. If you do not know the layout hierarchy, run the default Hcell selection first. Then use the HCELL-RULE command to set your own parameters. You can also use the RAM-CELL and ROM-CELL commands to improve the run performance when RAM and ROM cells are present.</p>
<p>
<a id="pgfId-1015336"></a>To turn off automatic cell selection, specify an HCELL-RULE command with parameters that prevent the automatic selection of Hcells. For example, N = 9999 and M = 9999. In this case, the HCELL command determines which Hcells to use. The following table shows the N and M parameters.</p>
<table class="webflareTable" id="#id1015337">
<caption style="text-align:left;"><p>
</p><div class="ft-figtabl-title">
<a id="pgfId-1015342"></a>Criteria for HDRC Hcell Selection </div></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1015346">
<a id="pgfId-1015346"></a>Selection criteria</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1015348">
<a id="pgfId-1015348"></a>Description </span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015350"></a>Number of placements</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015352"></a>A cell must be located in the layout database at least N times (default N = 2).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015354"></a>Size of cells</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015356"></a>Cells must have a height or length more than twice the ENVIRONMENT-MAX value. HDRC allows variable cell heights as an option to HDRC.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015358"></a>Number of edges</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015360"></a>A cell must consist of at least M geometrical edges inside the cell (default M = 4 * i, where i is the total number of input layers). </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015362"></a>Ascending/descending relationship</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015364"></a>An Hcell cannot be located within another Hcell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015366"></a>Number of placements</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015368"></a>A cell must be located in the layout database at least four times.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015370"></a>Size of cells</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015372"></a>Cells must have a total number of layers less than 1024. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015374"></a>Selection of cells</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015376"></a>Dracula writes cells that have more than 100,000 line segments to the MULTICEL.TAB file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015378"></a>Number of edges</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015380"></a>A cell must consist of at least M geometrical edges inside the cell (default M = 4 * i, where i is the total number of input layers). </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015382"></a>Ascending/descending relationship</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015384"></a>An Hcell can be located within another Hcell. The total number of line segments of the child after expansion cannot exceed 90% of the line segments of the parent cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015386"></a>Overlapping area between Hcells</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015388"></a>Dracula does not select a cell if more than half its area overlaps other cells.</p>
</td>
</tr>
</tbody></table>

<h3>
<a id="pgfId-1015389"></a>Creating Hcells, Hcell Environment, and Composite Plane</h3>

<p>
<a id="pgfId-1015390"></a>To perform HDRC, the Dracula program first builds the Hcells, Hcell <a id="marker-1015391"></a>environments, and <a id="marker-1015392"></a>composite plane data structures.</p>
<p>
<a id="pgfId-1015393"></a>After Dracula defines an Hcell, the program generates a horizontally aligned rectangular box large enough to encompass all the flattened geometries in that Hcell. Dracula then outputs the Hcell box created to the <a id="marker-1015394"></a>CELLBOXX layer for later reference. You can access this data through the <a id="marker-1015395"></a>CELLBOXX.DAT file.</p>
<p>
<a id="pgfId-1015396"></a>Hierarchical mode HDRC uses the Hcell environment. This environment can be thought of as a box that encompasses the Hcell and extends beyond it. Any geometries (from the composite level or from another Hcell) within an Hcell environment are considered part of that instance of the Hcell (refer to the following figure, &#8220;Building the Hcell Box and Hcell Environment&#8221;). By default, the Dracula program sets the environment equal to the largest spacing value specified in any spacing check. However, if you use the ENVIRONMENT-MAX command and the preprocessor detects a spacing value greater than the ENVIRONMENT-MAX value, it warns you of the error. </p>
<p>
<a id="pgfId-1015397"></a>If any DRC rule specifies the S option, the value affects the environment calculation. By default, the environment value is </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015398"></a>max(drc rules)</pre>
<p>
<a id="pgfId-1015399"></a>If any DRC rule specifies the S option, the environment value is</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015400"></a>max(drc rules, sqrt(2)*(drc rule with S option)</pre>
<p>
<a id="pgfId-1015401"></a>If you have already set the ENVIRONMENT-MAX value, the value specified with the S option overrides the final environment value.</p>

<div class="ft-figtabl-title">
<a id="pgfId-1015402"></a>Building the Hcell Box and Hcell Environment</div>
<p>
<a id="pgfId-1015428"></a></p>
<div class="webflare-div-image">
<img width="676" height="294" src="images/chap3-15.gif" /></div>

<p>
<a id="pgfId-1015430"></a>The <a id="marker-1015429"></a>Hcell plane is the collection of Hcells and their environment information. You can refer to individual layers or all layers in the Hcell plane. The composite plane contains all geometries not included in any Hcell boxes.</p>
<p>
<a id="pgfId-1015431"></a>Dracula uses composite plane data and Hcell environment data in hierarchical mode only.</p>

<h3>
<a id="pgfId-1015432"></a>HDRC Modes</h3>

<p>
<a id="pgfId-1015434"></a>HDRC <a id="marker-1015433"></a>runs in five modes: flat, cell, composite, hierarchical, and multilevel.</p>

<h4>
<a id="pgfId-1015435"></a>Flat Mode</h4>

<p>
<a id="pgfId-1015437"></a><a id="marker-1015436"></a>Flat mode HDRC processes input data and output error cells in the same manner as flat Dracula. Dracula expands layers and does not retain hierarchical information for error reporting. However, HDRC attempts to group like commands together to reduce overhead time in loading layers, and as a consequence can have faster run times. </p>
<p>
<a id="pgfId-1015438"></a>Flat mode is the default mode. </p>

<h4>
<a id="pgfId-1015439"></a>Cell Mode</h4>

<p>
<a id="pgfId-1015441"></a><a id="marker-1015440"></a>Cell mode HDRC verifies only cells that qualify as Hcells, not nonHcells or the interconnects between Hcells. This mode generates Hcell-based output, with a single output error cell for each Hcell. These error cells contain all the errors associated with that Hcell and any pseudo-layers created and output by a LOGICAL, SIZE, or SELECT operation. You need to separate different error flags with unique output layer numbers, so Dracula can isolate the error flags in the Hcell output.</p>
<p>
<a id="pgfId-1015442"></a>To run a job in cell mode, use the CHECK-MODE=cell command in the Description block.</p>

<h4>
<a id="pgfId-1015444"></a><a id="marker-1015443"></a>Composite Mode</h4>

<p>
<a id="pgfId-1015445"></a>Composite mode HDRC checks the interconnections between Hcells, and between Hcells and composite-level cells. Dracula treats Hcells as &#8220;black boxes&#8221; and does not check inside Hcells.</p>
<p>
<a id="pgfId-1015446"></a>To run a job in composite mode, you use the CHECK-MODE=composite command in the Description block.</p>

<h4>
<a id="pgfId-1015447"></a>Hierarchical Mode</h4>

<p>
<a id="pgfId-1015449"></a><a id="marker-1015448"></a>Hierarchical mode HDRC completely verifies the circuit and outputs the results in hierarchical form. All cells and interconnects are checked. This mode is best for circuits containing a high degree of hierarchy. This mode can also generate Hcell-based output, with a single output error cell for each Hcell. </p>
<p>
<a id="pgfId-1015450"></a>To run a job in hierarchical mode, you must use the CHECK-MODE=hier command.</p>
<p>
<a id="pgfId-1015451"></a>The following limitations apply to hierarchical mode HDRC checks:</p>
<p>
<a id="pgfId-1015452"></a>Nodal-related type commands</p>
<p class="webflare-indent1">
<a id="pgfId-1015453"></a>CONNECT
STAMP
LINK
SELECT with LABEL
SELECT[N]
EXT[N]
ENC[N]
INT[N] </p>
<p>
<a id="pgfId-1015454"></a>These commands check hierarchical layers when you use the EXCEPTION-ON=AUTO-FLATTEN command in the Description block of your rule file or if you first flatten the layers with the FLATTEN command. The AUTO-FLATTEN option automatically flattens all layers you use in a CONNECT command.</p>

<h4><em>
<a id="pgfId-1015456"></a>Dimensional-<a id="marker-1015455"></a>Spacing Checks </em></h4>

<p>
<a id="pgfId-1015457"></a>Do not use values larger than 10 microns in dimensional checks, such as ENCLOSURE, EXTERNAL, WIDTH, INTERSECT, and LENGTH commands. Large values slow down the checking. If you want a few large dimensional checks, code these checks differently to avoid performing large dimensional checks on hierarchical layers. For example, consider the following checks:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015458"></a>EXT pad LT 50 OUTPUT err1 1<br />EXT pad metal LT 40 OUTPUT err2 33</pre>
<p>
<a id="pgfId-1015459"></a>You can rewrite the commands as shown in the following examples.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015460"></a>FLATTEN  pad fpad ;  FPAD is a flat layer<br />EXTERNAL fpad&#160;&#160;LT 50 OUTPUT err1 1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015461"></a>FLATTEN   metal  fmet1   ; FMET1 is a flat layer<br />EXTERNAL&#160;&#160;fpad&#160;&#160; fmet1&#160;&#160; LT 40 OUTPUT err2 22</pre>
<p>
<a id="pgfId-1015462"></a>The FLATTEN metal fmet1 command can use a great deal of CPU time because the metal layer can be very large or dense. A better approach is to take advantage of hierarchical commands and of the pad layer, which is sparsely populated, as shown in the following example:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015463"></a>SIZE pad  BY  40  spad     ; this is a hierarchical<br />                           ; SIZE and very little cpu<br />                           ; time is required because<br />                           ; PAD is a low density layer.<br />AND spad  metal   smet     ; SMET is a hierarchical<br />                           ; layer and only has data <br />                           ; around the PADs.<br />FLATTEN   smet    fmet2    ; FMET2 is a flat layer<br />EXTERNAL fpad fmet2  LT 40 OUTPUT err3 33<br /></pre>
<p>
<a id="pgfId-1015464"></a>When doing external spacing checks, the resolution value must be at least one-half your minimum DRC value. For example, if you have a DRC spacing value of 5.25, the resolution must be .125. </p>

<h4>
<a id="pgfId-1015466"></a>Multilevel Mo<a id="multilevel"></a>de</h4>

<p>
<a id="pgfId-1015468"></a><a id="marker-1015467"></a>Multilevel hierarchical DRC (MDRC) is different from full hierarchical DRC in that not every cell in your design hierarchy is used as a verification Hcell. Dracula chooses only a subset of cells to be Hcells. The major difference between Dracula hierarchical mode and Dracula multilevel mode is that an Hcell in multimode can contain another Hcell.</p>
<p>
<a id="pgfId-1015469"></a>MDRC consists of two phases: the pre-analysis phase and the analysis phase. The pre-analysis phase selects suitable Hcells by thoroughly analyzing your design data. The output of the pre-analysis phase is the MULTICEL.TAB file, which contains the selected Hcells. Each Hcell in the file is a checking cell. To run a job in multilevel mode, use the CHECK-MODE=<em>multi</em> command in the Description block. </p>
<p>
<a id="pgfId-1015471"></a>For more information on using MDRC, see &#8220;<h-hot>Running a Multilevel Design<br />Rule Check</h-hot>&#8221; in the &#8220;Setting up Hierarchical Dracula&#8221; chapter of the Dracula User Guide.</p>

<h4><em>
<a id="pgfId-1015472"></a>Multilevel DRC Example</em></h4>
<ol><li>
<a id="pgfId-1015473"></a>Create the jxrun.com file using the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1015474">
<a id="pgfId-1015474"></a>/GET drc.rul MULTI</pre>
<a id="pgfId-1015476"></a><a id="marker-1015475"></a>The contents of drc.rul appear on the screen and Dracula creates the two-stage jxrun.com file used to perform data analysis and multilevel Hcell selection. </li><li>
<a id="pgfId-1015477"></a>Execute jxrun.com.<br />
<a id="pgfId-1015480"></a>Dracula writes the selected multilevel Hcells to the <a id="marker-1015478"></a><a id="marker-1015479"></a>MULTICEL.TAB file.</li><li>
<a id="pgfId-1015481"></a>Rerun PDRACULA using the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1015482">
<a id="pgfId-1015482"></a>/GET drc.rul N</pre>
<a id="pgfId-1015483"></a>PDRACULA does the following:<ul><li>
<a id="pgfId-1015484"></a>Creates a subdirectory for each cell name in the MULTICEL.TAB file</li><li>
<a id="pgfId-1015485"></a>Creates a jxmult.com file for the root directory and a jxrun.com file for each subdirectory</li><li>
<a id="pgfId-1015486"></a>Symbolically links the MULTICEL.TAB file to each subdirectory</li></ul></li><li>
<a id="pgfId-1015487"></a>After PDRACULA completes, execute jxmult.com.<br />
<a id="pgfId-1015488"></a>Dracula executes the jxrun.com files in each subdirectory consecutively.</li></ol>




















<h4><em>
<a id="pgfId-1015489"></a>Hcell Selection</em></h4>

<p>
<a id="pgfId-1015490"></a>PDRACULA uses the following criteria to select cells for Hcells:</p>
<ul><li>
<a id="pgfId-1015491"></a>Cells must exceed the requirements specified in the HCELL-RULE command. <br />
<a id="pgfId-1015492"></a>The default number of placements is four. The default number of segments is 1,024 times the number of layers.</li><li>
<a id="pgfId-1015493"></a>If both parent and child qualify as Hcells, PDRACULA checks if the total number of line segments (after expansion) of the child exceeds 
90 percent of that of the parent. If so, Dracula selects only the child cell as an Hcell.</li><li>
<a id="pgfId-1015494"></a>Cells must not violate overlap criteria set by the CHECK-MODE command.</li><li>
<a id="pgfId-1015495"></a>Dracula writes multilevel cells with over 100,000 line segments to the MULTICEL.TAB file.</li></ul>





<h3>
<a id="pgfId-1015498"></a><a id="marker-1015496"></a>HDRC Error R<a id="hdrc_errors"></a>eports</h3>

<p>
<a id="pgfId-1015500"></a>HDRC <a id="marker-1015499"></a>error reports include the following:</p>
<ul><li>
<a id="pgfId-1015501"></a>HDRC Output Error Format</li><li>
<a id="pgfId-1015502"></a>HDRC Error Cell</li><li>
<a id="pgfId-1015503"></a>HDRC Error Summary File </li></ul>


<p>
<a id="pgfId-1015504"></a>HDRC commands that have an output specification create an error cell similar to flat Dracula if error segments are generated in the composite plane or in flat mode. When run in hierarchical mode, these commands output Hcell error segments to a new or existing Hcell error cell. Hcell error cells can store error segments hierarchically. Dracula stores Hcell-related error segments in either error cell depending upon the uniqueness of the violation. The &#8220;HDRC Output Error Format&#8221; section in this chapter has more details on the various types of error cells.</p>
<p>
<a id="pgfId-1015505"></a>Error cells and Hcell error cells have the same polygon format as the input database (GDS II) unless you explicitly specify a different output format with the SYSOUT command. This means you can take these error cells back to the original graphics system, overlay them on the original layout, and see the location of the design rule violations.</p>
<p>
<a id="pgfId-1015507"></a>The Error Summary file (<a id="marker-1015506"></a>PRINTF.SUM) contains a summary of the composite plane and Hcell plane error segments. This file is described in the &#8220;HDRC Error Summary File&#8221; section in this chapter.</p>

<h4>
<a id="pgfId-1015508"></a>HDRC Output Error Format</h4>

<p>
<a id="pgfId-1015509"></a>Dracula sends output error segments from HDRC/DRC spacing checks to an output error file on disk. The OUTDISK command in the Description block determines the name of the output file. The output error file contains a primary output cell that points to the various error cells created. Dracula stores these error cells in files in your host system. </p>
<p>
<a id="pgfId-1015510"></a>Dracula can store HDRC error segments in two different types of error cells: composite error cells and Hcell error cells.</p>
<p>
<a id="pgfId-1015512"></a>The following factors determine what kind of <a id="marker-1015511"></a>error cells contain the error segments:</p>
<ul><li>
<a id="pgfId-1015513"></a>The mode, whether flat, cell, composite, hierarchical, or multilevel</li><li>
<a id="pgfId-1015514"></a>The selected CELL-ERROR-REP option</li><li>
<a id="pgfId-1015515"></a>The location of the error</li></ul>



<h4><em>
<a id="pgfId-1015517"></a><a id="marker-1015516"></a>Hcell Errors</em></h4>

<p>
<a id="pgfId-1015518"></a>You select the CELL-ERROR-REP option when you run an HDRC in hierarchical mode. These options establish what to do with errors associated with all instances of an Hcell or all instances of an Hcell environment. The following options are available:</p>

<p><strong>
<a id="pgfId-1015520"></a>ONCE</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017357"></a> Displays Hcell error segm<a id="marker-1015519"></a>ents in the composite plane at the first Hcell placement starting from the bottom left of the layout. This is the default.</p>
<p><strong>
<a id="pgfId-1017363"></a>ALL </strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017366"></a>Pla<a id="marker-1015521"></a>ces the Hcell error segments at all instances in the composite, as would be done in a flat mode DRC. </p>
<p><strong>
<a id="pgfId-1017371"></a>HIER</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017374"></a> Displays<a id="marker-1015523"></a> Hcell error segments in a hierarchical manner at all placements in the composite. Outputs error segments to one of the following error cells according to the rules described in the following sections.</p>
<p><strong>
<a id="pgfId-1017380"></a>ORIG-ALL</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017383"></a> Repo<a id="marker-1015525"></a>rts error cells and output cells generated by the layer operations (for example, SIZE and SELECT operations) in the original design hierarchy.</p>
<p><strong>
<a id="pgfId-1017388"></a>ORIG-DRC</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017391"></a> Repo<a id="marker-1015527"></a>rts DRC error flags in the original cell.</p>
<p><strong>
<a id="pgfId-1017396"></a>cell-name</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017399"></a> Reports error flags only from the cell name you specify for the output error cell.</p>
<h4><em>
<a id="pgfId-1015531"></a><a id="marker-1015530"></a>Composite Error Cell</em></h4>

<p>
<a id="pgfId-1015532"></a>Dracula uses this type of error cell for error segments generated in flat mode, which is the same as in flat Dracula. For hierarchical mode, the cell receives error segments when any of the following conditions occur:</p>
<ul><li>
<a id="pgfId-1015533"></a>The error segment is in the composite plane</li><li>
<a id="pgfId-1015534"></a>CELL-ERROR-REP = ONCE or ALL</li><li>
<a id="pgfId-1015535"></a>CELL-ERROR-REP = HIER and the error segment is not common for all placements of the Hcell or Hcell environment</li></ul>



<h4>
<a id="pgfId-1015538"></a><a id="marker-1015536"></a><a id="10409"></a>Hcell Error Cell</h4>

<p>
<a id="pgfId-1015539"></a>The Hcell error cell receives error segments for cell mode and hierarchical mode when CELL-ERROR-REP=HIER and Dracula finds error segments within an Hcell or its environment for all placements of the Hcell.</p>
<p>
<a id="pgfId-1015540"></a>Duplicate error segments in error cell types can occur in the following cases:</p>
<ul><li>
<a id="pgfId-1015541"></a>An error segment occurring only in the environment of an Hcell for all placements of that Hcell appears both in a composite error cell and an Hcell error cell</li><li>
<a id="pgfId-1015542"></a>An error segment in an area overlapped by two cells for all placements of the two cells appears in both Hcell error cells</li></ul>

<p>
<a id="pgfId-1015543"></a>The output error file is organized by an output primary error cell (OUTname) containing the two types of error cells. For naming conventions for the output primary cell, see the <a href="chap11.html#60117">OUTLIB</a> section in Chapter 11 of this manual. The following example details the organization of the output primary cell.</p>

<h4><em>
<a id="pgfId-1015547"></a>Primary Error Cell Names</em></h4>
<p><strong>
<a id="pgfId-1015548"></a>Error-Cell-1 </strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017406"></a>Composite error cells generated for:</p>
<p>
<a id="pgfId-1015562"></a></p>
<table class="webflareTable" id="#id1015549">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1015551">
<a id="pgfId-1015551"></a><strong>Error-Cell-2 </strong></span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015553"></a>flat mode or hierarchical mode</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1015555">
<a id="pgfId-1015555"></a><strong> ... </strong></span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015557"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1015559">
<a id="pgfId-1015559"></a><strong>Error-Cell-n1</strong></span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015561"></a></p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1015563"></a>HCELL-Error-Cell-1</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017413"></a>Hcell error cells generated for:</p>
<p>
<a id="pgfId-1015577"></a></p>
<table class="webflareTable" id="#id1015564">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015566"></a><strong>HCELL-Error-Cell-2</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015568"></a>cell mode or hierarchical mode</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015570"></a><strong> ... </strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015572"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015574"></a><strong>HCELL-Error-Cell-n3</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015576"></a>with CELL-ERROR-REP=HIER</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1015578"></a>Each error cell receives its data from the output of a different HDRC spacing check command. For example:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015579"></a>WIDTH&#160;&#160;METAL LT&#160;&#160;5&#160;&#160;OUTPUT&#160;&#160;ERR2&#160;&#160;56</pre>
<p>
<a id="pgfId-1015580"></a>generates error segments destined to a composite error cell (ERR256). Dracula creates this error cell and stores the segments in layer 56. </p>

<h4><em>
<a id="pgfId-1015582"></a><a id="marker-1015581"></a>Error Cell File Names</em></h4>

<p>
<a id="pgfId-1015584"></a>The first part<a id="marker-1015583"></a> of error cell file names is obtained by concatenating the spacing check command error cell name (c-name) and the layer number (l-num). In the example above, the error cell name is ERR256. </p>
<p>
<a id="pgfId-1015585"></a>The concatenation of the error cell name and layer number specified in the spacing check command must be unique, the same as in flat Dracula. The layer number, however, can be the same for the various commands.</p>
<p>
<a id="pgfId-1015586"></a>Dracula puts error segments in error cells relative to the 0,0 coordinates of the primary cell in the original database. Therefore, if you overlay the error cells on your original database, whether you place one cell at a time or all cells together, you must place them at coordinates 0,0.</p>
<p>
<a id="pgfId-1015587"></a>Hcell error cells can contain error segments from more than one HDRC spacing check, but only from error segments associated with one Hcell. Because HDRC spacing checks are output on different layers, each Hcell error cell can contain many layers. For example:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015588"></a>WIDTH&#160;&#160;METAL&#160;&#160;LT&#160;&#160;5&#160;&#160;OUTPUT&#160;&#160;ERR1&#160;&#160;56</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015589"></a>WIDTH&#160;&#160;POLY&#160;&#160; LT&#160;&#160;5&#160;&#160;OUTPUT&#160;&#160;ERR2&#160;&#160;57</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015590"></a>WIDTH&#160;&#160;MC&#160;&#160;   LT  5  OUTPUT  ERR3  58</pre>
<p>
<a id="pgfId-1015591"></a>All three commands generate error segments for an Hcell named abc and an Hcell named b<em>cd.</em> Dracula generates error segments for an Hcell error cell corresponding to abc and bcd under the three different layers (56, 57 and 58). Each layer contains the error segments generated by each of the corresponding WIDTH commands. No error cell structure exists for cells. You must separate errors by layer number.</p>
<p>
<a id="pgfId-1015592"></a>Dracula creates an Hcell error cell file for cell ABC and names it ABC_CEL for <a id="marker-1015593"></a>GDS II or ABC_CEL;1 for <a id="marker-1015594"></a>Applicon. Dracula adds _CEL to the GDS II Hcell error cell name to avoid a cell name conflict with abc from your database.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015595"></a> Dracula creates a new error cell file for each HDRC spacing check that generates an error, but it only creates an Hcell error cell file if it does not already exist for those Hcell errors generated. </div>

<h4>
<a id="pgfId-1015596"></a>HDRC Error Summary File</h4>

<p>
<a id="pgfId-1015598"></a>The first item in the Error Summary file (<a id="marker-1015597"></a>PRINTF.SUM) shows the type of error reporting you requested in the CELL-ERROR-REP command. </p>
<p>
<a id="pgfId-1015599"></a>The &#8220;All Error Cells&#8221; section lists all output error cells specified in an HDRC or DRC spacing check command, whether or not Dracula creates any error cells.</p>
<p>
<a id="pgfId-1015601"></a>The &#8220;Output Cell Summary&#8221; section of the <a id="marker-1015600"></a>error summary file has entries containing the following items:</p>
<ul><li>
<a id="pgfId-1015602"></a>Error cell names and corresponding layer numbers generated by HDRC/DRC spacing checks that generate error segments to be sent to the composite plane</li><li>
<a id="pgfId-1015603"></a>The minimum and maximum X and Y composite plane coordinates of the smallest window containing the error segments</li><li>
<a id="pgfId-1015604"></a>The number of error segments output to the error cell. In flat mode, Dracula sends all error segments to error cells. While in hierarchical mode, Dracula outputs some error segments to error cells and some to Hcell error cells, as explained in the &#8220;HRDC Output Error Format&#8221; section.</li></ul>


<p>
<a id="pgfId-1015605"></a>The &#8220;Detailed Summary for Cell and Cell-Comp Errors&#8221; section (provided for hierarchical mode HDRC runs) summarizes the error segments related to Hcells. (See the <a href="chap3.html#45746">Example of HDRC Error Summary for Hierarchical Mode</a> in this chapter). These error segments are either fully enclosed by an Hcell, or are located in the Hcell environment, while having a complementary error segment within the Hcell. Dracula reports two categories of errors:</p>
<ul><li>
<a id="pgfId-1015610"></a><a id="marker-1015609"></a>Hcell Errors <br />
<a id="pgfId-1015611"></a>Errors associated with all placements of an Hcell. Typically, these are errors fully contained in the Hcell.</li><li>
<a id="pgfId-1015612"></a>Cell-Comp Errors<br />
<a id="pgfId-1015613"></a>Errors associated with only some placements of an Hcell. The name &#8220;Cell-Comp error&#8221; reflects that these error segments are always output on the composite plane (see the <a href="chap3.html#10409">Hcell Error Cell</a> section in this chapter). These errors are typically found between cell geometries and their environments.</li></ul>



<p>
<a id="pgfId-1015617"></a>The report divides the errors along two dimensions. The columns reflect the subset of the errors for the various Hcells. The rows reflect the subset of the errors according to the error cells you specified in the OUTPUT option of the HDRC/DRC spacing check commands.</p>
<p>
<a id="pgfId-1015618"></a>Dracula labels the columns with the file name of the Hcell. Dracula labels the rows with the file name of the error cell or with the label Cell-Comp under the error cell file name.</p>
<p>
<a id="pgfId-1015619"></a>A number at the intersection of an Hcell and an error cell name reflects the number of Hcell error segments that Dracula outputs to this error cell. For this case, Dracula counts each error segment only once, independent of the number of placements of the Hcell.</p>
<p>
<a id="pgfId-1015620"></a>If the number in a row is labeled &#8220;Cell-Comp,&#8221; Dracula indicates the number of Cell-Comp error segments associated with the Hcell column and the error cell named in the preceding row. Dracula counts this number as one error per placement.</p>

<h4>
<a id="pgfId-1015622"></a><a id="45746"></a>Example of HDRC Error Summary for Hierarchical Mode</h4>

<p>
<a id="pgfId-1015623"></a>The report has two column totals, one for the Hcell errors and another for Cell-Comp errors. The report also has row totals.</p>
<p>
<a id="pgfId-1015624"></a>The summary report ends with the primary error cell name, as well as the x, y coordinates of the smallest window that includes all the errors found. The summary ends with the time and date the run ended. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015625"></a>*********************************************************/<br />*/N* DRACULA3 (REV. 4.3 /SUN-4 /GENDATE: 16-AUG-95/07)<br /> *** (Copyright 1995, Cadence) ***<br />*/N* EXEC TIME =12:21:30 DATE = 18-AUG-95<br />********************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015626"></a>------------------ ALL ERROR CELLS LISTING ----------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015627"></a>D529829    D5610B32  PPCPW28   D5314A30  D5314B30<br />D52729     D531330   BAD1FF28  D524A29   D523A29<br />D52629     D57133    D52229    D523B29   D524B29<br />D52529     D52829    D531A30   D531B30   D532A30<br />D532A230   D53330    D534A30   D535A30   D536A30<br />D536B30    D536C30   D53930    D55131    D55231<br />D55331     D55431    D55531    D56132    D561B32<br />D56232     D56332    D561132   D56732    D56432<br />D561232    D56832    D569A32   D569B32   D5610A32<br />D57233     D573A33   D57433    D57533    D576A33<br />D576833    D58234    D58334    D58434    D58534<br />D59135     D928D35   D593A35   D593B35   D596A35<br />D596B35    D599A35   D510135   D510235   D5103A35<br />D5103B35   D5103C35  D5103D35  D510535   D510735<br />D510835    D5131A36  D5131B36  D5132A36  D5132B35<br />D5132C36   D5133A36  D513336   D5133B36  D133C136<br />D133C236   D5134A36  D5134B36  D5134C36  D513536<br />D5136A36   D5136B36  D513836   D5139A36  D5139B36<br />D1310A36   D1310B36  D5131136  D1312A36  D1312B36<br />D131436    D515137   D515237   D515337   D5133C37<br />D514437</pre>
<a id="pgfId-1015628"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
BEGIN    AT     TIME   = 06:11:51           DATE = 16-AUG-95</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015629"></a>-------------------- OUTPUT CELL SUMMARY ----------------------</pre>
<a id="pgfId-1015630"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CELL-NAME LAYER #   -------- WINDOW -------- 
          DATATYPE                        # OF POLYGONS TEXTS
                                          (LINE SEGMENTS)</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015631"></a>D5314B30   30  -703.500   -1015.500  865.000   752.00    2<br />D57133     33  -651,000   -1165,000  830.500   -978.50   34<br />D523B29    29  -1301.500  -1293.000  1049.500  1143.00   538<br />D534A30    30  -938.500   -1309.500  1310.000  907.50    238<br />D535A30    30  -1037.500  -1309.550  1310.050  917.00    280<br />D536A30    30  -1179.000  -1258.500  1211.000  1286.50   2518<br />D536C30    30  -651.000   -1161.400  830.500   -981.50   68<br />D561B32    32  -680.600   -926.050   882.300   719.00    26612<br />D56732     32  -871.900   -1162.500  886.000   725.00    170416<br />D57433     33  -653.000   -1166.000  832.500   -977.00   533<br />D58234     34  -659.500   -1161.500  839.000   -981.50   66<br />D599A35    35  -445.500   -1141.000  21.000    -1049.004<br />D5103A35   35  -652.500   -1168.500  888.500   722.50    304<br />D510835    35  -333.500   -1181.500  799.000   -1129.50  10<br />D5131A36   36  -664.800   -923.500   848.800   -922.50   672<br />D5131B36   36  -869.500   -885.500   -846.000  -884.00   2<br />D5133A36   36  864.000    -943.500   880.000   -936.50   8<br />D1310A36   36  -643.000   -1168.500  822.500   -975.00   100<br />D1310B36   36  -652.500   -1168.500  832.000   -975.00   68<br />D1312A36   36  -643.000   -1165.000  822.500   -978.50   106<br /></pre>

<a id="pgfId-1015632"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
OUTDISK OPTION IS:</pre>
<a id="pgfId-1015633"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EXPLODE CELL GEOMETRIES INTO PRIMARY CELL FOR ALL PLACEMENTS (CELL-ERROR-REP = ALL)</pre>
<a id="pgfId-1015634"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
--- DETAILED SUMMARY FOR CELL AND CELL-COMP ERRORS
(NO. OF POLYGONS) ---</pre>
<a id="pgfId-1015635"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
NOTE: THE FOLLOWING POLYGON COUNTS DO NOT INCLUDE ERRORS CAUSED ONLY BY COMPOSITE GEOMETRIES</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015636"></a>           H   T   A   A   A   A   A   A   A   A   A   A   A<br />           C   O   D   D   D   D   D   D   D   D   D   D   D<br />           E   T   0   5   0   0   0   2   6   7   7   7   7<br />           L   A   5   0   1   2   7   0   0   0   0   0   0<br />           L   L   .   1   .   .   .   1   2   2   5   3   4<br />           S       C   .   C   C   C   .   .   .   .   .   .<br />                   E   C   E   E   E   C   C   C   C   C   C<br />                   L   E   L   L   L   E   E   E   E   E   E<br />                   ;   L   ;   ;   ;   L   L   L   L   L   L<br />                   0   ;   0   0   0   ;       ;   ;   ;   ;<br />                       0               0   0   0   0   0   0<br /></pre>

<a id="pgfId-1015637"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ERRCELL</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015638"></a>D523B29    CEL:  36   2    14   0   0  6  2  12   0   0   0   0<br />
CELL-COMP:&#160;&#160;     4    0    0    0   4  0  0  0    0   0   0<br />D535A30    CEL:  3    0    0    0   0  3  0  0    0   0   0   0<br />D536A30    CEL:  68   0    26   6   6  4  0  26   0   0   0   0<br />D536C30    CEL:  4    0    0    0   0  0  0  0    4   0   0   0<br />D561B32    CEL:  108  0    0    0   0  0  0  0    48  12  24  12<br />D56732     CEL:  406  0    0 0  0   0  0  0  119  88  39  80<br />CELL-COMP:       6    0    0    0   0  6  0  0    0   0   0   0<br />D57433     CEL:  32   0    0    0   0  0  0  0    32  0   0   0<br />D58234     CEL:  4    0    0 0  0   0  0  0  4    0   0 0<br />D5103A35   CEL:  18   0    0    0   0  0  0  0    12  6   0   0<br />D5131A36   CEL:  14   0    0    0   0  0  0  0    14  0   0   0<br />CELL-COMP: 448   0    0    0    0   0  0  0  0    0   0   0<br />D5131B36   CEL:  0<br />CELL-COMP:       1    0    0    0   0  1  0  0    0   0   0   0<br />D1310A36   CEL:  6    0    0    0   0  0  0  0    6   0   0   0<br />D1310B36   CEL:  4    0    0    0   0  0  0  0    4   0   0   0<br />D1312A36   CEL:  6    0    0    0   0  0  0  0    6   0   0   0<br />---------------<br /></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015639"></a>TOTAL</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015640"></a>CELL:        709  2  40  6  6  13  2  38  249  106  63  92<br />CELL-COMP:   459  0  0   0  0  11  0  0   0    0    0   0<br /></pre>

<a id="pgfId-1015641"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PRIMARY CELL:   OUTAD000
WINDOW:     -1301.500     -1309.550     1310.050     1286.500
ENDED  AT  TIME  = 06:12:25     DATE = 16-AUG-95</pre>
<h4>
<a id="pgfId-1015642"></a>HDRC Error Summary for Cell Mode</h4>

<p>
<a id="pgfId-1015644"></a>In cell mode, an HDRC run produces a different summary report (<a id="marker-1015643"></a>PRINTF.SUM) than in hierarchical and flat modes. The summary is divided into two sections and summarizes the number of error segments found by the HDRC checking commands for each Hcell.</p>
<p>
<a id="pgfId-1015645"></a>The &#8220;All Error Cells Listing&#8221; section contains the name of all the Hcells used and the time and date the run started.</p>
<p>
<a id="pgfId-1015646"></a>The &#8220;Individual Cell Summary&#8221; section contains information about the number of error segments generated for every error cell output specification under each Hcell. Each entry has a line with an Hcell name, followed by one or more lines with an error cell name, a corresponding layer number, data type, and total number of error segments under this Hcell and this error cell. A final line shows the total number of error segments for error cells under this Hcell and the X, Y coordinates of the smallest window in the Hcell that contains all the errors. These window coordinates are relative to the coordinates of the Hcell in the original database.</p>

<h4>
<a id="pgfId-1015648"></a>Example of <a id="marker-1015647"></a>HDRC Error Summary for Cell Mode</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015649"></a>-----------------------ALL ERROR CELLS LISTING-------------</pre>
<a id="pgfId-1015650"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
DD01     DD02
        BEGIN  AT  TIME = 12:20:23             DATE = 16-AUG-95</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015651"></a>----------------- INDIVIDUAL CELL SUMMARY------------------</pre>
<a id="pgfId-1015652"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CELL NAME:  SDFF4_CEL</pre>
<a id="pgfId-1015653"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ERROR-CELL: DD02 LAYER/DATATYPE: 2/    0   # OF POLYGONS:22</pre>
<a id="pgfId-1015654"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
WINDOW: -7.000 9.000 220.000 121.000 TOTAL POLYGONS:22</pre>
<a id="pgfId-1015655"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CELL NAME:  SB1_CEL</pre>
<a id="pgfId-1015656"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ERROR-CELL:  DD02  LAYER/DATATYPE: 2/     0 # OF POLYGONS: 1</pre>
<a id="pgfId-1015657"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
WINDOW: -6.000 -11.000 66.500 11.000  TOTAL POLYGONS: 1</pre>
<a id="pgfId-1015658"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CELL NAME: ROM_CEL</pre>
<a id="pgfId-1015659"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ERROR-CELL:  DD02  LAYER/DATATYPE:  2/     0  # OF POLYGONS: 6</pre>
<a id="pgfId-1015660"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
WINDOW: -7.000 -7.000 105.000 51.500 TOTAL POLYGONS: 6</pre>
<a id="pgfId-1015661"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CELL NAME:  SB2_CEL</pre>
<a id="pgfId-1015662"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ERROR-CELL:  DD02  LAYER/DATATYPE: 2/    0 # OF POLYGONS: 1</pre>
<a id="pgfId-1015663"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
WINDOW: -6.000 -11.000 66.500 11.000 TOTAL POLYGONS: 1</pre>
<a id="pgfId-1015664"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CELL NAME:  SDFF1_CEL</pre>
<a id="pgfId-1015665"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ERROR-CELL:  DD02  LAYER/DATATYPE:  2/     0  # OF POLYGONS: 57</pre>
<a id="pgfId-1015666"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
WINDOW: -9.000 -17.000 250.000 206.500 TOTAL POLYGONS: 57</pre>
<a id="pgfId-1015667"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PRIMARY CELL:  OUTDEMO</pre>
<a id="pgfId-1015668"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 WINDOW:  -9.000 -17.000 250.000 206.500</pre>
<h3>
<a id="pgfId-1015670"></a>Sample <a id="marker-1015669"></a>HDRC Rules File</h3>
<a id="pgfId-1015671"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
*DESCRIPTION</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015672"></a>CHECK-MODE = hier        <br />ENVIRONMENT-MAX = 7 mic<br /> ;<br />MODE      = exec no<br />SCALE     =.001 mic<br />RESOLUTION= .25 mic<br />PRINTFILE = hdrc<br />PROGRAM = drac3:<br />SYSTEM = gds2<br />PRIMARY = demo<br />INDISK  = demo.db<br />OUTDISK = hdrcout<br />*END<br />*INPUT-LAYER<br />diff  =  1<br />epi   =  7<br />poly  =  4<br />metal =  6<br />pad  =  17<br />PIN-TEXT-LAYER = pinlay<br />CONNECT-LAYER = fpol fsd  ; PREPARE FOR NODAL CHECK IN HDRC<br />*END<br />*</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015673"></a>AND       poly    diff     gate<br />NOT       diff    gate     srcdrn<br />WIDTH     diff    LT 5     OUT      w5001  30 3<br />EXT[H]    diff    LT 5.5   OUT      x5002  31 4<br />WIDTH     poly    LT 4.5   OUT      w5003  32<br />EXT       poly    LT 4.0   OUT      x5004  33<br />EXT       poly    srcdrn   LT 2.0   OUT    x5013  41<br />EXT[T]    poly    diff     LT .001  OUT    x5013  42<br />WIDTH     srcdrn  LT 5.5   OUT      w5013  42<br />WIDTH     gate    LT 5.0   OUT      w5016  45<br />WIDTH     epi     LT 7.0   OUT      w5020  52  4<br />ENC[T]    diff    poly     LT 4.0   OUT    e5301  57  7<br />;****  NEW  *****          ; PREPARE FOR LARGE DIMENSION CHECK<br />SIZE      pad     BY 30    spad<br />AND       spad    metal    smet<br />FLATTEN   pad     fpad<br />FLATTEN   smet    fmet<br />EXT       fmet    fpad     LT 30.0  OUT sp1  63  1<br />;****  NEW  *****          ; PREPARE FOR NODAL SPACING CHECK<br />FLATTEN   poly    fpol     ; FLATTEN POLY LAYER FOR CONNECTION<br />FLATTEN   srcdrn  fsd      ; FLATTEN SRCDRN LAYER ALSO<br />FLATTEN   epi     fepi     ; FLATTEN SRCDRN LAYER ALSO<br />;<br />CONNECT   fpol    fsd  BY  fepi<br />EXT[TN]   fpol    fsd      LT 2.0   OUTPUT sp2  58<br /></pre>

<a id="pgfId-1015674"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
*END</pre>

<p>
<a id="pgfId-1015675"></a></p>
<p>
<a id="pgfId-1015676"></a></p>
<p>
<a id="pgfId-1014242"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap2.html" id="prev" title="Using Dracula">Using Dracula</a></em></b><b><em><a href="chap4.html" id="nex" title="Checking Electrical Rules (ERC)">Checking Electrical Rules (ERC ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>