
<html><head><title>Running Dracula</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sarita" />
<meta name="CreateDate" content="2023-09-14" />
<meta name="CreateTime" content="1694753293" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Dracula offers a complete set of integrated applications for IC layout designs. It contains information about the Dracula standalone verification product." />
<meta name="DocTitle" content="Dracula Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Running Dracula" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="dracularef" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-14" />
<meta name="ModifiedTime" content="1694753293" />
<meta name="NextFile" content="glossary.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Physical Verification  Analysis" />
<meta name="PrevFile" content="appB.html" />
<meta name="c_product" content="Dracula" />
<meta name="Product" content="Dracula" />
<meta name="ProductFamily" content="Dracula" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Dracula Reference -- Running Dracula" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="dracularefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="dracularefTOC.html">Contents</a></li><li><a class="prev" href="appB.html" title="Data Structure Translator">Data Structure Translator</a></li><li style="float: right;"><a class="viewPrint" href="dracularef.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="glossary.html" title="Glossary">Glossary</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Dracula Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>C
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1011663"></a><hr />
Running Dracula<hr />
</h1>

<p>
<a id="pgfId-1014231"></a>Appendix C focuses on Running Dracula. </p>
<ul><li>
<a id="pgfId-1014235"></a><a href="appC.html#12037">&#8220;Running a Dracula DRC/ERC Job&#8221;</a></li><li>
<a id="pgfId-1014239"></a><a href="appC.html#27899">&#8220;System Requirements&#8221;</a></li><li>
<a id="pgfId-1014243"></a><a href="appC.html#17451">&#8220;UNIX Case-Sensitivity Enhancements&#8221;</a></li><li>
<a id="pgfId-1014247"></a><a href="appC.html#16523">&#8220;Batch Job Queuing Utility&#8221;</a></li></ul>




<h2>
<a id="pgfId-1014249"></a><a id="12037"></a>Running a Dracula DRC/ERC Job</h2>

<p>
<a id="pgfId-1014250"></a>To run a DRC or an ERC job, complete the following steps.</p>

<ol><li>
<a id="pgfId-1014251"></a>Change to the directory where the job is to run.</li><li>
<a id="pgfId-1014252"></a>Run the preprocessor to generate the jxrun.com file.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1014253">
<a id="pgfId-1014253"></a>PDRACULA or PDRACULA2</pre></li><li>
<a id="pgfId-1014254"></a>Type<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1014255">
<a id="pgfId-1014255"></a>: /get filename.com
: /fin</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014256"></a>The jxrun.com file is the UNIX version submitted to run the Dracula job. PDRACULA is the preprocessor for DRACULA III, and PDRACULA2 is for DRACULA II.</div></li></ol>









<h3>
<a id="pgfId-1014257"></a>Submitting the jxrun.com File</h3>

<ul><li>
<a id="pgfId-1014259"></a>To run a job in the foreground, enter the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1014260">
<a id="pgfId-1014260"></a>jxrun.com &gt;&amp; drc2.log</pre><span class="indent-as-level2">
<a id="pgfId-1014261"></a>The log file is drc2.log.</span></li><li>
<a id="pgfId-1014262"></a>To run a job in the background, enter one of the following commands:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1014263">
<a id="pgfId-1014263"></a>jxrun.com &gt;&amp; drc2.log &amp;
[.] 8432 (Job number)</pre>
<a id="pgfId-1014264"></a>The log file name is drc2.log.<br />
<a id="pgfId-1014265"></a>or<pre class="webflare-pre-block webflare-courier-new" id="#id1014266">
<a id="pgfId-1014266"></a>jxsub.com
[.] 8433 (Job number)</pre>
<a id="pgfId-1014267"></a>The log file name is printfile.log. </li><li>
<a id="pgfId-1014269"></a>To run a job in the background from a break point, enter the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1014270">
<a id="pgfId-1014270"></a>jxrun.com BEGIN EXPAND &gt;&amp; drc2.log &amp;
[.] 8433</pre>
<a id="pgfId-1014271"></a>This entry runs the job in the background from the BEGIN to EXPAND break point names. The log file name is drc2.log.</li></ul>














<h3>
<a id="pgfId-1014272"></a>Running Other Dracula Programs</h3>

<p>
<a id="pgfId-1014273"></a>You can execute the other interactive Dracula programs by entering the following commands:</p>
<p class="webflare-indent1">
<a id="pgfId-1014274"></a>LOGLVS (LVS Network Compiler)</p>
<p class="webflare-indent1">
<a id="pgfId-1014275"></a>LPEPRO (LPE Postprocessor)</p>
<p>
<a id="pgfId-1014276"></a>These names are aliases of their all-cap equivalents.</p>

<h3>
<a id="pgfId-1014277"></a>UNIX Commands</h3>

<p>
<a id="pgfId-1014279"></a>The following UNIX comman<a id="marker-1015641"></a>ds might help you use Dracula.</p>
<table class="webflareTable" id="#id1015642">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015574"></a>ps</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015576"></a>Gives process status</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015578"></a>kill &lt;number&gt;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015580"></a>Kills a background job </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015582"></a>df</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015584"></a>Checks disk space</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015586"></a>Control-c</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015588"></a>Stops a foreground job</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015590"></a>tail &lt;filename&gt;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015592"></a>Lists last 10 lines of file name</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015594"></a>tail -f &lt;filename&gt;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015596"></a>Lets you output the file as it is written. Lets you monitor a big job while still storing a log file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015598"></a>cat &lt;filename&gt; </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015600"></a>Displays a file</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015602"></a>ls</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015604"></a>Lists a directory</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015606"></a>ls -l</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015608"></a>Lists a directory in long format</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015610"></a>cp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015612"></a>Copies a file</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015614"></a>ftp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015616"></a>Transfers files to and from a remote network site</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015618"></a>mkdir</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015620"></a>Creates a directory</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015622"></a>rm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015624"></a>Deletes a file</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015626"></a>cd</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015628"></a>Changes directory</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015630"></a>lpr</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015632"></a>Prints a file</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1014295"></a>Sun:</h4>
<table class="webflareTable" id="#id1015711">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015713"></a>pstat -s</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015715"></a>Checks swap space</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1014297"></a>Sun or HP:</h4>
<table class="webflareTable" id="#id1015728">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015730"></a>swapon -a &lt;filename&gt;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015732"></a>Adds swap space. filename is a file created with the UNIX mkfile command.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015734"></a>swapon {special}</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015736"></a>Adds swap space. special is the block device made available to the system for allocation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015738"></a>reboot</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1015740"></a>Reboots the system</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1014301"></a>You must have root privileges to execute the above three commands.</p>

<h2>
<a id="pgfId-1014303"></a><a id="27899"></a>System Requirements</h2>

<p>
<a id="pgfId-1014304"></a>To run Dracula, the recommended system has 32 Mbytes of physical memory and a disk drive with a minimum of 300 Mbytes.</p>
<p>
<a id="pgfId-1014305"></a>These estimates of needed memory are conservative. Because Release 4.4 uses dynamic memory allocation, it only takes 5 to 10 Mbytes to verify small designs (for example, 2000 transistors).</p>
<p>
<a id="pgfId-1014306"></a>The recommended &#8220;swap space&#8221; is 20X memory size for a single Dracula job. If the system is used by more than one user or used to run more than one Dracula job, a larger swap space is recommended.</p>
<p>
<a id="pgfId-1014307"></a>If you are running large Dracula jobs and encounter the system error message &#8220;NOT ENOUGH MEMORY,&#8221; increase the swap space.</p>
<p>
<a id="pgfId-1014308"></a>Because of dynamic memory allocation, Dracula allocates memory as needed. If there is no more memory left in the system to allocate, Dracula aborts with following message:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014309"></a> * /F*   ERROR:  function flloc can&#8217;t allocate memory<br />** ABORT AT ROUTINE : falloc&#160;&#160;  STATEMENT # = 1</pre>
<p>
<a id="pgfId-1014310"></a>Increase the swap space to make up for the lack of memory.</p>
<p>
<a id="pgfId-1014311"></a>After you change the system&#8217;s swap space, back up and reformat the disks, then reload them with the backed-up data or use swap. The disk swap space must be contiguous. Refer to your system&#8217;s installation guide for further information.</p>
<p>
<a id="pgfId-1014312"></a>HP: The system&#8217;s default swap space for each process is 25 Mbytes. You might need to increase this space for large jobs. Check with your system administrator before making a change because this change involves rebuilding the kernel.</p>

<h2>
<a id="pgfId-1014315"></a><a id="17451"></a>UNIX Case-Sensitivity Enhancements </h2>

<p>
<a id="pgfId-1014316"></a>All commands and responses to questions are case insensitive. File names, however, are case sensitive. Some commands, as described below, also search for different file name extensions. </p>
<p>
<a id="pgfId-1014317"></a>The first file found that fits the file name is used. If no file fits any of the possible file names searched for, an error message occurs. </p>

<h3>
<a id="pgfId-1014318"></a>PDRACULA</h3>

<p>
<a id="pgfId-1014319"></a>All command keywords (such as /GET and /FIN) are case insensitive. </p>
<p>
<a id="pgfId-1014320"></a>/g filename searches for </p>
<p class="webflare-indent1">
<a id="pgfId-1014321"></a>filename (where filename is taken literally, case sensitive) 
filename.rul 
filename.RUL 
filename.com 
filename.COM </p>
<p>
<a id="pgfId-1014322"></a>in that order. </p>
<p>
<a id="pgfId-1014323"></a>/g /dir-path/filename searches for </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014324"></a>/dir-path/filename (where filename and <br />                                   dir-path are taken literally)</pre>
<p>
<a id="pgfId-1014325"></a>and again for .rul, .RUL, .com, and .COM in that order. </p>
<p>
<a id="pgfId-1014326"></a>The file name can contain periods (for example, drc.1a) and can be any combination of upper and lower case. The dir-path is also taken literally with any legal UNIX character accepted. Total /dir-path/filename length cannot exceed 128 characters, including any extension. </p>
<p>
<a id="pgfId-1014327"></a>/g&#160;&#160;../filename searches as above one level up the directory. </p>
<p>
<a id="pgfId-1014328"></a>/ed /(optional)dir-path/filename edits exactly </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014329"></a>/dir-path/filename </pre>
<p>
<a id="pgfId-1014330"></a>/f creates lowercase jx files </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014331"></a>jxrun.com <br />jxsub.com </pre>
<p>
<a id="pgfId-1014332"></a>and so forth. Non-jx files remain uppercase. </p>
<p>
<a id="pgfId-1014333"></a>/f filename creates </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014334"></a>filename.com (where <code><em>filename</em></code> is taken literally) <br />jxsub.com </pre>
<p>
<a id="pgfId-1014335"></a>and so forth. </p>
<p>
<a id="pgfId-1014336"></a>In the input rules file (commonly referred to as the RULE, or .rul or .com or rules file), command keywords are case insensitive (for example, INDISK=indisk, AND=and, SELECT=select). </p>
<p>
<a id="pgfId-1014337"></a>Where inputs to commands include the dollar sign ($), the following rule applies: input that is a UNIX path assumes that &#8220;$&#8221; refers to a variable set externally by a set command; input that is not a UNIX path accepts &#8220;$&#8221; as a valid character, not as an externally set variable. </p>
<p>
<a id="pgfId-1014338"></a>Examples: </p>
<ul><li>
<a id="pgfId-1014339"></a>PROGRAM-DIR=$abc/ where abc = /usr/drac, is the same as PROGRAM-DIR=/usr/drac/ </li><li>
<a id="pgfId-1014340"></a>SUB-PROG=SIZE $abc/ is similar to the previous example. </li><li>
<a id="pgfId-1014343"></a>PRIMARY=Name$Xyz is interpreted as NAME$XYZ where $XYZ is not an external variable. <br />
<a id="pgfId-1014344"></a>Note the uppercase.</li><li>
<a id="pgfId-1014345"></a>If CNAMES-CSEN=YES, the above example is instead Name$Xyz where $Xyz is not an external variable. <br />
<a id="pgfId-1014346"></a>Note the mixed case.</li></ul>





<p>
<a id="pgfId-1014347"></a>PRINTFILE=filename </p>
<p>
<a id="pgfId-1014348"></a>All files affected by the command have lowercase extensions. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014349"></a>filename.log &#160;&#160;&#160;&#160;(where <code><em>filename</em></code> is taken literally, case sensitive) <br />filename.sum <br />filename.lvs <br />filename.mlg <br />filename.psm <br />filename.msm <br />filename.err </pre>
<p>
<a id="pgfId-1014350"></a>INDISK=filename searches for </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014351"></a>filename&#160;&#160;&#160;&#160;      (where filename is taken literally) <br />filename.db <br />filename.DB <br />filename.DAT</pre>
<p>
<a id="pgfId-1014352"></a>in that order. </p>
<p>
<a id="pgfId-1014353"></a>OUTDISK=filename creates the literal file name without extension. </p>
<p>
<a id="pgfId-1014354"></a>PROGRAM-DIR=/dir-path/ is interpreted literally. Maximum of 128 characters. The trailing / is required.</p>
<p>
<a id="pgfId-1014355"></a>SCHEMATIC=filename searches for </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014356"></a>filename&#160;&#160;&#160;&#160;       (where filename is taken literally) <br />filename.DAT</pre>
<p>
<a id="pgfId-1014357"></a>in that order. </p>
<p>
<a id="pgfId-1014358"></a>You can specify an optional /dir-path/ (for example, SCHEMATIC=/dir-path/filename).</p>
<p>
<a id="pgfId-1014359"></a>WORK-DIR=/dir-path/ is interpreted literally. Maximum of 128 characters. </p>

<h3>
<a id="pgfId-1014360"></a>LOGLVS</h3>

<p>
<a id="pgfId-1014361"></a>LOGLVS uses case-sensitive input file names and accepts full directory paths. All command keywords are case insensitive. </p>
<p>
<a id="pgfId-1014362"></a>cir filename searches for </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014363"></a>filename         (literal) <br />filename.cir <br />filename.CIR <br />filename.DAT </pre>
<p>
<a id="pgfId-1014364"></a>lib filename searches for </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014365"></a>filename         (literal) <br />filename.teg <br />filename.TEG <br />filename.DAT </pre>
<p>
<a id="pgfId-1014366"></a>inp filename searches for </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014367"></a>filename         (literal) <br />filename.sil <br />filename.SIL <br />filename.ilo <br />filename.ILO <br />filename.DAT </pre>
<p>
<a id="pgfId-1014368"></a>cel filename searches for </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014369"></a>filename      (literal) <br />filename.tab <br />filename.TAB </pre>
<p>
<a id="pgfId-1014370"></a>cir $abc/filename searches for filename with dir-path defined by $abc </p>
<p>
<a id="pgfId-1014371"></a>cir $file searches for filename defined by variable $file </p>
<p>
<a id="pgfId-1014372"></a>cir /dir-path/filename (dir-path and filename are taken literally) </p>
<p>
<a id="pgfId-1014373"></a>con SUBCKT-name searches for </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014374"></a>.SUBCKT SUBCKT-name (literal) <br />.SUBCKT SUBCKT-NAME (all uppercase) <br />.SUBCKT subckt-name (all lowercase) </pre>
<p>
<a id="pgfId-1014375"></a>The LVSLOGIC.DAT file name is created as the default. </p>

<h2>
<a id="pgfId-1014378"></a><a id="16523"></a>Batch Job Queuing Utility </h2>
<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014756"></a>
Effective from June 2009, the dracq/dracbatch utilities are no longer supported. Although, these utilities will continue to be shipped in future Dracula releases. You use them at your own risk. Dracula has been using the FlexLM licencing scheme for quite some time, which already has built-in, automatic queuing capabilities.</div>
<h4>
<a id="pgfId-1014755"></a>Commands</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014381"></a>dra<a id="marker-1014380"></a>cq <br />dracba<a id="marker-1014382"></a>tch</pre>
<h4>
<a id="pgfId-1014383"></a>Syntax</h4>
<a id="pgfId-1014384"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dracq [-s] job [job ...] 
dracq -l 
dracq (-l|-r) job# [job# ...]
dracq (-l|-r) &lt;login&gt; 
dracbatch [maxJobNumber] &amp; </pre>
<h4>
<a id="pgfId-1014385"></a>Options</h4>
<p><strong>
<a id="pgfId-1014386"></a>s</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1015753"></a> Sets up job requests into the FIFO job queue</p>
<p><strong>
<a id="pgfId-1015758"></a>l</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1015761"></a> Lists job requests in the FIFO job queue</p>
<p><strong>
<a id="pgfId-1015766"></a>r</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1015769"></a> Removes job requests from the FIFO job queue</p>
<h4>
<a id="pgfId-1014389"></a>Description</h4>

<p>
<a id="pgfId-1014390"></a>The UNIX batch queuing system consists of two programs, dracq and dracbatch, which access the same job queue. The dracq program (like sender) places job requests containing command lines onto the FIFO queue. The dracbatch program (like server) removes a job request from the FIFO queue and executes the commands specified in it. </p>
<p>
<a id="pgfId-1014391"></a>Once this job request is done, dracbatch removes the next job request in the queue and executes it until there are no more job requests waiting in the queue. Jobs are stored in first-in, first-out (FIFO) order, so jobs are executed in the order they are queued.</p>
<p>
<a id="pgfId-1014392"></a>To specify a maximum number of jobs in the, specify a maximum job number for the dracbatch command. For example</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014393"></a>$ dracbatch [maxJobNumber] &amp;</pre>
<p>
<a id="pgfId-1014394"></a>If you specify a maximum job number of five, and there are three jobs in the queue, the fourth and fifth jobs join the queue. If there is a sixth job, it cannot join the queue and you must resubmit the job later when the active job finishes or a job is dequeued.</p>
<p>
<a id="pgfId-1014396"></a>The <a id="marker-1014395"></a>dracq program has three functions: </p>
<ul><li>
<a id="pgfId-1014397"></a>Puts job requests into the queue</li><li>
<a id="pgfId-1014398"></a>Lists job requests currently in the queue</li><li>
<a id="pgfId-1014399"></a>Deletes job requests from the queue</li></ul>



<h4>
<a id="pgfId-1014400"></a>Usage</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014401"></a>dracq [-slr] [job ...]</pre>
<h4>
<a id="pgfId-1014402"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014403"></a>dracq [-s] [path1/]job1 [[path2/]job2 ...]</pre>

<p>
<a id="pgfId-1014404"></a>Sets up job1, job2, and so on, into the FIFO job queue. When it is time to execute the jobs, the dracbatch daemon removes job1 from the queue, changes to the path1 directory, executes job1, removes job2 from the queue, changes to the path2 directory, executes job2, and so on.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014405"></a>The queuing system only takes a job request in the script format of jxsub.com, either in its name jxsub.com or any other user-defined name. </div>
<p>
<a id="pgfId-1014406"></a>Following is an example of a job request, jxjob1. You can generate the job request file, jxjob1, by running PDRACULA to create jxsub.com, then renaming it to jxjob1. Submit the jxjob1 to the batch queue by issuing the command dracq -s jxjob1. The format of jxjob1 is shown below:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014407"></a>#!/bin/csh<br />setenv jclf &quot;jxrun.com&quot;<br />setenv logf &quot;/usr/Dracula/bsdqa/drc/drc4/DRC4.log&quot;<br />setenv msmf &quot;/usr/Dracula/bsdqa/drc/drc4/DRC4.msm&quot;<br />csh jxrun.int $jclf $logf $msmf $1 $2 &gt;&amp; \<br />    /usr/Dracula/bsdqa/drc/drc4/DRC4.mlg&amp;</pre>
<p>
<a id="pgfId-1014408"></a>The following example lists all jobs in the job queue. When there is no entry, a message &#8220;Currently no job in the queue&#8221; is displayed.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014409"></a>dracq -l</pre>
<p>
<a id="pgfId-1014410"></a>The following example lists all jobs queued by the user login. When there are no such jobs, a message &#8220;No job matching request&#8221; is displayed.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014411"></a>dracq -l &lt;login&gt;</pre>
<p>
<a id="pgfId-1014412"></a>The following example lists the requested numbered jobs only.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014413"></a>dracq -l &lt;job#&gt; [job# ...]</pre>
<p>
<a id="pgfId-1014414"></a>The following example removes all jobs queued by the user login. When there are no such jobs, a message &#8220;No job matching request&#8221; is displayed</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014415"></a>dracq -r &lt;login&gt;</pre>
<p>
<a id="pgfId-1014416"></a>The following example removes the requested numbered jobs only</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014417"></a>dracq -r &lt;job#&gt; [job# ...]</pre>
<p>
<a id="pgfId-1014418"></a>The following example specifies a maximum of three jobs are allowed in the queue. If you submit a forth job, you receive an error message telling you to resubmit the job later.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014419"></a>$ dracbatch 3 &amp;</pre>

<h4>
<a id="pgfId-1014420"></a>Installation</h4>

<p>
<a id="pgfId-1014421"></a>Before running these programs, verify that dracq and dracbatch are owned by root and have the proper protections:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014422"></a>cd /(path...) &#160;&#160;&#160;&#160;#where dracq, dracbatch is accessed by all<br />chown root dracq dracbatch<br />chmod 6111 dracq<br />chmod 100 dracbatch</pre>
<p>
<a id="pgfId-1014423"></a>The location of these programs can be in the Dracula hierarchy if that hierarchy is on the same machine, or if it is copied elsewhere, for example, /usr/local.</p>
<p>
<a id="pgfId-1014424"></a>Output files generated by dracq -s are stored in the /usr/spool/batch spooling directory.</p>
<p>
<a id="pgfId-1014425"></a>To create this spooling directory, enter the following commands:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014426"></a>su root<br />cd /usr/spool <br />mkdir batch<br />chown root batch<br />chmod 777 batch<br />chmod g+s batch</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014427"></a>vi /etc/rc.local</pre>
<p>
<a id="pgfId-1014428"></a>Add a conditional entry to execute dracbatch upon reboot to make sure the queue is always running.</p>
<p>
<a id="pgfId-1014429"></a>The dracbatch program runs when the system is brought to multi-user operation (generally run level 2 for UNIX System V™). This can be done automatically by invoking dracbatch in one of the script files under <br />/etc/rc2.d (UNIX System V.3 and later) or by an entry in the /etc/rc file (System V.2 or BSD).</p>
<p>
<a id="pgfId-1014430"></a>The following is a sample shell script for invoking dracbatch.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014431"></a>#
# Invoke the job queue execution daemon 
# 
# Only run this script if the previous run level was single-user mode(to avoid multiple invocations):
# 
if [ -x /usr/local/bin/dracbatch ] 
then
&#160;&#160;&#160;&#160;/usr/local/bin/dracbatch &amp; (echo -n &#8217; dracbatch &#8217;) &gt;
&#160;&#160;&#160;&#160;/dev/console <br />fi</pre>
<p>
<a id="pgfId-1014432"></a>Because dracq is for anyone who needs to queue a job, it must be executable by every user. It must be owned by root and stored in a local bin directory that all users have in their path (such as /usr/lbin or /usr/local/bin). It must also have 6111 permission (--s--s--x). Make sure that everyone can only access the resident dracq command on the machine running the batch queue. Because ownership and permissions are critical, do not put draq in a directory that might accidentally be accessed by others.</p>
<p>
<a id="pgfId-1014433"></a>The dracbatch daemon is run by init at startup and must be owned by root with 100 permission mode (--x------).</p>
<p>
<a id="pgfId-1014434"></a>The dracbatch daemon spawns a child shell to process the jobs in the batch queue. If there is no batch job in the queue, the dracbatch daemon spawns a child process and checks the batch queue every 30 seconds. </p>

<h4>
<a id="pgfId-1014435"></a>Scenario 1</h4>

<p>
<a id="pgfId-1014436"></a>Suppose there are three users (A, B, and C) logged in to the same machine (M). At one time, user A issues the dracq -s jxsubA command before user B issues the dracq -s jxsubB command; user C does not use the batch utility, but instead issues the jxsub.com command. </p>
<p>
<a id="pgfId-1014437"></a>Therefore, on machine M, there are two Dracula jobs running (jxsubA of user A and jxsub.com of user C), and there is one Dracula job waiting in the queue for execution (jxsubB of user B). Job jxsubB executes when jxsubA is finished.</p>
<p>
<a id="pgfId-1014438"></a>The batch queue utilities do not support break points, so you can only run the job request from stage 1 to the last stage.</p>
<p>
<a id="pgfId-1014439"></a>When submitting multiple Dracula jobs at one time, dracq treats all the jobs as one batch job. For example, to submit multiple Dracula jobs:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014440"></a>% dracq -s drc/jxsub.com erc/ercjxsub.com lvs/lvljxsub.com</pre>
<p>
<a id="pgfId-1014441"></a>To list batch jobs:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014442"></a>% dracq -1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014443"></a>Rank       Owner       Job   Files<br />active     mchang      13    jxsub.com,ercjxsub.com,<br />                             lvljxsub.com</pre>
<p>
<a id="pgfId-1014444"></a>To remove batch jobs:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014445"></a>% dracq -r 13</pre>
<p>
<a id="pgfId-1014446"></a>Dracq removes the 13th batch job; that is, the three Dracula jobs jxsub.com, ercjxsub.com, and lvljxsub.com.</p>

<h4>
<a id="pgfId-1014447"></a>Scenario 2</h4>

<p>
<a id="pgfId-1014448"></a>If you want to submit multiple Dracula jobs with multiple batch job listings, you can create a UNIX shell script file. Define a name for the file (for example, dracqmulti) and put the file in your local search $PATH. For example:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014449"></a>% dracqmulti drc/jxsub.com erc/ercjxsub.com lvs/lvljxsub.com</pre>
<p>
<a id="pgfId-1014450"></a>where dracqmulti is</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014451"></a>   #!/bin/csh<br />   foreach i ( $* )<br />      dracq -s $i<br /> end</pre>
<p>
<a id="pgfId-1014452"></a>To list batch jobs:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014453"></a>% dracq -1<br />Rank       Owner       Job   Files<br />active     mchang      13    jxsub.com<br />1          mchang      14    ercjxsub.com<br />2&#160;&#160;        mchang      15    lvljxsub.com</pre>
<p>
<a id="pgfId-1014454"></a>To remove batch jobs:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014455"></a>% dracq -r 13</pre>
<p>
<a id="pgfId-1014456"></a>Dracq removes only the 13th batch job (that is, the Dracula job, jxsub.com.).</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="appB.html" id="prev" title="Data Structure Translator">Data Structure Translator</a></em></b><b><em><a href="glossary.html" id="nex" title="Glossary">Glossary</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>