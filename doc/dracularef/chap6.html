
<html><head><title>Comparing Layouts and Schematics (LVS)</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sarita" />
<meta name="CreateDate" content="2023-09-14" />
<meta name="CreateTime" content="1694753408" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Dracula offers a complete set of integrated applications for IC layout designs. It contains information about the Dracula standalone verification product." />
<meta name="DocTitle" content="Dracula Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Comparing Layouts and Schematics (LVS)" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="dracularef" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-14" />
<meta name="ModifiedTime" content="1694753408" />
<meta name="NextFile" content="chap7.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Physical Verification  Analysis" />
<meta name="PrevFile" content="chap5.html" />
<meta name="c_product" content="Dracula" />
<meta name="Product" content="Dracula" />
<meta name="ProductFamily" content="Dracula" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Dracula Reference -- Comparing Layouts and Schematics (LVS)" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="dracularefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="dracularefTOC.html">Contents</a></li><li><a class="prev" href="chap5.html" title="Compiling Network Descriptions (LOGLVS)">Compiling Network Descriptions ...</a></li><li style="float: right;"><a class="viewPrint" href="dracularef.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap7.html" title="Extracting Electrical Parameters (LPE)">Extracting Electrical Paramete ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Dracula Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>6
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1011663"></a><hr />
<a id="31304"></a>Comparing Layouts and Schematics (LVS)<hr />
</h1>

<p>
<a id="pgfId-1014197"></a>The focus of Chapter 6 is on LVS for Dracula. The following topics are covered:</p>
<ul><li>
<a id="pgfId-1014201"></a><a href="chap6.html#85969">&#8220;LVS Overview&#8221;</a></li><li>
<a id="pgfId-1014205"></a><a href="chap6.html#67007">&#8220;LVL Overview&#8221;</a></li><li>
<a id="pgfId-1014209"></a><a href="chap6.html#91744">&#8220;SVS Overview&#8221;</a></li><li>
<a id="pgfId-1014213"></a><a href="chap6.html#13341">&#8220;LVS Report Format&#8221;</a></li><li>
<a id="pgfId-1014217"></a><a href="chap6.html#15478">&#8220;Discrepancy Report Conventions&#8221;</a></li><li>
<a id="pgfId-1014221"></a><a href="chap6.html#17759">&#8220;LVS Error Types&#8221;</a></li><li>
<a id="pgfId-1014225"></a><a href="chap6.html#63258">&#8220;Device Recognition in LVS&#8221;</a></li><li>
<a id="pgfId-1014229"></a><a href="chap6.html#22790">&#8220;Isolating and Debugging Errors&#8221;</a></li><li>
<a id="pgfId-1014233"></a><a href="chap6.html#11278">&#8220;Interpreting an LVS Discrepancy&#8221;</a></li><li>
<a id="pgfId-1014237"></a><a href="chap6.html#11870">&#8220;Logical Equivalence in MOS Digital Circuits&#8221;</a></li><li>
<a id="pgfId-1014241"></a><a href="chap6.html#16700">&#8220;Calculations on Parallel MOS Devices for LVS&#8221;</a></li><li>
<a id="pgfId-1014245"></a><a href="chap6.html#35738">&#8220;Bipolar LVS Example&#8221;</a></li><li>
<a id="pgfId-1014249"></a><a href="chap6.html#57207">&#8220;Hierarchical LVS&#8221;</a></li><li>
<a id="pgfId-1026193"></a><a href="chap6.html#96295">&#8220;Inherited Connections for LVS in Dracula Verification&#8221;</a></li></ul>














<h2>
<a id="pgfId-1014252"></a><a id="85969"></a>LVS Overview</h2>

<p>
<a id="pgfId-1014255"></a><a id="marker-1014253"></a><a id="marker-1014254"></a>Layout Versus Schematic (LVS) is the Dracula verification tool that confirms that your layout matches your original schematic. LVS <a id="marker-1014256"></a>compares the connectivity of the layout and schematic at the transistor level and reports any discrepancies. Dracula automatically generates the layout network using input data from major CAD graphics systems. LOGLVS, the Dracula network compiler, prepares a schematic description for LVS in the form of a SPICE or logic simulation netlist.</p>
<p>
<a id="pgfId-1014257"></a>LVS converts each network into a circuit model. Starting from the inputs and outputs of the circuit, LVS traces the two circuit models. Dracula uses heuristics to trace the circuit one step at a time. LVS traces I/O&#8217;s first, then traces the paths that require the least backtracking. When LVS detects a match in the trace, Dracula assigns the matched devices or nodes a matched status. When LVS detects a mismatch, it stops tracing that path.</p>
<p>
<a id="pgfId-1014258"></a>LVS considers the two networks consistent if it can assign all devices and nodes a matched status and there are no discrepancy points in the traced paths. When Dracula detects discrepancies, it presents them in both the output listings and in graphic form.</p>
<p>
<a id="pgfId-1014259"></a>Besides comparing two networks, LVS also compares device subtypes (NMOS versus PMOS in CMOS circuits) and some device parameters, such as channel width and length in MOS circuits.</p>
<p>
<a id="pgfId-1014260"></a>The LVS tool includes sections for checking </p>
<ul><li>
<a id="pgfId-1014261"></a>Layout versus layout</li><li>
<a id="pgfId-1014262"></a>Schematic versus schematic</li><li>
<a id="pgfId-1014263"></a>Hierarchical layout versus schematic</li></ul>



<h3>
<a id="pgfId-1014264"></a>Layout Versus Layout</h3>

<p>
<a id="pgfId-1014265"></a>Layout versus Layout (LVL) is the portion of LVS that compares two similar mask layout databases at the device or gate level and reports discrepancies in the interconnections and in certain device parameters. LVL requires the LVL-PART command in the Description block. For more information about LVL, refer to the <h-hot><a href="chap6.html#67007">LVL Overview</a></h-hot> section in this chapter.</p>

<h3>
<a id="pgfId-1014269"></a>Schematic Versus Schematic</h3>

<p>
<a id="pgfId-1014270"></a>Schematic versus Schematic (SVS) is the portion of LVS that compares two schematics. SVS requires the following commands in the Description block:</p>
<ul><li>
<a id="pgfId-1014271"></a>HCELL-COLUMN-1</li><li>
<a id="pgfId-1014272"></a>SVS-LAYOUT</li><li>
<a id="pgfId-1014273"></a>SVS-SCHEMATIC</li></ul>


<p>
<a id="pgfId-1014277"></a>For more information about SVS, refer to the <h-hot><a href="chap6.html#91744">SVS Overview</a></h-hot> section in this chapter.</p>

<h3>
<a id="pgfId-1014279"></a><a id="44393"></a>Hierarchical Layout Versus Schematic</h3>

<p>
<a id="pgfId-1014280"></a>Hierarchical Layout Versus Schematic (HLVS) works like LVS, except that it operates on a two-level hierarchy. For more information about HLVS, refer to the <h-hot><a href="chap6.html#57207">Hierarchical LVS</a></h-hot> section in this chapter.</p>

<h3>
<a id="pgfId-1014284"></a>Initial Correspondence Node Pairs</h3>

<p>
<a id="pgfId-1014289"></a>You c<a id="marker-1014285"></a>an provi<a id="marker-1014286"></a>de a set of <a id="marker-1014287"></a>initial <a id="marker-1014288"></a>correspondence nodes as starting points for the LVS trace operation. When a node in the layout database and a qualified node in the schematics have identical, unique labels, they become an initial correspondence node pair. A qualified schematic node is either a power node, ground node, top-level input node, top-level output node, or, depending on the schematic netlist language being used, an internal node. For details about assigning initial correspondence node pairs for the schematic netlist, refer to the &quot;Compiling Network Descriptions (LOGLVS)&quot; section in Chapter 5. </p>
<p>
<a id="pgfId-1014290"></a>LVS chooses all power nodes, ground nodes, clock nodes, and at least one other node as minimum initial correspondence nodes. Because the program uses these initial correspondence pairs for <a id="marker-1014291"></a>trace operations, the more initial correspondence node pairs you provide, the more efficient the trace can be. However, LVS never questions the match of any correspondence node pairs, and if there are any errors in the initial correspondence node pairs, the program cannot check them, and the trace operation can be misled. Because manual texting on the layout database is an error-prone process, you need to provide the minimum number sufficient to do an effective check. As a guideline, assign all pads as initial correspondence node pairs. Additionally, you need to include important signal nodes, nodes with many device connections, or nodes of highly parallel circuits. </p>
<p>
<a id="pgfId-1014292"></a>If Dracula does not find initial correspondence points, it turns on an automatic matching capability. For more information about automatic matching, refer to the <h-hot><a href="chap11.html#42801">ARRAY-ENABLED</a></h-hot> section in Chapter 11.</p>

<h3>
<a id="pgfId-1014297"></a>Trace and <a id="marker-1014296"></a>Discrepancy Points</h3>

<p>
<a id="pgfId-1014298"></a>Starting from the initial correspondence node pairs, LVS traces the extracted layout network and the schematic network one step at a time. Initially, LVS matches all correspondence node pairs. Whenever LVS finds a unique match between layout and schematic, it defines the objects as matched nodes or devices. </p>
<p>
<a id="pgfId-1014299"></a>LVS ends the trace operation when it matches all nodes and devices or when discrepancies have stopped tracing all paths. This means that discrepancy points are the focus points for error isolation and error interpretation, instead of unmatched nodes or devices. To present the discrepancies, LVS reports matched or unmatched nodes and devices related to particular discrepancies. The number of unmatched devices or nodes are not necessarily the same as the number of discrepancy points. </p>
<p>
<a id="pgfId-1014300"></a>The sequence of the trace is dynamically determined in the program. Because error interpretations based on these assumptions might be incorrect, do not assume any trace sequences. </p>

<h3>
<a id="pgfId-1014301"></a>Using LVS</h3>

<p>
<a id="pgfId-1014303"></a>This section d<a id="marker-1014302"></a>escribes the following functional flow for using LVS:</p>
<ol><li>
<a id="pgfId-1014304"></a>Run DRC and ERC and correct all errors.</li><li>
<a id="pgfId-1014305"></a>Compile the schematic netlist using LOGLVS.</li><li>
<a id="pgfId-1014306"></a>Check the layout text.</li><li>
<a id="pgfId-1014307"></a>Create and compile a rules file.</li><li>
<a id="pgfId-1014308"></a>Run LVS.</li><li>
<a id="pgfId-1014309"></a>View the discrepancy report.</li></ol>






<h4>
<a id="pgfId-1014310"></a>Running DRC and ERC</h4>

<p>
<a id="pgfId-1014311"></a>You can run multiple verification operations such as DRC, ERC, LVS, and LPE at the same time. However, it is usually better to run operations one at a time, so you can correct only one type of error at a time. If you run ERC on the layout database first, you can correct the errors detected and reduce the run time and number of LVS discrepancies you must correct. When you run an ERC check, keep the following in mind:</p>
<ul><li>
<a id="pgfId-1014312"></a>Check for illegal devices such as MOS diffusion connections to more than two electrical nodes or no electrical node. </li><li>
<a id="pgfId-1014313"></a>Using the MULTILAB command, check for shorted circuits between pads and major signals, such as VCC and VSS. </li><li>
<a id="pgfId-1014314"></a>Using the SAMELAB and ELCOUNT commands, check for open circuits associated with pads or major signals. </li><li>
<a id="pgfId-1014315"></a>Check text on the layout. Use composite text only, not cell level text. </li><li>
<a id="pgfId-1014316"></a>Identify major nodes and attach text to them if necessary. (This applies to nodes that connect to more than 150 elements.)</li></ul>





<h4>
<a id="pgfId-1014317"></a>Compiling the Schematic Netlist</h4>

<p>
<a id="pgfId-1014321"></a>See the <h-hot><a href="chap5.html#55252">Preparing Netlists</a></h-hot> section in Chapter 5 of this manual for a detailed discussion of how to prepare and compile the schematic netlist.</p>

<h4>
<a id="pgfId-1014322"></a>Checking the Layout Text</h4>

<p>
<a id="pgfId-1014323"></a>You can provide a set of initial correspondence nodes as starting points for the tracing operations or use the AUTOMATCH command for internal correspondence point matching. Supply initial correspondence nodes by placing <a id="marker-1014324"></a>text on the layout database or by supplying text using an EDTEXT file. For detailed information about texting the layout, refer to <h-hot><a href="chap12.html#58967">Chapter 12, &#8220;Input-Layer Block Commands.&#8221;</a></h-hot></p>
<p>
<a id="pgfId-1014329"></a><a id="marker-1014328"></a>When texting the layout, keep in mind the following guidelines:</p>
<ul><li>
<a id="pgfId-1014330"></a>Text all input and output pads.</li><li>
<a id="pgfId-1014331"></a>Text power and ground nodes.</li><li>
<a id="pgfId-1014332"></a>Text important internal nodes.</li><li>
<a id="pgfId-1014333"></a>Make sure that the text strings on the database are the same as the node names in the netlist.</li><li>
<a id="pgfId-1014334"></a>Do not use too many texts per node.</li><li>
<a id="pgfId-1014335"></a>Check that the text origin is inside or at the edge of the geometry.</li></ul>






<h4>
<a id="pgfId-1014336"></a><a id="62368"></a>Creating and Compiling an LVS Rules File</h4>

<p>
<a id="pgfId-1014338"></a>If you have already run ERC, you can add <a id="marker-1014337"></a>LVS commands to your existing rules file. You can find a full description of each command in the &#8220;Description Block Commands&#8221; and &#8220;Operation Block Commands&#8221; chapters. </p>
<p>
<a id="pgfId-1025022"></a>The following LVS commands are required:</p>

<p><strong>
<a id="pgfId-1025023"></a><code>SCHEMATIC</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027304"></a> Calls the schematic netlist file created by LOGLVS. Enter this command in the Description block.</p>
<p><strong>
<a id="pgfId-1027309"></a><code>LVSCHK</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027312"></a> Extracts the layout database for a consistency check between layout and schematic. Enter this command in the Operation block.</p>

<p>
<a id="pgfId-1014342"></a>The following Description Block commands are optional:</p>

<p><strong>
<a id="pgfId-1014343"></a><code>CPOINT-FILE</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027319"></a> Inputs a file containing initial correspondence points for LVS matching. Lets you input initial correspondence points when node text names are different on the layout and schematic netlists. Lets you supply low-level net names as initial correspondence points.</p>
<p><strong>
<a id="pgfId-1027324"></a><code>FILTER-OPT</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027328"></a> Sets filter options for both the layout and schematic.</p>
<p><strong>
<a id="pgfId-1027333"></a><code>FILTER-LAY-OPT</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027336"></a> Sets filter options for the layout.</p>
<p><strong>
<a id="pgfId-1027341"></a><code>FILTER-SCH-OPT</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027345"></a> Sets filter options for the schematic.</p>
<p><strong>
<a id="pgfId-1027350"></a><code>LVS-OPTION</code> </strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027353"></a>Specifies LVS report options, letting you select the LVS error types you want listed.</p>
<p><strong>
<a id="pgfId-1027358"></a><code>LVSRPT-ONLY</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027361"></a> Generates a new LVS report from a previous LVS run. </p>
<p><strong>
<a id="pgfId-1027366"></a><code>SMASH-CAP-TYP</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027369"></a> Lets you smash parallel capacitors even if they are of different types.</p>
<p><strong>
<a id="pgfId-1027389"></a><code>REMOVE-SCH-OPT </code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027392"></a>Removes <h-hot>FILTER</h-hot><a href="chap11.html#REMOVE-SCH-OPT"></a> stage from the schematic side after SCHMIN.</p>

<p>
<a id="pgfId-1014352"></a>After you create the LVS rules file, use PDRCULA to compile it. When the file is free of errors, you can run an LVS check.</p>

<h4>
<a id="pgfId-1014353"></a>Running LVS</h4>

<p>
<a id="pgfId-1014356"></a>Submit the LVS rules file using the <a id="marker-1014354"></a>jxsub.com command.</p>

<h4>
<a id="pgfId-1014357"></a>Viewing the LVS Report</h4>

<p>
<a id="pgfId-1014358"></a>Dracula creates a file containing all discrepancies found during the LVS comparison. The file name is <a id="marker-1014359"></a>printfile.lvs, where printfile is the name assigned by the PRINTFILE command in the Description block. Refer to later sections of this chapter for descriptions of the error messages and discrepancies.</p>

<h2>
<a id="pgfId-1014362"></a><a id="67007"></a>LVL Overview</h2>

<p>
<a id="pgfId-1014365"></a><a id="marker-1014363"></a>This section p<a id="marker-1014364"></a>resents an overview of Layout Versus Layout (LVL) and rules files to demonstrate the verification of two similar IC layout databases. The output is in both graphic and listing formats. </p>
<p>
<a id="pgfId-1014366"></a>LVL is the portion of LVS that compares one IC layout to a similar IC layout on the device/gate level (not on geometric polygon data) and reports discrepancies in the interconnections. (To compare polygon data from different layout databases, use the EXPORT and IMPORT commands with the logical NOT or XOR commands.) The system automatically generates the layout networks when you use the SCHEMATIC and GRAPHICS options for the LVL-PART command. LVL accepts layout databases from major CAD graphics systems. </p>
<p>
<a id="pgfId-1014367"></a>In addition to the two layout networks (6NET files), the system produces a list of corresponding nodes for power, ground, clocks, inputs, and outputs (6PAD files) through the texting facility on both layouts. The texting on both layout databases must be the same. </p>
<p>
<a id="pgfId-1014368"></a>LVL converts each network into internal model format (6NET files). Starting from the inputs and outputs of the layout circuit, LVL traces the two circuit models. Because the trace algorithm moves one step at a time, LVL uses heuristics. LVL traces all I/O&#8217;s of the layout circuit and then traces the paths that require less backtracking. When the trace detects a match, LVL assigns a matched status to the devices or nodes. When the trace detects a mismatch, LVL stops tracing the path for that particular I/O. </p>
<p>
<a id="pgfId-1014369"></a>If LVL assigns all devices and all nodes a matched status and there are no discrepancy points in the traced paths, the two layout networks are consistent. If LVL detects discrepancies, the system presents all discrepancy points in the printfile.lvl output listing. </p>
<p>
<a id="pgfId-1014370"></a>In addition, LVL compares device subtypes and certain device parameters, such as the channel width and length of MOS devices. </p>

<h3>
<a id="pgfId-1014371"></a>Preparing for LVL</h3>

<p>
<a id="pgfId-1014373"></a>Before run<a id="marker-1014372"></a>ning LVL, perform the following steps:</p>
<ol><li>
<a id="pgfId-1014374"></a>Run ERC checks on both layout databases as follows:<ul><li>
<a id="pgfId-1023281"></a>Check for illegal devices, such as connected MOS gate, source, and drain.<br />
<a id="pgfId-1023282"></a><code>NDCOUNT MOS ALL EQ 1 OUTPUT ONENET 40</code></li><li>
<a id="pgfId-1023283"></a>To check for shorted circuits between pads and major signals, such as VCC and VSS, use the MULTILAB command. </li><li>
<a id="pgfId-1014378"></a>To check for open circuits, pads, and major signals, use the SAMELAB command. </li></ul></li><li>
<a id="pgfId-1014379"></a>Create a rules file for the reference layout database. This LVL rules file is the ERC rules file with the following two additions: <ul><li>
<a id="pgfId-1014380"></a>Specify the LVL-PART command with the SCHEMATIC option in the Description block (such as SCHEMATIC in the LVS check). </li><li>
<a id="pgfId-1014381"></a>Specify the LVSCHK command at the end of the Operation block to start the LVL check of the reference layout database. </li></ul></li><li>
<a id="pgfId-1014382"></a>Create a second rules file for the second layout database. Modify the ERC rules file as follows: <ul><li>
<a id="pgfId-1014383"></a>Specify LVL-PART=GRAPHICS in the Description block. </li><li>
<a id="pgfId-1014384"></a>Specify the LVSCHK command at the end of the Operation block to start the LVL check of the reference layout database against the layout database. <br />
<a id="pgfId-1014385"></a>The LVL run provides a printfile.lvl discrepancy listing and lvlplot graphic output database in the file specified by the OUTDISK command. <br />
<a id="pgfId-1014386"></a>The LVL discrepancy listing is similar to the LVS discrepancy listing except that the program lists the x,y locations for the device in the reference layout database. LVL also lists device subtypes and substrate connections. If you specify the proper LVSCHK options, LVL checks and lists MOS channel width and lengths. </li></ul></li><li>
<a id="pgfId-1014387"></a>To submit and execute the two LVL rules files, use the /NEXT command in the preprocessor. <br />
<a id="pgfId-1014388"></a>The LVL-PART command alerts the preprocessor that LVL is performing an LVL discrepancy check. Because the LVL job is similar to an LVS job, use /NEXT to combine the two LVL rules files.</li><li>
<a id="pgfId-1014389"></a>To control the formation of pseudo devices in the MOS process and to check MOS device sizes, use LVSCHK options. <br />
<a id="pgfId-1014390"></a>If you do not specify lvschk options exactly the same in both rules files, the consistency check is different. </li></ol>





















<h3>
<a id="pgfId-1014391"></a>Rules Files</h3>

<p>
<a id="pgfId-1014393"></a>The following a<a id="marker-1014392"></a>re examples of rules files to submit LVL runs. You can enter command names in either lowercase or uppercase letters.</p>

<h4>
<a id="pgfId-1014394"></a>Rules File for the Schematic</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014395"></a>; **** &quot;LVL1.COM&quot; rules file for the Reference Layout **** <br />; ****                    Device (LVL-PART) **** <br />; **** NOTE: To run LVL, the consistency check must be **** <br />; **** between two (2) similar (process technology) **** <br />; **** databases. ****</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014396"></a>; <br />; <br />*DESCRIPTION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014397"></a>.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014398"></a>PRIMARY = top1 <br />MODE = exec now <br />SYSTEM = gds2 <br />SCALE = .001 mic <br />RESOLUTION = .25 mic <br />PROGRAM-DIR = drac: <br />OUTDISK = lvllout <br />. <br />. <br />INDISK = layout1.in  ;database for the reference device (SCHEMATIC)<br />PRINTFILE = lvllprt  ;print file for the reference device run<br />LVL-PART = schematic ;specifies as LVL reference device <br />. <br />. <br />*END <br />*INPUT-LAYER <br />pwell = 1 <br />ndiff = 2 <br />pdiff = 3 <br />poly = 4 <br />contact = 5 <br />metal = 6 TEXT = 26 <br />pad = 7 <br />SUBSTRATE = bulk 99 <br />CONNECT-LAYER = nsub pwell psd nsd poly metal <br />*END <br />*OPERATION </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014399"></a>AND poly ndiff ngate ; n-channel devices <br />NOT ndiff ngate nsd  ; N source/drain diffusion<br />AND poly pdiff pgate ; p-channel device <br />NOT pdiff pgate psd  ; P source/drain diffusion <br />NOT bulk pwell nsub  ; N substrate <br />AND nsd nsub ntsub   ; pseudo contact for N substrate <br />AND psd pwell ptwell ; pseudo contact for P well <br />;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014400"></a>CONNECT metal poly BY contact ; connecting the conductor <br />                              ; layers by contact <br />CONNECT metal nsd BY contact <br />CONNECT metal psd BY contact <br />CONNECT psd pwell BY ptwell <br />CONNECT nsub  nsd BY ntsub <br />;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014401"></a>ELEMENT MOS[n] ngate poly nsd pwell ; n-channel ELEMENT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014402"></a>ELEMENT MOS[p] pgate poly psd nsub&#160;&#160;; p-channel ELEMENT </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014403"></a>ELEMENT PAD    pad   metal ; pad ELEMENT<br />; <br />MULTILAB OUTPUT  shorts  40 ; run the &#8220;shorts&#8221; test <br />SAMELAB  OUTPUT  opens   40 ; run the &#8220;opens&#8221; test <br />LVSCHK                      ; specify the LVL check <br />*END </pre>
<h4>
<a id="pgfId-1014404"></a>Rules File for Graphics</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014405"></a>; ****   &quot;LVL2.COM&quot; rules file for the Layout Device **** <br />; ****   to be checked (LVL-PART=GRAPHICS)   **** <br />; ****   NOTE: To run LVL, the consistency check must be ***<br />; ****   between two similar (process technology) databases*<br />; <br />*DESCRIPTION <br />. <br />PRIMARY = top2 <br />MODE = exec now <br />SYSTEM = gds2 <br />SCALE = .001 mic <br />RESOLUTION = .25 mic <br />PROGRAM-DIR = drac: <br />OUTDISK = lvl2out <br />. <br />. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014406"></a>INDISK = layout2.in ; database for the device to be checked<br />PRINTFILE = lvl2prt ; print file for the device to be checked <br />LVL-PART = graphics ; specifies as LVL device to be checked </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014407"></a>. <br />. <br />*END <br />*INPUT-LAYER <br />pwell = 21 <br />ndiff = 7 <br />pdiff = 22 <br />poly = 24 <br />contact = 5 <br />metal = 10 TEXT = 13 <br />pad = 63 <br />SUBSTRATE = bulk 99 <br />CONNECT-LAYER = nsub pwell psd nsd poly metal <br />*END <br />*OPERATION </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014408"></a>AND poly ndiff ngate ; n-channel devices <br />NOT ndiff ngate nsd  ; N source/drain diffusion <br />AND poly pdiff pgate ; p-channel device <br />NOT pdiff pgate psd  ; P source/drain diffusion <br />;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014409"></a>NOT bulk pwell nsub  ; N substrate <br />AND nsd nsub ntsub   ; pseudo contact for N substrate <br />AND psd pwell ptwell ; pseudo contact for P well </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014410"></a>; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014411"></a>CONNECT metal poly BY contact ; connecting the conductor <br />                              ; layers by contact</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014412"></a>CONNECT   metal   nsd   BY contact <br />CONNECT   metal   psd   BY contact <br />CONNECT   psd     pwell BY ptwell <br />CONNECT   nsd     nsub  BY ntsub <br />;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014413"></a>ELEMENT MOS[n] ngate poly nsd pwell ; n-channel ELEMENT<br />ELEMENT MOS[p] pgate poly psd nsub  ; p-channel ELEMENT <br />ELEMENT PAD  pad  metal             ; pad ELEMENT <br />; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024971"></a>MULTILAB  OUTPUT  shorts  40        ; run the &quot;shorts&quot; test <br />SAMELAB   OUTPUT  opens   40        ; run the &quot;opens&quot; test <br />; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024972"></a>LVSCHK                              ; specify the LVL check <br />; <br />*END</pre>
<h3>
<a id="pgfId-1014416"></a>Running LVL</h3>

<p>
<a id="pgfId-1014418"></a>To start an LVL run on a UN<a id="marker-1014417"></a>IX workstation, type the following command:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014419"></a>% PDRACULA<br />: /GET LVL1.COM<br />: /NEXT<br />: /GET LVL2.COM<br />: /FIN </pre>
<p>
<a id="pgfId-1014420"></a>LVL runs lvl1.com, then runs lvl2.com. The LVL discrepancy report file is lvl2prt.lvl.</p>

<h2>
<a id="pgfId-1014423"></a><a id="91744"></a>SVS Overview </h2>

<p>
<a id="pgfId-1014425"></a><a id="marker-1014424"></a>Schematic Versus Schematic (SVS) compares two schematics. The two schematics must be in different directories. SVS requires the following commands in the Description block:</p>
<ul><li>
<a id="pgfId-1014426"></a>SVS-LAYOUT specifies the layout data file generated by LOGLVS.</li><li>
<a id="pgfId-1014427"></a>SVS-SCHEMATIC specifies the schematic data file generated by LOGLVS.</li><li>
<a id="pgfId-1014428"></a>HCELL-COLUMN-1 specifies whether the first column in the Hcell table lists layout or schematic cells. This command is required for hierarchical Dracula only.</li></ul>


<p>
<a id="pgfId-1014431"></a>For more information about these commands, refer to <h-hot><a href="chap11.html#71072">Chapter 11, &#8220;Description Block Commands.&#8221;</a></h-hot></p>

<h3>
<a id="pgfId-1014433"></a>Running SVS in Flat Mode</h3>

<p>
<a id="pgfId-1014435"></a><a id="marker-1014434"></a>The following is an example of a rules file for flat mode SVS:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014436"></a>*DESCRIPTION<br /> PRINTFILE = lvsprt<br /> PROGRAM-DIR = /DRACULA/ <br />SVS-SCHEMATIC = LVSLOGIC.DAT<br />SVS-LAYOUT = ../LVSLOGIC.DAT<br />*END<br />;<br />*OPERATION<br /> LVSCHK<br />*END</pre>
<h3>
<a id="pgfId-1014437"></a>Running SVS in Cell or Composite Mode</h3>

<p>
<a id="pgfId-1014438"></a>Here is an example of a rules file for cell or composite mode SVS:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014439"></a>*DESCRIPTION<br /> PRINTFILE = lvsprt<br /> SVS-SCHEMATIC = LVSLOGIC.DAT<br /> SVS-LAYOUT = ../LVSLOGIC.DAT<br /> program-dir = /DRACULA/<br /> CHECK-MODE=comp<br /> HCELL-FILE=../cell.tab<br />*END<br />;<br />*OPERATION<br /> LVSCHK<br />*END</pre>

<h3>
<a id="pgfId-1014440"></a>Running SVS in Hierarchical Mode</h3>

<p>
<a id="pgfId-1014442"></a><a id="marker-1014441"></a>To run SVS in hierarchical mode, you must include the number 1 at the end of the LOGLVS CELL command. The number 1 identifies the first cell name in the Hcell file as a schematic. This example specifies that the first cell name listed in the Hcell file HCELL.TAB is a schematic.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014443"></a>CEL HCELL.TAB 1</pre>
<p>
<a id="pgfId-1014444"></a>If you do not include the HCELL-COLUMN-1 command, the default setting is<em> LAYOUT</em>. To switch the role of both circuits after running LOGLVS, use the HCELL-COLUMN-1 command. For example, on the first LOGLVS run, specify the command as follows:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014445"></a>SVS-SCHEMATIC = LVSLOGIC<br />SVS-LAYOUT = ../LVSLOGIC.DAT</pre>
<p>
<a id="pgfId-1014446"></a>One the second run, switch the circuits without rerunning LOGLVS. Modify the rules this way:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014447"></a>SVS-SCHEMATIC = ../LVSLOGIC.DAT<br />SVS-LAYOUT = LVSLOGIC.DAT<br />HCELL-COLUMN-1 = SCH</pre>

<h2>
<a id="pgfId-1014450"></a><a id="13341"></a>LVS Report Format</h2>

<p>
<a id="pgfId-1014453"></a><a id="marker-1014451"></a>The following is a bri<a id="marker-1014452"></a>ef overview of a sample LVS report. An LVS report contains information pertaining to an LVS job run. Depending on whether you run flat, cell, or composite mode, some of the major sections in the LVS reports can be the following:</p>
<ul><li>
<a id="pgfId-1014454"></a>Header: The header contains the version identification of Dracula, the execution time of the job, and the name of the primary cell. This section is created by PDRACULA.</li><li>
<a id="pgfId-1014455"></a>EXTERM: If you include the EXTERM-NOWARN=YES command in the Description block, only the &#8220;unconnected pins in cell&#8221; messages are not displayed in the LVS report. This section is for composite mode LVS.</li><li>
<a id="pgfId-1014456"></a>XDEVIC summary: Reports illegal hierarchical devices.</li><li>
<a id="pgfId-1014458"></a><a id="marker-1014457"></a>LVSNET summary: LVSNET prints warning messages in this section.</li><li>
<a id="pgfId-1014460"></a><a id="marker-1014459"></a>FILTER (layout) summary: FILTER prints a summary of statistics for the layout side in this section. If you specify special filter options, they are listed in this section.</li><li>
<a id="pgfId-1014462"></a><a id="marker-1014461"></a>REDUCE (layout) summary: This summary lists the options used in REDUCE. Depending on the FILTER-OPT command or the LVSCHK or LPECHK[F or G option] command, the schematic REDUCE or the layout REDUCE may be different. The device reduction statistics follow the options listing.<br />
<a id="pgfId-1014463"></a>The following types are described in the &#8220;Device Recognition&#8221; section in this chapter:<br />
<a id="pgfId-1014464"></a>PDW  AND  SDWI  SMID  NOR
PUP  OR  PDWI  PMID  NAND
SDW  AOI  SUPI  MOS
SUP  OAI  PUPI  INV<br />
<a id="pgfId-1014466"></a><a id="marker-1014465"></a>MOSCAP represents the number of transistors reduced to MOS capacitors; that is, MOS transistors with source and drain tied together to either power or ground.<br />
<a id="pgfId-1014467"></a>Other device types listed with statistics are the following: <br />
<a id="pgfId-1014468"></a>BJT   CELL  DIODE  LDD
CAP   UND  RES   BOX<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014469"></a>The reference to &#8220;CELL&#8221; means the number of Hcells (placements or instances) that are placed in the network. &#8220;LDD&#8221; represents the lightly doped drain. &#8220;UND&#8221; represents the undefined device. For more information about &#8220;UND,&#8221; refer to the <a href="chap6.html#63258">Device Recognition in LVS</a> section in this chapter.</div></li><li>
<a id="pgfId-1014473"></a>FILTER (schematics) summary<br />
<a id="pgfId-1014474"></a>FILTER prints a summary of statistics for the schematics side in this section. If you specify special filter options, they are listed in this section.</li><li>
<a id="pgfId-1014475"></a>REDUCE (schematics) summary<br />
<a id="pgfId-1014476"></a>The statistics for the reduction of the schematics side are listed in this section. The meaning of each type of device is the same as the REDUCE (layout) section.</li><li>
<a id="pgfId-1014477"></a>Main LVS report body<br />
<a id="pgfId-1014478"></a>This section is the core of the LVS report. It contains the date and time of execution of the LVS module and LVS options such as PRINTLINE, WPERCENT, and LPERCENT, the correspondence node pairs, LVS device match summary, the discrepancy points listing, the discrepancy points summary, the device matching summary by type, and the unmatched devices listing.</li><li>
<a id="pgfId-1014480"></a>R<a id="marker-1014479"></a>epeat summary<br />
<a id="pgfId-1014481"></a>This section is at the end of the LVS report. It repeats the summary sections in the main report body to let you quickly browse LVS results.</li></ul>




















<h3>
<a id="pgfId-1014483"></a><a id="marker-1014482"></a>Sample LVS Report</h3>

<p>
<a id="pgfId-1014484"></a>The following sample report shows sections that you might have in your LVS report.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014485"></a>*******************************************************************<br />*/N* DRACULA&#160;&#160; (REV. 4.4.X / 4.4 /&#160;&#160;GENDATE: 22-AUG-95/10)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014486"></a>         *** (Copyright 1995, Cadence) ***</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014487"></a>         */N* EXEC TIME =22:55:37       DATE =29-AUG-95</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014488"></a>*******************************************************************<br />INDISK PRIMARY CELL :TEST </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014489"></a>*********** LVSNET SUMMARY REPORT ***********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014490"></a> WEFFECT VALUE= 0.0000000</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014491"></a>*********** EXTERM SUMMARY REPORT ***********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014492"></a>*CRCTEX* WARNING *--UNCONNECTED PINS IN CELL =    2  PLACE. =    31<br />PIN NAME     LAYER NAME     X          Y<br />Z2BAR&#160;&#160;      MET1         1344.00  -2402.40</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014493"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014494"></a>******* FILTER (LAYOUT) SUMMARY REPORT *******</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014495"></a> SET FILTERING OPTIONS TO BCDEFGHIJKO</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014496"></a> ELIMINATED 509&#160;&#160; OUT OF&#160;&#160; 1694 DEVICES FROM NETWORK</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014497"></a> ELIMINATED&#160;&#160;11&#160;&#160; OUT OF&#160;&#160; 1185 DEVICES FROM NETWORK</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014498"></a> ******* REDUCE (LAYOUT) SUMMARY REPORT *******</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014499"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014500"></a> ******* STATISTICS BEFORE REDUCE ****</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014501"></a> MOS   BJT   RES   DIODE   CAP   UND   BOX   CELL   LDD<br /> 1172&#160;&#160; 0&#160;&#160;   0      0       0     2     0      0     0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014502"></a>OPTION TO SMASH PARALLEL DEVICES IS -- ON<br />OPTION TO CONSTRUCT MOS PARALLEL/SERIES STRUCTURES IS -- ON<br />OPTION TO SMASH PSEUDO PARALLEL DEVICES IS -- OFF<br />OPTION TO FORM CMOS GATES IS -- OFF<br />OPTION TO FORM NAND/NOR GATES IS -- OFF</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014503"></a> ******* STATISTICS AFTER REDUCE ****</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014504"></a> MOS   BJT   RES   INV   DIODE   CAP   SDWI   PDWI   SUPI<br />113    0     0    102     0      0      2     13     13<br />PUPI  SDW   PDW   SUP   PUP     AND    OR     AOI    NAND<br />2     58    23    56     58      0      0      0      0<br />NOR   OAI   UND   BOX   CELL    LDD   SMID    PMID   MOSCAP<br />0&#160;&#160;    0     2     0      0      0      0      0      0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014505"></a> ******* FILTER (SCHEMATIC) SUMMARY REPORT ****</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014506"></a> SET FILTERING OPTIONS TO FGHIJKO</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014507"></a> ELIMINATED 0 OUT OF 798 DEVICES FROM NETWORK</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014508"></a> ******* REDUCE (SCHEMATIC) SUMMARY REPORT ****</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014509"></a> ******* STATISTICS BEFORE REDUCE ****</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014510"></a> MOS  BJT  RES  DIODE  CAP  UND  BOX  CELL  LDD<br />798&#160;&#160; 0&#160;&#160;  0     0     0    0    0    0     0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014511"></a> ******* STATISTICS AFTER REDUCE ****</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014513"></a> MOS     BJT    RES    INV    DIODE   CAP   SDWI   PDWI    SUPI<br /> 107     0      0      102    0       0     2      13      13<br /> PUPI    SDW    PDW    SUP    PUP     AND   OR     AOI     NAND<br /> 2       58     23     56     58      0     0      0       0<br /> NOR     OAI    UND    BOX    CELL    LDD   SMID   PMID    MOSCAP<br /> 0       0      0      0      0       0     0      0       0<br /> ***************** LVS REPORT *****************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014514"></a> DATE : 29-AUG-95<br />TIME : 22:57:57</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014515"></a> PRINTLINE = 1000<br />MOS DEVICE WIDTH NOT CHECKED<br />MOS DEVICE LENGTH NOT CHECKED</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014516"></a>1 ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014517"></a> ********* CORRESPONDENCE NODE PAIRS **********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014518"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014519"></a>SCHEMATICS&#160;&#160;   LAYOUT   PAD TYPE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023401"></a>VDD    111 VDD           1   P<br />VSS    196 VSS           18  G<br />P1     188 P1            121 I<br />P10    2   P10           14  I<br />P11    388 P11           8   I<br />P12    368 P12           9   I<br />P13    392 P13           10  I<br />P14    364 P14           33  I<br />P15    396 P15   61  I<br />P16    372 P16   95  I<br />P17    400 P17   125 I<br />P18    376 P18   166 I<br />P19    1   P19   215 I<br />P2     183 P2    110 I<br />P21    404 P21   294 I<br />P22    380 P22   328 I<br />P23    8   P23   337 I<br />P24    4   P24   301 I<br />P25    143 P25   336 I<br />P26    138 P26   335 I<br />P27    133 P27   334 I<br />P28    128 P28   333 I<br />P29    123 P29   332 I<br />P3     178 P3    79  I<br />P30    118 P30   331 I<br />P31    113 P31   330 I<br />P32    107 P32   329 I<br />P33    9   P33   405 I<br />P34    6   P34   258 I<br />P35    10  P35   327 I<br />P36    7   P36   305 I<br />P37    5   P37   321 I<br />P38    384 P38   293 I<br />P39    3   P39   224 I<br />P4     173 P4    2   I<br />P5     168 P5    3   I<br />P6     163 P6    4   I<br />P7     158 P7    5   I<br />P8     153 P8    6   I<br />P9     148 P9    7   I<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023402"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014522"></a> NUMBER OF LAY. PADS READ = 40   DISCARDED = 0<br />NUMBER OF SCH. PADS READ = 40&#160;&#160; DISCARDED = 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014523"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014524"></a> NUMBER OF VALID CORRESPONDENCE NODE PAIRS = 38</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014525"></a>1 ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014526"></a> ********** LVS DEVICE MATCH SUMMARY **********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014527"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014528"></a> NUMBER OF UN-MATCHED SCHEMATICS DEVICES&#160;&#160; = 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014529"></a> NUMBER OF UN-MATCHED LAYOUT DEVICES&#160;&#160;     = 8</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014530"></a> NUMBER OF MATCHED&#160;&#160;  SCHEMATICS DEVICES   = 434</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014531"></a> NUMBER OF MATCHED&#160;&#160;  LAYOUT DEVICES       = 434</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014532"></a>1 ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014533"></a> ********** DISCREPANCY POINTS LISTING **********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014534"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014535"></a> *********** DISCREPANCY 1***********************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014536"></a> --- NODE C59</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014537"></a> ---WITH EXTRA LAY DEVICES--------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014538"></a> OCCURRENCE NAME C72.4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014548"></a> DEV926 PDW :            DEV1805   PDW X=794 Y=1206 <br />C72.4, C59, I509   C72.4, C59, I509 <br /> DEV927 SUP :            DEV1806   SUP X=852 Y=1222 <br />C72.4, C59, I509   C72.4, I509, C59 <br />OCCURRENCE NAME C59<br /> DEV928 SUP :            DEV1794  SUP X=2252 Y=2342 <br />C59, P26, P26      C59, P26, P26 <br /> DEV773 MOS N NOR M3 :   DEV1543   MOS N X=2194 Y=2342 <br />P26, C59, VSS      P26, VSS, C59 <br />OCCURRENCE NAME C64<br />DEV1055 PDWI :           DEV1938   PDWI X=2594 Y=2182 <br />C64, C59, C60      C64, C59, C60 <br /> DEV1057 SUPI  :         DEV1940   SUPI X=2652 Y=2182 <br />C64, C59, C60      C64, C59, C60 <br />OCCURRENCE NAME C72.7<br /> DEV1095 SDW :           DEV1786   SDW X=794 Y=1142 <br />C72.7, C72.3, C59  C72.7, C59, C72.3 <br /> DEV1096 PUP :           DEV1787   PUP X=852 Y=1126 <br />C72.7, C72.3, C59  C72.7, C72.3, C59 <br />OCCURRENCE NAME C64<br /> DEV1130 SDW :           DEV1967   SDW X=2594 Y=2262 <br />C64-4, C59, C60    C64-4, C59, C60 <br /> DEV1131 PUP :           DEV1968   PUP X=2652 Y=2246 <br />C64-4, C60, C59    C64-4, C60, C59 <br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014549"></a>***** UN-MATCHED ***** : ?DEV685 MOS P X=2452 Y=2278 C59, VDD, ?2192 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014550"></a>***** UN-MATCHED ***** : ?DEV1523 MOS N X=2394 Y=2278 C59, VSS, ?2548 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014551"></a> TOTAL 1 DISCREPANCY POINTS REPORTED</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014552"></a>1 ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014553"></a> ********** DISCREPANCY POINTS SUMMARY **********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014554"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014555"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014556"></a> 1 MATCHED NODE TO EXTRA LAYOUT DEVICES</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014557"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014558"></a> ******** DEVICE MATCHING SUMMARY BY TYPE ********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014559"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023486"></a>TYPE   SUB-TYPE  TOTAL DEVICE    UN-MATCHED DEVICE<br />                 SCH.    LAY.    SCH.    LAY.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014561"></a>MOS      P       399      404     0       5<br />MOS      N       366      367     0       1<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014562"></a>1 ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014563"></a> ********** UN-MATCHED LAYOUT DEVICES **********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014564"></a> ********** (LIST UP TO 100 ) **********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014565"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014577"></a>   : ?DEV491   MOS P X=2934 Y=1806 <br />      VSS, VDD, ?231 <br />   : ?DEV492   MOS P X=2950 Y=1822 <br />     VSS, ?231, ?234 <br />   : ?DEV493   MOS P X=2966 Y=1838 <br />      VSS, ?234, ?243 <br />   : ?DEV504   MOS P X=2982 Y=1854 <br />      VSS, VDD, ?243 <br />   : ?DEV685   MOS P X=2452 Y=2278 <br />      C59, VDD, ?2192 <br />   : ?DEV1523  MOS N X=2394 Y=2278 <br />      C59, VSS, ?2548 <br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014578"></a>1 ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014579"></a> ********** LVS SUMMARY (REPEATED) **********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014580"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014581"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014582"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014583"></a> ********** LVS DEVICE MATCH SUMMARY **********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014584"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014585"></a> NUMBER OF UN-MATCHED SCHEMATICS DEVICES&#160;&#160;= 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014586"></a> NUMBER OF UN-MATCHED LAYOUT DEVICES&#160;&#160;    = 8</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014587"></a> NUMBER OF MATCHED SCHEMATICS DEVICES&#160;&#160;   = 434</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014588"></a> NUMBER OF MATCHED LAYOUT DEVICES&#160;&#160;       = 434</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014589"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014590"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014591"></a> ********** DISCREPANCY POINTS SUMMARY **********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014592"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014593"></a>1 MATCHED NODE TO EXTRA LAYOUT DEVICES</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014594"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014595"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014596"></a> ******** DEVICE MATCHING SUMMARY BY TYPE ********</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014597"></a> ***************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014598"></a> TYPE   SUB-TYPE       TOTAL DEVICE      UN-MATCHED DEVICE<br />                       SCH.    LAY.      SCH.    LAY.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023478"></a> MOS       P           399     404        0      5<br /> MOS       N           366     367        0      1<br /></pre>
<h2>
<a id="pgfId-1023482"></a><a id="15478"></a>Discrepan<a id="marker-1023481"></a>cy Report Conventions</h2>

<p>
<a id="pgfId-1014605"></a><a id="marker-1014604"></a>LVS follows these conventions when listing the discrepancy report.</p>
<p>
<a id="pgfId-1014608"></a>Number of matched and unmatched devices <br /><a id="marker-1014606"></a><a id="marker-1014607"></a>LVS highlights the number of matched and unmatched devices. The total device count might not be the same as the total number of extracted devices because LVS can combine multiple devices into pseudo-devices and smash parallel devices into a single device. </p>
<p>
<a id="pgfId-1014611"></a>Schematic section against layout section <br /><a id="marker-1014609"></a><a id="marker-1014610"></a>LVS divides an 80-column print line for a discrepancy point into two sections. The first 40 columns are the schematic section and the remaining columns are the layout section. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014612"></a>Schematic Section : Layout Section </pre>
<p>
<a id="pgfId-1014614"></a>Matched node identification <br /><a id="marker-1014613"></a>Use the schematic node name for both the schematic and layout nodes. If the schematic node is the local node, LVS uses the hierarchical node name from macro expansion to guarantee its uniqueness. For example, the following two-input NAND gate has five nodes with node 1 as the local node. </p>

<p>
<a id="pgfId-1019119"></a></p>
<div class="webflare-div-image">
<img width="569" height="279" src="images/chap6-2.gif" /></div>

<p>
<a id="pgfId-1014686"></a>These six node names are VCC, VSS, A, B, C, and NAN1-1, where NAN1 is the occurrence name of the NAND gate and NAN1-1 is the node name for node 1 after macro expansion. </p>
<p>
<a id="pgfId-1014687"></a>Unmatched schematic node identification <br />If LVS finds a node in the schematic that does not have a corresponding layout node, LVS prefixes the node with a question mark (?). For example, ?A, ?B, ?C. </p>
<p>
<a id="pgfId-1014688"></a>Matched device identifications <br />LVS always lists matched devices side by side with a schematic device on the left side of the center colon (:) and a layout device on the right side of the colon. Both the schematic device and the layout device have a unique internally generated device number, followed by a device type and an optional device subtype. A schematic device can also have a logic gate type and a device name within that particular gate, if applicable. A layout device has x or y locations in a natural unit. </p>
<p>
<a id="pgfId-1023510"></a>LVS then follows the list of nodes connected to the matched device. For example: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1023511"></a>Occurrence Name     NAN1 <br />DEV123  MOS  D  NAND   M1 :  DEV255  MOS D  X=100  Y=50 <br />C,C,VCC                      C,C,VCC <br /></pre>
<p>
<a id="pgfId-1023512"></a>Note that the schematic device name is local to the gate, so LVS lists the occurrence name whenever possible to uniquely identify the device on schematics. In the above example, M1 is the device within gate NAND with the occurrence name NAN1. </p>
<p>
<a id="pgfId-1023519"></a>Unmatched schematic device identifications <br />If LVS finds a schematic device that is not referenced in the layout, LVS prefixes the device number with a question mark (?) and the corresponding layout device is (*****UNMATCHED*****). </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1023520"></a>?DEV123&#160;&#160;MOS&#160;&#160;D&#160;&#160;NAND&#160;&#160; M1 :&#160;&#160;*****UNMATCHED***** </pre>
<p>
<a id="pgfId-1023531"></a>Unmatched layout device identification <br />If LVS finds a layout device that is not referenced in the schematic, LVS prefixes the device number with a question mark (?) and the corresponding schematic device is (*****UNMATCHED*****). </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1023626"></a>*****UNMATCHED*****&#160;&#160;  ?DEV255  MOS   D  X=100 Y=50</pre>

<p>
<a id="pgfId-1023632"></a></p>
<table class="webflareTable" id="#id1023532">
<caption style="text-align:left;"><p>
</p><div class="ft-figtabl-title">
<a id="pgfId-1023535"></a>Connected Node List Conventions<a id="marker-1023534"></a></div></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1023539">
<a id="pgfId-1023539"></a>Device type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1023541">
<a id="pgfId-1023541"></a>Terminals listed</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023543"></a>MOS/LDD</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023545"></a>Gate, drain, source</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026287"></a>BJT</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026289"></a>Collector, base, emitter</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023551"></a>RES/CAP/DIODE</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023553"></a>Terminal-1, terminal-2 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023555"></a>SDW</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023557"></a>Output node, list of input nodes</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023559"></a>SDWI</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023561"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023563"></a>SUP</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023565"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023567"></a>SUPI</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023569"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023571"></a>PDW</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023573"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023575"></a>PDWI</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023577"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023579"></a>PUP</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023581"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023583"></a>PUPI</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023585"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023587"></a>SMID/PMID</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023589"></a>Output1, output2, list of input nodes</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023591"></a>CELL</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023593"></a>Composite node 1 --pin name 1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023595"></a>INV</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023597"></a>Output node, input node</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023599"></a>AND</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023601"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023603"></a>OR</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023605"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023607"></a>NAND</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023609"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023611"></a>NOR</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023613"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023615"></a>AOI</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023617"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023619"></a>OAI</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023621"></a>Output node, list of input nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023623"></a>BOX</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023625"></a>Terminal-1, terminal-2, terminal-3, terminal-4</p>
</td>
</tr>
</tbody></table>
<h2>
<a id="pgfId-1023629"></a><a id="17759"></a>LVS Error Types</h2>

<p>
<a id="pgfId-1014795"></a><a id="marker-1014793"></a>Discrepanc<a id="marker-1014794"></a>y points are the focus points for all LVS error isolations. Depending on the LVS <a id="marker-1014796"></a>error type, one discrepancy point can involve a single node, single device, or a subcircuit (group of nodes and devices). LVS lists each discrepancy point separately, and it always corresponds to one LVS error. If a subcircuit is involved in a discrepancy point, not all nodes and devices are necessarily in error.</p>
<p>
<a id="pgfId-1014797"></a>The Dracula program defines LVS errors for each discrepancy point based on its key device or node against the rest of the nodes and devices. Note that LVS errors do not necessarily correspond exactly to human perception of errors. For example, when two signal lines swap for a portion of the interconnects and are considered only one error, LVS might generate two discrepancy points, one for each signal. </p>
<p>
<a id="pgfId-1014927"></a>LVS categorizes discrepancies into the following 15 error types: </p>
<table class="webflareTable" id="#id1014798">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1014800">
<a id="pgfId-1014800"></a>Type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1014802">
<a id="pgfId-1014802"></a>Error description</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1014804">
<a id="pgfId-1014804"></a>Plot</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1014806">
<a id="pgfId-1014806"></a>Listing</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014808"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014810"></a>Matched node to no device</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014812"></a>Node</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014814"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014816"></a>2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014818"></a>Matched device to unmatched node</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014820"></a>Dev., Node</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014822"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014824"></a>3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014826"></a>Inconsistently matched device</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014828"></a>Dev., Node</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014830"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014832"></a>4</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014834"></a>Matched node to extra layout devices (missing schematic)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014836"></a>Dev., Node</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014838"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014840"></a>5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014842"></a>Matched node to extra schematic devices (missing layout)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014844"></a>Node</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014846"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014848"></a>6</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014850"></a>Matched node to unmatched layout and schematic devices</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014852"></a>Dev., Node</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014854"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014856"></a>7</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014858"></a>Other unmatched layout devices</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014860"></a>Dev.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014862"></a>---</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014864"></a>8</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014866"></a>Other unmatched schematic devices</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014868"></a>---</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014870"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014872"></a>9</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014874"></a>Device subtype mismatch (N-type, Ptype, etc.)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014876"></a>Dev.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014878"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014880"></a>10</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014882"></a>Device size (W, L) mismatch</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014884"></a>Dev.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014886"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014888"></a>11</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014890"></a>MOS reversibility error</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014892"></a>Dev.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014894"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014896"></a>12</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014898"></a>Device substrate connection mismatch</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014900"></a>Dev.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014902"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014904"></a>13</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014906"></a>Device power connection mismatch (Multi-power supply situation)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014908"></a>Dev.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014910"></a>X</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014912"></a>14</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014914"></a>Reduced layout parallel MOS devices </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014916"></a>Dev. </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014918"></a>---</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014920"></a>15</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014922"></a>Filtered out layout MOS devices </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014924"></a>Dev.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014926"></a>---</p>
</td>
</tr>
</tbody></table>

<h3>
<a id="pgfId-1014929"></a><a id="marker-1014928"></a>LVS Error Type 1</h3>

<p>
<a id="pgfId-1014930"></a>Matched node to no device.</p>
<p class="webflare-indent1">
<a id="pgfId-1014931"></a>Key: matched node
Listed output: yes
Graphic output: matched layout node</p>
<p>
<a id="pgfId-1014932"></a>Initial correspondence nodes are not connected to devices. This is caused by misplaced layout text or input protection devices that are not properly defined. </p>

<p>
<a id="pgfId-1019201"></a></p>
<div class="webflare-div-image">
<img width="676" height="187" src="images/chap6-3.gif" /></div>
<h3>
<a id="pgfId-1014972"></a>LVS Error Type 2</h3>

<p>
<a id="pgfId-1014974"></a><a id="marker-1014973"></a>Matched device to unmatched node. </p>
<p class="webflare-indent1">
<a id="pgfId-1014975"></a>Key: matched device 
Listed output: yes
Graphic output: matched layout device, unmatched layout node </p>
<p>
<a id="pgfId-1014976"></a>The device and some of its nodes are matched, but discrepancies are detected on other nodes.</p>

<p>
<a id="pgfId-1019247"></a></p>
<div class="webflare-div-image">
<img width="676" height="179" src="images/chap6-4.gif" /></div>
<h3>
<a id="pgfId-1015023"></a>LVS Error Type 3 </h3>

<p>
<a id="pgfId-1015025"></a><a id="marker-1015024"></a>Inconsistently matched device.</p>
<p class="webflare-indent1">
<a id="pgfId-1015026"></a>Key: matched device 
Listed output: yes
Graphic output: matched layout device, matched layout node </p>
<p>
<a id="pgfId-1015027"></a>The device or nodes are matched locally first, and global discrepancies are detected later.</p>

<p>
<a id="pgfId-1019300"></a></p>
<div class="webflare-div-image">
<img width="492" height="191" src="images/chap6-5.gif" /></div>
<h3>
<a id="pgfId-1015076"></a>LVS Error Type 4</h3>

<p>
<a id="pgfId-1015078"></a><a id="marker-1015077"></a>Matched node to extra layout devices (missing schematic devices). </p>
<p class="webflare-indent1">
<a id="pgfId-1015079"></a>Key: matched node
Listed output: yes
Graphic output: matched layout node, unmatched layout device </p>
<p>
<a id="pgfId-1015080"></a>Extra layout devices are connected to the key matched node in addition to a number of matched devices. </p>

<p>
<a id="pgfId-1019355"></a></p>
<div class="webflare-div-image">
<img width="676" height="186" src="images/chap6-6.gif" /></div>
<h3>
<a id="pgfId-1015191"></a>LVS Error Type 5</h3>

<p>
<a id="pgfId-1015193"></a><a id="marker-1015192"></a>Matched node to extra schematic devices (missing layout devices). </p>
<p class="webflare-indent1">
<a id="pgfId-1015194"></a>Key: matched node
Listed output: yes 
Graphic output: matched layout node </p>
<p>
<a id="pgfId-1015195"></a>Extra schematic devices are connected to the key matched node in addition to a number of matched devices. </p>

<p>
<a id="pgfId-1019472"></a></p>
<div class="webflare-div-image">
<img width="676" height="190" src="images/chap6-7.gif" /></div>
<h3>
<a id="pgfId-1015308"></a><a id="marker-1015307"></a>LVS Error Type 6</h3>

<p>
<a id="pgfId-1015309"></a>Matched node to unmatched layout and schematic devices. </p>
<p class="webflare-indent1">
<a id="pgfId-1015310"></a>Key: matched node 
Listed output: yes 
Graphic output: matched layout node, unmatched layout devices </p>
<p>
<a id="pgfId-1015311"></a>Some of the schematic devices connected to the key matched node cannot be matched to the layout devices connected to the same node.</p>

<p>
<a id="pgfId-1019590"></a></p>
<div class="webflare-div-image">
<img width="676" height="193" src="images/chap6-8.gif" /></div>
<h3>
<a id="pgfId-1015432"></a>LVS Error Type 7</h3>

<p>
<a id="pgfId-1015434"></a><a id="marker-1015433"></a>Other unmatched layout devices.</p>
<p class="webflare-indent1">
<a id="pgfId-1015435"></a>Key: unmatched layout devices
Listed output: yes 
Graphic output: unmatched layout device </p>
<p>
<a id="pgfId-1015436"></a>Unmatched layout devices are either totally separated from the rest of the circuit and cannot be reached from any initial correspondence node pairs or totally blocked by discrepancy points when trace operation stops. </p>

<h3>
<a id="pgfId-1015438"></a><a id="marker-1015437"></a>LVS Error Type 8</h3>

<p>
<a id="pgfId-1015439"></a>Other unmatched schematic devices.</p>
<p class="webflare-indent1">
<a id="pgfId-1015440"></a>Key: unmatched schematic device 
Listed output: yes 
Graphic output: no </p>
<p>
<a id="pgfId-1015441"></a>Unmatched schematic devices are either totally separated from the rest of the circuit and cannot be reached from any initial correspondence node pairs or totally blocked by discrepancy points when trace operation stops. These devices are listed at the end of the discrepancy point listing. </p>

<h3>
<a id="pgfId-1015442"></a>LVS Error Type 9</h3>

<p>
<a id="pgfId-1015444"></a><a id="marker-1015443"></a>Device subtype mismatch.</p>
<p class="webflare-indent1">
<a id="pgfId-1015445"></a>Key: matched device 
Listed output: yes 
Graphic output: matched layout device </p>
<p>
<a id="pgfId-1015446"></a>Two matched devices have different subtypes, which could be the implant types in the MOS circuit. </p>

<p>
<a id="pgfId-1019717"></a></p>
<div class="webflare-div-image">
<img width="676" height="188" src="images/chap6-9.gif" /></div>
<h3>
<a id="pgfId-1015498"></a><a id="marker-1015497"></a>LVS Error Type 10</h3>

<p>
<a id="pgfId-1015499"></a>Device size (W, L) mismatch.</p>
<p class="webflare-indent1">
<a id="pgfId-1015500"></a>Key: matched MOS device 
Listed output: yes 
Graphic output: matched layout device </p>
<p>
<a id="pgfId-1015501"></a>Layout device size differs from the schematic device size by a specified percentage according to the LVSCHK command options WPERCENT and LPERCENT. </p>

<p>
<a id="pgfId-1019774"></a></p>
<div class="webflare-div-image">
<img width="676" height="186" src="images/chap6-10.gif" /></div>
<h3>
<a id="pgfId-1015550"></a>LVS Error Type 11</h3>

<p>
<a id="pgfId-1015551"></a>MOS<a id="marker-1026002"></a> reversibility error.</p>
<p class="webflare-indent1">
<a id="pgfId-1015552"></a>Key: matched MOS device 
Listed output: yes 
Graphic output: matched MOS devices</p>
<p>
<a id="pgfId-1015553"></a>The physical locations of the layout MOS devices relative to outputs do not conform to the order specified in schematics.</p>

<p>
<a id="pgfId-1019829"></a></p>
<div class="webflare-div-image">
<img width="676" height="334" src="images/chap6-11.gif" /></div>
<h3>
<a id="pgfId-1015615"></a>LVS Error Type 12</h3>

<p>
<a id="pgfId-1015617"></a><a id="marker-1015616"></a>Device substrate connection mismatch.</p>
<p class="webflare-indent1">
<a id="pgfId-1015618"></a>Key: matched MOS device 
Listed output: yes 
Graphic output: matched MOS device </p>
<p>
<a id="pgfId-1015619"></a>MOS substrate connections are different between layout and schematic devices. This error usually applies to the CMOS circuit. </p>

<p>
<a id="pgfId-1019897"></a></p>
<div class="webflare-div-image">
<img width="676" height="190" src="images/chap6-12.gif" /></div>
<h3>
<a id="pgfId-1015669"></a>LVS Error Type 13</h3>

<p>
<a id="pgfId-1015671"></a><a id="marker-1015670"></a>Device power connection mismatch. </p>
<p class="webflare-indent1">
<a id="pgfId-1015672"></a>Key: matched device 
Listed output: yes 
Graphic output: mismatched layout device </p>
<p>
<a id="pgfId-1015673"></a>An incorrect power supply drives an output node in a multiple power supply situation. </p>

<p>
<a id="pgfId-1019953"></a></p>
<div class="webflare-div-image">
<img width="676" height="197" src="images/chap6-13.gif" /></div>
<h3>
<a id="pgfId-1015714"></a>LVS Error Type 14</h3>

<p>
<a id="pgfId-1015716"></a><a id="marker-1015715"></a>Reduced layout parallel MOS devices. </p>
<p class="webflare-indent1">
<a id="pgfId-1015717"></a>Key: no 
Listed output: no 
Graphic output: reduced layout MOS devices </p>
<p>
<a id="pgfId-1015718"></a>When the LVSCHK[K] option (keep parallel) is not turned on (as default for circuits), parallel MOS transistors are reduced into one MOS transistor. The remaining MOS transistors are not traced by LVS and are flagged as LVS error type 14. This condition should not be interpreted as an error. </p>

<p>
<a id="pgfId-1020000"></a></p>
<div class="webflare-div-image">
<img width="676" height="160" src="images/chap6-14.gif" /></div>
<h3>
<a id="pgfId-1015759"></a>LVS Error Type 15</h3>

<p>
<a id="pgfId-1015761"></a><a id="marker-1015760"></a>Filtered out layout MOS devices. </p>
<p class="webflare-indent1">
<a id="pgfId-1015762"></a>Key: no 
Listed output: no 
Graphic output: filtered out MOS devices </p>
<p>
<a id="pgfId-1015763"></a>When the LVSCHK[F] option (CMOS gate array filter) is turned on, unused CMOS devices are filtered out by LVS. Those devices can be flagged as LVS error type 15. Do not interpret this condition as an error. </p>

<h2>
<a id="pgfId-1015766"></a><a id="63258"></a>Device Recognition in LVS</h2>

<p>
<a id="pgfId-1015769"></a><a id="marker-1015767"></a><a id="marker-1015768"></a>LVS recognizes two levels of devices. At the lowest level are all physical devices, such as MOS transistors, bipolar NPN transistors, bipolar PNP transistors, diodes, resistors, and capacitors. Second-level devices (pseudo gates and gates) are based on physical devices satisfying certain circuit structures. Typically, LVS uses a combination of both levels of devices in the trace operation. Therefore, the discrepancy points usually also include a combination of both levels of devices. LVS recognizes the logic gates and pseudo gates described in the following sections.</p>

<h3>
<a id="pgfId-1015809"></a><a id="marker-1015770"></a>NMOS Inverter<a id="marker-1015771"></a></h3>
<p>
<a id="pgfId-1020047"></a></p>
<div class="webflare-div-image">
<img width="676" height="278" src="images/chap6-15.gif" /></div>
<h3>
<a id="pgfId-1015879"></a>NMOS NOR Gate<a id="marker-1015810"></a></h3>
<p>
<a id="pgfId-1020095"></a></p>
<div class="webflare-div-image">
<img width="676" height="301" src="images/chap6-16.gif" /></div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015880"></a>To create an NMOS OR gate, you must follow the NOR gate with an inverter.</div>
<h3>
<a id="pgfId-1015943"></a>NMOS NAND Gate<a id="marker-1015881"></a></h3>
<p>
<a id="pgfId-1020170"></a></p>
<div class="webflare-div-image">
<img width="676" height="419" src="images/chap6-17.gif" /></div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015944"></a>To create an NMOS AND gate, you must follow the NAND gate with an inverter.</div>
<h3>
<a id="pgfId-1015946"></a><a id="marker-1015945"></a>CMOS Inverter</h3>
<p>
<a id="pgfId-1020238"></a><a id="marker-1015947"></a></p>
<div class="webflare-div-image">
<img width="676" height="292" src="images/chap6-18.gif" /></div>
<h3>
<a id="pgfId-1015990"></a><a id="marker-1015988"></a>Simple Paral<a id="marker-1015989"></a>lel Pull-Up (PUP) Structure</h3>
<p>
<a id="pgfId-1016035"></a></p>
<div class="webflare-div-image">
<img width="676" height="177" src="images/chap6-19.gif" /></div>
<h3>
<a id="pgfId-1016038"></a><a id="marker-1016036"></a>Simp<a id="marker-1016037"></a>le Series Pull-Up (SUP) Structure</h3>
<p>
<a id="pgfId-1016082"></a><a id="marker-1016039"></a></p>
<div class="webflare-div-image">
<img width="676" height="320" src="images/chap6-20.gif" /></div>
<h3>
<a id="pgfId-1016084"></a>Simple Para<a id="marker-1016083"></a>llel Pull-Down (PDW) Structure </h3>
<p>
<a id="pgfId-1016125"></a><a id="marker-1016085"></a></p>
<div class="webflare-div-image">
<img width="676" height="173" src="images/chap6-21.gif" /></div>
<h3>
<a id="pgfId-1016128"></a><a id="marker-1016126"></a>Simple Series Pull-Down (SD<a id="marker-1016127"></a>W) Structure</h3>
<p>
<a id="pgfId-1016166"></a></p>
<div class="webflare-div-image">
<img width="676" height="307" src="images/chap6-22.gif" /></div>
<h3>
<a id="pgfId-1016171"></a>Complex Gate Including <a id="marker-1016167"></a>PUPI, <a id="marker-1016168"></a>SUPI, <a id="marker-1016169"></a>PDWI, and <a id="marker-1016170"></a>SDWI</h3>

<p>
<a id="pgfId-1016172"></a>Parallel pull-ups and pull-downs and series pull-ups and pull-downs are element structures of complex gates. When LVS encounters a complex structure, it first recognizes and represents the devices in the innermost structure, then uses these devices to drive the outer structure to form a cascaded structure of these elements. In the following example, CMOS circuit devices 1 and 2 form a PUPI element that together with device 3 form a SUP element driving the output node. Devices 4 and 5 form a SDWI element that together with device 6 form a PDW element driving the output node. </p>

<p>
<a id="pgfId-1020286"></a></p>
<div class="webflare-div-image">
<img width="676" height="379" src="images/chap6-23.gif" /></div>

<p>
<a id="pgfId-1016281"></a>Because multiple series or parallel structures are involved in one complex structure, you must interpret the whole complex structure rather than just element structures in order to comprehend the true logic functions. In the outer structure (SUP and PDW in this example), LVS chooses the output node of the complex gate to represent itself. In the example, N4 is this node.</p>
<p>
<a id="pgfId-1016282"></a>Inside a parallel structure, LVS chooses the internal nodes that are closest to the output node in order to represent the associated series substructure. LVS chooses N6 to represent the SDWI inside the parallel structure PDW. </p>
<p>
<a id="pgfId-1016283"></a>Inside a series structure, LVS inherits its representation node to its parallel substructure. LVS chooses N4 to represent the PUPI under SUP. This process is applied from the outermost structure through the innermost structure.</p>

<h3>
<a id="pgfId-1016372"></a><a id="marker-1016284"></a>PUPI and SDWI<a id="marker-1016285"></a></h3>
<p>
<a id="pgfId-1020401"></a></p>
<div class="webflare-div-image">
<img width="602" height="397" src="images/chap6-24.gif" /></div>

<p>
<a id="pgfId-1016373"></a>When PUP drives SUP, PUP is recognized as an incomplete PUP (PUPI) and the output node (in this example, OUT) is used as the output of the PUPI structure. </p>
<p>
<a id="pgfId-1016374"></a>When SDWI drives PDW, use the internal node (in this example, D) to represent the output node of SDW that is recognized as an incomplete SDW (SDWI). </p>
<p>
<a id="pgfId-1016440"></a>The pull-down elements for the complex structure are represented as follows: </p>

<p>
<a id="pgfId-1020494"></a></p>
<div class="webflare-div-image">
<img width="676" height="287" src="images/chap6-25.gif" /></div>
<h3>
<a id="pgfId-1016442"></a><a id="marker-1016441"></a>SUPI and PDWI</h3>
<p>
<a id="pgfId-1016546"></a></p>
<div class="webflare-div-image">
<img width="676" height="499" src="images/chap6-26.gif" /></div>

<p>
<a id="pgfId-1016547"></a>The pull-up elements for this complex structure are represented as follows: </p>
<p>
<a id="pgfId-1016548"></a>When SUP drives PUP, use node 2 as the output node of the SUP structure, SUPI. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016549"></a>SUPI   2,    A,  B,  C <br />PUP    OUT,  D,  2 <br /></pre>
<p>
<a id="pgfId-1016587"></a>The pull-down elements for this structure are represented as follows: </p>

<p>
<a id="pgfId-1020566"></a></p>
<div class="webflare-div-image">
<img width="676" height="150" src="images/chap6-27.gif" /></div>

<p>
<a id="pgfId-1016588"></a>When PDW drives SDW, use the output node of SDW to represent the output node of PDW, which is recognized as PDWI (incomplete PDW). </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016589"></a>PDWI   OUT,  A,  B,  C <br />SDW    OUT,  D,  OUT <br /></pre>
<h3>
<a id="pgfId-1023663"></a><a id="marker-1023661"></a>PUPI and SDWI<a id="marker-1023662"></a></h3>
<p>
<a id="pgfId-1023808"></a></p>
<div class="webflare-div-image">
<img width="676" height="403" src="images/chap6-28.gif" /></div>

<p>
<a id="pgfId-1016809"></a>The pull-up elements for this complex structure are represented as follows: </p>

<p>
<a id="pgfId-1020763"></a></p>
<div class="webflare-div-image">
<img width="693" height="344" src="images/chap6-29.gif" /></div>

<p>
<a id="pgfId-1016875"></a>The pull-down elements for this complex structure are represented as follows: </p>

<p>
<a id="pgfId-1020839"></a></p>
<div class="webflare-div-image">
<img width="676" height="338" src="images/chap6-30.gif" /></div>
<h3>
<a id="pgfId-1016876"></a>PUPI and SDWI</h3>
<p>
<a id="pgfId-1016973"></a></p>
<div class="webflare-div-image">
<img width="676" height="401" src="images/chap6-31.gif" /></div>

<p>
<a id="pgfId-1017016"></a>The pull-up elements for this complex structure are represented for as follows: </p>

<p>
<a id="pgfId-1020911"></a></p>
<div class="webflare-div-image">
<img width="676" height="165" src="images/chap6-32.gif" /></div>

<p>
<a id="pgfId-1017056"></a>The pull-down elements for this complex structure are represented as follows: </p>

<p>
<a id="pgfId-1020960"></a></p>
<div class="webflare-div-image">
<img width="676" height="162" src="images/chap6-33.gif" /></div>
<h3>
<a id="pgfId-1017058"></a><a id="marker-1017057"></a>SUPI and SDWI</h3>
<p>
<a id="pgfId-1017166"></a><a id="marker-1017059"></a></p>
<div class="webflare-div-image">
<img width="676" height="352" src="images/chap6-34.gif" /></div>

<p>
<a id="pgfId-1017217"></a>For pull-up elements, the structure can be as follows: <br /></p>

<div class="webflare-div-image">
<img width="676" height="202" src="images/chap6-35.gif" /></div>

<p>
<a id="pgfId-1017266"></a>For pull-down elements, the structure can be as follows: </p>

<p>
<a id="pgfId-1021063"></a></p>
<div class="webflare-div-image">
<img width="676" height="223" src="images/chap6-36.gif" /></div>
<h3>
<a id="pgfId-1017267"></a>CMOS NAND</h3>
<p>
<a id="pgfId-1017349"></a><a id="marker-1017268"></a></p>
<div class="webflare-div-image">
<img width="676" height="325" src="images/chap6-37.gif" /></div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017350"></a>To create a CMOS AND gate, you must follow the NAND gate with an inverter.</div>
<h3>
<a id="pgfId-1017351"></a>CMOS NOR</h3>

<p>
<a id="pgfId-1017437"></a><a id="marker-1017352"></a></p>

<div class="webflare-div-image">
<img width="676" height="319" src="images/chap6-38.gif" /></div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017438"></a>To create a CMOS OR gate, you must follow the NOR gate with an inverter.</div>
<h3>
<a id="pgfId-1017439"></a>CMOS AOI</h3>
<p>
<a id="pgfId-1017558"></a><a id="marker-1017440"></a></p>
<div class="webflare-div-image">
<img width="676" height="415" src="images/chap6-39.gif" /></div>
<h3>
<a id="pgfId-1017559"></a>CMOS AOIs</h3>
<p>
<a id="pgfId-1017675"></a></p>
<div class="webflare-div-image">
<img width="676" height="453" src="images/chap6-40.gif" /></div>
<h3>
<a id="pgfId-1017676"></a>Simple Parallel Middle (PMID) Structure</h3>

<p>
<a id="pgfId-1017677"></a>This is a simple parallel middle (that is, neither pull-up nor pull-down, formed only when LVSCHK/LPECHK option [O] is used) structure of MOS transistors with the same implant. </p>

<p>
<a id="pgfId-1021118"></a></p>
<div class="webflare-div-image">
<img width="676" height="190" src="images/chap6-41.gif" /></div>
<h3>
<a id="pgfId-1017723"></a>Simple Series Middle (SMID) Structure</h3>

<p>
<a id="pgfId-1017724"></a>This is a simple series middle (that is, neither pull-up nor pull-down, formed only when LVSCHK/LPECHK option O is invoked) structure of MOS transistors with the same implant.</p>

<p>
<a id="pgfId-1021170"></a></p>
<div class="webflare-div-image">
<img width="678" height="341" src="images/chap6-42.gif" /></div>
<h3>
<a id="pgfId-1017769"></a>Undefined Elements</h3>

<p>
<a id="pgfId-1017771"></a><a id="marker-1017770"></a>In the circuit extraction process of the layout, any fixed terminal element that encounters an undefined number of terminals automatically becomes an undefined element in LVS and is listed with a question mark (?). </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017772"></a>?MOS: A MOS transistor with more than two source or drain terminals.<br />?BJT: A bipolar transistor with more than one base terminal.<br />?RES: A resistor with more than two terminals.<br />?CAP: A capacitor with more than two terminals. <br />?DIO: A diode with more than two node terminals.</pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017773"></a>LVS encounters these undefined elements caused by unconventional layout techniques or an incorrectly specified <em>element</em> device layer.<a id="marker-1017774"></a><a id="marker-1017775"></a></div>
<h2>
<a id="pgfId-1017778"></a><a id="22790"></a>Isolating and Debugging Errors</h2>

<p>
<a id="pgfId-1017781"></a><a id="marker-1017779"></a>LVS uses expanded node<a id="marker-1017780"></a> names and device names to identify the schematic node, device, or subcircuit in error. LVS also identifies the higher level gate or functional block, of which these devices are a part. For the layout devices, LVS prints x and y locations in natural units. Furthermore, <a id="marker-1017782"></a>LVS error types can generate graphic output, which in some cases points to errors more directly than listings (like showing the redundant errors of arrays). To isolate the errors, follow these steps: </p>
<ol><li>
<a id="pgfId-1017783"></a>Focus on a discrepancy point. Identify its key device or node and understand the specific LVS error type. </li><li>
<a id="pgfId-1017784"></a>Locate schematic gates of the functional block by their expanded names and layout locations. </li><li>
<a id="pgfId-1017785"></a>Locate matched nodes or devices by their expanded names and layout locations. </li><li>
<a id="pgfId-1017786"></a>Interpret unmatched nodes or devices by LVS error types. </li><li>
<a id="pgfId-1017787"></a>Check the LVS graphic output by the same LVS error type. </li><li>
<a id="pgfId-1017788"></a>View the layout data on the  graphic workstation to verify the findings, or use Dracula Interactive. </li><li>
<a id="pgfId-1017789"></a>Inspect the Dracula log file for the following modules: <ul><li>
<a id="pgfId-1017791"></a>The first <a id="marker-1017790"></a>REDUCE module reduces the layout side to second-level devices (logic gates and pseudo gates) for LVS discrepancy reporting. LVS lists a summary table of all devices at the end of this module. The summary is also included in the LVS report file.</li><li>
<a id="pgfId-1017792"></a>The second REDUCE module reduces the schematic side in the same manner as the layout side. If you compare the schematic summary table at the end of the REDUCE module in the log file, the total number of logic gates, pseudo gates, and MOS devices generated match with the layout summary. If there are fewer logic gates or pseudo gates, this usually means that power or ground was lost (or partially lost) in either the layout side or schematic side. For example, if the layout side has 100 more MOS devices and 30 fewer logic gates, you can assume that somewhere in the layout side there was a loss of power or ground. The ERC PATHCHK command can locate the nodes that are stuck or floating. The summary is also included in the LVS report file.</li></ul></li></ol>









<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017793"></a> If the LVSCHK [X] option is on, LVS does not reduce any MOS devices.</div>
<h2>
<a id="pgfId-1017797"></a><a id="11278"></a>Interpreting an <a id="marker-1017796"></a>LVS Discrepancy</h2>

<p>
<a id="pgfId-1023858"></a><a id="marker-1023857"></a>In this sample error summary file, discrepancies 1 and 2 are related. In discrepancy 1, LVS traces NODE 74 and in discrepancy 2, LVS traces NODE 84.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023859"></a>**********************&#160;&#160;DISCREPANCY 1&#160;&#160;************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017801"></a>--------------- NODE&#160;&#160; 74&#160;&#160;-----WITH EXTRA-LAYOUT DEVICES-----</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1023890"></a>OCCURRENCE NAME&#160;&#160;XEN1-10</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017806"></a>DEV15    MOS P---MP2XEN13z   :  DEV572  MOS P  X=-322  Y=205 <br />XEN1-10,  74,  XEN1-9        XEN1-10, XEN1-9, 74<br />OCCURRENCE NAME   84<br />DEV199   PUP                 :  DEV734  PUP    X=-170  Y=150 <br />84, 85, 74, 96               84, 74, 85, 96<br />DEV201   SDWI                :  DEV738  SDWI   X=-170  Y=61<br />84, 95, 96, 74               97, 85, 96, 74<br />DEV200   SDWI                :  DEV737  SDWI   X=-31   Y=61<br />84, 85, 96, 74               98, 85, 96, 74<br /></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017808"></a>**** UN-MATCHED ****   DEV736  SDWI  X=-170  Y=72 <br />                       99, 985, 96, 74<br />**** UN-MATCHED ***    DEV735  SDWI  X=-31   Y=72 <br />                       100, 85,  96, 74<br /></pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017810"></a>*********************&#160;&#160;DISCREPANCY 2&#160;&#160;*************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017811"></a>--------------- NODE&#160;&#160; 84&#160;&#160;---------------------------------</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017816"></a>DEV199   PUP           :  DEV734   PUP   X=-170  Y=150 <br />84, 85, 74, 96         84, 74, 85, 96<br />?DEV202   PDW          :  **** UN-MATCHED **** <br />84, 97, 98<br />**** UN-MATCHED ****   :  ?DEV741  PDW   X=-170  Y=14 <br />                       84, 97, 98, 99, 100<br />DEV201   SDWI          :  DEV738   SDWI  X=-170  Y=61<br />97, 95, 96, 74         97, 85, 96, 74<br />DEV200   SDWI          :  DEV737   SDWI  X=-31   Y=61<br />98, 85, 96, 74         98, 85, 96, 74<br /></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017818"></a>**** UN-MATCHED ****   :  DEV736   SDWI  X=-170 Y=72 <br />                       99, 985, 96, 74<br />**** UN-MATCHED ***    :  DEV735   SDWI  X=-31  Y=72 <br />                       100, 85,  96, 74<br /></pre>
<p>
<a id="pgfId-1018103"></a>The following is a schematic representation for discrepancy 1:</p>

<p>
<a id="pgfId-1021225"></a></p>
<div class="webflare-div-image">
<img width="676" height="448" src="images/chap6-43.gif" /></div>
<p><strong>
<a id="pgfId-1018104"></a>Result:</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027402"></a> The schematic side has two SDWI gates in parallel. The layout side has four SDWI gates in parallel. Discrepancy 2 is the repetition of discrepancy 1 traced from nodes 74 and 84.</p>
<h2>
<a id="pgfId-1018108"></a><a id="marker-1018105"></a><a id="11870"></a>Logical Equivalence in MOS Digital Circuits</h2>

<p>
<a id="pgfId-1018109"></a>For certain digital MOS circuits, the physical order of the inputs to the gates of the MOS devices in series or parallel are <a id="marker-1018110"></a>interchangeable because they are logically equivalent. LVS handles logical equivalences through the recognition of logic gates and <a id="marker-1018111"></a>pseudo gates. All inputs to these gates are interchangeable. LVS recognizes logic gates and pseudo gates by default. To check the physical order of MOS devices, you can use the following methods: </p>
<ul><li>
<a id="pgfId-1018112"></a>To stop the formation of logic gates and pseudo gates to force LVS to trace all MOS transistors individually, turn on the LVSCHK[X] option. This option is useful for analog circuits. </li><li>
<a id="pgfId-1018114"></a>Use the special MOS element type ELEMENT MOS[X-] and specify the subtype of <a id="marker-1018115"></a>MOS CDL transistor card of type X* to stop the formation of logic gates and pseudo gates locally. For example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1018116">
<a id="pgfId-1018116"></a>  M12 12 18 1 1 X*</pre>
<a id="pgfId-1018117"></a>where * is any alphanumeric character.</li></ul>




<h2>
<a id="pgfId-1018120"></a><a id="16700"></a>Calculations on Parallel MOS Devices for LVS</h2>

<p>
<a id="pgfId-1018122"></a><a id="marker-1018121"></a>For some digital MOS circuits, you must place parallel transistors in the layout. Unless suppressed by an LVSC<a id="marker-1018123"></a>HK[K] option, the program smashes these devices into one transistor. This section describes the formula LVS uses to combine the transistor sizes of these parallel devices.</p>
<p>
<a id="pgfId-1018124"></a>For parallel transistors, you must specify both length and width. If you do not specify either length or width, the length and width of the parallel transistors is 0, which means unspecified.</p>

<h3>
<a id="pgfId-1018126"></a><a id="marker-1018125"></a>W/L Calculation </h3>

<p>
<a id="pgfId-1018128"></a><a id="marker-1018127"></a>These formulas compute the width and length of the transistor that replaces a group of n parallel transistors as the result of the smashing operation. </p>

<p>
<a id="pgfId-1021516"></a></p>
<div class="webflare-div-image">
<img width="676" height="151" src="images/chap6-44.gif" /></div>

<p>
<a id="pgfId-1018169"></a>Compute the width and the length of the smashed transistor as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1018173"></a>W = <img width="62" height="29" src="images/chap6-45.gif" /></p>
<p class="webflare-indent1">
<a id="pgfId-1018177"></a>L   =   <img width="62" height="37" src="images/chap6-46.gif" /></p>
<p>
<a id="pgfId-1018178"></a>where you compute the area, A = W*L, of the resulting transistor as the sum of the areas of the parallel transistors</p>

<p>
<a id="pgfId-1023964"></a></p>
<table class="webflareTable" id="#id1023908">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023910"></a>A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023912"></a>= a(1) + ... + a(n)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023914"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023916"></a>= w(1)*l(1) + ... + w(n)*l(n) </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1018181"></a>and you compute the width/length ratio C = W/L of the resulting transistor as the sum of the width/length ratios of the parallel transistors.</p>

<p>
<a id="pgfId-1023959"></a></p>
<table class="webflareTable" id="#id1023917">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023919"></a>C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023921"></a>= c(1) + ... + c(n)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023923"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023925"></a>= w(1)/l(1) + ... + w(n)/l(n)</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1018184"></a>This smashing operation preserves the electrical properties of the circuit.</p>
<p>
<a id="pgfId-1018185"></a>For more information about the layout MOS device W/L calculation, refer to <a href="chap7.html#47848">&#8220;LPE Overview&#8221;</a>.</p>

<h3>
<a id="pgfId-1018190"></a><a id="marker-1018189"></a>W<sub>eff</sub> MULDELW Calculation </h3>

<p>
<a id="pgfId-1018191"></a>Because of process variations such as optical, etching effects, and <br />implant/field oxide encroachment, you can compensate for changes in effective channel widths when laying out multiple parallel finger MOS transistors. Use the following equation to check schematic MOS device effective widths against compensated layout MOS device widths.</p>
<p class="webflare-indent1">
<a id="pgfId-1018192"></a>W<sub>eff</sub> = W<sub>actual</sub> + (N-1) * MULDELW </p>
<p>
<a id="pgfId-1018194"></a>The value for <a id="marker-1018193"></a>MULDELW is typically negative. The default is 0. </p>
<p>
<a id="pgfId-1018195"></a>MULDELW modifies the effective width (Weff) of MOS devices that have multiple fingers in parallel. For both schematic devices and layout devices, calculate the effective widths as follows: </p>
<p class="webflare-indent1">
<a id="pgfId-1018196"></a>W<sub>eff</sub> = W<sub>actual</sub> + (N-1) * MULDELW </p>
<p>
<a id="pgfId-1018197"></a>where</p>
<ul><li>
<a id="pgfId-1018198"></a>W<sub>eff</sub> is width used for LVS comparison.</li><li>
<a id="pgfId-1018199"></a>W<sub>actual</sub> is sum of all widths of parallel fingered devices.</li><li>
<a id="pgfId-1018200"></a>N is the number of smashed parallel fingers of the transistor.</li></ul>


<p>
<a id="pgfId-1018201"></a>If a transistor has only one finger, then N=1 and W<sub>eff</sub>=W<sub>actual</sub> as well. If you specify the K option, then N always is 1, because K prevents smashing of parallel legs of a device. If you specify the S option for split-gates, then N for these devices is calculated like normal parallel devices after these gates are smashed. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018202"></a>*OPERATION <br />. <br />. <br />LVSCHK   WPERCENT=2 MULDELW= -1 <br />*END </pre>

<h4>
<a id="pgfId-1024213"></a>Example 1</h4>
<p>
<a id="pgfId-1024285"></a></p>
<table class="webflareTable" id="#id1024252">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1025167">
<a id="pgfId-1025167"></a>Schematic </span>
</td>
<td class="webflareTd" colspan="3" rowspan="1">
<span class="tbl-head" id="#id1025169">
<a id="pgfId-1025169"></a>Layout</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025175"></a>M1 W=30 L=2&#160;&#160;</p>
</td>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1025177"></a>MOS Device 1a W=10 L=2 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025183"></a></p>
</td>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1025185"></a>MOS Device 1b W=11 L=2 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025191"></a></p>
</td>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1025193"></a>MOS Device 1c W=11 L=2 </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1024248"></a>Calculations:</p>

<p>
<a id="pgfId-1025029"></a></p>
<table class="webflareTable" id="#id1024290">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024292"></a>W<sub>eff</sub></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024294"></a>= 30 + (1-1) * (-1)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025080"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024296"></a>W<sub>eff</sub> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024298"></a>= 32 + (3-1) * (-1) </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024300"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024302"></a>= 30 + 0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025082"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024304"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024306"></a>= 32 + (-2)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024308"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024310"></a>= 30</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025084"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024312"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024314"></a>= 30</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1018208"></a>No discrepancy.</p>

<h4>
<a id="pgfId-1024474"></a>Example 2</h4>
<p>
<a id="pgfId-1024475"></a></p>
<table class="webflareTable" id="#id1024481">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1024483">
<a id="pgfId-1024483"></a>Schematic</span>
</td>
<td class="webflareTd" colspan="3" rowspan="1">
<span class="tbl-head" id="#id1024485">
<a id="pgfId-1024485"></a>Layout</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024491"></a>M1 W=15 L=2</p>
</td>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1024493"></a>MOS Device 1a W=15 L=2 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024499"></a>M2 W=16 L=2</p>
</td>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1024501"></a>MOS Device 1b W=16 L=2 </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1024477"></a>Calculations:</p>

<p>
<a id="pgfId-1024581"></a> </p>
<table class="webflareTable" id="#id1024550">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024552"></a>W<sub>eff</sub></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024554"></a>=31 + (2-1) * (-1)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025074"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024556"></a>W<sub>eff</sub></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024558"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024560"></a>31 + (2-1) * (-1)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024562"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024564"></a>=31 + (-1)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025076"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024566"></a>             </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024568"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024570"></a>31 + (-1)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024572"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024574"></a>=30</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025078"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024576"></a>             </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024578"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024580"></a>30</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1024415"></a>No discrepancy.</p>

<h4>
<a id="pgfId-1024441"></a>Example 3</h4>
<p>
<a id="pgfId-1024602"></a></p>
<table class="webflareTable" id="#id1024583">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025344"></a><strong>Schematic</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025346"></a><strong>Layout</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025348"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024591"></a>M1 W=30 L=2</p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1024593"></a>MOS Device 1a W=15 L=2</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024597"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1024599"></a>MOS Device 1b W=15 L=2</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1024442"></a>Calculations:</p>

<p>
<a id="pgfId-1024678"></a></p>
<table class="webflareTable" id="#id1024641">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024643"></a>Weff</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024645"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024647"></a>30 + (1-1) * (-1)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025097"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024649"></a>Weff</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024651"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024653"></a>30 + (2-1) * (-1)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024655"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024657"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024659"></a>30 + 0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025099"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024661"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024663"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024665"></a>30 + (-1)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024667"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024669"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024671"></a>30</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025101"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024673"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024675"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024677"></a>29</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1018220"></a>Discrepancy;&#160;&#160;&gt;2% error.</p>

<h3>
<a id="pgfId-1019042"></a>MOS Devices Without Substrate Terminal</h3>

<p>
<a id="pgfId-1019045"></a>Some MOS devices are defined without substrate terminal. Currently Dracula would automatically output 0 as the substrate terminal if it is not defined in the rule file for layout-only run or LVS run without the S option specified in LPESELECT. Users expect to see a netlist without substrate terminal output if the above situation happens. The 4.8 version provides a solution to this problem by providing a new command, NO-SUB-TERM in the Description Block to offer the capability of not defining a substrate when extracting a device using LPE.:</p>

<h4>
<a id="pgfId-1019047"></a>Command Syntax</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019048"></a>NO-SUB-TERM=mos_subtype1{mos_subtype2,....mos_subtypen}</pre>
<h4>
<a id="pgfId-1019049"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1024695"></a><em>mos_subtype</em></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1027409"></a><em>&#160;&#160;&#160;&#160;</em>is the sub-type of MOS which is specified in the ELEMENT MOS command. For example, &quot;N&quot; of the following element definition:</p>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1024696"></a><code>ELEMENT MOS[N] NDEVICE POLY NSD</code> </pre>
<p class="webflare-indent1">
<a id="pgfId-1024697"></a> The command would only be effective in the following condition, otherwise, it would be ignored:</p>

<p>
<a id="pgfId-1024730"></a></p>
<table class="webflareTable" id="#id1024725">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1024727"></a>There is no MOS substrate terminal defined in the rule file</li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1024729"></a>In a layout only run or LVS run without S option specified in LPESELECT</li></ul>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1019056"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019057"></a>NO-SUB-TERM =N,P</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019058"></a>.......</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019059"></a>ELEMENT MOS[N] NGATE POLY NSD</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019060"></a>ELEMENT MOS[P] PGATE POLY PSD</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019061"></a>......</pre>

<p>
<a id="pgfId-1019062"></a>An output example may look like the following:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019063"></a>M1&#160;&#160;  OUT  IN  VDD   P  L=3.00U  W=6.25U</pre>

<p>
<a id="pgfId-1019043"></a>M2&#160;&#160;  GND  IN  OUT   N  L=3.00U  W=6.25U</p>

<h2>
<a id="pgfId-1026312"></a><a id="56038"></a>Calculations on Parallel and Series Resistor Devices width/length for LVS</h2>

<p>
<a id="pgfId-1026320"></a>For some circuits, you have to place parallel or/and series resistors in the layout. Unless these are suppressed by an LVSCHK[K] option, Dracula smashes parallel devices into one resistor. LVSCHK[R] provides smashing series resistors into one resistor. </p>
<p>
<a id="pgfId-1026355"></a>This section describes the expression&#160;&#160;LVS uses to estimate the effective resistor length (<code>Leff</code>) and width (<code>Weff</code>)&#160;&#160;when&#160;&#160;combining (or smashing) parallel and series resistors:</p>
<ul><li>
<a id="pgfId-1026422"></a>For parallel resistors the effective values are calculated by formulas:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1026423">
<a id="pgfId-1026423"></a>Leff = SQRT(AREA/(W1/L1+W2/L2))</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1026424">
<a id="pgfId-1026424"></a>Weff = AREA/Leff </pre></li><li>
<a id="pgfId-1026425"></a>For series resistors the  effective values are calculated by formulas:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1026426">
<a id="pgfId-1026426"></a>Weff = SQRT(AREA/(L1/W1+L2/W2))</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1026427">
<a id="pgfId-1026427"></a>Leff = AREA/Weff</pre></li></ul>





<p>
<a id="pgfId-1026363"></a>Where:</p>
<p class="webflare-indent1">
<a id="pgfId-1026434"></a><code>W1</code> - the width of the first resistor,</p>
<p class="webflare-indent1">
<a id="pgfId-1026439"></a><code>L1</code> - the length of the first resistor,</p>
<p class="webflare-indent1">
<a id="pgfId-1026440"></a><code>AREA1</code> - the area of the first resistor,</p>
<p class="webflare-indent1">
<a id="pgfId-1026374"></a><code>W2</code> - the width of the second resistor,</p>
<p class="webflare-indent1">
<a id="pgfId-1026441"></a><code>L2</code> - the length of the second resistor,</p>
<p class="webflare-indent1">
<a id="pgfId-1026442"></a><code>AREA2</code> - the area of the second resistor,</p>
<p class="webflare-indent1">
<a id="pgfId-1026328"></a><code>AREA</code> - the calculation of the combined <code>AREA</code> is controlled by the <code>RESWSMASH</code> command (see <a href="chap11.html#53015">&#8220;RESWSMASH&#8221;</a>):</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1026404"></a>for <code>RESWSMASH = NO</code> (the default)<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1026405">
<a id="pgfId-1026405"></a>AREA = AREA1 + AREA2</pre></li><li>
<a id="pgfId-1026406"></a>For <code>RESWSMASH = YES</code><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1026407">
<a id="pgfId-1026407"></a>AREA = 1/(1/AREA1 + 1/AREA2)</pre></li></ul></li></ul>







<p>
<a id="pgfId-1026334"></a>The calculations are provided step by step.</p>

<h2>
<a id="pgfId-1026342"></a><a id="35738"></a>Bipola<a id="marker-1018224"></a>r <a id="bipolar_comfile"></a>LVS Example</h2>

<p>
<a id="pgfId-1018227"></a>The following is an example of an input rules file in bipolar technology.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018228"></a>;*****************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018229"></a>;                BIPOLAR LVS INPUT RULES FILE <br />;             P - SUBSTRATE AND DOUBLE LAYER METAL <br />;*****************************************************************<br />;         ************* TYPE OF DEVICES; *********** <br />;* <br />;* DEVICE/ELEMENT           TYPE <br />;* --------------           ---- <br />;* NPN VERTICAL             [N] <br />;* PNP VERTICAL             [PV] <br />;* PNP LATERAL              [PL] <br />;* DIODE SCHOTTKY           [S] <br />;* CAPACITOR MET1/DEEP N+   [C] <br />;* RESISTOR DEEP N+         [DN] <br />;* RESISTOR SHALLOW P       [SP] <br />;* RESISTOR BURIED N+       [BN] <br />;* ;*****************************************************************<br />;                        DESCRIPTION BLOCK <br />;*****************************************************************<br />*DESCRIPTION <br />PROGRAM-DIR = /drac/bin     ; Program directory of Dracula modules <br />SYSTEM = gds2               ; Graphic CAD database format <br />PRIMARY = top               ; Top cell name <br />INDISK = bip.db             ; Graphic database file name <br />OUTDISK = lvsout            ; Graphic error cell file name <br />SCALE = 0.001 microns       ; Graphic database scale <br />RESOLUTION = 0.05 microns   ; Database digitized grid unit <br />MODE = exec now             ; Mode execution <br />PRINTFILE = lvsprt          ; Print file name of DRACULA job <br />; <br />SCHEMATIC = LVSLOGIC        ; Schematic netlist from LOGLVS compiler <br />; <br />*END </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018230"></a>;*****************************************************************<br />;                     INPUT-LAYER BLOCK <br />;*****************************************************************<br />*INPUT-LAYER <br />bnn = 1     ; Buried N+ layer <br />nepi = 2    ; Epi region( Thin oxide region ) <br />sp = 3      ; Shallow P diffusion <br />sn = 4      ; Shallow N+ diffusion <br />cont = 5    ; Metal to diffusion contact <br />met1 = 6    ; Bottom metal layer <br />vapox = 7   ; Pad opening <br />dn = 9      ; Deep N+ diffusion <br />dp = 10     ; Deep P+ diffusion <br />contact1    ; Top metal to bottom metal <br />met2 = 12   ; Top metal layer <br />; <br />SUBSTRATE= psub 63          ; Create p - substrate layer <br />; <br />CONNECT-LAYER= psub buried pplus enpn ncoll met1 met2 <br />                            ; *** The conductor layers of <br />                            ;     the bipolar process *** <br />; <br />*END ;*****************************************************************<br />;                        OPERATION BLOCK <br />;*****************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018232"></a>*OPERATION <br />; <br />EDTEXT ram.txt ; Dracula text file <br />; ;*****************************************************************<br />;       LOGICAL OPERATION TO FIND THE VERTICAL NPN DEVICES <br />;*****************************************************************<br />NOT sp sn cheese </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018233"></a>SELECT sn hole cheese enpn     ; Emitter of the vertical npn<br />;                              ; transistor and device layer (also<br />;&#160;&#160;                            ; for the multiple emitter devices).</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018234"></a>SELECT bnn ENCLOSE enpn blnpn&#160;&#160;; Buried layer under the npn device </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018235"></a>;******************************************************************<br />;          LOGICAL OPERATION TO FIND THE LATERAL PNP DEVICES <br />;******************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024810"></a>AREA sp RANGE 224 226 epnpl1 ; 15 by 15 micron sq. shallow p <br />AREA sp RANGE 255 257 epnpl2 ; 16 by 16 micron sq. shallow p <br />;                            ; OR epnpl1 epnpl2 epnpl3 <br />SELECT epnpl3 INSIDE nepi epnpl4 <br />AND epnpl4 bn epnpl ; Emitter of the lateral pnp<br />;                            ; transistor<br />SIZE epnpl BY 9 oepnpl       ; Create a layer to find the<br />;                            ; collectors<br />SELECT sp CUT oepnpl cpnpl   ; Collector of the lateral pnp<br />;                            ; transistor and device layer (also <br />;&#160;&#160;                          ;for multiple collector devices)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018237"></a>;*****************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018238"></a>;       LOGICAL OPERATION TO FIND THE VERTICAL PNP DEVICES <br />;*****************************************************************<br />SELECT sp OUTSIDE bnn epv1 <br />SELECT epv1 OUTSIDE dp epnpv ; Emitter of the vertical pnp<br />;                            ; transistor <br />SIZE epnpv BY 9 oepnpv       ; Device layer for the vertical pnp <br />;                            ; transistor. <br />AND sp nepi pt1 <br />AND pt1 dp pt2 <br />AND pt2 cont ptpsub          ; Deep p+ contact to p substrate <br />;                            ; which is also the collector of the <br />;                            ; vertical pnp transistor. <br />;*****************************************************************;<br />                LOGICAL OPERATION TO CREATE THE N + <br />;                          CONDUCTOR LAYERS <br />;*****************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018239"></a>; ENPN si already formed     ; ENPN is the shallow n+ interconnect<br />;                            ; layer <br />AND sn dn ncoll1 <br />AND ncoll1 nepi ncoll        ; NCOLL is the deep n+ interconnect <br />;                            ; layer to buried n+ layer <br />;*****************************************************************;<br />        LOGICAL OPERATION TO FIND THE DEEP N RESISTORS <br />;*****************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024879"></a>AND cont nepi rcont1 <br />SIZE rcont1 BY 3 rcont       ; Oversized contacts used to separate<br />                             ; resistors into discrete regions. <br />SELECT dn ENCLOSE nepi dnres1 <br />AND dnres1 nepi dnres2 <br />NOT dnres2 bnn dnres3 <br />NOT dnres3 rcont dnres       ; Deep n+ resistor region and device<br />                             ; layer. <br />;*****************************************************************;<br />       LOGICAL OPERATION TO FIND THE P+ RESISTOR DEVICE <br />;*****************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018241"></a>SELECT sp ENCLOSE nepi spres1 <br />AND spres1 nepi spres2 <br />SELECT spres2 OUTSIDE enpn spres3 <br />SELECT spres3 OUTSIDE dp spres4 <br />NOT spres4 rcont spres       ; Shallow p+ resistor <br />;                            ; region and device layer<br />;****************************************************************;<br />          LOGICAL OPERATION TO CREATE THE P + <br />;               ( PPLUS ) CONDUCTOR LAYER <br />;******************************************************************<br />NOT sp spres4 sp1 <br />AND sp1 nepi pplus           ; Shallow p interconnect layer <br />;*****************************************************************;<br />           LOGICAL OPERATION TO FIND THE BURIED N + <br />;                       RESISTOR DEVICES <br />;******************************************************************<br />SELECT nepi OUTSIDE sp bnres1 <br />NOT bnres1 blnpn bnres2 <br />SELECT bnres2 CUT sn bnres3 <br />NOT bnres3 dn bnres          ; Buried n+ resistor region <br />;                            ; and device layer <br />;*****************************************************************;<br />            LOGICAL OPERATION TO CREATE THE <br />;                 BURIED N+ CONDUCTOR LAYER <br />;******************************************************************<br />SELECT bnn ENCLOSE bnres bur1 <br />NOT bnn bur1 buried          ; Buried n+ interconnect <br />;                            ; layer.<br />;*****************************************************************;<br />          LOGICAL OPERATION TO FIND THE METAL1 TO <br />;                DEEP N+ CAPACITOR DEVICES <br />;*****************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018242"></a>AND met1 dn cap1 <br />AND cap1 nepi cap2 <br />AND cap2 bnn cap3 <br />NOT cap3 blnpn cap4 <br />SELECT cap4 OUTSIDE cont cap5 <br />SELECT cap5 OUTSIDE sn mncap  ; Metal1 to deep N+ capacitor<br />;                             ; region and device layer. <br />;*****************************************************************;<br />          LOGICAL OPERATION TO FIND THE SCHOTTKY <br />;                        DIODE DEVICES <br />;*****************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018243"></a>AND met1 cont diode1 <br />AND diode1 nepi diode2 <br />AND diode2 bnn diode3 <br />NOT diode3 sp diode4 <br />NOT diode4 dn diode5 <br />NOT diode5 sn sanode         ; Anode region of the schottky diode <br />;                            ; and device layer.<br />;*****************************************************************;<br />         CONNECT OPERATION FOR THE BIPOLAR PROCESS <br />;*****************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018244"></a>CONNECT met2 met1 BY via <br />CONNECT met1 enpn BY cont <br />CONNECT met1 ncoll BY cont <br />CONNECT met1 pplus BY cont <br />CONNECT ncoll buried BY bnn <br />CONNECT met1 psub BY ptpsub <br />; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018245"></a>STAMP cont BY met1         ; Contact now carries nodal information <br />STAMP epnpl BY pplus <br />STAMP oepnpl BY epnpl&#160;&#160;    ; Oepnpl now carries nodal information </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018246"></a>STAMP rcont BY met1        ; Rcont now carries nodal information <br />; <br />AND met2 vapox bpad&#160;&#160;      ; Bonding pad region and device layer </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018247"></a>;*****************************************************************;<br />               DEFINING TRANSISTORS, DIODE, CAPACITOR, <br />;                       AND RESISTORS ELEMENTS <br />;*****************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018248"></a>;         DEVICE TYPE  DEVICE-LAYER   COLLECTOR  BASE     EMITTER <br />;         -----------  -------------  ---------  ----     -------<br />; <br />ELEMENT   BJT[N]       enpn           buried     pplus    enpn<br />ELEMENT   BJT[PL]      cpnpl          p plus     buried   oepnpl<br />ELEMENT   BJT[PV]      oepnpv         psub       buried   pplus <br />; <br />; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018250"></a>;         DEVICE TYPE  DEVICE-LAYER   ANODE      CATHODE <br />;         -----------  ------------   -----      ------- <br />ELEMENT   DIO[S]       sa node        cont       buried <br />; <br />;<br />;         DEVICE TYPE   DEVICE-LAYER   TERMINAL <br />;         ------------  ------------   -------- <br />ELEMENT   RES[DN]       dnres          rcont<br />ELEMENT   RES[SP]       spres          rcont<br />ELEMENT   RES[BN]       bnres          ncoll <br />ELEMENT   PAD           met2           bpad <br />; <br />; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018254"></a>;         DEVICE TYPE   DEVICE-LAYER   TERMINAL1  TERMINAL2 <br />;         -----------   ------------   ---------  --------- <br />ELEMENT   CAP[C]        mncap          met1       buried <br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018255"></a>MULTILAB OUTPUT shorts 40   ; ERC Shorts test <br />SAMELAB OUTPUT opens 40     ; ERC Opens test <br />; <br />*BREAK LVS                  ; Breakpoint for restarting LVS for<br />;                           ; discrepancy report only(.LVS). <br />LVSCHK CAPVAL=5 DIOAREA=3   ; Layout versus schematic check <br />LVSCHK DIOPERI=2 RESSIZE=10 <br />*END </pre>
<h2>
<a id="pgfId-1018259"></a><a id="57207"></a>Hierarch<a id="hier_lvs"></a>ical LVS</h2>

<p>
<a id="pgfId-1018260"></a>Hierarchical Layout Versus Schematic (HLVS) works like LVS in flat Dracula, except that it operates on a two-level hierarchy like HDRC. Dracula processes specified Hcells and traces them separately during a cell mode HLVS run. After verifying the Hcells, Dracula HLVS is run in composite mode to verify the composite plane devices and Hcell connections.</p>
<p>
<a id="pgfId-1018261"></a>Executing cell mode HLVS and then composite mode HLVS is the same as running flat mode LVS. Both do a completely verification of the layout against the schematic. Because of the reduced amount of data in a hierarchical structure, HLVS can handle very large chips. HLVS discrepancy reports (<a id="marker-1018262"></a>PRINTF.LVS) are concise because they do not replicate errors for every placement of an Hcell.</p>
<p>
<a id="pgfId-1018263"></a>Even though HDRC and HLVS use a similar two-level hierarchy, Hcells in HLVS are modeled differently than Hcells in HDRC. Therefore, the databases of these two functions are incompatible. HDRC and HLVS are run as totally independent operations.</p>
<p>
<a id="pgfId-1018264"></a>HLVS generates an Hcell box to define the boundary of every Hcell. This rectangular box is defined to cover the minimum area that encloses all geometries belonging to that Hcell.</p>

<h3>
<a id="pgfId-1018265"></a>Basic Requirements</h3>

<p>
<a id="pgfId-1018267"></a>To run <a id="marker-1018266"></a>HLVS, you must have the following data:</p>
<ul><li>
<a id="pgfId-1018268"></a>A database file.<br />
<a id="pgfId-1018269"></a>For a list of supported database formats, refer to the SYSTEM command description in <a href="chap11.html#71072">Chapter 11, &#8220;Description Block Commands.&#8221;</a></li><li>
<a id="pgfId-1018274"></a><a id="marker-1018273"></a>A netlist file (VERILOG, CDL, SPICE circuit file, etc).<br />
<a id="pgfId-1018275"></a>Just as in flat Dracula, you use the CDL or SPICE circuit file to specify transistor level cells, and you can use it to specify the whole netlist. For more information about CDL netlist files, refer to the &quot;Compiling Network Descriptions&quot; (LOGLVS) section in Chapter 5.</li><li>
<a id="pgfId-1018276"></a>A composite text layer or EDTEXT file.<br />
<a id="pgfId-1018277"></a>Refer to the EDTEXT command in the &#8220;Operation Block Commands&#8221; chapter.</li><li>
<a id="pgfId-1018278"></a>A cell text layer or HEDTEXT file. <br />
<a id="pgfId-1018282"></a>Refer to the HEDTEXT command description in <a href="chap13.html#21059">Chapter 13, &#8220;Operation Block Commands.&#8221;</a></li><li>
<a id="pgfId-1018283"></a>An Hcell table named by an HCELL-FILE command. This file contains statements with name pairs showing the correspondence between layout and the netlist Hcell names. The example below shows the format of this file. The name on the left is the layout Hcell name; the name on the right is the netlist Hcell name. You can also specify a FRAME option. You can specify individual Hcell commands to take the place of this file.<br />
<a id="pgfId-1018284"></a>Here is a sample Hcell file:<pre class="webflare-pre-block webflare-courier-new" id="#id1018285">
<a id="pgfId-1018285"></a>QOINVERT    INVERTER
DW00NAND    NAND
DW001NOR    NOR</pre>
<a id="pgfId-1018286"></a>For more information about Hcell files, refer to the HCELL and HCELL-FILE command descriptions in <a href="chap11.html#71072">Chapter 11, &#8220;Description Block Commands.&#8221;</a></li><li>
<a id="pgfId-1018290"></a>A Dracula rules file.</li></ul>













<h3>
<a id="pgfId-1018293"></a><a id="42407"></a>Selecting HLVS <a id="marker-1018292"></a>Hcells</h3>

<p>
<a id="pgfId-1018295"></a>You must manually select the Hcells for <a id="marker-1018294"></a>HLVS, HERC, HLPE, and HPRE, unlike HDRC, where you can have automatic Hcell selection. However, HLVS has a feature that automates Hcell selection.</p>
<p>
<a id="pgfId-1018296"></a>You use the HCELL or HCELL-FILE command to select Hcells. The HCELL-FILE command specifies a file that contains a set of Hcell statements that are equivalent to Hcell commands. Hcell commands specify the layout cell name for the Hcell and the corresponding netlist cell name (LOGICNAME) that defines the Hcell subcircuit. Dracula needs both names to run HLVS.</p>
<p>
<a id="pgfId-1018297"></a>More than one Hcell in the layout database can correspond to a single schematic subcircuit cell. For example, two Hcells, named inv1 and inv2, can both correspond to a subcircuit cell named inv. This lets you lay out one circuit in different ways.</p>
<p>
<a id="pgfId-1018298"></a>After you select the Hcells, HLVS flattens the hierarchy under the Hcell and composite plane for both the layout and netlist to establish a two-level hierarchy. </p>
<p>
<a id="pgfId-1018300"></a>When selecting <a id="marker-1018299"></a>Hcells, select cells with many placements to reduce the amount of redundant circuitry to be traced. This reduces HLVS execution time. You must conform to certain restrictions when selecting Hcells. HLVS verifies that these constraints are met for all specified Hcells to guarantee that a cell mode and composite mode HLVS check gives a complete layout-to-schematic verification.</p>
<p>
<a id="pgfId-1018302"></a>The following constraints apply to the selection of Hcells in <a id="marker-1018301"></a>HLVS:</p>
<ul><li>
<a id="pgfId-1018303"></a>The maximum number of Hcells is 2,000.</li><li>
<a id="pgfId-1018304"></a>No Hcell can be a subcell of another Hcell.</li><li>
<a id="pgfId-1018305"></a>An Hcell cannot contain a floating contact of any kind. If you use programmable contacts, you must digitize at least one of the contact CONNECT layers with the contact layer to form a valid node.</li><li>
<a id="pgfId-1018306"></a>Each Hcell must have a corresponding schematic subcircuit. This subcircuit netlist must currently be in either CDL, SPICE, or Verilog as described in the &#8220;Compiling Netlist Descriptions&#8221; chapter.</li><li>
<a id="pgfId-1018307"></a>Geometries from the composite plane or other Hcells can overlap Hcells (<a id="marker-1018308"></a>Hcell box), but they cannot delete, add, or modify any devices within the Hcell, except by the BASE-LAYER command. In cases where such devices are formed by these overlapping geometries, Dracula flags them as &#8220;EXTRA CELL TO COMPOSITE&#8221; devices.</li></ul>





<h3>
<a id="pgfId-1018310"></a><a id="marker-1018309"></a>Automatically Selecting HLVS Hcells</h3>

<p>
<a id="pgfId-1018312"></a><a id="marker-1018311"></a>Dracula can automatically select HLVS Hcells, as it does for HDRC. However, in HLVS you must cross reference layout and schematic cells. If layout cell names and their equivalent schematic representations are different, Dracula uses a cross-reference table to match them. </p>
<p>
<a id="pgfId-1018313"></a>The <em>ref-filename</em> lists layout cell names with their corresponding schematic cell names. The format of the reference file is the same as for the HCELL-FILE command. Each line contains two names with blanks as delimiters. The first name is the layout cell name, and the second is the corresponding schematic cell name.</p>
<p>
<a id="pgfId-1018314"></a>When selecting Hcells, Dracula starts with the cells listed in the reference file. First, Dracula selects Hcells according to the same criteria it uses to select HDRC Hcells. Then Dracula drops all Hcells not listed in the schematic netlist.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018315"></a>You must specify a HCELL_FILE file. If you specify an empty HCELL_FILE file, Dracula considers all cells in the layout for selection. </div>

<p>
<a id="pgfId-1018316"></a>To run HLVS using automatic Hcell selection, follow these steps:</p>
<ol><li>
<a id="pgfId-1018317"></a>To create the file jxauto.com, run PDRACULA.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1018318">
<a id="pgfId-1018318"></a>%PDRACULA
%/get rulefile.rul n auto
%/fin</pre></li><li>
<a id="pgfId-1018319"></a>To generate an Hcell table, execute <em>jxauto.com</em>. The HCELL-FILE file specifies the file name for Hcell table.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1018320">
<a id="pgfId-1018320"></a>%jxauto.com &gt; jxauto.log</pre></li><li>
<a id="pgfId-1018321"></a>To examine the validity of the newly generated Hcells, run LOGLVS. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1018322">
<a id="pgfId-1018322"></a>%LOGLVS
: CELL/AUTO HCELL-FILE
: .
: X</pre></li><li>
<a id="pgfId-1018323"></a>To create the final jxrun.com, run PDRACULA.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1018324">
<a id="pgfId-1018324"></a>%PDRACULA</pre></li><li>
<a id="pgfId-1018325"></a>To run HLVS, execute <em>jxrun.com</em>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1018326">
<a id="pgfId-1018326"></a>%jxrun.com</pre></li></ol>










<h3>
<a id="pgfId-1018328"></a>Hcell <a id="marker-1018327"></a>Pins</h3>

<p>
<a id="pgfId-1018330"></a>Hcell <a id="marker-1018329"></a>external connections to other Hcells on the composite are allowed only at the pins (also called terminals). In schematics, this is the only way to designate terminal connections. You can identify a pin in the <a id="marker-1018331"></a>netlist subc<a id="marker-1018332"></a>ircuit by declaring the name as an I/O pin. You can use text to identify the node of a pin in the layout. In the Hcell layout, place text on a node where the Hcell connects with another Hcell geometry or with a composite geometry.</p>
<p>
<a id="pgfId-1018333"></a>An Hcell can be a dummy cell with only its I/O pins and power pins digitized and assigned text. A corresponding netlist subcircuit with its I/O pins specified allows an HLVS composite mode run to check the correspondence of the layout block pins (with unspecified internal circuits) against the pins of the corresponding subcircuit in the netlist. For more information about dummy cells, refer to the BLACKBOX-FILE command in <h-hot><a href="chap11.html#71072">Chapter 11, &#8220;Description Block Commands.&#8221;</a></h-hot></p>
<p>
<a id="pgfId-1018337"></a>Interconnect between Hcells does not have to be at the Hcell boundary. You can locate pins within the Hcell and connect them using a pin of an overlapping Hcell or to an overlapping geometry from the composite plane.</p>

<h3>
<a id="pgfId-1018339"></a>Hcell <a id="marker-1018338"></a>Text (Pin Names) </h3>

<p>
<a id="pgfId-1018340"></a>HLVS, like LVS, identifies external pins of a circuit by using your text information. HLVS has <a id="marker-1018341"></a>texting requirements beyond those of flat mode LVS. To run a cell mode <a id="marker-1018342"></a>HLVS, text a minimum number of pins in the Hcell layout in addition to a minimum number of pins in the composite plane layout.</p>
<p>
<a id="pgfId-1018343"></a>For cell mode HLVS, you must text power, ground, and at least one signal node for each independent circuit within the Hcell. An independent circuit is a net consisting of the set of all connections and components that have direct or indirect (that is, through a device) connections among themselves. For example, if two D flip-flops have a pin on the D input, a pin on their Q output, and no other connections, the two are independent circuits. But if the D input of one is tied to the Q output of the other, they are part of the same independent circuit.</p>
<p>
<a id="pgfId-1018344"></a>For a cell mode HLVS run, use the GEN-TEXT command to eliminate manual texting of Hcell pins. GEN-TEXT generates complete Hcell pin text starting from the minimal text information required for a cell mode HLVS run and combines that with the pin names found in the netlist. For more information about texting Hcells, refer to the <h-hot><a href="chap6.html#43500">GEN-TEXT Commands</a></h-hot> in this chapter.</p>

<h3>
<a id="pgfId-1018348"></a>Adding to Text</h3>

<p>
<a id="pgfId-1018350"></a>You can add <a id="marker-1018349"></a>text for the flat or composite planes with either or both of the following methods:</p>
<ul><li>
<a id="pgfId-1018351"></a>Read text from the input database by specifying the layer containing it in the TEXT= layer command in the Input-Layer block.</li><li>
<a id="pgfId-1018352"></a>Read text and coordinates from the file listed in the EDTEXT command. </li></ul>

<p>
<a id="pgfId-1018353"></a>You can provide Hcell text with either or both of the following methods:</p>
<ul><li>
<a id="pgfId-1018354"></a>Read text from the input database as specified in the layers defined by CTEXT= layer commands in the Input-Layer block.</li><li>
<a id="pgfId-1018355"></a>Read text and text coordinates from the file specified in the HEDTEXT- file command. You can create this file with a text editor or the GEN-TEXT command. For details, refer to the GEN-TEXT command in <a href="chap12.html#58967">Chapter 12, &#8220;Input-Layer Block Commands.&#8221;</a></li></ul>

<p>
<a id="pgfId-1018359"></a>In a composite mode HLVS run, you must assign text to all Hcell pins. An easy way to add text is first to provide minimum texting for the composite plane pins and for the Hcell pins. You can do this by adding text in the original database or by generating a HEDTEXT file. Next, run a cell mode HLVS with GEN-TEXT enabled, which creates a new HEDTEXT file with all the Hcell pin text included. Finally, run a composite mode HLVS using the HEDTEXT file created by GEN-TEXT.</p>

<h3>
<a id="pgfId-1018360"></a>Pin Text</h3>

<p>
<a id="pgfId-1018361"></a>You can create an additional physical layer for text layers so you can use logical operations on <a id="marker-1018362"></a>them. When you use the PIN-TEXT-LAYER command in the Input Layer block of the rule file, Dracula creates a square on the specified layer surrounding the text origins for each text layer on the composite plane. </p>
<p>
<a id="pgfId-1018363"></a>The default size for the square is 2x2 database units. You can specify any size for the square; however, if the size is an odd number, the text origin is not in the center because text origins must be located on an integer. </p>

<h4>
<a id="pgfId-1018364"></a>Example</h4>

<p>
<a id="pgfId-1018365"></a>The following example uses the PIN-TEXT-LAYER command in the Input-Layer block of a rule file.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018366"></a>*DESCRIPTION<br />.........<br />*END<br />*INPUT-LAYER<br />PIN-TEXT-LAYER = PINLAY<br />POLY = 5 CTEXT= 21<br />......<br />CONNECT-LAY = NSUB PWELL PSD NSD POLY METAL<br />*END<br />*OPERATION<br />; Logical Operations<br />;-------------------<br />AND PINLAY METAL LAY1 <br />.........<br />; Perform Layer Interconnection<br />;------------------------------<br />STAMP PINLAY BY LAY1<br />.............<br />*END</pre>

<h3>
<a id="pgfId-1018367"></a>Masking Hcells with Black Boxes</h3>

<p>
<a id="pgfId-1018369"></a>In composite <a id="marker-1018368"></a>mode, you can mask an Hcell with a &#8220;black box.&#8221; A black box is a pin geometry-only replacement of an Hcell master whose original definition either does not exist or should be ignored. Define a black box when</p>
<ul><li>
<a id="pgfId-1018370"></a>The Hcell master is another company&#8217;s proprietary design and you have only the pin information for the Hcell.</li><li>
<a id="pgfId-1018371"></a>The Hcell master has been verified by other means and you are not concerned about cell-to-master interactions other than the composite-to-cell pin connectivity. This use is similar to the FRAME BY command, except that you provide the frame.</li></ul>

<p>
<a id="pgfId-1018372"></a>Before defining a black box, you must be aware that HLVS cannot check a black box for violations such as connections from composite-to-cell internal nodes. Also, if the black box is specified incorrectly, it can cause serious problems. Dracula might overlook some LVS errors or report false mismatch violations.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018373"></a>The purpose of using a black box is to reduce the amount of data processed during an HLVS cycle. To prevent missing errors that might be masked by a black box, run a full-chip LVS run as the last step in your verification process.</div>

<p>
<a id="pgfId-1018374"></a>Use a black box file to define black boxes. The BLACKBOX-FILE command in the Description block identifies the file name. Each line in the black box file generates a pin geometry in the replacement Hcell master. Each line must list the following items:</p>
<ul><li>
<a id="pgfId-1018375"></a>The text name</li><li>
<a id="pgfId-1018376"></a>The x,y coordinates where the pin geometry is to be centered</li><li>
<a id="pgfId-1018377"></a>The attached layer</li><li>
<a id="pgfId-1018378"></a>The name of the Hcell</li></ul>



<p>
<a id="pgfId-1018379"></a>Optionally, you can use width (<em>w</em>) and height (<em>h</em>) specifications to define the shape of the pin.</p>
<p>
<a id="pgfId-1018380"></a>For more information about the black box file, refer to <a href="chap11.html#79789">&#8220;BLACKBOX-FILE&#8221;</a>.</p>

<h3>
<a id="pgfId-1018385"></a>Hcells and the <a id="marker-1018384"></a>BASE-LAYER</h3>

<p>
<a id="pgfId-1018388"></a><a id="marker-1018386"></a>HLVS lets <a id="marker-1018387"></a>Hcells overlap and connect at Hcell pins in the overlapping area. The composite plane can also have geometries that overlap or cross Hcells and connect at Hcell pins. The netlist must reflect this connectivity to avoid discrepa<a id="marker-1018389"></a>ncy errors. Dracula automatically checks devices created by composite plane geometries overlapping Hcells and lists them in the HLVS discrepancy report.</p>
<p>
<a id="pgfId-1018390"></a>The BASE-LAYER command allows geometries digitized in the composite plane to be considered Hcell geometries. These geometries form devices and indicate connectivity. In a limited sense, the BASE-LAYER command handles geometries that are not identical for different placements. Geometries that are the same for each placement move into the cell. Unique portions of the geometries stay in composite level.</p>
<p>
<a id="pgfId-1018391"></a>This is important for some gate array types of layouts, where composite plane layers (the base-layers) provide a set of symmetric geometries overlaid by Hcells that parameterize the semicustom circuit with transistors, contacts, and other connections. For details about this functionality, refer to the BASE-LAYER command description in <h-hot><a href="chap12.html#58967">Chapter 12, &#8220;Input-Layer Block Commands.&#8221;</a></h-hot></p>

<div class="ft-figtabl-title">
<a id="pgfId-1018456"></a>Overlapping Hcells with Internal Pin Connections</div>
<p>
<a id="pgfId-1021563"></a></p>
<div class="webflare-div-image">
<img width="577" height="416" src="images/chap6-47.gif" /></div>
<div class="ft-figtabl-title">
<a id="pgfId-1018472"></a>Overlapping Composite Geometry with Hcell</div>
<p>
<a id="pgfId-1021631"></a></p>
<div class="webflare-div-image">
<img width="579" height="273" src="images/chap6-48.gif" /></div>
<h3>
<a id="pgfId-1018473"></a>Hcell Frames</h3>

<p>
<a id="pgfId-1018475"></a>You can specify Hcell frames<a id="marker-1018474"></a> for composite mode HLVS when you use the HCELL or HCELL-FILE commands. The frame is a rectangular area in the Hcell that tells Dracula to discard the geometry sections in it, leaving only the geometr<a id="marker-1018476"></a>y sections in the area between the frame and Hcell box. This area along the boundary of the Hcell remains available to let composite mode HLVS determine the external pin connections of the Hcell by matching the geometries being connected and their text (pin name).</p>
<p>
<a id="pgfId-1018477"></a>GEN-TEXT warns you of pins that are located in the empty region of the frame that cannot be assigned text. You must make the frame border large enough to include these pins. Otherwise, Dracula drops the text. When using Hcell frames and GEN-TEXT, be sure to put text in the proper places, as explained in the &#8220;GEN-TEXT Commands&#8221; section.</p>

<h3>
<a id="pgfId-1018479"></a><a id="12709"></a>Wire Types</h3>

<p>
<a id="pgfId-1018482"></a>The concept of<a id="marker-1018480"></a> wire types is similar to <a id="marker-1018481"></a>virtual wires in flat Dracula except that it provides more flexibility as needed by the hierarchical environment. You can specify MustJoin wire types for pins by adding a semicolon (;) and a number after the signal name or pin text. For example, Q;25. There are two kinds of wire types: MustJoin and Internally-Wired.</p>

<h4><em>
<a id="pgfId-1018483"></a>MustJoin Wire Type</em></h4>

<p>
<a id="pgfId-1018485"></a>Pins with the same text name and different wire types are <a id="marker-1018484"></a>MustJoin wire types. These pins are assumed to be the same node even though they are not connected within their level (Hcell or composite plane). They are joined at some higher level. If the MustJoin wire type pins are in an Hcell, a composite mode HLVS verifies a connection between the two pins at the composite level. This MustJoin convention is equivalent to the Virtual Wires convention (Q: and Q:), but it is more general and precise in the hierarchical environment. For this reason, do not use virtual wires (:) for cell mode texts.</p>

<h4><em>
<a id="pgfId-1018486"></a>Internally-Wired Wire Type</em></h4>

<p>
<a id="pgfId-1018487"></a>Dracula considers pins with the same text name and the same wire type, such as Q;3 and Q;3, to be <a id="marker-1018488"></a>internally wired. This means that these wires must be connected within the Hcell in which they are found. A cell mode HLVS run verifies these connections. These pins are particularly important when you use a frame in composite mode to eliminate the layout within a cell, leaving only the pins. If you make two or more external connections to the same geometry at two different places, and if a frame cuts the geometry in the cell, you must label both connect-points of the geometry with an internally-wired wire type. Use a number between 1 and 3000 to name the wire type. Composite mode HLVS then knows that these two physically disjointed connections correspond to the same pin. Note that a wire name with no type (for example, Q) corresponds to a name with wire type of type &#8220;0 (zero)&#8221; (for example, Q;0).</p>
<p>
<a id="pgfId-1018489"></a>When Dracula assigns a wire-type number, HLVS treats virtual wires as MustJoin wire types. Dracula accepts both wire type conventions and virtual wires for composite or flat data. Cell data must use the semicolon (;) convention.</p>

<p>
<a id="pgfId-1021653"></a></p>
<div class="webflare-div-image">
<img width="676" height="335" src="images/chap6-49.gif" /></div>
<h3>
<a id="pgfId-1018529"></a>Feedthroughs</h3>

<p>
<a id="pgfId-1018531"></a>Feedthroughs are <a id="marker-1018530"></a>interconnects that run through an Hcell without making a connection to any device in the Hcell. They route signals through a cell. Feedthroughs do not have a counterpart in the netlist Hcells; rather, they are part of the comp<a id="marker-1018532"></a>osite-pla<a id="marker-1018533"></a>ne interconnect. When <a id="marker-1018534"></a>feedthroughs exist, Dracula requires that you identify them in the Hcell layout by texting them with a label starting with FTHRU followed by one or more digits. This label tells HLVS to ignore the feedthrough in a cell mode HLVS and to use it to connect nodes in a composite mode HLVS. The GEN-TEXT operation can identify feedthroughs and text them.</p>

<h3>
<a id="pgfId-1018537"></a><a id="43500"></a>GEN-<a id="gen-text"></a>TEXT Commands</h3>

<p>
<a id="pgfId-1018540"></a><a id="marker-1018538"></a>The <a id="marker-1018539"></a>GEN-TEXT operation reduces the amount of effort needed to text all Hcell pins as required for a composite mode <a id="marker-1018541"></a>HLVS operation. GEN-TEXT relies on HLVS to provide texting information for pins not assigned text. <a id="marker-1018542"></a>Hcells must have the required minimum texting so that a cell mode HLVS can run. Cell mode HLVS with GEN-TEXT enabled extracts text information from the netlist subcircuits and generates an HEDTEXT file containing all Hcell pin text. Subsequent HLVS runs can use this HEDTEXT file as input.</p>
<p>
<a id="pgfId-1018543"></a>Use GEN-TEXT to save effort in texting Hcell pins, and, if the cell mode run completes successfully, ensures there are no differences between the names in the layout text and the corresponding netlist signal. </p>
<p>
<a id="pgfId-1018544"></a>Running GEN-TEXT in flat mode is the same as running GEN-TEXT in cell mode with one Hcell. Because you can run GEN-TEXT in any mode, integrate the resulting text files from separate runs into one file for the final composite check. </p>
<p>
<a id="pgfId-1018545"></a>Running GEN-TEXT in composite mode lets you run a job in composite mode more than once to verify the entire chip. For example, an Hcell (<em>cell-A</em>) at the chip level (<em>cell-chip</em>) might be so large that a flat or cell mode run might not process the LVS GEN-TEXT for <em>cell-A</em>. If you can identify the cells you place inside of <em>cell-A</em> as Hcells, then you can </p>
<ul><li>
<a id="pgfId-1018546"></a>Run cell mode GEN-TEXT for cells inside of <em>cell-A</em>.</li><li>
<a id="pgfId-1018547"></a>Run composite mode GEN-TEXT on <em>cell-A</em>. Combine your GEN-TEXT file with the text created in the separate runs. </li><li>
<a id="pgfId-1018548"></a>Combine the text of all Hcells in <em>cell-chip</em>. </li><li>
<a id="pgfId-1018549"></a>Run composite mode LVS on <em>cell-chip</em>.</li></ul>




<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018550"></a>You need to be sure that the nodes in <em>cell-A</em> to be assigned text with the GEN-TEXT command have geometries on the composite level, or else you need to use the BLACKBOX-FILE command to define the hidden geometries.</div>

<p>
<a id="pgfId-1018551"></a>You can use the following commands to control the GEN-TEXT operation. </p>

<h4>
<a id="pgfId-1018553"></a><a id="marker-1018552"></a>Description Block Commands</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018555"></a><a id="marker-1018554"></a>GEN-TEXT-FILE = file-name</pre>

<p>
<a id="pgfId-1018556"></a>This command starts the GEN-TEXT operation in HLVS. The file-name is the text file to be generated.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018557"></a>GEN-TEXT-FLTNODE = YES/NO</pre>

<p>
<a id="pgfId-1018558"></a>This command specifies whether GEN-TEXT should automatically identify feedthroughs and label them with FTHRUxxxx text labels.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018559"></a>GEN-TEXT-FRAME = xxx MICRONS</pre>

<p>
<a id="pgfId-1018560"></a>This command simulates a frame corresponding to Hcell Frames to be used in a composite mode HLVS. This simulated frame allows GEN-TEXT to determine whether errors exist in attempting to create text within the frame area.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018561"></a>GEN-TEXT-WIRE = YES/NO</pre>

<p>
<a id="pgfId-1018562"></a>This command finds pin nodes that must be labeled as Internally-Wired because they have been split by a frame (GEN-TEXT-FRAME command) and labels them with an Internally-Wired wire type label.</p>

<h4>
<a id="pgfId-1018564"></a><a id="marker-1018563"></a>Input-Layer Block Command</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018565"></a>GEN-TEXT-LAYER = layer...</pre>

<p>
<a id="pgfId-1018566"></a>This command specifies layers to be assigned text.</p>

<h4>
<a id="pgfId-1018568"></a>Using <a id="marker-1018567"></a>Frames with 
GEN-TEXT</h4>

<p>
<a id="pgfId-1018569"></a>You do not need a frame to run HLVS, but you can use a frame to reduce execution time. To specify a FRAME option on Hcells in a composite mode HLVS and to use GEN-TEXT to generate text, follow these steps:</p>
<p>
<a id="pgfId-1018570"></a>During the cell mode HLVS run</p>
<ul><li>
<a id="pgfId-1018571"></a>Enable GEN-TEXT with the GEN-TEXT-FILE command.</li><li>
<a id="pgfId-1018572"></a>Use GEN-TEXT-FRAME (FRAME BY in the Hcell table overwrites the GEN-TEXT-FRAME in the associated Hcell).</li><li>
<a id="pgfId-1018573"></a>Use GEN-TEXT-WIRE = YES.</li><li>
<a id="pgfId-1018574"></a>If Hcells have feedthroughs, use GEN-TEXT-FLTNODE = YES.</li><li>
<a id="pgfId-1018575"></a>Ensure that none of the Hcell commands or HCELL-FILE statements specify the FRAME option during the cell mode run.</li></ul>




<p>
<a id="pgfId-1018576"></a>During the composite mode run</p>
<ul><li>
<a id="pgfId-1018577"></a>Provide a HEDTEXT command pointing to the file created by the GEN-TEXT-FILE command during the cell mode run.</li><li>
<a id="pgfId-1018578"></a>Make all frames specified in Hcell commands or HCELL-FILE statements have the same size as the frame specified in the GEN-TEXT-FRAME command. (Cell mode and composite mode runs can share the HCELL-FILE statements.)</li></ul>

<p>
<a id="pgfId-1018579"></a>These steps guarantee that if a frame splits a pin assigned text or a feedthrough with two connect locations, Dracula correctly assigns text to the pin or feedthrough using an Internally-Wired wire type. For details, refer to the <h-hot><a href="chap6.html#12709">Wire Types</a></h-hot> section in this chapter.</p>

<h4>
<a id="pgfId-1018583"></a>Example of GEN-TEXT Commands</h4>

<p>
<a id="pgfId-1018584"></a>The following file is a section of the Description and Input-Layer blocks in a rules file that uses GEN-TEXT with floating-node and wire type options and an 8-micron frame.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018585"></a>;<br />*DESCRIPTION<br />;<br />;    HEDTEXT file produced is gen.txt<br />;<br />  GEN-TEXT-FILE = gen.txt<br />;<br />;    Use 8 micron frame.<br />;<br />  GEN-TEXT-FRAME = 8 microns<br />;<br />;    Generate feedthrough text labels<br />;<br />  GEN-TEXT-FLTNODE = yes<br />;<br />;    Distinguish wire types<br />;<br />  GEN-TEXT-WIRE = yes<br />;<br />*END</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018586"></a>*INPUT-LAYER<br />;<br />;    Specify layers for GEN-TEXT to text.<br />;<br />  GEN-TEXT-LAYER =  psub  nwell  poly  metal</pre>

<h3>
<a id="pgfId-1018588"></a>HLVS Error Types<a id="marker-1018587"></a></h3>

<p>
<a id="pgfId-1018589"></a>LVS flags overhang geometries of two different cells, or different internal nodes of the same cell, that are connected as potential embedded errors rather than true errors.</p>

<h3>
<a id="pgfId-1018591"></a>Sample <a id="marker-1018590"></a>HLVS Input Rules File</h3>

<p>
<a id="pgfId-1018592"></a>This is a sample rules file for a PWELL CMOS standard cell.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018593"></a>*DESCRIPTION<br />CHECK-MODE = composite ; $$$ new $$$<br />HCELL-FILE = hcell.tab ; $$$ new $$$<br />PRIMARY = chip<br />SYSTEM = gds2<br />INDISK = lvs.db<br />OUTDISK = lvsout<br />SCALE = .001 mic<br />RESOLUTION = .05 mic<br />PRINTFILE = lvsprt<br />MODE = exec now<br />PROGRAM-DIR = /dracula<br />schematic = LVSLOGIC<br />*END<br />;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018594"></a>*INPUT-LAYER<br />nplus=2<br />pplus=3<br />poly =4<br />met1=6  text=58     ; composite text<br />poly=23 CTEXT = 18  ; Hcell text $$$ new $$$<br />met1=24 CTEXT = 20  ; Hcell text $$$ new $$$<br />cont=5<br />pwell=1<br />SUBSTRATE=bulk 54<br />;<br />CONNECT-LAYER = nsub pwell psrcdrn nsrcdrn poly met1<br />;<br />*END<br />;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1024987"></a>*OPERATION<br />HEDTEXT = pinnames.txts ; $$$ new $$$<br />NOT bulk pwell nsub<br />AND poly nplus ngate<br />AND poly pplus pgate<br />NOT nplus ngate nsrcdrn<br />NOT nplus pgate psrcdrn<br />;<br />CONNECT met1 nsrcdrn    BY cont<br />CONNECT met1 poly       BY cont<br />CONNECT met1 psrcdrn    BY cont<br />CONNECT psrcdrn pwell   BY pwell<br />CONNECT nsrcdrn nsub    BY nsub<br />;<br />ELEMENT MOS[N] ngate poly nsrcdrn pwell<br />ELEMENT MOS[P] pgate poly pscrdrn nsub<br />;<br />LVSCHK<br />*END</pre>

<h2>
<a id="pgfId-1014195"></a><a id="96295"></a>Inherited Connections for LVS in Dracula Verification</h2>

<p>
<a id="pgfId-1026016"></a>Inherited connections is an extension to the connectivity model that allows you to create global signals and override their names for selected branches of the design hierarchy. This flexibility allows you to use </p>
<ul><li>
<a id="pgfId-1026017"></a>Multiple power supplies in a design</li><li>
<a id="pgfId-1026018"></a>Overridable substrate connections</li><li>
<a id="pgfId-1026019"></a>Parameterized power and ground symbols</li></ul>


<p>
<a id="pgfId-1026014"></a>To learn about connectivity and naming conventions for inherited connections and how to add and edit net expressions in a schematic or symbol cellview, refer to the &quot;Inherited Connections&quot; sections in chapter 2 of the <em><a actuate="user" class="URL" href="../comphelp/comphelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Composer User Guide</a></em><em>.</em></p>
<p>
<a id="pgfId-1026035"></a>Once parameters for a net are specified in the top (upper) level of a schematic or symbol cellview of a design, the instances ( in the lower level) inherit the same connectivity from the parameters specified on the top level.</p>

<h3>
<a id="pgfId-1026182"></a>Example</h3>

<p>
<a id="pgfId-1026163"></a>If you have a logic that includes two inverter instances,<code> I1</code> and <code>I2</code>, then to verify if the netlist in that design has inherited connectivity, follow these steps below.</p>
<ol><li>
<a id="pgfId-1026042"></a>Select the consistent logic (schematic) and layout data. You can run CDLOUT on one logic (schematic view) and correctly pick the corresponding layout.</li><li>
<a id="pgfId-1026056"></a>Run CDLOUT on your logic data to get the needed netlist.</li><li>
<a id="pgfId-1026078"></a>Check to see if in the top cell in your netlist you have two same instance, for example <code>I1</code> and <code>I2</code> that have been assigned different POWER and GROUND connections on the top level.

For example,

<code>gnd</code> and <code>vdd</code> for one instance

<code>a_gnd</code> and <code>N33V</code> for another instance

This means that the two same instance <code>I1</code> and <code>I2</code> have followed the &quot;inherited connections&quot; rule and have inherited different POWER and GROUND assignments from the top level respectively.</li><li>
<a id="pgfId-1026054"></a>Run LVS for the above netlist and its corresponding stream.
You will get a <code>*.DAT</code> file, for example <code>6PADS.DAT</code> file.
When you view this <code>.DAT</code> file, you see for example, </li></ol>




<pre class="webflare-courier-new codeContent">
<a id="pgfId-1026100"></a>   &#160;&#160;&#160;&#160;GND&#160;&#160;                      1     G           0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1026101"></a>     VDD                        2     P           0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1026102"></a>     N33V                       3     O           0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1026103"></a>     A_GND                      4     O           0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1026104"></a>     OUT1                       5     O           0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1026198"></a> INI      6  &#160;&#160; I&#160;&#160;&#160;&#160;    &#160;&#160;  0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1026115"></a></pre>

<p class="webflare-indent1">
<a id="pgfId-1026128"></a>Check to see if the <code>GND</code> (<code>PAD 1</code>)and <code>A_GND</code> (<code>PAD 4</code>) are assigned to the same instance respectively.</p>
<ol><li>
<a id="pgfId-1026129"></a>Check the LVSLOGIC file and view its contents and you see that there are two MOS elements (one for <code>I1</code> and another for <code>I2</code>) in the instance being parsed by LOGLVS. And, their source node ( connected to GROUND) is assigned <code>PAD1</code> and <code>PAD4</code> respectively. 

This means that although this instance did not specify certain parameters for the POWER and GROUD originally, once the parameters are specified in the top (upper) level, the instances (in the lower level) are also inherited from the parameter specified on the top level.</li></ol>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap5.html" id="prev" title="Compiling Network Descriptions (LOGLVS)">Compiling Network Descriptions ...</a></em></b><b><em><a href="chap7.html" id="nex" title="Extracting Electrical Parameters (LPE)">Extracting Electrical Paramete ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160; </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>