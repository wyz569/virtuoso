
<html><head><title>Extracting Electrical Parameters (LPE)</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sarita" />
<meta name="CreateDate" content="2023-09-14" />
<meta name="CreateTime" content="1694753413" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Dracula offers a complete set of integrated applications for IC layout designs. It contains information about the Dracula standalone verification product." />
<meta name="DocTitle" content="Dracula Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Extracting Electrical Parameters (LPE)" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="dracularef" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-14" />
<meta name="ModifiedTime" content="1694753413" />
<meta name="NextFile" content="chap8.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Physical Verification  Analysis" />
<meta name="PrevFile" content="chap6.html" />
<meta name="c_product" content="Dracula" />
<meta name="Product" content="Dracula" />
<meta name="ProductFamily" content="Dracula" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Dracula Reference -- Extracting Electrical Parameters (LPE)" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="dracularefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="dracularefTOC.html">Contents</a></li><li><a class="prev" href="chap6.html" title="Comparing Layouts and Schematics (LVS)">Comparing Layouts and Schemati ...</a></li><li style="float: right;"><a class="viewPrint" href="dracularef.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap8.html" title="Using Parametric Data (LPEPRO)">Using Parametric Data (LPEPRO)</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Dracula Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>7
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1018982"></a><hr />
<a id="72770"></a>Extracting Electrical Parameters (LPE)<hr />
</h1>

<p>
<a id="pgfId-1018983"></a>This chapter focuses on the following topics for LPE in Dracula:</p>
<ul><li>
<a id="pgfId-1018987"></a><a href="chap7.html#47848">&#8220;LPE Overview&#8221;</a></li><li>
<a id="pgfId-1014239"></a><a href="chap7.html#26452">&#8220;LPE Flow Diagram (continued)&#8221;</a></li><li>
<a id="pgfId-1014243"></a><a href="chap7.html#34523">&#8220;Flexible LPE&#8221;</a></li><li>
<a id="pgfId-1014247"></a><a href="chap7.html#38707">&#8220;Selective LPE&#8221;</a></li><li>
<a id="pgfId-1014251"></a><a href="chap7.html#12204">&#8220;LPE Examples&#8221;</a></li><li>
<a id="pgfId-1014255"></a><a href="chap7.html#19508">&#8220;Hierarchical LPE&#8221;</a></li></ul>






<h2>
<a id="pgfId-1014258"></a><a id="47848"></a>LPE Overview</h2>

<p>
<a id="pgfId-1014261"></a>Using an integrated circuit (IC) layout, <a id="marker-1014259"></a>Layout Parameter Extraction (<a id="marker-1014260"></a>LPE) computes and extracts key electrical parameters, such as </p>
<ul><li>
<a id="pgfId-1014262"></a>Node parasitic capacitances</li><li>
<a id="pgfId-1014263"></a>Defined resistors</li><li>
<a id="pgfId-1014264"></a>Diode areas and perimeters</li><li>
<a id="pgfId-1014265"></a>Bipolar device sizes</li><li>
<a id="pgfId-1014266"></a>Transistor gate sizes</li></ul>




<p>
<a id="pgfId-1014268"></a>You can use these extracted parameters in Layout vs. <a id="marker-1014267"></a>Schematic (LVS) consistency checking, in circuit and logic<a id="marker-1014269"></a> simulations, and in <a id="marker-1014270"></a>timing verification.</p>
<p>
<a id="pgfId-1014271"></a>IC designers use circuit and logic simulations to predict product performance. You usually run simulations with estimated device sizes and loadings, and the simulations are not necessarily accurate reflections of layout performance. Substantial tolerances and safety margins are required to avoid design discrepancies. LPE gives you more precise values for physical devices and loadings so that simulations more accurately reflect layout performance. </p>
<p>
<a id="pgfId-1014273"></a>LPE creates both the <a id="marker-1014272"></a>layout parameter database and the link between layout and schematic compiled by the Layout Versus Schematic Network Compiler (LOGLVS). For information about LOGLVS, refer to <h-hot><a href="chap5.html#38520">Chapter 5, &#8220;Compiling Network Descriptions (LOGLVS).&#8221;</a></h-hot></p>
<p>
<a id="pgfId-1014277"></a>You can use LPE as a standalone system or with the Design Rules Checker (DRC), Electrical Rules Checker (ERC), or LVS. LPE extracts the width and length of a MOS transistor, the areas and perimeters of a bipolar transistor, the areas and perimeters of a diode (source/drain diffusion), the capacitances of a node (with cross-coupling), and drawn resistance. </p>
<p>
<a id="pgfId-1014278"></a>You can run LPE with hierarchical Dracula. For more information, refer to the <h-hot><a href="chap7.html#19508">&#8220;Hierarchical LPE&#8221; section</a></h-hot> in this chapter.</p>
<p>
<a id="pgfId-1014283"></a>In batch mode, LPE reports in a SPICE-compatible format. You can submit the<a id="marker-1014282"></a> SPICE listing for circuit simulation with only minor editing, such as adding model information. You can select the following<a id="marker-1014284"></a> LPE reports: </p>
<ul><li>
<a id="pgfId-1014285"></a>Program-assigned node/device names/numbers with cross-references to layout labels </li><li>
<a id="pgfId-1014286"></a>Program-assigned node/device names/numbers with cross-references to schematic I/O&#8217;s and designators </li></ul>

<p>
<a id="pgfId-1014288"></a><a id="marker-1014287"></a>LPEPRO performs the following functions interactively: </p>
<ul><li>
<a id="pgfId-1014290"></a>Probes circuit <a id="marker-1014289"></a>parameters with your relational thresholds </li><li>
<a id="pgfId-1014291"></a>Manipulates circuit parameters with your formulas </li><li>
<a id="pgfId-1014292"></a>Selects your circuit path and outputs all devices along the path in SPICE format so that you can do simulation selectively </li><li>
<a id="pgfId-1014294"></a>Reproduces the <a id="marker-1014293"></a>logic gate formation from the layout </li><li>
<a id="pgfId-1014295"></a>Locates the longest and shortest paths </li><li>
<a id="pgfId-1014296"></a>Automatically adopts all element types, model names, parameters, units, and other descriptions specified in the LPE rules file</li></ul>





<p>
<a id="pgfId-1014298"></a>LPE follows the standard Dracula layout <a id="marker-1014297"></a>texting procedure. If you do not want to <a id="marker-1014299"></a>backannotate the circuit schematic with the extracted parameters, label only power and ground nodes. For a layout-to-schematic comparison, label the I/O&#8217;s. </p>
<p>
<a id="pgfId-1014300"></a>LPEQRY lets you extract devices and parameters associated with specified nets. It is both unnecessary and time consuming to run parameter extraction of all nets on a large, complex chip when you are interested in analysis of only the critical path. </p>
<p>
<a id="pgfId-1014301"></a>You must compile your schematics with the LOGLVS Network Compiler. LOGLVS accepts HSPICE, SPICE2,&#160;&#160;and Verilog schematic descriptions. </p>
<p>
<a id="pgfId-1014302"></a>The following figure shows the relationship between LPE and LPEPRO.</p>

<h3>
<a id="pgfId-1016161"></a>LPE Flow Diagram<a id="marker-1016160"></a></h3>
<p>
<a id="pgfId-1017365"></a></p>
<div class="webflare-div-image">
<img width="676" height="582" src="images/chap7-2.gif" /></div>
<h3>
<a id="pgfId-1016164"></a><a id="26452"></a>LPE Flow Diagram (continued)</h3>
<p>
<a id="pgfId-1016387"></a></p>
<div class="webflare-div-image">
<img width="668" height="367" src="images/chap7-3.gif" /></div>
<h2>
<a id="pgfId-1016169"></a>Extracting SPICE Parameters</h2>

<p>
<a id="pgfId-1016166"></a>The following sections describe standard <a id="marker-1016165"></a>SPICE parameters and user-specified parameters. LPE extracts for MOS, parasitic diodes, parasitic capacitors, element resistors, and bipolar devices. </p>

<h3>
<a id="pgfId-1014440"></a>MOS Transistors</h3>

<p>
<a id="pgfId-1014442"></a>This section describes how Dracula calculates MOS <a id="marker-1014441"></a>transistor channel width and length in the graphics database.</p>

<h4>
<a id="pgfId-1014443"></a>Calculations Without Adjustments</h4>

<p>
<a id="pgfId-1014444"></a>WEFFECT=0 or CORNER=0 (Default)</p>
<p>
<a id="pgfId-1014445"></a>The transistor widths to the source and drain are the MOS transistor gate perimeters that touch or overlap the diffusion area. The average of the transistor widths at source and drain is the width for the gate area. The transistor length is the ratio of the total gate area to the average of the widths at source and drain. </p>
<p>
<a id="pgfId-1014446"></a>LPE extracts parameters from the drawn geometry. If you can estimate the actual size of a transistor, you must undersize or oversize the gate area to the proper scale before <a id="marker-1014447"></a>parameter extraction. LPE does not automatically extract the gate to the substrate capacitance. You must define the extraction using the PARASITIC CAP command. You can use the ATTACH command to extract the area and perimeter of the diffusion and attach this information onto the MOS device. The following figure shows the default method for measuring width and length without adjustment.</p>

<p>
<a id="pgfId-1016464"></a></p>
<div class="webflare-div-image">
<img width="677" height="401" src="images/chap7-4.gif" /></div>

<p>
<a id="pgfId-1014509"></a>Where a+b+c+d+e+f represents the perimeter of the active gate area. </p>
<p>
<a id="pgfId-1014510"></a>To extract MOS source/drain area, perimeter, and output as AS, AD, PS, and PD in SPICE, use the LEXTRACT and ATTACH commands. The following example illustrates this.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014511"></a>*DESCRIPTION<br />
...
PARSET TEST AREA PERI
...
*END
...
*OPERATION
...
ELEMENT MOS[N] NCHNL METAL DIFFN OVPWELL;
ELEMENT MOS[P] PCHNL METAL DIFFP NSUB&#160;&#160; ;<br />...<br />LEXTRACT TEST DIFFN BY NODE PDIFFN<br />LEXTRACT TEST DIFFP BY NODE PDIFFP<br />ATTACH MOS[N] PDIFFN &amp;<br />ATTACH MOS[P] PDIFFP<br />
...
LPECHK
LPESELECT[S] MOS &amp;
...</pre>
<h4>
<a id="pgfId-1014533"></a>Calculations With <a id="marker-1014532"></a>WEFFECT or CORNER Specified</h4>

<p>
<a id="pgfId-1014534"></a>You can specify a positive or negative value for WEFFECT in the LVSCHK or LPECHK command. The same restriction is true for CORNER in the LPESELECT command. When you encounter turns or corners, Dracula calculates the MOS channel width/length as follows:</p>
<p>
<a id="pgfId-1014535"></a>For a pulldown device where W&gt;L, each 15-degree turn in the transistor channel adds or subtracts 1/6 of WEFFECT/CORNER times the length, L, from the transistor default width, W. For a load device (L≥W), the channel length is modified. The following examples illustrate these calculations (CORNER can be substituted for WEFFECT).</p>
<ul><li>
<a id="pgfId-1014537"></a><a id="marker-1014536"></a>For a pulldown device (L is unmodified) <br />
<a id="pgfId-1014538"></a>W<sub>{actual}</sub> = W<sub>{init}</sub> - (WEFFECT * I *L) ; if W<sub>{init}</sub> is greater than L<br />
<a id="pgfId-1014539"></a>where<br />
<a id="pgfId-1014540"></a>W<sub>{actual}</sub> = the actual width of the gate<br />
<a id="pgfId-1014541"></a>W<sub>{init} </sub>= the initial width of the gate. This is always calculated by Dracula.<br />
<a id="pgfId-1014542"></a>WEFFECT = a compensation coefficient you supply to Dracula to correctly calculate the actual width/length of a transistor gate.<br />
<a id="pgfId-1014543"></a>I = the total of a device&#8217;s internal angles (in units of 90 degrees)<br />
<a id="pgfId-1014544"></a>L = the length of the gate which is equal to the total area of the gate divided by the initial width of the gate (e.g. Area/W{init})</li><li>
<a id="pgfId-1014545"></a>For a load device (W is unmodified) <br />
<a id="pgfId-1014546"></a>L<sub>{actua}l</sub> = L<sub>{init}</sub> - (WEFFECT * I *W) ; if L<sub>{init}</sub> ≥ W<br />
<a id="pgfId-1014547"></a>where<br />
<a id="pgfId-1014548"></a>L<sub>{actual}</sub> = the actual length of the gate<br />
<a id="pgfId-1014549"></a>L<sub>{init}</sub> = the length of the gate which is equal to the total area of the gate divided by the width of the gate (e.g. Area/W)<br />
<a id="pgfId-1014550"></a>WEFFECT = a compensation coefficient you supply to Dracula to correctly calculate the actual width/length of a transistor gate.<br />
<a id="pgfId-1014551"></a>I = the total of a device&#39;s internal angles (in units of 90 degrees, with each internal angle rounded to the nearest 15 degrees)<br />
<a id="pgfId-1014552"></a>W = the width of the gate. This is always calculated for you by Dracula.</li><li>
<a id="pgfId-1018455"></a>For parallel MOS pulldown transistors (of the same type): <br /><table class="webflareTable" id="#id1018476">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018478"></a>Transistor 1: </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018480"></a>W<sub>actual1</sub>, L1 = A1 / W1 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018482"></a>Transistor 2: </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018484"></a>W<sub>actual2</sub>, L2 = A2 / W2 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018486"></a>Total area: </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018488"></a>A = A1 + A2</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018490"></a>Total ratio: </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018492"></a>C = W<sub>{actual1}</sub>/L1&#160;&#160;+W<sub>{actual2}</sub>/L2</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018494"></a>W<sub>combined</sub> =</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018496"></a> <img width="62" height="31" src="images/chap7-5.gif" /></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018498"></a>L<sub>combined</sub>  =</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018500"></a><img width="82" height="50" src="images/chap7-6.gif" /></p>
</td>
</tr>
</tbody></table><br />
<a id="pgfId-1018467"></a></li></ul>



















<h4>
<a id="pgfId-1018468"></a>Example 1</h4>

<p>
<a id="pgfId-1014567"></a>I/90 = 2 [90 + 90 = 180 degrees] </p>
<p class="webflare-indent1">
<a id="pgfId-1014568"></a>For a pulldown device:
WEFFECT= 0.5, W = 12
L = 1, and W<sub>actual</sub> = 11</p>
<p class="webflare-indent1">
<a id="pgfId-1014569"></a>For a load device: 
WEFFECT= 0.5, W = 1
L = 12, and L<sub>actual </sub>= 11</p>

<p>
<a id="pgfId-1016532"></a></p>
<div class="webflare-div-image">
<img width="540" height="202" src="images/chap7-7.gif" /></div>
<h4>
<a id="pgfId-1014605"></a>Example 2</h4>

<p>
<a id="pgfId-1014606"></a>I/90 = 1 [45 + 45 = 90 degrees] </p>
<p class="webflare-indent1">
<a id="pgfId-1014607"></a>For a pulldown device:
WEFFECT = 0.0, W = 16 
L = 3.31, and W<sub>actual </sub>= 16
where WEFFECT = CORNER.</p>
<p class="webflare-indent1">
<a id="pgfId-1014608"></a>For another pulldown device:
WEFFECT = 1.0, W = 16 
L = 3.31, and W<sub>actual</sub> = 12.69 
</p>

<p>
<a id="pgfId-1016574"></a></p>
<div class="webflare-div-image">
<img width="573" height="247" src="images/chap7-8.gif" /></div>
<h3>
<a id="pgfId-1014670"></a>Parasitic Diode Parameters </h3>

<p>
<a id="pgfId-1014672"></a>LPE extracts the <a id="marker-1014671"></a>parameters of a positive-negative (P-N) junction diode. The source/drain diffusion area and the substrate/well on which it is diffused make up the two diode terminals. The polarities of the terminals are positive if P-doped and negative if N-doped. </p>
<p>
<a id="pgfId-1014674"></a>You can extract as many as six types of <a id="marker-1014673"></a>diode parameters: A1, P1, A2, P2, A3, and P3. The choice of A2,P2 and A3,P3 depends on whether you specify the second and third argument layers in the PARASITIC DIO command. These two layers cannot overlap when both are needed to define a diode. For more information about the PARASITIC DIO or DIODESEQ commands, refer to the &#8220;Description Block Commands&#8221; and &#8220;Operation Block Commands&#8221; chapters.</p>
<p>
<a id="pgfId-1014675"></a>To reduce the number of diodes for simulation, LPE lumps the parameters of the same diode type at the same node into one parameter before reporting them. </p>

<h3>
<a id="pgfId-1014676"></a>Parasitic Capacitor Parameters </h3>

<p>
<a id="pgfId-1014677"></a>LPE defines most kinds of capacitance in any process technology with combinations of logical and sizing commands. After the connections of a circuit are established with CONNECT commands, the node numbers automatically pass from the first argument layer to the output layer on each logical AND/NOT command. The two layers that define a parasitic capacitor determine the connections between the two terminals of a capacitor. </p>
<p>
<a id="pgfId-1014678"></a>LPE-extracted capacitance is always coupled from one node to another and skips the capacitors with both terminals at the same node. LPE reports the combined load capacitances of a node in lump sum format as the default unless you specify otherwise with the LPESELECT[C] command. </p>
<p>
<a id="pgfId-1014679"></a>In addition to capacitance values, the parameter database includes the area and perimeter of the capacitor. You compute capacitance values by specifying the area and perimeter coefficients in the ATTRIBUTE CAP command. For details about the ATTRIBUTE CAP command, refer to <a href="chap13.html#22844">&#8220;ATTRIBUTE CAP&#8221;</a>.</p>

<h4>
<a id="pgfId-1014683"></a>Device Filtering</h4>

<p>
<a id="pgfId-1014685"></a><a id="marker-1014684"></a>With device filtering on, if a filtered device has one terminal connected to one net of the circuit after filtering, the capacitance of the filtered device, which is related to the net, is taken into consideration. All parasitic capacitance related to the merged nodes is added to the resultant node. The following illustration shows how LPE handles filtered devices.</p>

<p>
<a id="pgfId-1016646"></a></p>
<div class="webflare-div-image">
<img width="674" height="308" src="images/chap7-9.gif" /></div>
<h3>
<a id="pgfId-1014783"></a>Element Resistor Parameters </h3>

<p>
<a id="pgfId-1014785"></a><a id="marker-1014784"></a>To define the resistor device layer and terminals, use the ELEMENT RES command. To assign sheet resistance for a resistor device defined by the ELEMENT RES command, use the PARAMETER RES command.</p>
<p>
<a id="pgfId-1014786"></a>To define effective width, device size extraction uses the device layer where it touches terminals W1 and W2. Device size extraction uses area and effective width to compute the effective length of the resistor. You must properly size or logically create the terminal layer to ensure the correct resistance value. </p>
<p>
<a id="pgfId-1014788"></a>To specify the scale factor of unit values to <a id="marker-1014787"></a>resistor value, use the UNIT command in the Description block. If you do not specify the unit name, LPE lists the parameter in natural units.</p>

<h4>
<a id="pgfId-1014789"></a>Example of a Typical Resistor</h4>

<p>
<a id="pgfId-1014790"></a>This example shows the equation for a typical resistor.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014791"></a>*DESCRIPTION<br />. <br />UNIT = capacitance,pf resistance,k <br />. <br />*END</pre>

<p>
<a id="pgfId-1016750"></a></p>
<div class="webflare-div-image">
<img width="676" height="205" src="images/chap7-10.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1014830"></a>W = (W1 + W2) / 2 and L = A / W </p>
<p class="webflare-indent1">
<a id="pgfId-1014831"></a>where</p>
<p class="webflare-indent1">
<a id="pgfId-1014832"></a>W is the effective width of the resistor. 
L is the effective length of the resistor. 
A is the total area of the resistor device layer. </p>
<p class="webflare-indent1">
<a id="pgfId-1014833"></a>Resistance, R = (value) * ( L / W )</p>
<p class="webflare-indent1">
<a id="pgfId-1014834"></a>The value is the sheet resistance per square specified in the PARAMETER RES command. </p>
<p>
<a id="pgfId-1014835"></a>This equation is applicable for a bent resistor with corners. The area adjusts the resistor length, which becomes a center line length. </p>

<h4>
<a id="pgfId-1014836"></a>Example of a Typical <a id="marker-1019396"></a>Polysilicon Resistor</h4>

<p>
<a id="pgfId-1014837"></a>This is an example of how you can use an extra digitized layer to identify an element. In this example, poly, the conductor layer created from the ipoly layer (complete polysilicon layer) and the res layer, acts as the resistor terminal. To extract a resistance value, you must specify the PARAMETER command. </p>
<p>
<a id="pgfId-1014870"></a>The ipoly layer is polysilicon, and the res layer is a digitized resistor layer.</p>

<p>
<a id="pgfId-1016795"></a></p>
<div class="webflare-div-image">
<img width="569" height="218" src="images/chap7-11.gif" /></div>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014871"></a>*DESCRIPTION <br />. <br />UNIT = resistance,k <br />. <br />*END <br />*OPERATION <br />. <br />AND ipoly res pres    ; Device layer <br />NOT ipoly pres poly   ; Poly-si interconnect &amp;<br />                      ; resistor terminals <br />. <br />ELEMENT RES[P] pres poly <br />PARAMETER RES[P] 200 <br />. <br />LPECHK <br />LPESELECT res &amp; <br />. <br />*END </pre>

<h4>
<a id="pgfId-1014872"></a>Example of Diffusion Resistors</h4>

<p>
<a id="pgfId-1014874"></a><a id="marker-1014873"></a>In this example, the diff layer is the complete diffusion layer, the dres layer is the diffusion resistor, and the cont layer is the metal-diffusion contact.</p>

<p>
<a id="pgfId-1016834"></a></p>
<div class="webflare-div-image">
<img width="569" height="168" src="images/chap7-12.gif" /></div>

<p>
<a id="pgfId-1014903"></a>Note that the diff layer is a logical and/or select-generated layer. You must resize the cont layer to generate the &#8220;touch&#8221; of the device layer, dres.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014904"></a>*DESCRIPTION <br />. <br />UNIT = resistance, ohm   ;In this case, the UNIT<br />                         ;command is not necessary <br />. <br />*END <br />*OPERATION <br />. <br />SIZE cont BY 2 ocont     ;Oversize CONT <br />NOT diff ocont dres      ;Device layer for resistor <br />NOT diff dres srcdrn     ;Source drain layer without<br />                         ;contact terminals <br />. <br />CONNECT metal srcdrn BY cont<br />. <br />. <br />ELEMENT RES[D] dres srcdrn<br />PARAMETER RES[D] 15 <br />. <br />LPECHK <br />LPESELECT res &amp; <br />. <br />*END </pre>
<p>
<a id="pgfId-1014907"></a>For more than two <a id="marker-1014905"></a>terminal-drawn r<a id="marker-1014906"></a>esistors (Y-shaped, T-shaped, and so forth), you must generate an intermediate node (contact terminal). If you do not generate an intermediate node, you get an undefined r<a id="marker-1014908"></a>esistor device (?RES). </p>
<p>
<a id="pgfId-1014909"></a>The following figure shows diffusion resistors in a series where the resistor bodies are not separated by contacts. </p>

<p>
<a id="pgfId-1016869"></a></p>
<div class="webflare-div-image">
<img width="561" height="168" src="images/chap7-13.gif" /></div>

<p>
<a id="pgfId-1014935"></a>You must transform the process shown above by SIZE, LOGICAL, or SELECT operations. The following figure shows how to correct the extraction of the two resistors. </p>

<p>
<a id="pgfId-1016901"></a></p>
<div class="webflare-div-image">
<img width="561" height="165" src="images/chap7-14.gif" /></div>
<h4>
<a id="pgfId-1014964"></a>Examples of <a id="marker-1014963"></a>Problem Resistors</h4>

<p>
<a id="pgfId-1014965"></a>In the examples in the preceding section, the resistor terminals precisely touched the resistor device layer so that W1 and W2 measured the same. If the resistor terminals do not precisely touch the device layer, the calculated W and L might be slightly different.</p>

<h4><em>
<a id="pgfId-1014966"></a>Example of Width Not Measured Precisely</em></h4>

<p>
<a id="pgfId-1015052"></a>The following example shows where resistors width is not measured precisely.</p>

<p>
<a id="pgfId-1016935"></a></p>
<div class="webflare-div-image">
<img width="561" height="591" src="images/chap7-15.gif" /></div>
<h4><em>
<a id="pgfId-1015053"></a>Example of Length Not Measured Precisely</em></h4>

<p>
<a id="pgfId-1015055"></a>This figure shows an example of resistors where length is not measured precisely.</p>

<p>
<a id="pgfId-1017026"></a></p>
<div class="webflare-div-image">
<img width="561" height="161" src="images/chap7-16.gif" /></div>

<p>
<a id="pgfId-1015082"></a>LPE and LVS extract resistor devices and device sizes. The same resistor equation for W and L applies, but the extracted resistor device sizes vary depending on the interrelationship of the resistor device layer and the resistor terminals (precise touch expected). </p>

<h3>
<a id="pgfId-1015084"></a><a id="marker-1015083"></a>Bipolar Transistor Area and Perimeter </h3>

<p>
<a id="pgfId-1015085"></a>This section shows you how to extract and measure parameters for bipolar transistors. <a id="marker-1015086"></a>LPE extracts bipolar device parameters and creates a CDL/SPICE netlist. The DEVTAG and LEXTRACT operation commands handle <a id="marker-1015087"></a>bipolar devices. With these commands, you can extract parameters from other associated layers or geometries of the same device (multiple collector or emitter bipolar devices). For more information about these commands, refer to <h-hot><a href="chap12.html#58967">Chapter 12, &#8220;Input-Layer Block Commands.&#8221;</a></h-hot></p>

<h4>
<a id="pgfId-1015092"></a>Using <a id="marker-1015091"></a>Bipolar LPE </h4>

<ol><li>
<a id="pgfId-1015093"></a>To define bipolar devices, use the ELEMENT BJT command.</li><li>
<a id="pgfId-1015094"></a>To tag device numbers to layers that are not device layers but from which you want to extract parameters, use the DEVTAG command.</li><li>
<a id="pgfId-1015095"></a>To specify the parameters (area and/or perimeter) you want to extract and the layers from which you want to extract them, use the LEXTRACT command. <br />
<a id="pgfId-1015096"></a>The program supports the following parameters for bipolar transistors:<ol><li>
<a id="pgfId-1015097"></a>Area and perimeter of emitters </li><li>
<a id="pgfId-1015098"></a>Area and perimeter of collectors </li><li>
<a id="pgfId-1015099"></a>Area and perimeter of base </li></ol><br />
<a id="pgfId-1015100"></a>If you do not specify the LEXTRACT command, LPE extracts only area and perimeter from the device layer you specify in the ELEMENT BJT command. The default assumes the device layer is the emitter; the netlist reports the area and perimeter as &#8220;EA&#8221; and &#8220;EP.&#8221; If you want the area and perimeter of a terminal other than the device layer as output, use the DEVTAG and LEXTRACT commands. </li><li>
<a id="pgfId-1015101"></a>To define the parameter set (area and/or perimeter) to be extracted, use the PARSET command. </li><li>
<a id="pgfId-1015102"></a>To specify model names for bipolar transistors in the Description block, use the MODEL command. </li><li>
<a id="pgfId-1015103"></a>To backannotate to schematics and to create the CDL/SPICE netlist, use the LPECHK and LPESELECT commands. </li></ol>











<h4>
<a id="pgfId-1015104"></a>Example of Vertical npn</h4>

<p>
<a id="pgfId-1015105"></a>In this example, Dracula extracts the emitter area and the perimeter by default. The nemit layer is the device layer, buried is the device collector terminal, and base is the device base terminal. The nemit layer is also the device emitter terminal. </p>

<p>
<a id="pgfId-1017059"></a></p>
<div class="webflare-div-image">
<img width="676" height="256" src="images/chap7-17.gif" /></div>
<h4>
<a id="pgfId-1015133"></a>Example of Vertical pnp</h4>

<p>
<a id="pgfId-1015134"></a>In this example, Dracula extracts emitter areas, base areas, and perimeters and includes them in the bjtvp parameter file. The pemit layer is the device layer, psub is the device collector terminal, epi is the device base terminal, and pemit is the device emitter terminal.</p>

<p>
<a id="pgfId-1017093"></a></p>
<div class="webflare-div-image">
<img width="680" height="320" src="images/chap7-18.gif" /></div>
<h4>
<a id="pgfId-1015167"></a><a id="30680"></a>Example of Lateral pnp with Possible Multiple Collector</h4>

<p>
<a id="pgfId-1015168"></a>In this example, Dracula extracts the emitter areas, collector areas, and perimeters and includes them in the bjtlp parameter file. To tag the device numbers, Dracula must go back to emit (the true emitter) through ovemit (the intermediate layer oversized emitter). Dracula performs extraction through the temit file, which has device numbers linked by the DEVTAG command. No tagging is necessary for the coll layer because it is the device layer.</p>
<p>
<a id="pgfId-1015169"></a>In this example, coll is the device layer and the device collector terminal, buried is the device base terminal, and ovemit is the device oversized emitter terminal. The emit layer is the true size emitter; emit1 and temit are files created by DEVTAG that contain device number information. </p>

<p>
<a id="pgfId-1017132"></a></p>
<div class="webflare-div-image">
<img width="679" height="333" src="images/chap7-19.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015218"></a>The combined use of the LPESELECT BJT command and the LEXTRACT command generates a <a id="marker-1015219"></a>bipolar SPICE file. The file has the following format:</div>

<p>
<a id="pgfId-1018276"></a> </p>
<table class="webflareTable" id="#id1017633">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017635"></a>CA = area of the collector</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017637"></a>CP = perimeter of the collector </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017639"></a>BA = area of the base</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017641"></a>BP = perimeter of the base</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017643"></a>EA = area of the emitter</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017645"></a>EP = perimeter of the emitter</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1015221"></a>Remember that the dollar sign ($) is a SPICE comment delimiter.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015222"></a>Q1  out1   in1  gnd  npn   $ EA=100  EP=40. <br />Q2  vcc    xfr1 out6 vpnp  $ BA=900  BP=120  EA=100  EP=40<br />Q3  cout1  in3  vcc  mpnp  $ CA=400  CP=80  EA=400  EP=80 <br />Q4  cout2  in3  vcc  mpnp  $ CA=400  CP=80  EA=400  EP=80<br /></pre>
<h2>
<a id="pgfId-1015226"></a><a id="34523"></a>Flexib<a id="flex_lpe"></a>le LPE</h2>

<p>
<a id="pgfId-1015231"></a><a id="marker-1015227"></a>LPE supports standard<a id="marker-1015228"></a> CDL or<a id="marker-1015229"></a> SPICE parameters for devices. <a id="marker-1015230"></a>Flexible LPE lets you define parameters and extract them by specifying your equation. Flexible LPE supports all CDL or SPICE parameters (reserved parameter keywords), and you can output these parameters with the LPESELECT command in the SPICE file generated by LPE. </p>
<p>
<a id="pgfId-1015234"></a>Flexible LPE has three types of parameters: <a id="marker-1015232"></a>geometric primitives,<a id="marker-1015233"></a> reserved parameter keywords, and user-defined parameters. </p>

<h3>
<a id="pgfId-1015235"></a>Geometric Primitives</h3>

<p>
<a id="pgfId-1015237"></a>The <a id="marker-1015236"></a>primitives defined below refer to the relation of a layer to itself and to other layers. To extract values from the relation of the specified layers to layer-a, use the LEXTRACT and PARSET commands.</p>
<table class="webflareTable" id="#id1020229">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020231"></a>ANG</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020233"></a>Total internal angle </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020235"></a>AREA</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020237"></a>Area </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020239"></a>PERI</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020241"></a>Perimeter </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020243"></a>W1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020245"></a>Overlapped perimeter to node 1 of second layer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020247"></a>W2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020249"></a>Overlapped perimeter to node 2 of second layer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020251"></a>OVAR</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020253"></a>Overlapped area to second layer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020255"></a>OVPR</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020257"></a>Overlapped perimeter to second layer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020259"></a>WIDT</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020261"></a>Distance that the layer runs parallel</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020263"></a>DEPT</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020265"></a>Distance between the parallel geometries</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020267"></a>TPR</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020269"></a>Perimeter of geometries that cause fringe effect</p>
</td>
</tr>
</tbody></table>

<h3>
<a id="pgfId-1015248"></a>Reserved Parameter Keywords</h3>

<p>
<a id="pgfId-1015249"></a>Reserved parameter keywords are for parameter values for devices you usually use for CDL or SPICE simulations. If you specify LEXTRACT for a device, you must specify an equation for each of these parameters in the PARSET command list. For more information about the PARSET list, refer to <h-hot><a href="chap13.html#21059">Chapter 13, &#8220;Operation Block Commands.&#8221;</a></h-hot> When extracting parameters for bipolar devices only, you can specify LEXTRACT without the EQUATION command.</p>
<table class="webflareTable" id="#id1020422">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020545"></a>W</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020547"></a>MOS channel width </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020549"></a>L</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020551"></a>MOS channel length</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020553"></a>A1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020555"></a>DIO area </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020557"></a>P1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020559"></a>DIO perimeter </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020561"></a>A2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020563"></a>DIO area </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020565"></a>P2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020567"></a>DIO perimeter </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020569"></a>A3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020571"></a>DIO area </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020573"></a>P3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020575"></a>DIO perimeter </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020577"></a>C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020579"></a>CAP value </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020581"></a>R</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020583"></a>RES value </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020585"></a>CA</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020587"></a>BJT collector area </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020589"></a>CP</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020591"></a>BJT collector perimeter </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020593"></a>BA</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020595"></a>BJT base area BP BJT base perimeter</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020597"></a>EA</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020599"></a>BJT emitter area </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020601"></a>EP</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020603"></a>BJT emitter perimeter </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020605"></a>K</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020607"></a>Fringe capacitance attribute used for piece-wise fringe capacitance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020609"></a>CLL</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020611"></a>Sum of fringe effect related to TPR</p>
</td>
</tr>
</tbody></table>

<h3>
<a id="pgfId-1015271"></a><a id="marker-1020417"></a>User-Defined Parameters</h3>

<p>
<a id="pgfId-1015272"></a>Any names you define can have a maximum of four characters. The first character must be from A to Z. The remaining characters can be A-Z and 0-9. If you specify an LEXTRACT command for a device, you must specify an EQUATION command for each parameter in the PARSET list. When you do not specify LEXTRACT for the device type, the system does the default extraction.</p>

<h4>
<a id="pgfId-1015274"></a>Reserved Parameter Set (<a id="marker-1015273"></a>PARSET) Keywords</h4>

<p>
<a id="pgfId-1015275"></a>The reserved PARSET keywords are MOSD, DIOD, DIO2, DIO3, CAPD, CAPF, BJTD, RESD, LDDD, MOSS, CAPO, and BOXD. Do not use your own defined parameters with these reserved PARSET keywords.</p>
<p>
<a id="pgfId-1015277"></a>The following are examples of default<a id="marker-1015276"></a> LPE parameter extraction for ELEMENT and PARASITIC devices: </p>
<p class="webflare-indent1">
<a id="pgfId-1015278"></a>ELEMENT MOS
ELEMENT LDD
ELEMENT DIO
PARASITIC DIO
ELEMENT CAP
PARASITIC CAP overlapped capacitances
PARASITIC CAP fringe capacitances
PARASITIC CAP overlapped capacitance with fringe effect
FRINGE CAP fringe capacitances including different layers
ELEMENT RES
PARASITIC RES
ELEMENT BJT
ELEMENT BOX</p>
<p>
<a id="pgfId-1015279"></a>The LEXTRACT output parameter file name is enclosed in parentheses because the specification of the file name is illegal, but the name is generated internally by LPE. </p>

<h4>
<a id="pgfId-1015281"></a><a id="marker-1015280"></a>ELEMENT MOS </h4>
<table class="webflareTable" id="#id1020726">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020755"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020757"></a>MOSD </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020728"></a>Layers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020730"></a> device layer MOSX**G </p>
<p>
<a id="pgfId-1020745"></a>Source and drain layer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020732"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020734"></a> 7MOSX**M </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020736"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020738"></a> W=(W1+W2)/2 </p>
<p>
<a id="pgfId-1020748"></a>L=AREA/W</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1015286"></a>The default extraction is equivalent to the following: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015287"></a>*DESCRIPTION <br />PARSET MOSD AREA PERI ANG W1 W2 W L <br />. <br />. <br />*END <br />*OPERATION <br />. <br />. <br />ELEMENT MOS[N] NGATE POLY NSD PWELL <br />LEXTRACT MOSD NGATE NSD BY MOS[N] (7MOSXN8M) &amp; <br />EQUATION W=(W1+W2)/2 &amp;<br />EQUATION L=AREA/W </pre>

<h4>
<a id="pgfId-1015289"></a><a id="marker-1015288"></a>ELEMENT LDD</h4>
<table class="webflareTable" id="#id1020790">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020792"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020794"></a> LDDD </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020796"></a>Layers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020798"></a> Device layer LDDX**G </p>
<p>
<a id="pgfId-1020813"></a>Source and drain layer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020800"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020802"></a> 7LDDX**L</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020804"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020806"></a> W=(W1+W2)/2 </p>
<p>
<a id="pgfId-1020816"></a>L=AREA/W </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1015294"></a>The default extraction is equivalent to the following: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015295"></a>*DESCRIPTION <br />PARSET LDDD AREA OVPR W L <br />. <br />. <br />*END <br />*OPERATION <br />. <br />. <br />ELEMENT LDD[A2] PCHNL METAL DIFFP DIFFN NSUB <br />LEXTRACT LDDD PCHNL DIFFP BY LDD[A2] (7LDDXA2L) &amp;<br />EQUATION W=OVPR &amp;<br />LEXTRACT LDDD PCHNL DIFFNBY LDD[A2] &amp;<br />EQUATION W=(OVPR+W)/2 &amp;<br />EQUATION L=AREA/W </pre>

<h4>
<a id="pgfId-1015297"></a><a id="marker-1015296"></a>ELEMENT DIO</h4>
<table class="webflareTable" id="#id1020818">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020820"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020822"></a> DIOD </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020824"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020826"></a> 7DIOX **D </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020828"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020830"></a> A1=AREA P1=PERI</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1015301"></a>The default extraction is equivalent to the following: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015302"></a>*DESCRIPTION <br />PARSET DIOD AREA PERI A1 P1 <br />. <br />. <br />*END <br />*OPERATION <br />. <br />. <br />ELEMENT DIO[N] NDIO PWELL NDIO <br />LEXTRACT DIOD NDIO BY DIO[N] (7DIOXN8D) &amp; <br />EQUATION A1=AREA &amp; <br />EQUATION P1=PERI </pre>

<h4>
<a id="pgfId-1017721"></a><a id="marker-1017719"></a><a id="marker-1017720"></a>PARASITIC DIO</h4>
<table class="webflareTable" id="#id1020836">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020838"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020840"></a> DIOD, DIO2, DIO3 for three, four, and five layers, respectively, on DIO </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020842"></a>Layers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020844"></a> Device layer DIOP**G, fourth layer </p>
<p>
<a id="pgfId-1020864"></a>Device layer DIOP**G, fifth layer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020846"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020848"></a> 7DIOP**D </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020850"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020852"></a> A1=AREA-OVAR P1=PERI-OVPR</p>
<p>
<a id="pgfId-1020870"></a>A2=OVAR if fourth layer P2=OVPR</p>
<p>
<a id="pgfId-1020873"></a>A3=OVAR if fifth layer P3=OVPR </p>
<p>
<a id="pgfId-1020867"></a>A1=A1-A3 P1=P1-P3 </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1015310"></a>If there is no fourth or fifth layer, the default extraction is the same as the default for <a id="marker-1015311"></a>ELEMENT DIO. If there is a fourth layer, the default extraction is equivalent to the following:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015312"></a>*DESCRIPTION <br />PARSET DIO2 AREA PERI OVAR OVPR A1 P1 A2 P2 <br />*END <br />*OPERATION <br />PARASITIC DIO[N] NDIO PWELL NDIO NGATE <br />LEXTRACT DIO2 NDIO NGATE BY DIO[N] (7DIOPN8D) &amp; <br />EQUATION A1=AREA-OVAR &amp; <br />EQUATION P1=PERI-OVPR &amp; <br />EQUATION A2=OVAR &amp; <br />EQUATION P2=OVPR </pre>

<p>
<a id="pgfId-1015313"></a>If there are fourth and fifth layers, the default extraction is equivalent to the following:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015314"></a>*DESCRIPTION <br />PARSET DIO3 AREA PERI OVAR OVPR A1 P1 A2 P2 A3 P3 <br />*END <br />*OPERATION <br />PARASITIC DIO[N] NDIO PWELL NDIO NGATE CONT <br />LEXTRACT DIO3 NDIO NGATE BY DIO[N] &amp; <br />EQUATION A1=AREA-OVAR &amp; <br />EQUATION P1=PERI-OVPR &amp; <br />EQUATION A2=OVAR &amp; <br />EQUATION P2=OVPR &amp; <br />LEXTRACT DIO3 NDIO CONT BY DIO[N] (7DIOPN8D) &amp; <br />EQUATION A3=OVAR &amp; <br />EQUATION P3=OVPR &amp; <br />EQUATION A1=A1-A3 &amp; <br />EQUATION P1=P1-P3 </pre>
<h4>
<a id="pgfId-1015317"></a><a id="marker-1015315"></a><a id="marker-1015316"></a>ELEMENT CAP</h4>
<table class="webflareTable" id="#id1020878">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020880"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020882"></a> CAPD </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020884"></a>Layers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020886"></a> Device layer CAPX**G </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020888"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020890"></a> 7CAPX**C </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020892"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020894"></a> C=attribute1*AREA +attribute2*PERI </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1015322"></a>The default extraction is equivalent to the following: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015323"></a>*DESCRIPTION <br />PARSET CAPD AREA PERI C <br />. <br />. <br />*END <br />*OPERATION <br />. <br />. <br />ELEMENT CAP[A] MPOLY MET POLY <br />PARAMETER CAP[A] 0.00005 1.0E-4 <br />LEXTRACT CAPD MPOLY BY CAP[A] (7CAPXA8C) &amp; <br />EQUATION C=0.00005*AREA+1.0E-4*PERI </pre>
<h4>
<a id="pgfId-1015325"></a><a id="marker-1015324"></a>PARASITIC CAP</h4>

<p>
<a id="pgfId-1015326"></a>Overlapped capacitances:</p>
<table class="webflareTable" id="#id1020901">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020903"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020905"></a> CAPD</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020907"></a>Layers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020909"></a> Device layer CAPP**G </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020911"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020913"></a> 7CAPP**C </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020915"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020917"></a> C=attribute1*AREA +attribute2*PERI</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1015331"></a>The default extraction is equivalent to the following:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015332"></a>*DESCRIPTION <br />PARSET CAPD AREA PERI C <br />. <br />. <br />*END </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015333"></a>*OPERATION <br />. <br />. <br />PARASITIC CAP[A] MPOLY MET POLY<br />ATTRIBUTE CAP[A] 0.00005 1.0E-4<br />LEXTRACT CAPD MPOLY BY CAP[A] (7CAPPA8C) &amp;<br />EQUATION C= 0.00005*AREA+1.0E-4*PERI</pre>
<p>
<a id="pgfId-1015334"></a>Overlapped capacitance with consideration of fringe effect:</p>
<table class="webflareTable" id="#id1021000">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021002"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021004"></a> CAPO</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021006"></a>Layers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021008"></a> Overlap and fringe layers</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021010"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021012"></a> 7CAPP**C</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021014"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021016"></a> C= areaCoeff*AREA</p>
<p>
<a id="pgfId-1021023"></a>+ perimCoeff*(PERI-TPR) + CLL</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1015339"></a>The default extraction is equivalent to the following: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015340"></a>*DESCRIPTION <br />PARSET CAPO AREA PERI TPR CLL C <br />. <br />. <br />*END </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015341"></a>*OPERATION <br />. <br />. <br />PARASITIC CAP[O] M12  MET1  MET2<br />ATTRIBUTE CAP[O] 0.5  0.02  0.5  3.9<br />ATTRIBUTE CAP[O] 0.5  0.02  0.8  1.9<br />ATTRIBUTE CAP[O] 0.5  0.02  1.5  0.8<br />LEXTRACT CAPO M12 BY CAP[O] 7CAPPO8C &amp;<br />EQUATION C= 0.5*AREA+ 0.02*(PERI-TPR)+ CLL</pre>

<h4>
<a id="pgfId-1015343"></a><a id="marker-1015342"></a>PARASITIC CAP</h4>

<p>
<a id="pgfId-1015344"></a>Fringe capacitances:</p>
<table class="webflareTable" id="#id1021028">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021030"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021032"></a> CAPF</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021034"></a>Layers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021036"></a> Fringe layer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021038"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021040"></a> 7CAPP**C</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021042"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021044"></a> C=K*WIDT/DEPT</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1015349"></a>The default extraction is equivalent to the following: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015350"></a>*DESCRIPTION <br />PARSET CAPF DEPT WIDT C K<br />. <br />. <br />*END <br />*OPERATION <br />. <br />. <br />PARASITIC CAP[A] METAL METAL METAL<br />ATTRIBUTE CAP[A] 0.5 0.02<br />LEEXTRACT CAPF METAL BY CAP[A] 7CAPPA8C &amp;<br />EQUATION C=K*WIDT/DEPT</pre>

<h4>
<a id="pgfId-1015351"></a>FRINGE CAP</h4>

<p>
<a id="pgfId-1015352"></a>Fringe capacitances:</p>
<table class="webflareTable" id="#id1021052">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021054"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021056"></a> CAPF</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021058"></a>Layers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021060"></a> Fringe layer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021062"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021064"></a> 7CAPP**C</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021066"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021068"></a> C=K*WIDT/DEPT</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1015357"></a>The default extraction is equivalent to the following: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015358"></a>*DESCRIPTION <br />PARSET CAPF DEPT WIDT C K<br />. <br />. <br />*END <br />*OPERATION <br />. <br />. <br />FRINGE CAP[A] METAL METAL<br />ATTRIBUTE CAP[A] 0.5 0.02<br />LEEXTRACT CAPF METAL BY CAP[A] 7CAPPA8C &amp;<br />EQUATION C=K*WIDT/DEPT</pre>
<h4>
<a id="pgfId-1015360"></a><a id="marker-1015359"></a>ELEMENT RES</h4>
<table class="webflareTable" id="#id1021078">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021080"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021082"></a> RESD </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021084"></a>Layers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021086"></a> Device layer RESX**G </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021088"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021090"></a> 7RESX**R </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021092"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021094"></a> W=(W1+W2)/2 </p>
<p>
<a id="pgfId-1021101"></a>L=AREA/W </p>
<p>
<a id="pgfId-1021104"></a>R=attribute*L/W</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1015365"></a>The default extraction is equivalent to the following: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015366"></a>*DESCRIPTION <br />PARSET RESD AREA PERI ANG W1 W2 W L R <br />. <br />. <br />*END <br />*OPERATION <br />. <br />. <br />PARASITIC RES[A] RDEV RTRM <br />ATTRIBUTE RES[A] 0.5 <br />LEXTRACT RESD RDEV RTRM BY RES[A] (7RESPA8R) &amp; <br />EQUATION W=(W1+W2)/2 &amp; <br />EQUATION L=AREA/W &amp; <br />EQUATION R=0.5*L/W </pre>

<h4>
<a id="pgfId-1015369"></a><a id="marker-1015367"></a><a id="marker-1015368"></a>ELEMENT BJT</h4>
<table class="webflareTable" id="#id1021109">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021111"></a>LEXTRACT parameter set</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021113"></a> BJTD </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021115"></a>Layers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021117"></a> Device layer BJTX**G </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021119"></a>Output file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021121"></a> 7BJTX**B </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021123"></a>EQUATION</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021125"></a> EA=AREA  </p>
<p>
<a id="pgfId-1021132"></a>EP=PERI </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1015374"></a>The default extraction is equivalent to the following: </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015375"></a>*DESCRIPTION <br />PARSET BJTD AREA PERI EA EP <br />. <br />. <br />*END <br />*OPERATION <br />. <br />. <br />ELEMENT BJT[NP] EMIT COLL BASE EMIT <br />LEXTRACT BJTD EMIT BY BJT[NP] (7BJTXNPB) &amp; <br />EQUATION EA=AREA &amp; <br />EQUATION EP=PERI </pre>

<h4>
<a id="pgfId-1015376"></a>Example of Parameter Extraction</h4>

<p>
<a id="pgfId-1015377"></a>The following are two examples of the extraction of your user-defined parameters.</p>
<p>
<a id="pgfId-1015378"></a>To extract MOS widths and lengths and use a formula to adjust for bent gates, follow this procedure: </p>
<ol><li>
<a id="pgfId-1015379"></a>Create a rules file for a CMOS LPE run. </li><li>
<a id="pgfId-1015380"></a>Define parameter set (PA1) to be extracted by the PARSET command.<br />
<a id="pgfId-1017814"></a> <table class="webflareTable" id="#id1017757">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017759"></a>AREA</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017761"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017763"></a>Area of layer1 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017765"></a>OVPR</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017767"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017769"></a>Perimeter of layer1 overlapping layer2 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017771"></a>ANG</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017773"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017775"></a>Total internal angle of layer1 device </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017777"></a>W</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017779"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017781"></a>Channel width </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017783"></a>L</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017785"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017787"></a>Channel length </p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1015382"></a>Define the ELEMENT MOS for N-channel devices. </li><li>
<a id="pgfId-1015383"></a>Extract parameters in PA1 parameter set for MOS[N] with the LEXTRACT command. The EQUATION command computes W and L. The saved parameters are in the npar.dat file. </li><li>
<a id="pgfId-1015384"></a>To generate a SPICE file that contains the MOS-computed W and L values, use the LPESELECT command. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1015385">
<a id="pgfId-1015385"></a>*DESCRIPTION 
PARSET PA1 AREA OVPR ANG W L 
. 
. 
*END 
*OPERATION 
. 
. 
ELEMENT MOS[N] NGATE POLY NSDRN PWELL 
LEXTRACT PA1 NGATE NSDRN BY MOS[N] NPAR &amp; 
EQUATION W=OVPR/2-0.1*ANG/90 &amp; 
EQUATION L=2*AREA/OVPR-0.1*ANG/90 
. 
. 
LPESELECT MOS[N] OUTPUT SPICE 
*END </pre></li></ol>









<p>
<a id="pgfId-1015386"></a>To extract met2 to bulk capacitances with the condition of removing the edge blocked by met1 for fringe capacitances, follow this procedure: </p>
<ol><li>
<a id="pgfId-1015387"></a>Define parameter set (CCCC) to be extracted by the PARSET command.<br />
<a id="pgfId-1017813"></a> <table class="webflareTable" id="#id1017788">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017790"></a>AREA</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017792"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017794"></a>Area of layer1 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017796"></a>PERI</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017798"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017800"></a>Perimeter of layer1 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017802"></a>OVPR</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017804"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017806"></a>Perimeter of layer1 overlapping layer2 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017808"></a>C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017810"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017812"></a>Capacitance value </p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1015389"></a>Define PARASITIC CAP[m]. </li><li>
<a id="pgfId-1015390"></a>Extract parameters in CCCC parameter set for CAP[M] with the LEXTRACT command. </li><li>
<a id="pgfId-1015391"></a>To compute C and save parameters in the mcap.dat file, use the EQUATION command.</li><li>
<a id="pgfId-1015392"></a>To generate a SPICE file that contains the capacitor and its computed values, use the LPESELECT command. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1015393">
<a id="pgfId-1015393"></a>*DESCRIPTION 
PARSET CCCC AREA PERI OVPR C 
. 
. 
*END 
*OPERATION 
. 
. 
CONNECT MET2 MET1 BY CONTACT 
NOT MET2 MET1 NMET 
PARASITIC CAP[M] NMET NMET BULK 
LEXTRACT CCCC NMET MET1 BY CAP[M] MCAP &amp; 
EQUATION C=0.00005*AREA+1.0E-4*(PERI-OVPR) 
. 
. 
LPESELECT CAP[M] GT 0 OUTPUT SPICE 
*END </pre></li></ol>










<h4>
<a id="pgfId-1015975"></a>Equations for Fringe in extractParasitic</h4>

<p>
<a id="pgfId-1015978"></a>In the 4.7 and previous versions, for the same layer or different layer fringe (fringe command), <code>extractParasitic</code> can only take a piece-wise linear table such that default Dracula equation <code>C=K*WIDT/DEPT</code> is used. This 4.8 version provides a solution that allows you to let <code>extractParasitic</code> take an equation and have PDRACULA translate this equation to flexible LPE (<code>LEXTRACT</code>/<code>EQUATION</code>) commands.</p>

<h4>
<a id="pgfId-1015979"></a>Command Syntax</h4>
<h4><em>
<a id="pgfId-1015980"></a>For extractParasitic</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015981"></a>extractParasitic(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015982"></a>  (   .....................</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016336"></a>      fringe( <em>layer1 layer2 piecewiseList</em> <br />       {equation(&quot;<em>userEquation1</em>&quot;){equation(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016337"></a>    &quot;<em>userEquation2</em>&quot;) } } {parset(<em>pname</em>)} )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016338"></a>    .....................</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015986"></a>  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015987"></a>)</pre>
<h4><em>
<a id="pgfId-1015988"></a>For expanded rules of extractParasitic</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015989"></a>*OPERATION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015990"></a>; user specified equation</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015991"></a>   LEXTRACT <em>parsetName layer1</em> BY CAP[<em>subtype</em>] CAP<em>n1</em> <em>&amp;</em></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015992"></a>   EQUATION <em>user-specified equation 1 &amp;</em></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015993"></a>   EQUATION <em>user-specified equation 2</em></pre>
<h4>
<a id="pgfId-1015994"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015995"></a><em>userEquation</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021139"></a> The user specified equation for fringe capacitance calculation, such as &quot;<code>C=0.2*WIDT/DEPT+0.05*WIDT/(DEPT*DEPT)&quot;</code>. More than one equation can be specified and should be protected with double quotation marks. At least one pair of piecewise list is required to give the maximum fringe distance. Piecewise list with zero distance is also necessary to extract capacitance when DEPT=0. Equation command can be placed anywhere after piecewise list. Users need to keep the length of the equation less than 200 characters, including blank. Should the equation be longer, the user needs to break it into two equations. </p>

<p><strong>
<a id="pgfId-1021158"></a><em>pname</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021161"></a><em>&#160;&#160;&#160;&#160;</em>The default parset name used in LEXTRACT when the equation command is used in <code>extractParasitic()</code> is &quot;CAPF.&quot; If the equations contain parameters other than &quot;C,&quot; &quot;WIDT,&quot; and &quot;DEPT&quot; users also need to specify parset name in <code>extractParasitic()</code>. The parset command can be place anywhere after piecewise list. More over, if no default parset exist to include all parameter in the user equation, a parset command with user-defined parset name and parameters is required in the rule. </p>

<h4>
<a id="pgfId-1015999"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016000"></a>*DESCRIPTION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016001"></a>*END</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016002"></a>*OPERATION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016003"></a> ....................</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016004"></a>  extractParasitic(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016005"></a>  ( layers( poly metal )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016006"></a>     fringe( metal metal equation(&quot;CTMP=0.003*WIDT/DEPT&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016007"></a>     equation (&quot;C=(0.0020888/((DEPT+2.4)*(DEPT+2.4)*(DEPT+2.4)) + <br />           (-0.000514</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016008"></a> 92)/((DEPT+2.4)*(DEPT+2.4)) + 3.2717e-05/(DEPT+2.4)) *WIDT&quot;)<br />             parset(CAPF)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016009"></a>    (1.0 0.007) (1.5 0.003) )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016010"></a>     fringe( metal poly  (1.0 0.009) (1.5 0.005) equation<br />         (&quot;C=0.005*WIDT/DEPT&quot;) )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016011"></a>  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016012"></a>)</pre>
<h4>
<a id="pgfId-1018993"></a><a id="14815"></a>Supporting Inductors in Layout Designs <a id="marker-1019127"></a>Using the PARSET and ELEMENT IN? Commands</h4>

<p>
<a id="pgfId-1018994"></a>In version 4.8.1 and subsequent releases, you can use BOXes to simulate inductors and extract some important parameters for the inductors, such as the number of turns, diameter of inner circle, etc. and output them to the SPICE netlist file for supporting inductors in layout designs. You have to use the PARSET command (in the &quot;Description Block Commands&quot; section of your rule file) to specify what parameters will be extracted., followed by the ELEMENT IN? in the &quot;Operation Block Commands&quot; section in your rule file. </p>
<p>
<a id="pgfId-1018995"></a>The first step is to use PARSET command to specify what parameters will be extracted. There are four geometric primitives regarding inductors provided: <code>ID</code>, <code>IN</code>, <code>IW</code>, and <code>IS</code> and one reserved parameter, <code>LL</code>. See the <a href="chap11.html#28783">PARSET</a> command in the &quot;Description Block Commands&quot; chapter in this manual for more information on these primitives and reserved parameter.</p>
<p>
<a id="pgfId-1019013"></a>The next step is to use the ELEMENT IN? command. See the section <a href="chap13.html#37023">ELEMENT IN?</a> in the &#8220;Operation Block Commands&#8221; chapter of this manual for more information on that command.</p>
<p>
<a id="pgfId-1019330"></a>In addition, the command file needs to include the PAR-COMPARE command in the DESCRIPTION block, or parameters will not be recognized and compared. See PAR-COMPARE in the &#8220;Description Block Commands&#8221; chapter of this manual for more information.</p>
<p>
<a id="pgfId-1019331"></a>The netlist must specify the parameters; however, if the parameters are out of expected ranges, the parameters are just ignored. For example, if the netlist is in Microns (No SCALE METER statement present), then parameters of 1e-8 would mean 1.0e-8 microns and they would just be ignored, since the netlist is already in microns.</p>
<p>
<a id="pgfId-1019014"></a>Two kinds of shapes of inductors are supported: squares and circles as shown in the following two figures.</p>

<h4>
<a id="pgfId-1018990"></a>Square Inductors</h4>
<div class="webflare-div-image">
<img width="668" height="455" src="images/chap7-20.gif" /></div>

<p>
<a id="pgfId-1019079"></a>There are some constraints of the starting and ending points of the shapes. </p>
<ul><li>
<a id="pgfId-1019339"></a>They should be either on the X or Y axis. In other words, the count of circles should be integral times of 1/4. </li><li>
<a id="pgfId-1019340"></a>Depending on the orientation of the circles, both ends of the shapes should be a little bit ahead of the axises to get a more accurate result of the extraction.</li><li>
<a id="pgfId-1019341"></a>The outside end of the loop of a square inductor should not extend past the outside edge of the inductor body. </li></ul>



<h4>
<a id="pgfId-1019246"></a>Circular Inductors</h4>
<div class="webflare-div-image">
<img width="668" height="627" src="images/chap7-21.gif" /></div>
<h4>
<a id="pgfId-1019278"></a>Supporting More Geometric Parameter Extraction for Box Elements Using the PARSET and LEXTRACT Commands</h4>

<p>
<a id="pgfId-1019279"></a>By default, the Dracula product extracts the <code>AREA</code> and <code>PERI</code> parameters for box elements. In this version and subsequent versions, you can extract more geometric parameters for a box element. The allowable parameters are <code>ANG</code>, <code>AREA</code>, <code>PERI</code>, <code>OVPR</code>, <code>OVAR</code>, <code>ID</code>, <code>IN</code>, <code>IW</code>, and <code>IS</code>. To extract parameters other than <code>AREA</code> and <code>PERI</code>, you have to use the PARSET command to specify what parameters will be extracted, followed by the ELEMENT BOX command. You define the PARSET command in the &#8220;Operation Block Commands&#8221; section and you define the ELEMENT BOX command in the &#8220;Description Block Commands&#8221; section of your rules file. Then, you have to use the Dracula flexible LPE commands LEXTRACT and EQUATION to explicitly specify the parameters extracted for a box element.</p>

<h2>
<a id="pgfId-1019272"></a> <a id="38707"></a>Selective LPE </h2>

<p>
<a id="pgfId-1019250"></a>Selective LPE extracts layout parasitics and devices associated with a path. The LPE-QUERY command runs selective LPE. LPE-QUERY is designed to run in both batch and incremental run modes.</p>
<p>
<a id="pgfId-1015398"></a>In addition to parameter extraction, LPE-QUERY can also output the geometries associated with a node. Dracula performs LPE layout extraction with a node-based scheme. One advantage of this node-based extraction scheme is its efficiency in handling multiple path extraction with overlapped nodes. You need to specify and extract overlapped nodes only once.</p>
<p>
<a id="pgfId-1015399"></a>A path is defined as a series of nodes or nets. You must define the node set that corresponds to the path you want to analyze. You can specify the nodes using schematic or layout node names or numbers. If you specify schematic node names or numbers, Dracula maps the schematic node names to corresponding layout node numbers to perform extraction. In this case, you must run LVS to establish a cross-reference before you use LPE-QUERY.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015400"></a>Dracula does not check whether a given node set is from a continuous path. You must make sure that the logical path maps correctly to the physical node set.</div>
<p>
<a id="pgfId-1015402"></a><a id="marker-1015401"></a>Use the following commands to run selective LPE:</p>
<ul><li>
<a id="pgfId-1015403"></a>LPE-QUERY = ON/CORE/EXPAND<br />
<a id="pgfId-1015404"></a>Include this command in the Description block to turn on selective LPE.</li><li>
<a id="pgfId-1015405"></a>SELECT-MODE<br />
<a id="pgfId-1015406"></a>Include this command in the Description block to indicate whether the node name or number is based on the schematic or layout.</li><li>
<a id="pgfId-1015407"></a>NODE-SELECT or NODE-FILTER<br />
<a id="pgfId-1015408"></a>Include one of these commands in the Operation block.<br />
<a id="pgfId-1019186"></a> <table class="webflareTable" id="#id1019177">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019179"></a>NODE-SELECT</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019181"></a>specifies a node set.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019183"></a>NODE-FILE</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019185"></a>specifies a file that lists a node set.</p>
</td>
</tr>
</tbody></table></li></ul>









<p>
<a id="pgfId-1019190"></a>For details about these commands, refer to <h-hot><a href="chap11.html#71072">Chapter 11, &#8220;Description Block Commands.&#8221;</a></h-hot></p>

<h3>
<a id="pgfId-1019191"></a>Selective LPE Batch Example</h3>

<p>
<a id="pgfId-1015414"></a>The example in this section shows the rules file for a selective LPE run in batch mode.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015415"></a>*DESCRIPTION<br />.<br />LPE-QUERY = ON<br />SELECT-MODE = SCH<br />.<br />*END<br />.<br />*OPERATION<br />.<br />;define element devices<br />.<br />;define parasitic devices<br />.<br />LPECHK<br />.<br />;extract first node set<br />.<br />NODE-SELECT = NET1 NET2 NET3<br />;OR<br />;NODE-FILE = CLOCK<br />LPESELECT CAP[C] &amp;<br />LPESELECT CAP[B] OUTPUT SPICE1<br />.<br />;extract second node set<br />.<br />NODE-SELECT = NET4 NET5 NET6 OUTPUT CRITICAL 63<br />LPESELECT CAP[A] &amp;<br />LPESELECT CAP[D] OUTPUT SPICE2<br />*END</pre>

<h3>
<a id="pgfId-1015416"></a>Selective LPE Incremental Example</h3>

<p>
<a id="pgfId-1015417"></a>The example in this section shows the rules file for an incremental selective LPE run. If you need to analyze additional paths after finishing the current paths, incremental mode can reduce CPU time.</p>
<p>
<a id="pgfId-1015418"></a>In incremental mode, the *BREAK command interrupts the run so you can modify the rules file to list a new node set, recompile the rules file, and rerun Dracula starting at the command after the *BREAK. Dracula does not repeat steps it has already performed, as shown in the following illustration. </p>

<p>
<a id="pgfId-1017187"></a></p>
<div class="webflare-div-image">
<img width="676" height="148" src="images/chap7-22.gif" /></div>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015451"></a>*DESCRIPTION<br />.<br />LPE-QUERY = ON<br />SELECT-MODE = SCH<br />.<br />*END<br />.<br />*OPERATION<br />.<br />;define element devices<br />.<br />;define parasitic devices<br />.<br />LPECHK<br />.<br />;extract first node set<br />.<br />*BREAK INCRE            ;modify and recompile rules file<br />NODE-FILE = CLOCK       ;to extract next node set<br />LPESELECT CAP[C] &amp;<br />LPESELECT CAP[B] OUTPUT SPICE1<br />.<br />;modify rules file to extract second node set<br />.<br />NODE-SELECT = NET4 NET5 NET6<br />LPESELECT CAP[A] &amp;<br />LEPSELECT CAP[D] OUTPUT SPICE2<br />*END</pre>

<h2>
<a id="pgfId-1015454"></a><a id="12204"></a>LPE Examples<a id="marker-1019385"></a></h2>

<p>
<a id="pgfId-1015455"></a>This section contains a rules file used to extract electrical parameters from an IC layout. LPE extracts the parasitic capacitance of a node, the area and perimeter of a diode, and the gate size of a MOS transistor. LPE creates a netlist that you can use to check the consistency of layout to circuit simulation, circuit and logic-level simulation, and timing verification. The sample problem uses many features of LPE but does not represent all possible combinations. Following this example are sample CMOS and NMOS rules files to use with LPE.</p>

<h3>
<a id="pgfId-1015456"></a>Features of the Example</h3>

<p>
<a id="pgfId-1015459"></a>The example is a circuit processed in <a id="marker-1015457"></a>silicon-gate <a id="marker-1015458"></a>CMOS technology. The key features of the problem are as follows: </p>
<ul><li>
<a id="pgfId-1015461"></a>Ptwell and ntnsub <a id="marker-1015460"></a>pseudo contact layers are created by logicals to make connections between P-well and the P+ diffusion layer and between substrate and the N+ diffusion layer. (If there is no possible connection to the substrate or well, you can use a LINK command to force the substrate or well to connect to a text layout label, such as VCC or GND.) </li><li>
<a id="pgfId-1015463"></a>The example specifies two kinds of <a id="marker-1015462"></a>transistors.<br />
<a id="pgfId-1017839"></a><table class="webflareTable" id="#id1017826">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017828"></a>MOS[N]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017830"></a>N-channel in the P-well </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017832"></a>MOS[P]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017834"></a>P-channel in the nsub substrate </p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1015466"></a>The example specifies two kinds of parasitic <a id="marker-1015465"></a>diodes.<br />
<a id="pgfId-1017852"></a><table class="webflareTable" id="#id1017840">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017842"></a>DIO[N]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017844"></a>N+ diffusion in the P-well with well-ties discarded </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017846"></a>DIO[P]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017848"></a>P+ diffusion in nsub substrate with substrate-ties discarded</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1015469"></a>The example specifies seven kinds of parasitic <a id="marker-1015468"></a>capacitances.<br />
<a id="pgfId-1017882"></a><table class="webflareTable" id="#id1017853">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017855"></a>CAP[A]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017857"></a>Capacitance from metal to poly </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017859"></a>CAP[B]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017861"></a>Capacitance from metal to N+ diffusion </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017863"></a>CAP[C]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017865"></a>Capacitance from metal to P+ diffusion </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017867"></a>CAP[D]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017869"></a>Capacitance from metal to P-well </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017871"></a>CAP[E]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017873"></a>Capacitance from metal to substrate</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017875"></a>CAP[F]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017877"></a>Capacitance from poly to P-well </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017879"></a>CAP[G]:</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017881"></a>Capacitance from poly to substrate </p>
</td>
</tr>
</tbody></table></li></ul>















<p>
<a id="pgfId-1015471"></a>The LPECHK command starts LVS consistency checking and backannotates the extracted SPICE list with the schematic names.</p>
<p>
<a id="pgfId-1015473"></a>The LPESELECT command assigns values in the extracted <a id="marker-1015472"></a>SPICE list during the LPE run. You can also generate this SPICE list with LPEPRO.</p>

<h3>
<a id="pgfId-1015474"></a>Rules File in a MOS Example</h3>

<p>
<a id="pgfId-1015475"></a>This section describes the construction of an LPE rules file for a silicon-gate CMOS process technology. An LPE rules file is an extension of an ERC or LVS rules file. The file contains three blocks: the Description block, the Input-Layer block, and the Operation block. Samples of these blocks follow, with explanations of their major commands. </p>

<h4>
<a id="pgfId-1015476"></a>The Description Block</h4>

<p>
<a id="pgfId-1015478"></a>Description block commands are similar to DRC, ERC, and LVS commands. The major commands required for LPE include the following: </p>

<p><strong>
<a id="pgfId-1015480"></a><a id="marker-1015479"></a>DIODESEQ</strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021168"></a> Specifies the parasitic diode parameters A1 and P1 (area and perimeter). The default is A1 and P1. </p>

<p><strong>
<a id="pgfId-1021173"></a><a id="marker-1015481"></a>MODEL</strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021176"></a> Specifies the MOS and diode SPICE model (type) in the SPICE listing. If you do not specify MODEL, all MOS and diode statements become comments in the SPICE listing.</p>

<p><strong>
<a id="pgfId-1021181"></a><a id="marker-1015483"></a>UNIT</strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021184"></a> Specifies the parasitic capacitor unit such as pf, picofarad. The default reports the natural unit on the layout.</p>

<p><strong>
<a id="pgfId-1021189"></a><a id="marker-1015485"></a>SCHEMATIC</strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021192"></a> Use in conjunction with the LPECHK command. Specify only if an LVS verification check command provides a schematic netlist. The default SPICE listing is based on text layout labels. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1017906"></a>; ******************************************************<br />; SILICON GATE CMOS LPE RUN <br />; INPUT RULES FILE<br />; ******************************************************<br />*DESCRIPTION <br />OUTDISK = LPEOUT          ; Graphic error cell file name <br />PRIMARY = ECAD            ; Top cell name <br />MODE = EXEC NOW           ; Mode execution card <br />SYSTEM = GDS2             ; Graphic CAD database format <br />PROGRAM-DIR = QA:         ; Program directory of Cadence modules <br />SCALE = .001 MICRON       ; Graphic database scale <br />RESOLUTION = .25 MICRON   ; Database digitized grid unit <br />PRINTFILE = LPEPRT        ; Print file name of DRACULA run <br />; <br />DIODESEQ = A1 P1          ; Spice diode parameter sequence card<br />MODEL = MOS[N],N MOS[P],P DIO[N],N DIO[P],P  ; Spice transistor &amp;<br />                          ; diode model specifications <br />UNIT = CAPACITANCE,PF     ; Spice capacitance unit<br />                          ; specification <br />; <br />SCHEMATIC = LVSLOGIC      ; Schematic netlist from LOGLVS<br />                          ; compiler <br />*END </pre>

<h4>
<a id="pgfId-1015488"></a>Input-Layer Block</h4>

<p>
<a id="pgfId-1015490"></a>The majo<a id="marker-1015489"></a>r commands for the Input-Layer block include the following: </p>

<p><strong>
<a id="pgfId-1015493"></a><a id="marker-1015491"></a>SUBSTRATE</strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021199"></a> Generates a new <a id="marker-1015492"></a>bulk layer, which generates the nsub layer. The substrate and well make up a terminal of most parasitic capacitors and diodes defined in Dracula. You can use the layer generated by SUBSTRATE to create &#8220;reverse field masks&#8221; by using logical operations.</p>
<p class="webflare-indent1">
<a id="pgfId-1015494"></a> If you do not draw and include a substrate layer in the layout database, as in the example, you must specify the Input-Layer block SUBSTRATE command to create reverse field masks. Dracula assigns the dimension of this substrate layer, but you can assign it yourself if you specify the WINDOW or the WINDOW-CUT=EDGE command. For more information, refer to <a href="chap12.html#58967">Chapter 12, &#8220;Input-Layer Block Commands.&#8221;</a></p>

<p><strong>
<a id="pgfId-1015500"></a><a id="marker-1015498"></a>CONNECT-LAYER</strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021208"></a>Specifies the <a id="marker-1015499"></a>conductor layers that carry node information, as in ERC or LVS. If you used the CONNECT command in the Operation Block, CONNECT-LAYER is required.</p>
<p class="webflare-indent1">
<a id="pgfId-1015501"></a> The CONNECT-LAYER command also assigns the text-attaching sequence, which you can redefine with the TEXTSEQUENCE command. For layout texting requirements, refer to the layout texting procedure for running ERC or LVS. For additional information, refer to <a href="chap12.html#58967">Chapter 12, &#8220;Input-Layer Block Commands.&#8221;</a></p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015505"></a>*INPUT-LAYER <br />; <br />DIFF = 2            ; Thin oxide regions <br />PWELL = 1           ; P-well regions <br />POLY = 3            ; Poly silicon <br />CONT = 5            ; Metal contacts <br />METAL = 6           ; Metal <br />VAPOX = 7 TEXT 30   ; Pad opening &amp; text layer 30 <br />PPLUS = 8           ; Layer created for the substrate <br />SUBSTRATE = BULK 63 <br />; <br />CONNECT-LAY = NSUB PWELL PSD NSD POLY METAL <br />; *** The conductor layers of the CMOS process *** <br />*END </pre>

<h4>
<a id="pgfId-1015506"></a>Operation Block</h4>

<p>
<a id="pgfId-1015508"></a>The major com<a id="marker-1015507"></a>mands in the Operation block example are the same as those for running an LVS job with SUBSTRATE type checking. The layers in the CONNECT operations must appear in the CONNECT-LAYER command in the Input-Layer block. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015509"></a>;***********************************************************<br />; OPERATION BLOCK <br />; <br />; CREATE THE DEVICE LAYERS AND CONDUCTOR LAYERS </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015510"></a>; ********************************************************** </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015511"></a>*OPERATION <br />AND DIFF PPLUS PREGION     ; All active P+ regions <br />NOT DIFF PREGION NREGION   ; All active N+ regions <br />AND POLY NREGION NGATE     ; N-Channel devices <br />NOT NREGION NGATE NSD      ; N+ source/drain &amp; substrate ties <br />AND POLY PREGION PGATE     ; P-Channel devices <br />NOT PREGION PGATE PSD      ; P+ source/drain &amp; p-well ties <br />AND VAPOX METAL BPAD       ; Bonding pad device <br />NOT BULK PWELL NSUB        ; Created N-substrate layer <br />AND PSD PWELL PTWELL       ; Pseudo P+ tie for P-well <br />NOT NSD PWELL NTNSUB       ; Pseudo N+ tie for N-substrate <br />; <br />;*********************************************************** </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015512"></a>; CONNECT OPERATION FOR CMOS PROCESS </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015513"></a>;*********************************************************** <br />; <br />CONNECT METAL POLY BY CONT <br />CONNECT METAL NSD BY CONT <br />CONNECT METAL PSD BY CONT <br />CONNECT PSD PWELL BY PTWELL <br />CONNECT NSD NSUB BY NTNSUB </pre>
<p>
<a id="pgfId-1015514"></a>The following figure shows the layout of a MOS device in its original form (N-type and P-type). </p>

<p>
<a id="pgfId-1017226"></a></p>
<div class="webflare-div-image">
<img width="561" height="262" src="images/chap7-23.gif" /></div>

<p>
<a id="pgfId-1015564"></a>The following figure shows the extracted layout after the program performs the logical operations to substrate. (1) is a pseudo P+ tie created by the program; (2) is a pseudo N+ tie created by the program.</p>

<p>
<a id="pgfId-1017282"></a></p>
<div class="webflare-div-image">
<img width="565" height="292" src="images/chap7-24.gif" /></div>

<p>
<a id="pgfId-1015641"></a>Connection of the pwell is made from node information from psd to pwell through ptwell, the generated contact layer. Connection of nsub is made from node information from nsd to nsub through ntnsub, the contact layer. Also, the nsub layer (substrate for the P-channel devices) is generated from the bulk layer specified by the SUBSTRATE command. This is also known as a &#8220;<a id="marker-1015642"></a>reverse mask operation.&#8221;</p>
<p>
<a id="pgfId-1015643"></a>The major commands include the following: </p>

<p><strong>
<a id="pgfId-1015645"></a><code>AND</code> and <code>NOT</code><a id="marker-1015644"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021221"></a> Carry node information to the output generated layers because their field 1 layers carry node information. These generated layers are used for the device layers of the PARASITIC CAPACITOR and PARASITIC DIODE commands. </p>
<p class="webflare-indent1">
<a id="pgfId-1015646"></a> The PARASITIC DIO device layer includes only real diodes, not substrate or well ties. The device layer must not include any N+ or P+ ties or guard rings (in the previous figure, &#8220;1&#8221; and &#8220;2&#8221; denote a pwell tie and nsub tie, respectively). The logical operation that generated the ndio and pdio are N+ diode to the pwell and P+ diode to the nsub, respectively. </p>

<p><strong>
<a id="pgfId-1015648"></a><code>PARASITIC</code> CAP <a id="marker-1021244"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021256"></a>Specify the parasitic diodes and capacitors.</p>

<p><strong>
<a id="pgfId-1021269"></a><code>PARASITIC</code> DIO <a id="marker-1021246"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021272"></a>SPICE listing. For PARASITIC DIO, the PARASITIC CAP device layer must carry node information.</p>

<p><strong>
<a id="pgfId-1021277"></a><code>ATTRIBUTE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021280"></a> Assigns the capacitance value for each type of parasitic capacitor. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015652"></a>; OPERATION Block (Continued)<br />;<br />; ************************************************************</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015653"></a>; LOGICAL OPERATION DEFINING THE PARASITIC CAPACITORS AND DIODES<br />; **************************************************************<br />; <br />AND METAL POLY MPOLY   ; Metal to poly capacitors <br />NOT METAL POLY METNP   ; Remove poly underneath metal <br />AND METNP NSD MNSD     ; Metal to N+ source/drain capacitors <br />AND METNP PSD MPSD     ; Metal to P+ source/drain capacitors <br />NOT METNP NSD M1 <br />NOT M1 PSD M2          ; Further remove source/drain under metal<br />AND M2 PWELL MWELL     ; Metal to P-well capacitors <br />AND M2 NSUB MSUB       ; Metal to N-substrate capacitors <br />NOT POLY NGATE P1 <br />NOT P1 PGATE P2        ; Remove channel region from poly <br />AND P2 PWELL POWELL    ; Poly to P-well capacitors <br />AND P2 NSUB POSUB      ; Poly to N-substrate capacitors <br />AND NSD PWELL NDIO     ; N+ diode to P-well minus the N+ ties <br />NOT PSD PWELL PDIO     ; P+ diode to N-substrate minus the P+ ties<br />;<br />; ************************************************************ </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015654"></a>; DEFINING TRANSISTOR ELEMENTS AND PARASITIC ELEMENTS</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015655"></a>; ************************************************************ </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015656"></a>ELEMENT MOS[N] NGATE POLY NSD PWELL ;N-channel <br />ELEMENT MOS[P] PGATE POLY PSD NSUB  ;P-channel <br />ELEMENT PAD BPAD METAL              ;Pad element <br />PARASITIC DIO[N] NDIO PWELL NDIO    ;N+ diode to P-well <br />PARASITIC DIO[P] PDIO PDIO NSUB     ;P+ diode to N-substrate <br />PARASITIC CAP[A] MPOLY METAL POLY   ;Metal to poly capacitor &amp; <br />ATTRIBUTE CAP[A] 0.00005            ;attribute (pf/sq micron) <br />PARASITIC CAP[B] MNSD METAL NSD     ;Metal to N+ capacitor &amp; <br />ATTRIBUTE CAP[B] 0.00005            ;attribute (pf/sq micron) <br />PARASITIC CAP[C] MPSD METAL PSD     ;Metal to P+ capacitor &amp; <br />ATTRIBUTE CAP[C] 0.00005            ;attribute (pf/sq micron) <br />PARASITIC CAP[D] MWELL METAL PWELL   ;Metal to P-well capacitor &amp;<br />ATTRIBUTE CAP[D] 0.00005            ;attribute (pf/sq micron) <br />PARASITIC CAP[E] MSUB METAL NSUB    ;Metal to N-substrate<br />                                    ;capacitor &amp; <br />ATTRIBUTE CAP[E] 0.00005            ;attribute (pf/sq micron) <br />PARASITIC CAP[F] POWELL POLY PWELL  ;Poly to P-well capacitor &amp;<br />ATTRIBUTE CAP[F] 0.00005            ;attribute (pf/sq micron) <br />PARASITIC CAP[G] POSUB POLY NSUB    ;Poly to N-substrate<br />                                    ;capacitor &amp; <br />ATTRIBUTE CAP[G] 0.00005            ;attribute (pf/sq micron) <br /></pre>
<p>
<a id="pgfId-1015657"></a>The major commands include the following: </p>

<p><strong>
<a id="pgfId-1015660"></a><code>LPECHK</code><a id="marker-1015658"></a>  </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021293"></a>Starts LVS. Use LPECHK to <a id="marker-1015659"></a>backannotate an extracted SPICE listing with schematic names. If no schematic netlist exists, do not specify LPECHK; the extracted CDL listing is based on layout text and system-assigned internal node numbers. </p>

<p><strong>
<a id="pgfId-1021301"></a><code>LPESELECT</code> <a id="marker-1015661"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1021304"></a>Specifies the nospi SPICE list file. The example using the ampersand (&amp;) shows separation of the device in the CDL listing. The [S] option backannotates the CDL listing with schematic names. This option has no meaning without the LPECHK command. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1018047"></a>;OPERATION Block (Continued) <br />; <br />LPECHK                      ;Layout versus schematic <br />; <br />LPESELECT[S] MOS[P] &amp;       ;SPICE output file for transistors <br />LPESELECT[S] MOS[N] &amp; <br />LPESELECT[S] DIO[P] &amp; <br />LPESELECT[S] DIO[N] &amp; <br />LPESELECT[S] CAP[A] GT 0.0 &amp; <br />LPESELECT[S] CAP[B] GT 0.0 &amp; <br />LPESELECT[S] CAP[C] GT 0.0 &amp; <br />LPESELECT[S] CAP[D] GT 0.0 &amp; <br />LPESELECT[S] CAP[E] GT 0.0 &amp; <br />LPESELECT[S] CAP[F] GT 0.0 &amp; <br />LPESELECT[S] CAP[G] GT 0.0 OUTPUT NOSPI <br />; <br />*END</pre>
<h3>
<a id="pgfId-1015665"></a>NMO<a id="nmos_lpe_comfile"></a>S LPE Input File </h3>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015666"></a></pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015667"></a>;********************************************************** </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018083"></a>;                 SILICON GATE NMOS LPE RUN <br />;                     INPUT RULES FILE <br />;**********************************************************<br />*DESCRIPTION <br />INDISK = inchip          ; Graphic database file <br />OUTDISK = lpeout         ; Graphic error database file <br />PRIMARY = top            ; Top cell name <br />MODE = exec now          ; Mode execution <br />SYSTEM = gds2            ; Graphic CAD database format <br />PROGRAM-DIR = usr1/dracula/bin/ <br />                         ; Program directory of Dracula modules<br />SCALE = .001 micron      ; Graphic database scale factor <br />RESOLUTION = .5 micron   ; Graphic digitized grid increments <br />PRINTFILE = lpeprt       ; Print file name LPE run <br />; <br />DIODESEQ = a1 p1         ; Spice diode parameter sequence <br />MODEL= MOS[E],enh MOS[D],dep DIO[N],ndio   ; Spice transistor &amp;<br />                         ; diode model specifications <br />UNIT= CAPACITANCE,pf     ; Spice capacitor unit specifier <br />SCHEMATIC = LVSLOGIC     ; Schematic netlist from LOGLVS <br />; <br />*END <br />;********************************************************** <br />;                   INPUT-LAYER BLOCK <br />;********************************************************** <br />*INPUT-LAYER <br />diff = 1           ; Thin oxide region <br />depl = 2           ; Depletion VT adjust implant <br />bcc = 3            ; Buried contact for poly to diffusion <br />poly =4            ; Polysilicon <br />mcc = 5            ; Metal contacts <br />metal =6 TEXT 30   ; Metal &amp; Text layer 30 <br />pad = 7            ; Pad opening <br />; <br />CONNECT-LAYER= srcdrn poly metal <br />;*** The conductor layers of the NMOS process *** <br />; <br />SUBSTRATE psub 63  ; Create p - substrate layer <br />*END </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018106"></a>;**********************************************************<br />;                      OPERATION BLOCK <br />;        CREATE THE DEVICE LAYERS AND CONDUCTOR LAYERS <br />;**********************************************************<br />*OPERATION <br />AND diff poly gbc <br />NOT gbc bcc gate        ; All transistors <br />NOT diff gate srcdrn    ; N + source/drain layer <br />AND gate depl dgate     ; Depletion devices <br />NOT gate dgate egate    ; Enhancement devices <br />AND pad metal padwin    ; Bonding pad <br />;********************************************************** <br />         CONNECT OPERATION FOR NMOS PROCESS <br />;********************************************************** <br />CONNECT metal poly BY mcc <br />CONNECT metal srcdrn BY mcc <br />CONNECT srcdrn poly BY bcc <br />LINK psub TO vss        ; Link the p - substrate to VSS <br />;********************************************************** <br />       LOGICAL OPERATION TO DEFINE THE PARASITIC <br />;                   CAPACITORS AND DIODE<br />;********************************************************** <br />AND metal poly mpoly    ; Metal to poly capacitor <br />NOT metal poly metnp    ; Remove poly from metal <br />AND metnp srcdrn msd    ; Metal to source/drain capacitors <br />NOT metnp srcdrn metsub ; Remove source/drain from metal <br />; <br />NOT poly gate polysub   ; Poly to substrate capacitors <br />;**********************************************************<br />;                DEFINING TRANSISTOR ELEMENTS <br />;           AND PARASITIC ELEMENT OF NMOS PROCESS <br />;********************************************************** </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018137"></a>ELEMENT MOS[D] dgate poly srcdrn psub ; Depletion device <br />ELEMENT MOS[E] egate poly srcdrn psub ; Enhancement device <br />; <br />ELEMENT PAD padwin metal  ; Pad element <br />; <br />PARASITIC DIO[N] srcdrn psub srcdrn ; N + diode to p-substrate<br />PARASITIC CAP[A] mpoly metal poly   ; Metal to poly capacitor &amp;<br />ATTRIBUTE CAP[A] 0.0005             ; attribute( pF/micron ) <br />PARASITIC CAP[B] msd metal srcdrn   ; Metal to source/drain <br />ATTRIBUTE CAP[B] 0.0005             ; capacitor &amp; attribute <br />;                                   ; ( pF/sq micron ) <br />PARASITIC CAP[C] metsub metal psub  ; Metal to p-substrate <br />ATTRIBUTE CAP[C] 0.0002             ; capacitor &amp; attribute <br />;                                   ; ( pF/sq micron ) <br />PARASITIC CAP[D] polysub poly psub  ; Poly to p-substrate <br />ATTRIBUTE CAP[D] 0.0005             ; capacitor &amp; attribute <br />;                                   ; ( pF/sq micron ) <br />LPECHK             ; Layout versus schematic check <br />LPESELECT[S] MOS &amp; ; SPICE-like netlist of <br />;                  ; transistors, diodes, and<br />LPESELECT[S] DIO &amp; ; capacitors in file name,<br />LPESELECT[S] CAP GT 0.0 OUTPUT simon ; SIMON.DAT<br />*END</pre>

<h3>
<a id="pgfId-1015672"></a>CMO<a id="cmos_lpe_comfile"></a>S LPE Input File</h3>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015673"></a>;*********************************************************</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015674"></a>;             SILICON GATE CMOS LPE RUN <br />;                 INPUT RULES FILE <br />;*********************************************************<br />*DESCRIPTION <br />INDISK = inchip          ; Graphic database file name <br />OUTDISK = lpeout         ; Graphic error cell file name <br />PRIMARY = top            ; Top cell name <br />MODE = exec now          ; Mode execution <br />SYSTEM = gds2            ; Graphic CAD database format <br />PROGRAM-DIR = usr1/dracula/bin/ <br />                         ; Program directory of Dracula modules<br />SCALE = .001 micron      ; Graphic database scale <br />RESOLUTION = .5 micron   ; Database digitized grid unit <br />PRINTFILE = lpeprt       ; Print file name of DRACULA run <br />; <br />DIODESEQ = a1 p1         ; diode parameter sequence <br />MODEL = MOS[N],n MOS[P],p DIO[N],n DIO[P],p <br />;                        ; transistor &amp; diode model <br />;                        ; specifications <br />UNIT = capacitance,pf    ; capacitance unit specification <br />SCHEMATIC = LVSLOGIC     ; Schematic netlist from LOGLVS compiler <br />*END</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015675"></a>;********************************************************* <br />;   INPUT-LAYER BLOCK <br />;********************************************************* <br />*INPUT-LAYERS <br />diff = 1            ; Thin oxide regions <br />pwell = 2           ; P-well regions <br />poly = 3            ; Polysilicon <br />nplus = 4           ; N + implant <br />pplus = 5           ; P + implant <br />cont = 6            ; Metal contacts <br />metal = 7           ; Metal <br />vapox = 8 TEXT=28   ; Pad opening &amp; Text layer 28 <br />SUBSTRATE = bulk 63 ; Layer created for reverse mask <br />CONNECT-LAYER = nsub pwell psd nsd poly metal <br />;*** The conductor layers of the CMOS Process. *** <br />*END <br />;*************************************************************** <br />;                    OPERATION BLOCK <br />;       CREATE THE DEVICE LAYERS AND CONDUCTOR LAYERS <br />;***************************************************************</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018164"></a>*OPERATION <br />AND diff nplus nregion           ; All active N + regions <br />AND poly nregion ngate           ; N-Channel devices <br />NOT nregion ngate nsd            ; N+ source/drain &amp; taps <br />; <br />AND diff pplus pregion           ; All active p + regions <br />AND poly pregion pgate           ; P-Channel devices <br />NOT pregion pgate psd            ; P+ source/drain &amp; taps <br />; <br />AND vapox metal bpad             ; Bonding pad device <br />; <br />NOT bulk pwell nsub              ; Created N-Substrate layer <br />; <br />AND psd pwell ptwell             ; Pseudo P+ tap for P-well <br />; <br />SELECT nsd OUTSIDE pwell ntnsub  ; Pseudo N+ tap for N-Substrate<br />; <br />;********************************************************* <br />;               CONNECT OPERATION FOR CMOS PROCESS <br />;********************************************************* <br />CONNECT metal poly BY cont <br />CONNECT metal nsd BY cont <br />CONNECT metal psd BY cont <br />CONNECT psd pwell BY ptwell <br />CONNECT nsd nsub BY ntnsub</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015677"></a>;********************************************************* <br />;          LOGICAL OPERATION DEFINING THE <br />;          PARASITIC CAPACITORS AND DIODES <br />;********************************************************* </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018236"></a>AND metal poly mpoly   ; Metal to poly capacitors <br />NOT metal poly metnp   ; Remove poly underneath metal<br />AND metnp nsd mnsd     ; Metal to N+source/drain capacitors<br />AND metnp psd mpsd     ; Metal to P+source/drain capacitors <br />NOT metnp nsd m1 <br />NOT m1 psd m2          ; Further remove source/drain under metal<br />AND m2 pwell mwell     ; Metal to p-well capacitors <br />AND m2 nsub msub       ; Metal to n-substrate capacitors<br />NOT poly ngate p1 <br />NOT p1 pgate p2        ; Remove channel region from poly<br />AND p2 pwell powell    ; Poly to p-well capacitors <br />AND p2 nsub posub      ; Poly to n-substrate capacitors<br />AND nsd pwell ndio     ; N+diode to p-well minus taps <br />NOT psd pwell pdio     ; P+diode to n-substrate minus taps<br /></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018237"></a>;*********************************************************<br />;         DEFINING TRANSISTOR ELEMENTS AND <br />;                 PARASITIC ELEMENTS <br />;********************************************************* </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1018267"></a>ELEMENT MOS[N] ngate poly nsd pwell  ; N-Channel device <br />ELEMENT MOS[P] pgate poly psd nsub   ; P-Channel device <br />ELEMENT PAD bpad metal               ; Pad element <br />; <br />; <br />PARASITIC DIO[N] ndio pwell ndio     ; N+diode to p-well <br />PARASITIC DIO[P] pdio pdio nsub      ; P+diode to n-substrate <br />;<br />PARASITIC CAP[A] mpoly metal poly    ; Metal to poly capacitor &amp;<br />ATTRIBUTE CAP[A] 0.00005             ; attribute( pF/micron ) <br />PARASITIC CAP[B] mnsd metal nsd      ; Metal to n+capacitor &amp; <br />ATTRIBUTE CAP[B] 0.00005             ; attribute( pF/sq micron ) <br />PARASITIC CAP[C] mpsd metal psd      ; Metal to p+capacitor &amp; <br />ATTRIBUTE CAP[C] 0.00005             ; attribute( pF/sq micron ) <br />PARASITIC CAP[D] mwell metal pwell   ; Metal to p-well capacitor &amp;<br />ATTRIBUTE CAP[D] 0.00005             ; attribute( pF/sq micron ) <br />PARASITIC CAP[E] msub metal nsub     ; Metal to n-substrate <br />ATTRIBUTE CAP[E] 0.00005             ; capacitor &amp; attribute <br />;                                    ; ( pF/sq micron ) <br />PARASITIC CAP[F] powell poly pwell   ; Poly to p-well capacitor &amp;<br />ATTRIBUTE CAP[F] 0.00005             ; attribute( pF/sq micron ) <br />PARASITIC CAP[G] posub poly nsub     ; Poly to n-substrate <br />ATTRIBUTE CAP[G] 0.00005             ; capacitor &amp; attribute <br />;                                    ; ( pF/sq micron ) <br />LPECHK                               ; Layout versus schematic <br />;                                    ; check <br />; <br />LPESELECT[S] MOS &amp;                   ; SPICE output file for <br />;                                    ; transistors, diodes,<br />LPESELECT[S] DIO &amp;                   ; and capacitors in an <br />LPESELECT[S] CAP GT 0.0 OUTPUT spice ; output file, SPICE.DAT<br />*END</pre>

<h2>
<a id="pgfId-1015684"></a><a id="19508"></a>Hierar<a id="hier_lpe"></a>chical LPE</h2>

<p>
<a id="pgfId-1015686"></a><a id="marker-1015685"></a>Hierarchical Layout Parameter Extraction (HLPE) extracts circuit elements and parasitic devices using Hcells. The commands for <a id="marker-1015687"></a>circuit extractions are the same as those in the LPE flat mode. You can run HLPE in cell and composite modes with the same commands and concepts as in HLVS.</p>
<p>
<a id="pgfId-1015689"></a>HLPE extracts and reports circuit device sizes and <a id="marker-1015688"></a>parasitic information from the layout. It outputs in SPICE/CDL format a subcircuit listing for each Hcell<a id="marker-1015690"></a> with its own parasitics and a top subcircuit listing with calls (instantiations) to the hierarchical cells. The output is a description of the circuit in a two-level hierarchy. You can do <a id="marker-1015691"></a>backannotation to schematic netlist if you input a schematic netlist and run HLVS together with HLPE (just as when LVS is run jointly with LPE in a flat mode run).</p>
<p>
<a id="pgfId-1015692"></a>To generate a subcircuit listing of Hcells, run cell mode HLPE with all cell pin text. You can then run composite mode HLPE to generate the top-level netlist with subcircuit calls.</p>
<p>
<a id="pgfId-1015694"></a><a id="marker-1015693"></a>To compare the ratio of device area to the layer area driving the devices, you can do an antenna check. This check helps ensure that induced capacitance, caused by a fabrication process or a circuit operation, does not cause the drive current or the transition time to become unstable. </p>
<p>
<a id="pgfId-1015695"></a>To run an antenna check with HLPE</p>
<ol><li>
<a id="pgfId-1015696"></a>Run cell mode antenna check.</li><li>
<a id="pgfId-1015697"></a>Run composite mode antenna check on the same directory.</li></ol>

<p>
<a id="pgfId-1015698"></a>When running composite mode, COMPUTE reads the parameter file generated by the cell mode and adds the data to the composite plane for each cell instance.</p>
<p>
<a id="pgfId-1015699"></a>See the LEXTRACT, COMPUTE, and CHKPAR commands for more information about antenna checks.</p>

<h3>
<a id="pgfId-1015700"></a>Cell Mode</h3>

<p>
<a id="pgfId-1015702"></a>Cell mode generates the <a id="marker-1015701"></a>SPICE.CEL file containing subcircuit listings of the hierarchical cells specified in <a id="marker-1015703"></a>cell.tab and schematic names with parasitics and MOS device sizes.</p>
<p>
<a id="pgfId-1015704"></a>If you want back-annotation to schematics, input a schematic netlist with an Hcell table to LOGLVS and run the same as a flat mode run. </p>

<h3>
<a id="pgfId-1015705"></a>Composite Mode</h3>

<p>
<a id="pgfId-1015707"></a>Composite mode HLPE generates a <a id="marker-1015706"></a>SPICE.DAT file containing top level devices with parasitics and subcircuit calls to the hierarchical cells. If you run the job in the same directory that you used for the cell mode run and the SPICE.CEL file exists, Dracula creates SPICE.DAT by appending the composite mode output to SPICE.CEL so that it becomes a complete netlist of the layout circuit.</p>
<p>
<a id="pgfId-1014140"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap6.html" id="prev" title="Comparing Layouts and Schematics (LVS)">Comparing Layouts and Schemati ...</a></em></b><b><em><a href="chap8.html" id="nex" title="Using Parametric Data (LPEPRO)">Using Parametric Data (LPEPRO)</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>