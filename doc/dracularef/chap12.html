
<html><head><title>Input-Layer Block Commands</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sarita" />
<meta name="CreateDate" content="2023-09-14" />
<meta name="CreateTime" content="1694753328" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Dracula offers a complete set of integrated applications for IC layout designs. It contains information about the Dracula standalone verification product." />
<meta name="DocTitle" content="Dracula Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Input-Layer Block Commands" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="dracularef" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-14" />
<meta name="ModifiedTime" content="1694753328" />
<meta name="NextFile" content="chap13.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Physical Verification  Analysis" />
<meta name="PrevFile" content="chap11.html" />
<meta name="c_product" content="Dracula" />
<meta name="Product" content="Dracula" />
<meta name="ProductFamily" content="Dracula" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Dracula Reference -- Input-Layer Block Commands" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="dracularefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="dracularefTOC.html">Contents</a></li><li><a class="prev" href="chap11.html" title="Description Block Commands">Description Block Commands</a></li><li style="float: right;"><a class="viewPrint" href="dracularef.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap13.html" title="Operation Block Commands">Operation Block Commands</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Dracula Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>12
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1011663"></a><hr />
<a id="58967"></a>Input-Layer Block Commands<hr />
</h1>

<p>
<a id="pgfId-1014231"></a>Chapter 12 discusses the Input-Layer Block Commands in alphabetical order. </p>

<h2>
<a id="pgfId-1014234"></a><a id="64403"></a>Introduction</h2>

<p>
<a id="pgfId-1014235"></a>This section describes how you enter layer names to correlate with layout layer numbers. You define these layer names in the Input-Layer block. You can create as many Input-Layer blocks as you need as long as you do not use <a id="marker-1014236"></a>different layer names to represent the same layout layer. The preprocessor concatenates the individual names and checks their syntax. </p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1016601"></a>
The INPUT-LAYER block section has a problem with handling more than 51 layer files at a time. When the INPUT-LAYER block section on the Dracula card is set to something as given below, two<em> LAYER1</em> layers (shown below) should automatically be merged, and become a single data. </div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016602"></a>LAYER1 = 1 DATATYPE = 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016603"></a>LAYER2 = 2 DATATYPE = 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016606"></a>.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016607"></a>.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016608"></a>.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016604"></a>LAYER1 = 9 DATATTPE = 1</pre>

<p>
<a id="pgfId-1016605"></a>However, if the <em>LAYER1 </em>layers are located too far, it will be aborted. The Dracula card can read in only a maximum of 51 layers at once. When this number is exceeded, the layers fail to be merged. This problem can be resolved by reorganizing the order of layer entries such that entries of the same layer name will be handled in the same pass. </p>

<h3>
<a id="pgfId-1014239"></a><a id="51480"></a>Using <a id="using_text"></a>Text</h3>

<p>
<a id="pgfId-1014240"></a>Dracula requires that you attach text strings to layout geometries during ERC, LVS, LPE, PRE, and consistency checks. Text strings identify circuit components such as the power supply, ground, clock, or pads. Text also identifies <a id="marker-1014241"></a>nodes and <a id="marker-1014242"></a>virtual connections and defines circuit elements. Dracula uses text for the following purposes: </p>
<ul><li>
<a id="pgfId-1014244"></a>To specify the power supply and <a id="marker-1014243"></a>ground nodes for ERC, LVS, LPE and PRE<br />
<a id="pgfId-1014245"></a>The text string denoting the power supply can be VCC, VDD or XXX:P. The text string denoting the ground node can be VSS, GND, GROUND, or XXX:G. For more information, refer to the <a href="chap12.html#42957">Text Conventions</a> section in this chapter.</li><li>
<a id="pgfId-1014249"></a>To specify nodes that you probe with the PROBE command<br />
<a id="pgfId-1014251"></a>You can probe only <a id="marker-1014250"></a>text-labeled nodes. For more information, refer to <a href="chap13.html#21059">Chapter 13, &#8220;Operation Block Commands.&#8221;</a></li><li>
<a id="pgfId-1014256"></a>To specify a virtual connection or <a id="marker-1014255"></a>wire between separate geometries<br />
<a id="pgfId-1014257"></a>For example, you can handle two physically separate VCC pads as if they were part of the same node. Thus you can check a partial layout, such as a single cell or a layout excluding the memory arrays. A colon on the end of a text string indicates a virtual connection, for example, VCC: to VCC: or XYZ: to XYZ:. </li><li>
<a id="pgfId-1014259"></a>To denote <a id="marker-1014258"></a>correspondence points for LVS<br />
<a id="pgfId-1014260"></a>Each point corresponds to one logic schematic node of the same name. For example, VCC to VCC, VSS to VSS, and CLOCK to CLOCK. The greater the number of correspondence points, the more effective the LVS check. As a guideline, you must label all pads. You also need to label <a id="marker-1014261"></a>critical internal nodes and nodes in highly parallel circuits. </li></ul>







<p>
<a id="pgfId-1014265"></a>Permissible characters and syntax rules are listed in the <a href="chap12.html#42957">Text Conventions</a> section.</p>
<p>
<a id="pgfId-1014266"></a>In an Applicon database, text strings are already attached to the geometries. Typically, you define and enter text strings at the polygon level. Dracula recognizes only those text strings at the layers and fields that you specified in the Input-Layer block. In the following example, the metal layer (geometry layer 9) has a text layer (text layer 60) attached to it. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014267"></a>*INPUT-LAYER <br />metal = 9 TEXT 60 <br />*END </pre>
<p>
<a id="pgfId-1014268"></a>In GDSII, you do not directly attach text strings to layout geometries. Text strings are part of a separate layer and do not have pointers back to polygons. Dracula attaches text to its corresponding geometry according to your definition in the Input-Layer block. For example,<a id="marker-1014269"></a></p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014270"></a>*INPUT-LAYER <br />diffus = 2 <br />poly = 8 <br />metal = 9 TEXT 60<br />text = 20 ATTACH metal <br />CONNECT-LAYER = diffus poly metal <br />PAD-LAYER = vapox<br />*END</pre>
<p>
<a id="pgfId-1014271"></a>In this example, the text on layer 60 is not specifically attached to one layer, so it attaches to one of the connect layers. The text on layer 20 can attach only to layer metal.</p>
<p>
<a id="pgfId-1014272"></a>Dracula attaches text in the reverse order of the CONNECT-LAYER, where the metal layer has the highest priority and the diffusion layer the lowest. In the previous example, text strings with coordinates within the metal geometries are attached to the metal layer and eliminated from further attachments. All remaining text in the polysilicon is attached. Finally, the text in the diffusion is attached and Dracula discards any text outside the three layers.</p>
<p>
<a id="pgfId-1014274"></a>To use a <a id="marker-1014273"></a>text coordinate file, you can enter text directly using the EDTEXT command in the Operation block. For more information about the EDTEXT command, refer to <a href="chap13.html#21059">Chapter 13, &#8220;Operation Block Commands.&#8221;</a></p>

<h4>
<a id="pgfId-1014278"></a>Texting Mechanism</h4>

<p>
<a id="pgfId-1014284"></a>For <a id="marker-1014279"></a>LVS and some <a id="marker-1014280"></a>DRC, <a id="marker-1014281"></a>ERC, and <a id="marker-1014282"></a>LPE checks, you must label some <a id="marker-1014283"></a>electrical nodes in the database with the texting mechanism. The correct use of text is critical, especially for LVS and ERC checks. </p>
<p>
<a id="pgfId-1014285"></a>The main way to enter text into the Dracula database is with a CAD graphics system. However, because CAD graphics systems let you enter text that is not meaningful to Dracula (such as cell text), you must establish a screening procedure to put text on reserved text layers or <a id="marker-1014286"></a>text types. </p>
<p>
<a id="pgfId-1014288"></a>The second way to enter text into the database is to create a <a id="marker-1014287"></a>text coordinate file. This file contains text and text origins (x,y coordinates in natural units). Whenever both the CAD graphics system and the text coordinate file have different text at the same location, Dracula discards the text from the CAD graphics system. </p>

<h4>
<a id="pgfId-1014290"></a><a id="42957"></a>Text Conventions</h4>

<p>
<a id="pgfId-1014291"></a>Dracula text can incorporate any of the characters shown in the following table. Dracula converts any other character except the <a id="marker-1014292"></a>colon (:) to a <a id="marker-1014293"></a>question mark (?) and treats a question mark as a <a id="marker-1014294"></a>text delimiter. The text is <a id="marker-1014295"></a>truncated at that point. There is no limit to the number of characters you can specify on one line.<a id="marker-1014385"></a></p>
<table class="webflareTable" id="#id1014296">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014298"></a>A to Z</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014300"></a>Letters</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014302"></a>.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014304"></a>Period</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014306"></a>0 to 9</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014308"></a>Numbers</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014310"></a>=</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014312"></a>Equal sign</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014314"></a>+</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014316"></a>Plus sign</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014318"></a>&lt;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014320"></a>Left angle bracket</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014322"></a>-</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014324"></a>Minus sign</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014326"></a>&gt;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014328"></a>Right angle bracket</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014330"></a>/</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014332"></a>Slash sign</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014334"></a>_</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014336"></a>Underscore</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014338"></a>(</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014340"></a>Left parenthesis</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014342"></a>&#8217;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014344"></a>Apostrophe</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014346"></a>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014348"></a>Right parenthesis</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014350"></a>$</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014352"></a>Dollar sign</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014354"></a>*</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014356"></a>Asterisk</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014358"></a>?</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014360"></a>Wild card</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014362"></a>[</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014364"></a>Opening bracket</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014366"></a>&amp;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014368"></a>Ampersand</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014370"></a>]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014372"></a>Closing bracket</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014374"></a>%</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014376"></a>Percent sign</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014378"></a>@</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014380"></a>&#8220;At&#8221; sign</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014382"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014384"></a></p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1014387"></a>The following rules apply to text:<a id="marker-1014386"></a></p>
<ul><li>
<a id="pgfId-1014389"></a><a id="marker-1014388"></a>A layer name cannot begin with temp or out. For example, temp1 and outmet are not allowed. The preprocessor checks for these syntax violations.</li><li>
<a id="pgfId-1014390"></a>The first character must be a letter and can be in uppercase or lowercase.</li><li>
<a id="pgfId-1014391"></a>To denote a virtual wire, add a colon (:) after the text.</li><li>
<a id="pgfId-1014393"></a>To denote<a id="marker-1014392"></a> a pad or a power or ground, add a colon (:) and one pad character after the text. The <a id="marker-1014394"></a>pad character can be one of the following: <br />
<a id="pgfId-1014395"></a>If the text is VCC or VDD, Dracula assigns the P pad type.
If the text is VSS, GND, or GROUND, Dracula assigns the G pad type. 
If the text is VEE or VBB, Dracula assigns the S pad type. </li><li>
<a id="pgfId-1014397"></a>Use LVS-required pad text for <a id="marker-1014396"></a>initial correspondence only. You can attach text to the pad, metal, or any other connect layer. For ERC, you must define the pad as an ELEMENT PAD and text is optional, except for power and ground pads. </li><li>
<a id="pgfId-1014398"></a>Text suffixed with a colon (:), such as ABC:I and ABC:O, is virtually wired even when there is no physical connection. Be cautious when using the <a id="marker-1014399"></a>virtual wire specifier in ERC, LVS, or LPE.</li><li>
<a id="pgfId-1014400"></a>Applicon texting requires that you attach the text to its own layer geometries. If the text is on the same layer as metal and you want metal attachment, the <a id="marker-1014401"></a>input layer and <a id="marker-1014402"></a>text layer are as follows: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1014403">
<a id="pgfId-1014403"></a> metal = 6 TEXT = 6 </pre></li><li>
<a id="pgfId-1014404"></a>Be sure you do not label two nodes with the same text string unless you use a colon; otherwise, you create an open circuit. </li><li>
<a id="pgfId-1014405"></a>You can label a node more than once with the same text string. Be sure not to label the same node with two different text strings. Otherwise, you create a shorted circuit.</li><li>
<a id="pgfId-1014406"></a>You can specify a text layer declaration on a different line if the input-layer and text-layer are on different layers. <br />
<a id="pgfId-1014407"></a>In the following example, metal is read in from layer 6, and layer 4 is read in as dummy. Text from layer 8 is read in and processed.<pre class="webflare-pre-block webflare-courier-new" id="#id1014408">
<a id="pgfId-1014408"></a>metal = 6 
dummy = 4 
TEXT = 8 
*OPERATION 
AND metal dummy abc</pre></li></ul>














<h4>
<a id="pgfId-1014409"></a>Attaching Text to a Geometry</h4>

<p>
<a id="pgfId-1014412"></a><a id="marker-1014410"></a>You can <a id="marker-1014411"></a>attach text to a geometry when the text origin (x,y location) is inside, at the edge, or on the vertex of the geometry, as shown in the following figure.</p>

<p>
<a id="pgfId-1015472"></a></p>
<div class="webflare-div-image">
<img width="676" height="127" src="images/chap12-3.gif" /></div>

<p>
<a id="pgfId-1014430"></a>You can attach text to geometries from one of many layers. The text is attached to geometries on only one layer according to the text-layer sequence until it is finally attached or the text is discarded. </p>
<p>
<a id="pgfId-1014431"></a>Specify text-layer sequences using the TEXTSEQUENCE command in the Input-Layer block in reverse order of the layer sequence. The layers you specify in TEXTSEQUENCE must be specified in the CONNECT-LAYER command. If you do not specify TEXTSEQUENCE, specify the text-layer sequence with the CONNECT-LAYER command in the reverse order of the layer sequence.</p>

<h4>
<a id="pgfId-1014432"></a>Labeling Electrical Nodes</h4>

<p>
<a id="pgfId-1014434"></a>If you attach <a id="marker-1014433"></a>text to a geometry that represents part of the layout data for an electrical node, the text becomes the label of the node. A node can carry one unique label, and no other node can carry that label. Therefore, you can identify a node by its label and you can identify a group of nodes by a group of labels. To refer to a group of labels for ERC and DRC checks, you can use a question mark (?) as a <a id="marker-1014435"></a>wildcard character. For example,</p>
<table class="webflareTable" id="#id1017677">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017679"></a>?AB</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017681"></a>Refers to all the labels ending with AB </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017683"></a>XY?</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017685"></a>Refers to all the labels starting with XY </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017687"></a>?NN?</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017689"></a>Refers to all the labels having the substring NN </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017691"></a>?:P</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017693"></a>Refers to all the power pads </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017695"></a>?:?</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017697"></a>Refers to all the pads </p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1014441"></a>Text from a CAD Graphics System</h4>

<p>
<a id="pgfId-1014443"></a><a id="marker-1014442"></a>To input text from a CAD graphics system, specify the layer definition in the Input-Layer block on a separate line. You can also specify a text layer by appending the text to a geometry layer definition. </p>

<a id="pgfId-1014444"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code><em>name1</em></code> = <code><em>layer1</em></code> TEXT = <code><em>layer2</em></code> TEXTTYPE = <code><em>number</em></code> ATTACH = <code><em>name2</em></code></pre>
<table class="webflareTable" id="#id1017706">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017708"></a><span class="webflare-courier-new" style="white-space:pre"><em>name1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017710"></a>Specifies the name of the source geometry layer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017712"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017714"></a>Specifies the source geometry layer number in CAD graphics system </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017716"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017718"></a>Specifies the text layer number in CAD graphics system </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017720"></a><span class="webflare-courier-new" style="white-space:pre"><em>number</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017722"></a>Specifies the text type number in CAD graphics system </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017724"></a><span class="webflare-courier-new" style="white-space:pre"><em>name2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017726"></a>Specifies the name of geometry layer to which text is attached</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1014450"></a>TEXTTYPE and ATTACH commands are optional. </p>
<p>
<a id="pgfId-1014451"></a>If you specify an attached layer name, texts are attached to that layer only. </p>
<p>
<a id="pgfId-1014452"></a>If you do not specify an attached layer name, texts are attached to one of the layers in accordance with the CONNECT-LAYER or TEXTSEQUENCE command. </p>

<h4><em>
<a id="pgfId-1014453"></a>Example 1</em></h4>

<p>
<a id="pgfId-1014454"></a>This example shows how you specify text on one line.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014455"></a>METAL = 12 TEXT = 80&#160;&#160; ATTACH = METAL1 </pre>

<h4><em>
<a id="pgfId-1014456"></a>Example 2</em></h4>

<p>
<a id="pgfId-1014457"></a>This example shows how you specify a text layer definition on a separate line.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014458"></a>POLY = 6 <br />TEXT = 12&#160;&#160;TEXTTYPE = 6:12&#160;&#160;ATTACH = METAL</pre>

<h4>
<a id="pgfId-1014459"></a>Text for Power and Ground</h4>

<p>
<a id="pgfId-1014461"></a><a id="marker-1014460"></a>Dracula recognizes the following power and ground names and converts them to <a id="marker-1014462"></a>pad types: </p>
<table class="webflareTable" id="#id1017752">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017754"></a>VCC</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017756"></a>Converted to VCC:P </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017758"></a>VDD</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017760"></a>Converted to VDD:P </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017762"></a>VSS</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017764"></a>Converted to VSS:G </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017766"></a>GND</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017768"></a>Converted to GND:G </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017770"></a>GROUND</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017772"></a>Converted to GROUND:G </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017774"></a>VEE</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017776"></a>Converted to VEE:S </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017778"></a>VBB</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017780"></a>Converted to VBB:S</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1014592"></a>Texting Multiple Power Supply Pads</h4>
<p>
<a id="pgfId-1015500"></a></p>
<div class="webflare-div-image">
<img width="678" height="641" src="images/chap12-4.gif" /></div>
<h3>
<a id="pgfId-1014596"></a>BASE<a id="base-layer"></a>-LAYER </h3>
<a id="pgfId-1014597"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
BASE-LAYER = <code><em>layer-name1</em></code> {<code><em>layer-name2</em></code>} {...} </pre>
<h4>
<a id="pgfId-1014598"></a>Description</h4>

<p>
<a id="pgfId-1014604"></a><a id="marker-1014599"></a>S<a id="marker-1014600"></a><a id="marker-1014601"></a>pecifies <a id="marker-1014602"></a>layers containing <a id="marker-1014603"></a>composite plane geometries that must be mapped into <a id="marker-1014605"></a>Hcells. </p>

<h4>
<a id="pgfId-1014606"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1014607"></a><code>modes</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017794"></a><code>&#160;&#160;&#160;&#160;</code>Cell, composite, Vampire.</p>
<p><strong>
<a id="pgfId-1017799"></a><code>checks</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017802"></a><code>&#160;&#160;&#160;&#160;</code>HLVS, HLPE.</p>
<h4>
<a id="pgfId-1014609"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014610"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-name</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017808"></a> The name of the layer defined in the Input-Layer block. </p>

<p>
<a id="pgfId-1014612"></a>You can use this command for <a id="marker-1014611"></a>gate-array layouts, where composite plane layers (the base-layers) provide a set of symmetric geometries overlaid by Hcells that parameterize the semi-custom circuit with transistors, contacts, and other connections on one or two layers. </p>
<p>
<a id="pgfId-1014613"></a>Composite mode HLVS cuts out the composite-plane geometry portions that lie within an <a id="marker-1014614"></a>Hcell boundary. Dracula then maps and merges these geometry portions into the Hcell allowing them to create devices. The corresponding Hcell subcircuits on the netlist must include whatever connectivity the composite-plane geometry portions on the layout side provide.</p>
<p>
<a id="pgfId-1014615"></a>The BASE-LAYER command handles geometries that are not identical for different placements. Geometries that are the same for each placement move into the cell. Unique portions of the geometries stay at the composite level.</p>
<ul><li>
<a id="pgfId-1014616"></a>If the geometries are needed to form devices in the cell, cell mode HLVS reports missing layout devices.</li><li>
<a id="pgfId-1014617"></a>If the geometries form extra (incorrect) devices in the cell, Dracula finds them in the extra device check and flags them as extra composite-to-cell devices.</li><li>
<a id="pgfId-1014618"></a>If the geometries are needed to connect nodes in the cell, cell mode HLVS flags these as errors.</li><li>
<a id="pgfId-1014619"></a>If the geometries connect nodes in the cell incorrectly, composite mode flags them either as unmatched composite-to-cell internal node connections or as errors in connectivity for cell pins.</li></ul>




<h4>
<a id="pgfId-1014620"></a>Example</h4>

<p>
<a id="pgfId-1014621"></a>In this example, assume that PWELL and NSUB are in the composite layer. If PWELL and NSUB are not identified as BASE-LAYER, then all CMOS transistors in the Hcells do not have substrates. If PWELL and NSUB are identified as BASE-LAYER, then all MOS devices can have substrates, if the PWELL is under the N devices and the NSUB is under the P devices.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014622"></a>BASE-LAYER = PWELL, NSUB</pre>

<h3>
<a id="pgfId-1014624"></a>CELLBNDY </h3>
<a id="pgfId-1014625"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CELLBNDY = <code><em>layer-number</em></code> {DATATYPE <code><em>data-type</em></code>} </pre>
<a id="pgfId-1014626"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CELLBNDY = AUTO [<code><em>value</em></code>]</pre>
<h4>
<a id="pgfId-1014627"></a>Description</h4>

<p>
<a id="pgfId-1014630"></a>S<a id="marker-1014628"></a><a id="marker-1014629"></a>pecifies the input layer used to build cell boundaries. For hierarchical cells with boundaries defined in this layer, these boundaries override the <a id="marker-1014631"></a>bounding boxes generated by the program. If you do not specify CELLBNDY, Dracula derives the bounding boxes from the layers drawn within the cell.</p>
<p>
<a id="pgfId-1014632"></a>The SUBSTRATE and CELLBNDY commands affect the formation of the substrate layer, which affects the formation of the reverse field layer. For HLVS and HLPE jobs, the connectivity of the reverse field layer can also be affected. For example</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014633"></a>SUBSTRATE = BULK 63<br />NOT BULK PWELL NSUB</pre>

<p>
<a id="pgfId-1014634"></a>The NSUB layer of a cell in flat mode and the NSUB layer of the same cell as an Hcell in cell mode might differ because of differences in the BULK layer. If this causes problems in connectivity, you can modify the cell boundary. You can use the CELLBNDY command to make the cell boundary larger than the Hcell default. To prevent creating open circuits, you can add virtual wire texting to connect them.</p>
<p>
<a id="pgfId-1014638"></a>For more information, refer to the <chg>
<a href="chap12.html#62370"></a><h-hot>SUBSTRATE</h-hot><chg />
</chg>
 command section in this chapter.</p>
<p>
<a id="pgfId-1014639"></a>When you specify AUTO, Dracula automatically generates a rectilinear cell boundary.</p>

<h4>
<a id="pgfId-1014640"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1014641"></a><code>modes </code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017816"></a>Cell and composite.</p>
<p><strong>
<a id="pgfId-1017821"></a><code>checks</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017824"></a><code>&#160;&#160;&#160;&#160;</code>HDRC, HLVS, HERC, and HLPE.</p>
<h4>
<a id="pgfId-1014643"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014644"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-number</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017830"></a> Specifies the layer number on the layout database.</p>
<p><strong>
<a id="pgfId-1017835"></a><span class="webflare-courier-new" style="white-space:pre"><em>data-type</em></span> </strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017838"></a>Valid for GDSII format or CADENCE. Default is all datatypes. You can also use an inclusive range value (for example, DATATYPE=7:10).</p>

<p>
<a id="pgfId-1014646"></a>Use this command for cells with non-rectangular cell boundaries and gate arrays. For example, if only metal is digitized inside the cell and diff and poly are digitized at the composite level, the resulting devices are electrically inside the cell but are built from polygons digitized outside the bounding box.</p>
<p>
<a id="pgfId-1014647"></a>You can specify only one boundary for each cell. The boundary can be any rectilinear polygon. Dracula creates bounding boxes as cell boundaries for Hcells that have no input boundaries specified in the CELLBNDY layer. The input boundaries always supersede the bounding boxes.</p>
<p>
<a id="pgfId-1014648"></a>Running a job with this command creates the 9CELLBND.DAT, 6CELLBND.DAT, 7CELLBND.DAT, and CELLBNDY.DAT files. These are binary files in Dracula formats.</p>
<p>
<a id="pgfId-1014649"></a>In rectilinear cell applications, under normal circumstances, Dracula makes correct electrical connections and you do not need CELLBNDY. However, when you specify FRAME or GEN-TEXT-FRAME for a rectilinear cell or when you use BASE-LAYER in either cell or composite mode, you must specify CELLBNDY.</p>

<p><strong>
<a id="pgfId-1014650"></a><code>AUTO</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017845"></a><code>&#160;&#160;&#160;&#160;</code>Dracula automatically generates a rectilinear cell boundary.</p>
<p><strong>
<a id="pgfId-1017850"></a><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017854"></a> The amount to oversize or undersize the boundary.</p>
<h4>
<a id="pgfId-1014652"></a>Example 1</h4>

<p>
<a id="pgfId-1014653"></a>This example reads in layer 59 as the cell boundary layer.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014654"></a>*INPUT-LAYER<br />PWELL=1<br />DIFPN=2<br />POLY =3     CTEXT=28 ATTACH=POLY<br />CONT=5<br />MET=6       CTEXT=29 ATTACH=MET<br />VAPOX=7     TEXT=30<br />PISL=4<br />CELLBNDY = 59<br />SUBSTRATE = BULK 63<br />;<br />CONNECT-LAY = NSUB PWELL PSRCDRN NSRCDRN POLY MET<br />*END</pre>
<h4>
<a id="pgfId-1014655"></a>Example 2</h4>

<p>
<a id="pgfId-1014656"></a>This example automatically creates a rectilinear cell boundary.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014657"></a>*INPUT-LAYER<br />.<br />.<br />.<br />CELLBNDY = auto<br />*END</pre>

<h3>
<a id="pgfId-1014662"></a><a id="76760"></a>CONNECT-LAYER </h3>
<a id="pgfId-1014663"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CONNECT-LAYER = <code><em>layer1  layer2</em></code>... </pre>
<h4>
<a id="pgfId-1014664"></a>Description</h4>

<p>
<a id="pgfId-1014667"></a>D<a id="marker-1014665"></a>efines the <a id="marker-1014666"></a>conductor layers of the IC process from bottom to top. If you use a CONNECT command in the Operation block, you must use the CONNECT-LAYER command in the Input-Layer block. Specify only the layers that appear in the CONNECT commands (excluding the contact layers). You can specify <a id="marker-1014668"></a>multiple layer names on one line or use multiple lines. </p>
<p>
<a id="pgfId-1014670"></a>For more information about connecting layers, see &#8220;<em><a actuate="user" class="URL" href="../draculauser/chap2.html#connect_network" show="replace" xml:link="simple">Connecting Your Network</a></em>&#8221; in the &#8220;Writing Rules for Dracula&#8221; chapter in the Dracula User Guide.</p>

<h4>
<a id="pgfId-1014671"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014673"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017861"></a> Specifies the <a id="marker-1014672"></a>mask order of the layers used in the CONNECT operation (excluding the contact layer). List the bottom layer first and the top layer last.</p>

<p>
<a id="pgfId-1014674"></a>Layer names must have at least three characters. If you use the layer name in the ELEMENT or PARASITIC commands, the first three <a id="marker-1014675"></a>characters must be unique. </p>
<p>
<a id="pgfId-1014676"></a>Text sequence is generated only on layer names that appear in both the CONNECT-LAYER and CONNECT commands. </p>

<h4>
<a id="pgfId-1014677"></a>Example 1</h4>

<p>
<a id="pgfId-1014678"></a>The first three characters of met2 and met1 are the same. If you use this example with an ELEMENT CAP command, this is a syntax violation because the first three characters must be unique. The preprocessor checks for this <a id="marker-1014679"></a>syntax violation.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014680"></a>CONNECT-LAYER = nsrcdrn poly met1 met2 </pre>

<h4>
<a id="pgfId-1014681"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014682"></a>CONNECT-LAYER = psub nwell nsd psd pl1 pl2 metal </pre>

<p>
<a id="pgfId-1014683"></a>or </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014684"></a>CONNECT-LAYER = psub buried base nplus deepn mt1 mt2 </pre>

<p>
<a id="pgfId-1014685"></a>or </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014687"></a>CONNECT-LAYER = psub&#160;&#160;&#160;&#160;;<a id="marker-1014686"></a>bottom layer 
CONNECT-LAYER = buried 
CONNECT-LAYER = base 
CONNECT-LAYER = nplus 
CONNECT-LAYER = deepn 
CONNECT-LAYER = mt1 
CONNECT-LAYER = mt2&#160;&#160;&#160;&#160;;<a id="marker-1014688"></a>top layer</pre>

<p>
<a id="pgfId-1014689"></a>Specify the bottom layer as layer1 followed by the next layers and end with the top layer, usually metal.</p>

<h4>
<a id="pgfId-1014690"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014691"></a>*INPUT-LAYER
.
CONNECT-LAYER = srcdrn poly metal 
.
*END
*OPERATION
.
CONNECT metal poly&#160;&#160;&#160;&#160;BY mc1 
CONNECT metal srcdrn&#160;&#160;&#160;&#160;BY mc1 
CONNECT poly srcdrn&#160;&#160;&#160;&#160;BY epi </pre>

<p>
<a id="pgfId-1014692"></a>You must use the CONNECT-LAYER command for ERC, LVS, and LPE because they require text. Dracula processes the text you specify in the Input-Layer block as follows:</p>
<ul><li>
<a id="pgfId-1014693"></a>If you do not specify the TEXTSEQUENCE command and text falls inside (or touches) the geometries of the top layer (metal in the above example) in the CONNECT-LAYER command, Dracula assigns the text as the <a id="marker-1014694"></a>node name to the top-layer geometries. Otherwise, Dracula tests to see if it falls inside (or touches) the second topmost layer and assigns it to that layer (poly), and so on. </li><li>
<a id="pgfId-1014695"></a>If you specify the TEXTSEQUENCE command, Dracula uses the layer names and the order of the layers you specify.</li><li>
<a id="pgfId-1014787"></a>Each contact layer has a master layer. For example<br />
<a id="pgfId-1015633"></a><div class="webflare-div-image">
<img width="676" height="219" src="images/chap12-5.gif" /></div>
<a id="pgfId-1014788"></a>The MC1 contact layer has metal as its master layer. The contact layer can only connect from the master layer to other layers. Therefore, MC1 can connect metal to poly or metal to scrdrn, but MC1 cannot connect poly to epi. The preprocessor checks for this violation. </li></ul>








<h4>
<a id="pgfId-1014789"></a>Example 4</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014790"></a>CONNECT-LAYER = nsd poly met1 met2 </pre>

<p>
<a id="pgfId-1014791"></a>In the Operation block:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014792"></a>CONNECT met2 met1 BY cont 
CONNECT met1 poly BY cont&#160;&#160;&#160;&#160;(not allowed) 
CONNECT met1 nsd BY cont&#160;&#160;&#160;&#160;(not allowed) </pre>
<p>
<a id="pgfId-1014793"></a>The master layer is mt2. The cont contact layer cannot be used to contact mt1 to nsd or mt1 to poly.</p>

<h3>
<a id="pgfId-1014862"></a>CTEX<a id="ctext_attach"></a>T and ATTACH </h3>
<a id="pgfId-1014863"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
CTEXT = <code><em>text-layer layerPurpose</em></code>  {ATTACH = <code><em>layer-name</em></code>} </pre>
<h4>
<a id="pgfId-1014864"></a>Description</h4>

<p>
<a id="pgfId-1014869"></a>S<a id="marker-1014865"></a><a id="marker-1014866"></a>pecifies the input layer numbers that provide Hcell text. The <a id="marker-1014867"></a><a id="marker-1014868"></a>ATTACH command specifies the input layer to which the Hcell text on the CTEXT layer number is attached.</p>
<p>
<a id="pgfId-1014870"></a>Without the ATTACH command, Hcell texts on the text-layer fall through the input layers in the order specified by the TEXTSEQUENCE or CONNECT-LAYER commands.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014871"></a>Dracula can read the same layer for both TEXT and CTEXT, but not when using the ATTACH command. You must use different layers for composite and Hcell text.</div>

<h4>
<a id="pgfId-1014872"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1014873"></a><code>modes</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017868"></a><code>&#160;&#160;&#160;&#160;</code>Cell and composite.</p>
<p><strong>
<a id="pgfId-1017873"></a><code>checks </code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017876"></a>HERC, HLVS and HLPE.</p>
<h4>
<a id="pgfId-1014875"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014876"></a><span class="webflare-courier-new" style="white-space:pre"><em>text-layer</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017882"></a> The number of the text layer from the layout database. </p>
<p><strong>
<a id="pgfId-1017887"></a><span class="webflare-courier-new" style="white-space:pre"><em>layerPurpose </em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017890"></a>The purpose for the layer, for example, drawing. </p>
<p><strong>
<a id="pgfId-1017895"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-name</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017898"></a> The name of the layer of one of the connect layers. </p>

<p>
<a id="pgfId-1014879"></a>The layer definition performs an independent function from the CTEXT command, even though they can be on the same line. It is not necessary to include the CTEXT command exactly on the layer to which it attaches. You can put CTEXT either in the left column or following a layer definition.</p>

<h4>
<a id="pgfId-1014880"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014881"></a>*INPUT-LAYER <br />poly = 5    CTEXT = 27    ATTACH = poly <br />metal = 4    <br />CTEXT = 19  ATTACH = metal <br />CTEXT = 18</pre>
<h4>
<a id="pgfId-1014882"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014883"></a>PDIFF = pdiff          TEXT = text drawing    ATTACH = metal<br />TEXT = text drawing    ATTACH = metal<br />NDIFF1 = ndiff1        CTEXT = text1 drawing<br />CTEXT = text2 drawing</pre>
<h3>
<a id="pgfId-1014885"></a>EXPORT </h3>
<a id="pgfId-1014886"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
EXPORT  <code><em>layer-name</em></code>...</pre>
<h4>
<a id="pgfId-1014887"></a>Description</h4>

<p>
<a id="pgfId-1014890"></a>G<a id="marker-1014888"></a>enerates layers from an <a id="marker-1014889"></a>input database and outputs them as Dracula-compatible data files. You can use this command to <a id="marker-1014891"></a>combine layers from several <a id="marker-1014892"></a>databases or to <a id="marker-1014893"></a>compare<a id="marker-1016703"></a> layers from different databases. The EXPORT command ensures that Dracula does not delete the layers specified even if you use KEEPDATA=NO or KEEPDATA=SMART in the Description block. You do not need an Operation block when you use the EXPORT command. </p>
<p>
<a id="pgfId-1014894"></a>You can use the EXPORT command to specify any layer-name if KEEPDATA=NO (or SMART) so that the preprocessor does not delete these layer-names. Thus, you can specify not to delete files and layer names (other than trapezoid layers). You can run an interactive program such as Dracula Interactive or Layout Parameter Extraction Post-processor (LPEPRO) even if you specified KEEPDATA=NO (or SMART). </p>
<p>
<a id="pgfId-1014898"></a>See also the <a href="chap12.html#81031">IMPORT-LAYERS</a> section in this chapter.</p>

<h4>
<a id="pgfId-1014899"></a>Argument</h4>
<p><strong>
<a id="pgfId-1014900"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-name</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017906"></a> The user-defined layer name. </p>
<h4>
<a id="pgfId-1014901"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014902"></a>*INPUT-LAYER <br />Diff     =  1 <br />nplus    =  2 <br />polyA    =  3 <br />mcA      =  4 <br />metalA   =  5 <br />EXPORT polyA mcA metalA <br />*END <br /></pre>
<h4>
<a id="pgfId-1014903"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014904"></a>*DESCRIPTION <br />. <br />KEEPDATA = smart <br />. <br />*END <br />*INPUT-LAYER <br />. <br />EXPORT   =  6nets poly nsd psd pwell nsub contact <br />EXPORT   =  metal 6netl 6pads 6pads 6nxrf 6exrf <br />EXPORT   =  mosxn8g mosxp8g  ; for a CMOS process <br />. <br />*END <br />*OPERATION <br />. <br />LVSCHK <br />*END <br /></pre>
<h4>
<a id="pgfId-1014905"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014906"></a>*DESCRIPTION <br />PRIMARY = TOPCELL<br />.<br />EXPORT = metal2 metal1 poly psd nsd<br />EXPORT = BOUNDARY SCRXTEXT TREETOPC</pre>

<p>
<a id="pgfId-1014907"></a>The first run reads in and exports all the input layers needed. When the second job does not input any new layers and does not run GDS2IN, you should export the BOUNDARY, SCRXTEXT, and TREExxxx (where xxxx is the first four characters of your primary name) files. These files are often needed by the second job.</p>

<h3>
<a id="pgfId-1014909"></a>FRAME-EXCLU<a id="marker-1014908"></a>DE-LAYER</h3>
<a id="pgfId-1014910"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
FRAME-EXCLUDE-LAYER = layer1 layer2 .....</pre>
<h4>
<a id="pgfId-1014911"></a>Description</h4>

<p>
<a id="pgfId-1014912"></a>Allows several specified layers not to be clipped by the FRAME BY command.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014913"></a>This command applies only in composite mode.</div>

<h4>
<a id="pgfId-1014914"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014915"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span> </strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017913"></a> Name of the specified obstruction layer defined in the hcells. </p>
<h4>
<a id="pgfId-1016120"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016121"></a>*INPUT-LAYER<br />MT1     =  10  ;METAL ONE LAYER<br />MT2     =  11  ;METAL ONE LAYER<br />MT3     =  13  ;METAL ONE LAYER<br />M10BS   =  75  ;M1 P&amp;R obstruction layers<br />M20BS   =  76  ;M2 P&amp;R obstruction layers<br />M30BS   =  77  ;M3 P&amp;R obstruction layers<br />FRAME-EXCLUDE-LAYER = M10BS M20BS M30BS<br />*END<br />*OPERATION<br />SIZE M10BS BY 0.5 OM10BS<br />SIZE M20BS BY 0.7 OM20BS<br />XCELL MT1 0M10BS OUTPUT ERR 1<br />XCELL MT2 0M20BS OUTPUT ERR 2<br />*END<br /></pre>
<h3>
<a id="pgfId-1016123"></a>FRAME-H<a id="marker-1016122"></a>OLE-LAYER</h3>
<a id="pgfId-1014934"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
FRAME-HOLE-LAYER = LAYER</pre>
<h4>
<a id="pgfId-1014935"></a>Description</h4>

<p>
<a id="pgfId-1014936"></a>Creates a new layer that is the same shape as the frame, as defined by FRAME BY commands in cell mode.</p>

<h4>
<a id="pgfId-1014937"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014938"></a><code>layer</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017920"></a><em>&#160;&#160;&#160;&#160;</em>Layer name.</p>
<h4>
<a id="pgfId-1014939"></a>Example</h4>

<p>
<a id="pgfId-1014940"></a>The following are examples of checking for the illegal presence of layer &quot;CONT4&quot; inside or cutting the frame hole in cell mode. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014941"></a>*INPUT-LAYER</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014942"></a>CONT4= 4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014943"></a>FRALE-HOLE-LAYER= FL</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014944"></a>*END</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014945"></a>*OPERATION</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014946"></a>SELECT CONT4 OVERLAP FL OUTPUT ERR 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014947"></a>*END</pre>
<h3>
<a id="pgfId-1014949"></a>GEN-TEXT-LAYER </h3>
<a id="pgfId-1014950"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
GEN-TEXT-LAYER = <code><em>layer-name1</em></code> {<code><em>layer-name2</em></code>} {...} </pre>
<h4>
<a id="pgfId-1014951"></a>Description</h4>

<p>
<a id="pgfId-1014956"></a>S<a id="marker-1014952"></a><a id="marker-1014953"></a>pecifies the <a id="marker-1014954"></a>layers to which the <a id="marker-1014955"></a>Hcell text generated by GEN-TEXT is attached. If you do not specify the GEN-TEXT-LAYER command, GEN-TEXT defaults to the layers specified by the CTEXT and ATTACH commands. The layers specified by the CTEXT and ATTACH commands contain the original cell text from the database. The GEN-TEXT command attaches the text to all layers that qualify. </p>

<h4>
<a id="pgfId-1014957"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1014958"></a><code>modes</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017927"></a><code>&#160;&#160;&#160;&#160;</code>Cell.</p>
<p><strong>
<a id="pgfId-1017932"></a><code>checks</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017935"></a><code>&#160;&#160;&#160;&#160;</code>HLVS.</p>
<h4>
<a id="pgfId-1014960"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014961"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-name</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017941"></a> The layer name of one of the connect layers. </p>

<p>
<a id="pgfId-1014962"></a>You must ensure that GEN-TEXT, at a minimum, attaches cell text to all layers that can be used as pins (connecting to composite or other Hcells) or as feedthroughs. Otherwise, Dracula reports discrepancy errors when running composite mode HLVS. </p>

<h4>
<a id="pgfId-1014963"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014964"></a>GEN-TEXT-LAYER = nsub pwell poly metal</pre>
<h3>
<a id="pgfId-1014966"></a>IDTEXT<a id="marker-1014965"></a></h3>
<a id="pgfId-1014967"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code><em>layer1</em></code> <code><em>= </em></code>IDTEXT <code><em>layerNumber</em></code></pre>
<h4>
<a id="pgfId-1014968"></a>Description</h4>

<p>
<a id="pgfId-1014969"></a>Lets you add text to layers for identification purposes. These layers are independent of connectivity. You can select polygons by idtext names from a particular idtext layer. <a id="marker-1014970"></a></p>
<p>
<a id="pgfId-1014971"></a>The IDTEXT command is useful only with the SELECT LABEL {[t] | [t&#8217;]} command. </p>

<h4>
<a id="pgfId-1014972"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014973"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer1</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017949"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>The IDTEXT layer name in the rules file.</p>
<p><strong>
<a id="pgfId-1017954"></a><code>layerNumber</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017957"></a><code>&#160;&#160;&#160;&#160;</code>The layer number from which text is extracted for <em>layer1</em>.</p>
<h4>
<a id="pgfId-1014975"></a>Example</h4>

<p>
<a id="pgfId-1014976"></a>In this example, two IDTEXT layers, idtxt1 and idtxt2, extract texts from input layers 1 and 2. There is text on layer 2 for connectivity purposes (for example, naming electrical nets).</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014977"></a>*INPUT-LAYER<br />metal  = 1 <br />idtxt1 = IDTEXT 1 <br />poly   = 2 TEXT 2<br />idtxt2 = IDTEXT 2<br />cont   = 3<br />*END<br />*OPERATION<br />SELECT metal BY idtxt1 LABEL[t] {RES111,RES222,RES333} pad1 OUTPUT mpad 2<br />SELECT poly  BY idtxt2 LABEL[t&#39;] RES? pad2<br />*END</pre>

<h3>
<a id="pgfId-1014979"></a><a id="81031"></a>IMPORT-LAYERS </h3>
<a id="pgfId-1014980"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
IMPORT-LAYERS  <code><em>path-name1/layer-name1</em></code>,  <code><em>path-name2/
layer-name2</em></code><courier-10>
...</courier-10>
 </pre>
<h4>
<a id="pgfId-1014981"></a>Description</h4>

<p>
<a id="pgfId-1014984"></a>C<a id="marker-1014982"></a><a id="marker-1014983"></a>ombines layers from a previous run with the current job. Use this command to combine or compare layers from different databases. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014985"></a>The resolution in the first job must be the same as the resolution in the second job. </div>
<p>
<a id="pgfId-1014987"></a>If you do a database comparison or <a id="marker-1014986"></a>logical operation, the SCALE and RESOLUTION commands must be identical in the Description blocks of both input rules files. For the format required to compare layers from different databases, refer to the <a id="marker-1014988"></a>database comparison example in the <a href="chap11.html#65337">CONVERT-DATABASE</a> section in Chapter 11.</p>
<p>
<a id="pgfId-1014992"></a>You can use the SNAP command instead of RESOLUTION to specify grid snapping.</p>

<h4>
<a id="pgfId-1014993"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014994"></a><span class="webflare-courier-new" style="white-space:pre"><em>path-name</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017964"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;&#160;&#160;</em></span>Specifies the layer to import. You can use the directory path name to specify the layer file.</p>
<p><strong>
<a id="pgfId-1017969"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-name</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017972"></a> A user-defined layer name specified in the Operation block but not in the <a id="marker-1014996"></a>Input-Layer block. You can specify more than one layer-name on a line.</p>
<h4>
<a id="pgfId-1014997"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014998"></a>*INPUT-LAYER <br />IMPORT-LAYERS polyA mcA metalA <br />IMPORT-LAYERS polyB <br />IMPORT-LAYERS mcB <br />. <br />. <br />polyC = 5 <br />metalC = 11 <br />. <br />*END </pre>
<h3>
<a id="pgfId-1015416"></a><a id="41355"></a>KTEXT</h3>
<a id="pgfId-1015421"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
KTEXT = &lt;gds_layer_number&gt; {ATTACH = &lt; &lt;Dracula_layer_name&gt; &gt;}</pre>
<h4>
<a id="pgfId-1015422"></a>Description</h4>

<p>
<a id="pgfId-1015428"></a>Specifies the text input source from GDS2 layer for the &#8220;Keep Cell Text&#8221; feature in an LVS or LVL job. If <code>ATTACH</code> is specified, the text will be attached to that specific Dracula layer. The syntax is very similar to the command TEXT.</p>
<p>
<a id="pgfId-1015429"></a>There are two ways to specify the text input source for the &#8220;Keep Cell Text&#8221; feature. One is the <code>KTEXT</code> command in the Input-Layer Block which reads texts from the CAD graphics database, the other is the <code>KEDTEXT</code> command in the Operation block which reads texts from a plain ASCII file. The two commands can exist simultaneously.</p>

<h4>
<a id="pgfId-1015442"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1015443"></a><code>modes</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017979"></a> Flat</p>
<h4>
<a id="pgfId-1015441"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015446"></a><code>gds_layer_number</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017985"></a>The number of the assigned layer in the layout CAD system. </p>
<p><strong>
<a id="pgfId-1017990"></a><code>Dracula_layer_name</code> </strong></p>
<p class="webflare-indent1">
<a id="pgfId-1017993"></a>User-defined Dracula layer name.</p>
<h4>
<a id="pgfId-1015448"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015449"></a>METAL1 = 6 KTEXT = 8</pre>

<p>
<a id="pgfId-1015450"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015451"></a>METAL1 = 6 KTEXT = 8 ATT = METAL1</pre>

<p>
<a id="pgfId-1015452"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015453"></a>KTEXT = 8</pre>

<p>
<a id="pgfId-1015454"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015455"></a>KTEXT = 8 ATT = METAL1</pre>
<h3>
<a id="pgfId-1015001"></a>Layer Nam<a id="layer_name"></a>e Definition </h3>
<a id="pgfId-1015002"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code><em>layer-name</em></code> = <code><em>layer-number</em></code> {OFFGRID = <code><em>off-grid</em></code>} {DATATYPE  <code><em>data-type</em></code>} {TEXT = <code><em>text-layer</em></code>} {TEXTTYPE  <code><em>text-type</em></code>} {ATTACH <code><em>layer-name1</em></code>} {ANGLE = ALL/90/45/NON-45/ACUTE/
NON-90/NON-ACUTE}</pre>
<a id="pgfId-1015003"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
TEXT = <code><em>text-layer layerPurpose </em></code>{TEXTTYPE <code><em>text-type</em></code>} {ATTACH 
<code><em>layer-name1</em></code>}{ANGLE = ALL/90/45/NON-45/ACUTE/NON-90
/NON-ACUTE}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015004"></a><code><em>layer-name</em></code> =<code><em> layer-purpose </em></code>TEXT = PIN</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015005"></a><code><em>layer-name</em></code> = <code><em>layer</em></code> PIN</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015006"></a><code><em>layer-name</em></code> = <code><em>IDTEXT layer</em></code></pre>
<h4>
<a id="pgfId-1015007"></a>Description</h4>

<p>
<a id="pgfId-1015009"></a>The layer-name variable assigns names to layout layers. You can <a id="marker-1015008"></a>name layers from <a id="marker-1015011"></a>GDSII formats. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015016"></a>Dracula can read the same layer for both TEXT and CTEXT text, but you cannot attach text in the same layer to different layers. In the following example, some of the text attached to MET is lost:</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015017"></a>POLY=3       CTEXT=29      ATTACH=POLY<br />MET=6        CTEXT=29      ATTACH=MET<br />VAPOX=7&#160;&#160;    TEXT=29</pre>
<h4>
<a id="pgfId-1015018"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015020"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-name</em></span><a id="marker-1015019"></a></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018000"></a> User-defined layer name. The layer-name can have a maximum of seven alphanumeric characters and no special characters. The first character must be a letter. You can use the same layer name on more than one line to group layers from different layer numbers or datatypes. Also, you can use inclusive range values (for example, metal = 1:3). </p>

<p class="webflare-indent1">
<a id="pgfId-1015021"></a> You cannot use the name &#8220;TEMP&#8221; for any layer. This name is reserved for a temporary Dracula file.</p>

<p><strong>
<a id="pgfId-1015023"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-number</em></span><a id="marker-1015022"></a></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018009"></a> The number of the assigned layer in the layout CAD system. You can use inclusive range values. For GDSII, the supported range of layer-number is 0-255. For DFII formats, specify the layer-name. </p>
<p><strong>
<a id="pgfId-1018014"></a><code>off-grid</code> </strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018017"></a>Checks the off-grid value of each input layer. You can specify different off-grid values for each input layer.</p>
<p><strong>
<a id="pgfId-1018022"></a><span class="webflare-courier-new" style="white-space:pre"><em>data-type</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018025"></a> Valid only for GDSII. You can specify a range value (for example, DATATYPE=7:10). The supported range is 0-255. The default is all datatypes.</p>
<p><strong>
<a id="pgfId-1018030"></a><span class="webflare-courier-new" style="white-space:pre"><em>text-layer</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018033"></a> You can designate text as a layer-name so that it is associated with a layer number, for example, text = 40 ATTACH metal. You can use a range value, for example, TEXT=11:14. The default is that TEXT is not used.</p>
<p><strong>
<a id="pgfId-1018038"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-purpose</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018041"></a> Extracts objects from Design Framework II based on layer purpose information you specify in the rule file. A Dracula layer can include EDGE or Design Framework II layer purpose information. The default includes all layer purposes except purpose pin. </p>
<p><strong>
<a id="pgfId-1018046"></a><span class="webflare-courier-new" style="white-space:pre"><em>text-type</em></span><a id="marker-1015029"></a> </strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018049"></a>Field numbers associated with TEXT text-layer. You can use a range value. The default is all text types.</p>
<p><strong>
<a id="pgfId-1018054"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-name1</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018057"></a> Layer-name for a layer specified in the TEXTSEQUENCE or CONNECT-LAYER commands. The ATTACH command is optional. </p>
<p><strong>
<a id="pgfId-1018062"></a><code>ANGLE</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018065"></a><code>&#160;&#160;&#160;&#160;</code>You can choose certain shapes of polygons as output from the Dracula job into your layer database. You can only use one ANGLE command per layer number. </p>
<p><strong>
<a id="pgfId-1018070"></a><code>ALL</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018073"></a><code>&#160;&#160;&#160;&#160;</code>Outputs all polygons. Default. </p>
<p><strong>
<a id="pgfId-1018078"></a><code>90</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018081"></a><code>&#160;&#160;&#160;&#160;</code>Outputs only rectangles with edges parallel to the x or y axis. </p>
<p><strong>
<a id="pgfId-1018086"></a><code>NON-90</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018089"></a> Outputs only polygons containing one edge that is not 90 degrees to the x or y axis. These are non-manhattan polygons. </p>
<p><strong>
<a id="pgfId-1018094"></a><code>45</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018097"></a><code>&#160;&#160;&#160;&#160;</code>Outputs all polygons that have all edges on either 45, 135, 225, or 315 degrees or manhattan.</p>
<p><strong>
<a id="pgfId-1018106"></a><code>NON-45</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018109"></a> Outputs only polygons containing one edge that is not a multiple of 45 degrees to the axis. </p>
<p><strong>
<a id="pgfId-1018117"></a><code>ACUTE</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018120"></a><code>&#160;&#160;&#160;&#160;</code>Outputs only polygons containing one acute angle. </p>
<p><strong>
<a id="pgfId-1018125"></a><code>NON-ACUTE</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018128"></a>  Outputs only polygons not containing any acute angle.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015040"></a>You cannot use the ANGLE command to process a combination of multiple shapes. </div>

<h4>
<a id="pgfId-1015041"></a>Example 1</h4>

<p>
<a id="pgfId-1015044"></a><a id="marker-1015043"></a>GDSII example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015045"></a>diffus      = 2 <br />metal       = 9<br />poly        = 8<br />implant     = 4   <br />metal1      = 12 <br />metal1      = 22 <br />Diff        = 1   <br />Emitter     = 3:6 <br />base        = 7   <br />metal       = 10:14<br />TEXT 10 ATTACH metal<br />TEXT 16 ATTACH scrdrn <br />TEXT = 20 ATTACH poly<br /></pre>

<p>
<a id="pgfId-1015048"></a>Dracula reads the layer-name commands and processes the data line by line. To split the data onto multiple layers using the DATATYPE or TEXTTYPE commands, you must assign the DATATYPE and TEXTTYPE layer names first. </p>

<h4>
<a id="pgfId-1015049"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015050"></a>emitter = 1 DATATYPE = 2
emitb = 1 DATATYPE = 1:3
nplus = 1
TEXT = 18&#160;&#160;&#160;&#160; TEXTTYPE = 5&#160;&#160;</pre>

<p>
<a id="pgfId-1015051"></a>The emitter layer contains layout data from layer 1 of DATATYPE 2. The emitb layer contains layout data from layer 1 of DATATYPE 1 and DATATYPE 3. The emitb layer does not contain DATATYPE 2 because this was previously used for the emitter layer. The nplus layer contains all data on layer 1 with DATATYPE 0 and DATATYPE 4-63. This command reads text from layer 18 of TEXTTYPE 5. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015052"></a>If you define the nplus layer first, it contains all layout data from layer1, leaving the emitter and emitb layers empty.</div>

<h4>
<a id="pgfId-1015053"></a>Example 3</h4>

<p>
<a id="pgfId-1016145"></a>Dracula layers can include EDGE or Design Framework II layer-purpose information. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016146"></a>poly        = poly drawing<br />pwell       = pwell all<br />metal       = metal<br />srcdrn      = srcdrn pin<br /></pre>

<p>
<a id="pgfId-1016147"></a>If you assign <em>PIN</em> to the layer-name variable, Dracula extracts the geometry on the pin purpose layer. If you specify TEXT = <em>PIN</em>, Dracula extracts the text from the pin purpose layer.</p>
<p>
<a id="pgfId-1015057"></a>When you define the pin purpose to create text, Dracula reads in only the pin purpose shapes. When the pins are on a design layer purpose pin, you must define a separate layer for the text, such as </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015058"></a>ME1 = metal1<br />TEXT=metal1 pin attach=ME1<br />TEXT=metal1 attach=ME1</pre>
<h4>
<a id="pgfId-1015062"></a>Example 5</h4>

<p>
<a id="pgfId-1015063"></a>IDTEXT layer example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015064"></a>*DESCRIPTION<br />PRIMARY      = a1 <br />SYSTEM       = GDS2<br />SCALE        = .001 MICRON <br />PRINTFILE    = DRC3<br />RESOLUTION   = .001 MICRON<br />INDISK       = in.db<br />OUTDISK      = DRC3OUT<br />*END<br />;<br />*INPUT-LAYER<br />metal  = 1 <br />idtxt1 = IDTEXT 1 <br />poly   = 2 TEXT 2<br />idtxt2 = IDTEXT 2<br />cont   = 3<br />*END<br />;<br />*OPERATION<br />SELECT metal BY idtxt1 LABEL[t] {RES111,RES222,RES333} pad1<br />OUTPUT mpad 2<br />SELECT poly  BY idtxt2 LABEL[t&#39;] RES? pad2<br />*END</pre>
<h3>
<a id="pgfId-1016630"></a>OUT-ANNOTATED-LAYER</h3>
<a id="pgfId-1016631"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
OUT-ANNOTATED-LAYER = <code><em> LAYER1  LAYER2 LAYER3 ... </em></code></pre>
<h4>
<a id="pgfId-1016632"></a>Description</h4>

<p>
<a id="pgfId-1016633"></a>With this command, a user can define the names of the output layers to be annotated. Default output layers are layers in CONNECT-LAYER and device layers in the ELEMENT command, for example ELEMENT MOS[P] NGATE POLY NSD PWELL).</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1016670"></a>OUT-ANNOTATED-LAYER requires the command SYSOUT=AGDS2 in the Description Block. For more information, see <em>&#8220;</em><a href="chap11.html#55514">&#8220;SYSOUT&#8221;</a>.</div>

<h4>
<a id="pgfId-1016674"></a>Argument</h4>
<p><strong>
<a id="pgfId-1016635"></a><span class="webflare-courier-new" style="white-space:pre"><em>LAYER1 LAYER2 LAYER3 ...</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018148"></a> The name of the output layer to be annotated</p>
<h4>
<a id="pgfId-1016636"></a>Example 1 </h4>

<p>
<a id="pgfId-1016637"></a>In the following example, the output layers to be annotated are ME1, ME2, ME3, and ME4.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016638"></a>OUT-ANNOTATED-LAYERS = ME1 ME2 ME3 ME4</pre>
<h3>
<a id="pgfId-1015067"></a>PAD-<a id="marker-1015066"></a>LAYER</h3>
<a id="pgfId-1015068"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PAD-LAYER = <code><em>pad_layer [affected_layer1] [affected_layer2...]</em></code></pre>
<h4>
<a id="pgfId-1015069"></a>Description</h4>

<p>
<a id="pgfId-1015070"></a>Specifies the location of the pad in the primary cell for PRE or HPRE. Extra terminals are formed automatically in PRE or HPRE jobs by the LOGICAL operation on the CUT-TERM input conduction-layer and by the pad-layer defined in the PAD-LAYER command. Pad terminals are selected from each RCONNECT-LAYER geometry that overlaps the pad-layer and are reported as the pad name/number in the .SUBCKT statement in the SPICE/DSPF file by LPESELECT or SPFSELECT commands. You must specify the PAD-LAYER command in the PRE or HPRE jobs.</p>
<p>
<a id="pgfId-1015071"></a>You can also specify the affected layers in a PAD-LAYER command so that extra terminals or circuit pads are formed only on the affected layers you specify. You can specify multiple PAD-LAYER commands, with different pad layer names and different affected layers specified for each, in the same rule file.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015072"></a>Dracula does not support this command if the terminal layer from CUT-TERM is not in the RCONNECT-LAYER. In addition, this command is not supported if the affected layers are not CUT-TERM layers.</div>

<h4>
<a id="pgfId-1015073"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1015074"></a><code>modes</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018155"></a><code>&#160;&#160;&#160;&#160;</code>Composite or flat.</p>
<h4>
<a id="pgfId-1015075"></a>Argument</h4>
<p><strong>
<a id="pgfId-1015076"></a><span class="webflare-courier-new" style="white-space:pre"><em>pad_layer</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018161"></a> The name of an input layer from the layout database or a derived layer.</p>
<p><strong>
<a id="pgfId-1018166"></a><span class="webflare-courier-new" style="white-space:pre"><em>affected_layer</em></span> </strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018169"></a>Cut-term layer. This can either be conduction layers or derived layers that are affected by <em>pad_layer</em>. If you do not specify any affected layers, the <em>pad_layer</em> affects all reconnect layers. </p>
<h4>
<a id="pgfId-1015078"></a>Example 1 </h4>

<p>
<a id="pgfId-1015079"></a>In the following example, an input layer is defined as a pad-layer, and the pad-layer affects all reconnect-layers.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016158"></a>*INPUT-LAYER<br /> METAL     = 10<br /> MET2      = 12 TEXT = 30<br /> VAPOX     = 60<br /> PAD-LAYER = VAPOX</pre>
<h4>
<a id="pgfId-1015081"></a>Example 2</h4>

<p>
<a id="pgfId-1015082"></a>In the following example, a derived layer is defined as a pad-layer, and the pad-layer affects all reconnect-layers.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015083"></a>*INPUT-LAYER<br /> METAL = 10<br /> PAD-LAYER = PPAD<br /> ...<br />*OPERATION<br /> SELECT METAL LABEL[R] ? PPAD</pre>
<h4>
<a id="pgfId-1015084"></a>Example 3</h4>

<p>
<a id="pgfId-1015085"></a>In the following example, pad layer PAD1 affects CUT-TERM layer METAL1 and METAL2. Pad layer PAD2 affects CUT-TERM layer METAL3. Pad layers PAD1 and PAD2 do not affect any other RCONNECT layers. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015086"></a>CONNECT-LAYER = PSB NWELL PSD NSD POLY METAL1 METAL2 METAL3<br />RCONNECT-LAYER = PSUB NWELL PWELL NSD PSD PTRM M1TRM M2TRM M3TRM<br />PAD-LAYER = PAD1,METAL1,METAL2<br />PAD-LAYER = PAD2,METAL3<br />....<br />CUT-TERM METAL1 CONT M1RES M1TRM<br />CUT-TERM METAL2 VIA M2RES M2TRM<br />CUT-TERM METAL3 VIA M3RES M3TRM<br />....</pre>
<h4>
<a id="pgfId-1015087"></a>Example 4</h4>

<p>
<a id="pgfId-1015088"></a>In the following example, the PAD layer affects the derived layer, M1BIAS.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015089"></a>RCONNECT-LAYER = ...M1TRM</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015090"></a>PAD-LAYER = PAD M1BIAS</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015091"></a>...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015092"></a>CUT-TERM M1BIAS CON M1RES M1TRM</pre>

<p>
<a id="pgfId-1015093"></a>Dracula does not support the PAD-LAYER command if the terminal layer from CUT-TERM is not in the RCONNECT-LAYER. For example, the following command is not valid:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015094"></a>RCONNECT-LAYER = ...M1TRM<br />PAD-LAYER = PAD,M1Z<br />...<br />CUT-TERM M1Z CON M1RES OM1TRM<br />OR OM1TRM OTHER M1TRM<br />...<br />RCONNECT M1TRM POLY BY CON<br />...</pre>

<p>
<a id="pgfId-1015095"></a>In addition, Dracula does not support the following command because the affected layers psd and nsd are not CUT-TERM layers.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015096"></a>CONNECT-LAY = PSUB NWELL PWELL NSD PSD,POLY1 METAL<br />RCONNECT-LAY = PSUB NWELL PWELL NSD PSD PTRM MTRM<br />....<br />PAD-LAYER = VAPOX,METAL1,PSD, NSD<br />PAD-LAYER = PAD,POLY1<br />....<br />CUT-TERM METAL1 CONT MRES MTRM<br />CUT-TERM POLY1 CONT PRES PTRM<br />.....</pre>
<h3>
<a id="pgfId-1015099"></a>PIN-TEXT-<a id="marker-1015098"></a>LAYER</h3>
<a id="pgfId-1015100"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PIN-TEXT-LAYER = <code><em>pin_layer [layer] [value] </em></code></pre>
<h4>
<a id="pgfId-1015101"></a>Description</h4>

<p>
<a id="pgfId-1015103"></a>Creates an additional physical layer for each <a id="marker-1015102"></a>text layer. This physical layer creates squares that surround all text on the composite plane only. This layer can be used for <a id="marker-1015104"></a>logical operations.</p>
<p>
<a id="pgfId-1015105"></a>If the pad-layer is generated from PIN-TEXT-LAYER, different pin layers can be generated from different texted layers if you specify the texted layer name in PIN-TEXT-LAYER command. You can specify multiple PIN-TEXT-LAYER commands in the same rule file if you specify multiple pad-layer commands. The PIN-TEXT-LAYER command includes text from EDTEXT-FILE.</p>

<h4>
<a id="pgfId-1015106"></a>Checking Method</h4>
<p><strong>
<a id="pgfId-1015107"></a><code>modes</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018176"></a><code>&#160;&#160;&#160;&#160;</code>Composite.</p>
<h4>
<a id="pgfId-1015108"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015109"></a><span class="webflare-courier-new" style="white-space:pre"><em>pin_layer</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018182"></a> The corresponding pin layer generated from layer. The layer name can have a maximum of seven alphanumeric characters and no special characters. The first character must be a letter.</p>
<p><strong>
<a id="pgfId-1018187"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018190"></a> A layer with text.</p>
<p><strong>
<a id="pgfId-1018196"></a><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018199"></a> Size of the squares that surround the text. The value must be a positive integer, can be less than 1, and can have a maximum of three digits. Default value is 2, which means the square is 2 by 2. The minimum value is one resolution unit.</p>
<h4>
<a id="pgfId-1015112"></a>Example</h4>

<p>
<a id="pgfId-1015113"></a>The following example generates pin-layer P1 for text on METAL1 and P2 for text of METAL2. Pin-layer P1 is defined as a pad-layer that affects METAL1. Pin-layer P2 is defined as a pad-layer that affects P2. If text on METAL1 falls inside an overlapped area of METAL1 and METAL2, only one terminal (on METAL1) is formed.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015114"></a>PIN-TEXT-LAYER=P1, METAL1<br />PIN-TEXT-LAYER=P2, METAL2 3<br />PAD-LAYER=P1, METAL1<br />PAD-LAYER=P2, METAL2</pre>
<h3>
<a id="pgfId-1015116"></a>RCONNECT-LAYER</h3>
<a id="pgfId-1015117"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
RCONNECT-LAYER = <code><em>layer1 layer2</em></code>... </pre>
<h4>
<a id="pgfId-1015118"></a>Description</h4>

<p>
<a id="pgfId-1015123"></a>S<a id="marker-1015119"></a><a id="marker-1015120"></a><a id="marker-1015121"></a>pecifies the <a id="marker-1015122"></a>mask order in which to reconnect the layout circuit after PRE splits conduction layers to generate parasitic resistors.</p>
<p>
<a id="pgfId-1015124"></a>This command is required if you include an RCONNECT command in the Operation block.</p>
<p>
<a id="pgfId-1015125"></a>This command lists the same layers as the CONNECT-LAYER commands, substituting the <a id="marker-1015126"></a>conduction layers from the RCONNECT commands that have been split into resistor and resistor terminal layers for the corresponding <a id="marker-1015127"></a>resistor terminal layers. The syntax of this command is the same as the CONNECT-LAYER command. You can specify layer names in a single RCONNECT-LAYER line or in multiple RCONNECT-LAYER commands. </p>

<h4>
<a id="pgfId-1015128"></a>Checking Methods</h4>
<p><strong>
<a id="pgfId-1015129"></a><code>modes</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018206"></a><code>&#160;&#160;&#160;&#160;</code>Flat and composite.</p>
<p><strong>
<a id="pgfId-1018211"></a><code>checks</code></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018214"></a><code>&#160;&#160;&#160;&#160;</code>PRE and HPRE.</p>
<h4>
<a id="pgfId-1015131"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015132"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer1 layer2</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018220"></a> The layer names that appear in the RCONNECT operation. Each layer name must be at least three characters long. If the layer names appear in an ELEMENT command, the first three characters must be unique.</p>
<h4>
<a id="pgfId-1015133"></a>Example</h4>

<p>
<a id="pgfId-1015134"></a>In this example, the POLY conduction layer is split into a resistor terminal layer, PTRM, and a resistor layer. The RCONNECT-LAYER sequence of parameters is the same as the CONNECT-LAYER parameters except for substituting PTRM for POLY. The RCONNECT command parameters also resemble the CONNECT parameters, with PTRM substituting for POLY.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015135"></a>CONNECT-LAYER = NSD POLY MET1 MET2<br />RCONNECT-LAYER = NSD PTRM MET1 MET2</pre>

<h3>
<a id="pgfId-1016723"></a>RCX-LAYERS</h3>
<a id="pgfId-1016724"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
RCX-LAYERS = <code><em> LAYER1  LAYER2 ... </em></code></pre>
<h4>
<a id="pgfId-1016725"></a>Description</h4>

<p>
<a id="pgfId-1016726"></a>This command defines the layers which are passed into Assura RCX through the <code>xcn</code> file created by the <code>GENXCN</code> utility. Please refer to the <em>Assura Physical Verification Developer Guide</em> for more information on the <code>xcn</code> file.</p>
<p>
<a id="pgfId-1016809"></a>This command works only if <code>RCX-MODE=YES</code> or <code>RCX-MODE=LAYOUTONLY</code> (see <a href="chap11.html#65590">&#8220;RCX-MODE&#8221;</a>). For additional information see the <em>Dracula Users Guide</em>, &#8220;Running the DracToRCX Interface&#8221;.</p>

<h4>
<a id="pgfId-1016731"></a>Argument</h4>
<p><strong>
<a id="pgfId-1016732"></a><span class="webflare-courier-new" style="white-space:pre"><em>LAYER1 LAYER2 ...</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018227"></a> Specific layers which will be used by <code>GENXCN</code> to create the <code>xcn</code> file required by RCX. The specified layer must be defined in the <code>INPUT-LAYER</code> section of the rule file.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1016825"></a>Layer names must have at least three characters.</div>
<h4>
<a id="pgfId-1016733"></a>Example</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016735"></a>*DESCRIPTION</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016767"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016768"></a>RCX-MODE=YES</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016769"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016770"></a>*END</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016771"></a></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016772"></a>*INPUT LAYER</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016774"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016775"></a>*END</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016793"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016790"></a>RCX-LAYERS = mt1, mt2</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016791"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016792"></a>*END</pre>

<h3>
<a id="pgfId-1015138"></a><a id="62370"></a>SUBSTRATE </h3>
<a id="pgfId-1015139"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SUBSTRATE = <code><em>layer-name  layer-number</em></code> </pre>
<h4>
<a id="pgfId-1015140"></a>Description</h4>

<p>
<a id="pgfId-1015142"></a>G<a id="marker-1015141"></a>enerates the substrate layer you can use as a regular layer in an operation. Dracula forms the geometries on the substrate layer in the following ways:</p>
<ul><li>
<a id="pgfId-1015143"></a>In flat mode, the substrate layer encloses all the layout data of the processed chip in a rectangle 1.0 micron or 1.0 mil larger. For hierarchical, cell, or composite modes, the substrate layer is slightly different. </li><li>
<a id="pgfId-1015144"></a>In the cell plane of each Hcell, the substrate layer is the same as the bounding box of the Hcell. You can supersede the &#8220;bounding-box&#8221; area by providing a rectilinear boundary using the CELLBNDY command. No automatic growing takes place. </li><li>
<a id="pgfId-1015145"></a>In the composite plane, the substrate region of each cell placement is trimmed from the composite substrate layer. The outer boundary of the composite substrate grows as in flat mode (by 1.0 micron or 1.0 mil), but the interior contains holes as the result of trimming.</li></ul>


<p>
<a id="pgfId-1015146"></a>The SUBSTRATE and CELLBNDY commands affect the formation of the <a id="marker-1015147"></a>substrate layer, which in turn affects the formation of the reverse-field layer. The connectivity of the reverse-field layer might affect HLVS and HLPE jobs. The example below illustrates a possible problem. </p>
<p>
<a id="pgfId-1015148"></a>Dracula issues the following fatal error message if the WINDOW command specifies a window outside the substrate layer:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015149"></a>*/FE***&#160;&#160;FATAL ERROR DETECTED:&#160;&#160;NO DATA HAVE BEEN FOUND</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015150"></a>-- PLEASE CHECK DATABASE AND WINDOW SIZES.</pre>
<h4>
<a id="pgfId-1015151"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015153"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-name</em></span><a id="marker-1015152"></a></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018238"></a> The name of the generated rectangle. The layer name can have a maximum of seven alphanumeric characters and can have no special <a id="marker-1015154"></a>characters. The first character must be a letter. </p>
<p><strong>
<a id="pgfId-1018243"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-number</em></span><a id="marker-1015155"></a></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018246"></a> A two-character dummy field. You can specify any number from 0 to 99. The number is not significant.</p>
<h4>
<a id="pgfId-1015157"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015158"></a>SUBSTRATE = BULK 63<br />NOT BULK PWELL NSUB</pre>

<p>
<a id="pgfId-1015159"></a>The NSUB layer of a cell in flat mode and the NSUB layer of the same cell (as an Hcell) in cell mode might differ because of differences in the BULK layer. If this causes connectivity problems, especially in cell mode, use the CELLBNDY command to alter the boundary by making it slightly larger than default. If you have a problem with open circuits, you can provide <a id="marker-1015160"></a>virtual wire texting to connect the wire.</p>

<h3>
<a id="pgfId-1015162"></a>TEMPORARY-LAYER</h3>
<a id="pgfId-1015163"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
TEMPORARY-LAYER = <code><em>layer-name1</em></code>  <code><em>layer-name2</em></code>...</pre>
<h4>
<a id="pgfId-1015164"></a>Description</h4>

<p>
<a id="pgfId-1015166"></a>S<a id="marker-1015165"></a>pecifies the layer names you use repeatedly so that the preprocessor does not issue a warning each time it encounters a repeated name. This command does not suppress any real error messages. You can repeat this command as often as necessary, but you need to specify each repeated command only once.</p>
<p>
<a id="pgfId-1015167"></a>This command is useful when you use the same layer name repeatedly to save disk space or improve readability of your rules. </p>
<b>Note:</b><br />
<a id="pgfId-1016587"></a>
<ul><li>
<a id="pgfId-1016588"></a>In Distributed Dracula (DD) mode, temporary layers are assigned different names internally. The TEMPORARY-LAYER command should not be used in DD mode. Even if it&#8217;s used, it has no effects.</li><li>
<a id="pgfId-1016589"></a>In single mode, TEMPORARY-LAYER command has effects. An original mask layer should not also be defined as a TEMPORARY-LAYER.</li></ul>


<h4>
<a id="pgfId-1015168"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015170"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer-name</em></span></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018253"></a> N<a id="marker-1015169"></a>ame of the layer assigned as a temporary-layer. </p>
<h4>
<a id="pgfId-1015171"></a>Example</h4>

<p>
<a id="pgfId-1015172"></a>In this example, in the first line of the Operation block, abc is the name assigned as the result of the AND operation. In the second line, abc is assigned as the result of the NOT operation. Normally, Dracula issues a WARNING to prevent you from directing the output of multiple commands to abc. If you specify the TEMPORARY-LAYER command, the preprocessor does not issue a warning message and allows multiple use of abc as an output.</p>
<p>
<a id="pgfId-1015173"></a>An error message appears for the last command because the program needs real in the final output stage to output the polyg01 error file. The TEMPORARY-LAYER command does not suppress any real <a id="marker-1015174"></a>error messages. If an error of this type occurs, use a name other than real for the last logical operation.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015175"></a>*INPUT-LAYER <br />. <br />. <br />TEMPORARY-LAYER = abc, nbc, real <br />*END <br />*OPERATION <br />AND ttt ccc abc <br />NOT abc ddd abc <br />SELECT eee cut fff nbc <br />OR abc nbc nbc <br />OR abc cbs real OUTPUT polyg01 <br />OR abc obs real &lt;--ERROR!</pre>
<h3>
<a id="pgfId-1015177"></a>TEXTSEQUENCE </h3>
<a id="pgfId-1015178"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
TEXTSEQUENCE = <code><em>layer1  layer2</em></code>...</pre>
<h4>
<a id="pgfId-1015179"></a>Description</h4>

<p>
<a id="pgfId-1015182"></a>R<a id="marker-1015180"></a><a id="marker-1015181"></a>edefines the text sequence generated by the CONNECT-LAYER command. The TEXTSEQUENCE command reorders the interconnect layers for attaching text. Text attaches first to the rightmost argument, then in order from right to left, similar to the CONNECT-LAYER command.</p>

<h4>
<a id="pgfId-1015183"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1015185"></a><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span><a id="marker-1015184"></a></strong></p>
<p class="webflare-indent1">
<a id="pgfId-1018260"></a> The name of the layer in the CONNECT-LAYER command (excluding contact layers). </p>
<h4>
<a id="pgfId-1015186"></a>Example</h4>

<p>
<a id="pgfId-1015187"></a>In this example, TEXTSEQUENCE reorders the text assigned to the interconnect layers poly and srcdrn and eliminates text attachments to the metal layer. Dracula tests whether the text attaches or falls in the srcdrn layer and assigns a <a id="marker-1015188"></a>text name accordingly. For text not assigned to the srcdrn layer, Dracula tests for the poly layer and assigns the text name accordingly. It disregards text not assigned to either layer.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015189"></a>CONNECT-LAYER = srcdrn poly metal <br />TEXTSEQUENCE = poly srcdrn </pre>
<p>
<a id="pgfId-1014140"></a>.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap11.html" id="prev" title="Description Block Commands">Description Block Commands</a></em></b><b><em><a href="chap13.html" id="nex" title="Operation Block Commands">Operation Block Commands</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>