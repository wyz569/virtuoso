
<html><head><title>calCreateSpecialFunction</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="urajput" />
<meta name="CreateDate" content="2023-10-30" />
<meta name="CreateTime" content="1698710116" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes SKILL functions for Virtuoso Visualization and Analysis XL" />
<meta name="DocTitle" content="Virtuoso Visualization and Analysis XL SKILL Reference" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="calCreateSpecialFunction" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vivaxlskill" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-30" />
<meta name="ModifiedTime" content="1698710116" />
<meta name="NextFile" content="calculatorFunc_re_calCreateSpecialFunctionsForm.html" />
<meta name="Order" content="2" />
<meta name="Group" content="Virtuoso Visualization and Analysis XL" />
<meta name="Platform" content="Custom IC Design,Custom IC Design" />
<meta name="PrevFile" content="calculatorFunc_re_calCalculatorFormCB.html" />
<meta name="c_product" content="Spectre,Virtuoso Analog Design Environment" />
<meta name="Product" content="Spectre,Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Spectre,Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Visualization and Analysis XL SKILL Reference -- calCreateSpecialFunction" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="api reference" />
<meta name="prod_feature" content="ViVA" />
<meta name="prod_subfeature" content="SKILL,Calculator Functions" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vivaxlskillIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vivaxlskillTOC.html">Contents</a></li><li><a class="prev" href="calculatorFunc_re_calCalculatorFormCB.html" title="calCalculatorFormCB">calCalculatorFormCB</a></li><li style="float: right;"><a class="viewPrint" href="vivaxlskill.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="calculatorFunc_re_calCreateSpecialFunctionsForm.html" title="calCreateSpecialFunctionsForm">calCreateSpecialFunctionsForm</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Visualization and Analysis XL SKILL Reference<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_calCreateSpecialFunction" title="calCreateSpecialFunction"></a><h3>
<a id="pgfId-1112286"></a><a id="31590"></a>calCreateSpecialFunction</h3>
<a id="pgfId-1112292"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
calCreateSpecialFunction(
[ <code>?formSym</code> <code><em>s_formSymbol</em></code> ]
[ <code>?formInitProc</code> <code><em>s_formInitializeProcedure</em></code> ]
[ <code>?formTitle</code> <code><em>t_formTitle</em></code> ]
[ <code>?formCallback</code> <code><em>t_formCallback</em></code> ]
[ <code>?envGetVal</code> <code><em>t_envGetVal</em></code> ]
)
=&gt; <code>nil</code></pre>
<h4>
<a id="pgfId-1112510"></a>Description</h4>

<p>
<a id="pgfId-1112533"></a>Encapsulates the initialization and display of forms defined for a special (user-defined) function.</p>

<h4>
<a id="pgfId-1112548"></a>Arguments</h4>
<table class="webflareTable" id="#id1112563">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1112565"></a><code>?formSym</code> <span class="webflare-courier-new" style="white-space:pre"><em>s_formSymbol</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112569"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112571"></a>Symbol of the form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1112573"></a><code>?formInitProc</code> <span class="webflare-courier-new" style="white-space:pre"><em>s_formInitializeProcedure</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112577"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112579"></a>Symbol of the procedure that creates the form entries and form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1112644"></a><code>?formTitle</code> <span class="webflare-courier-new" style="white-space:pre"><em>t_formTitle</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112585"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112587"></a>String describing the special function. This title is placed on the window border of the form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1112589"></a><code>?formCallback</code> <span class="webflare-courier-new" style="white-space:pre"><em>t_formCallback</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112593"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112595"></a>Callback for the form that processes the form fields and enters the expression into the calculator buffer.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1112597"></a><code>?envGetVal</code> <span class="webflare-courier-new" style="white-space:pre"><em>t_envGetVal</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112601"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112603"></a>Gives the name of the partition for the calculator tool. The function is called using this variable to retrieve the value for all the form fields (if set) from the default environment.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1112830"></a>Value Returned</h4>
<table class="webflareTable" id="#id1122375">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1122377"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1122379"></a>The form for the special function is initialized and displayed.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1122381"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1122383"></a>Indicates an error.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1112849"></a>Examples</h4>

<p>
<a id="pgfId-1119637"></a>The following example defines a form <code>myForm</code> for a user-defined function. The form is represented by a symbol <code>specialForm</code>.</p>
<p>
<a id="pgfId-1121462"></a>This form takes four arguments: <em>Start</em>, <em>Stop</em>, <em>Threshold</em>, and <em>Edge</em> <em>Type</em>.</p>
<p>
<a id="pgfId-1121388"></a>These arguments are represented by symbols <code>a</code>, <code>b</code>, <code>c</code>, and <code>d</code>, respectively. </p>
<p>
<a id="pgfId-1120600"></a>The first three arguments are string fields and the fourth argument <em>Edge</em> <em>Type</em> is a cyclic field. Valid values for the argument <em>Edge</em> <em>Type</em> are <code>Rising</code> and <code>Falling</code>. The default value is <code>Rising</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121192"></a>procedure(myForm()</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121193"></a> let((a b c d fieldList)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121194"></a>  a=ahiCreateStringField(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121195"></a>   ?name &#39;a</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121196"></a>   ?prompt &quot;Start&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121197"></a>   ?value &quot;&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121198"></a>  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121199"></a>  b=ahiCreateStringField(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121200"></a>   ?name &#39;b</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121201"></a>   ?prompt &quot;Stop&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121202"></a>   ?value &quot;&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121203"></a>  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121204"></a>  c=ahiCreateStringField(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121205"></a>   ?name &#39;c</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121206"></a>   ?prompt &quot;Threshold&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121207"></a>   ?value &quot;&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121208"></a>   )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121209"></a>  d=ahiCreateCyclicField(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121210"></a>   ?name &#39;d</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121211"></a>   ?prompt &quot;Edge Type&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121212"></a>   ?choices &#39;(&quot;Rising&quot; &quot;Falling&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121213"></a>   ?value &quot;Rising&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121214"></a>   ?defValue &quot;Rising&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121215"></a>  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121216"></a>  fieldList=list(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121217"></a>   list(a 20:10 230:10 90)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121218"></a>   list(b 20:40 230:10 90)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121219"></a>   list(c 20:70 230:10 90)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121220"></a>   list(d 20:110 230:10 90)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121221"></a>  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121222"></a> calCreateSpecialFunctionsForm(&#39;specialForm fieldList)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121223"></a>   )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121224"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1119835"></a>=&gt; myForm</pre>

<p>
<a id="pgfId-1120179"></a>The following example defines a callback procedure <code>myFunctionPlotCB</code> that calls the function <code>calCreateSpecialFunction</code>, which creates and displays the form <em>My</em> <em>Test</em> <em>Function</em> <em>Form</em> created for the user-defined function. The user-defined function is represented by a symbol <code>myTestFunction</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121136"></a>procedure(myFunctionPlotCB()</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121137"></a> calCreateSpecialFunction(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121138"></a>  ?formSym &#39;specialForm</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121139"></a>  ?formInitProc &#39;myForm</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121140"></a>  ?formTitle &quot;My Test Function Form&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121141"></a>  ?formCallback &quot;calSpecialFunctionInput(&#39;myTestFunction &#39;( a b c d))&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121142"></a> )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121143"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1119845"></a>=&gt; myFunctionPlotCB</pre>

<p>
<a id="pgfId-1120368"></a>The following example registers the function <code>myTestFunction</code> with its callback <code>myFunctionPlotCB</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121164"></a>calRegisterSpecialFunction(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121165"></a> list(&quot;myTestFunction&quot; &#39;myFunctionPlotCB)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121166"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121160"></a>=&gt; nil</pre>

<p>
<a id="pgfId-1120364"></a>The next time you open the Calculator, the function <code>myTestFunction</code>, which you defined using the function <code>calCreateSpecialFunction</code> appear in the <em>SKILL</em> <em>User</em> <em>Defined</em> <em>Functions</em> category of the <em>Function</em> <em>Panel</em>, as shown in the following figure.</p>

<p>
<a id="pgfId-1120789"></a></p>
<div class="webflare-div-image">
<img width="668" height="478" src="images/calculatorFunc-22.gif" /></div>

<p>
<a id="pgfId-1121855"></a>When you click <em>myTestFunction</em> from the <em>SKILL</em> <em>User</em> <em>Defined</em> <em>Functions</em> category in the <em>Function</em> <em>Panel</em>, the form that you created for the user-defined function using the function <code>calCreateSpecialFunctionsForm</code> opens.</p>

<p>
<a id="pgfId-1122080"></a></p>
<div class="webflare-div-image">
<img width="668" height="217" src="images/calculatorFunc-23.gif" /></div>

<p>
<a id="pgfId-1122094"></a>Specify the arguments <em>Start</em>, <em>Stop</em>, <em>Threshold</em>, and <em>Edge</em> <em>Type</em> to <code>20u</code>, <code>100u</code>, <code>1.5</code>, and <code>Falling</code>, respectively and then click <em>OK</em>.</p>
<p>
<a id="pgfId-1121699"></a>The following expression is built in the buffer with the specified form fields.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1122307"></a>myTestFunction(v(&quot;v2net&quot; ?result &quot;tran&quot;),20u,100u,1.5,&quot;Falling&quot;)</pre>
<p>
<a id="pgfId-1120945"></a></p>
<div class="webflare-div-image">
<img width="668" height="452" src="images/calculatorFunc-24.gif" /></div>

<p>
<a id="pgfId-1120847"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="calculatorFunc_re_calCalculatorFormCB.html" id="prev" title="calCalculatorFormCB">calCalculatorFormCB</a></em></b><b><em><a href="calculatorFunc_re_calCreateSpecialFunctionsForm.html" id="nex" title="calCreateSpecialFunctionsForm">calCreateSpecialFunctionsForm</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>