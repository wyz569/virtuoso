
<html><head><title>CDB/OpenAccess Database Differences </title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rishu" />
<meta name="CreateDate" content="2023-09-22" />
<meta name="CreateTime" content="1695381134" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Adoption guide for moving from DFII on the CDB database to the Virtuoso Studio design environment on OpenAccess." />
<meta name="DocTitle" content="Virtuoso Studio Design Environment Adoption Guide" />
<meta name="DocType" content="Installation" />
<meta name="FileTitle" content="CDB/OpenAccess Database Differences" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="dfoaAdopt" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-22" />
<meta name="ModifiedTime" content="1695381134" />
<meta name="NextFile" content="chap4.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="chap2.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Studio Design Environment Adoption Guide -- CDB/OpenAccess Database Differences" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="dfoaAdoptIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="dfoaAdoptTOC.html">Contents</a></li><li><a class="prev" href="chap2.html" title="OpenAccess Adoption with CDBA">OpenAccess Adoption with CDBA</a></li><li style="float: right;"><a class="viewPrint" href="dfoaAdopt.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap4.html" title="OpenAccess Technology Data Changes">OpenAccess Technology Data Cha ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Studio Design Environment Adoption Guide<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>3
<a id="pgfId-398300"></a></h1>
<h1>
<a id="pgfId-398301"></a><hr />
<a id="98988"></a>CDB/OpenAccess Database Differences <hr />
</h1>

<p>
<a id="pgfId-386133"></a>This chapter describes differences in behavior between CDB and OpenAccess for the following subjects:</p>
<p>
<a id="pgfId-429398"></a><a href="chap3.html#53738">General Differences</a></p>
<p class="webflare-indent1">
<a id="pgfId-429406"></a><a href="chap3.html#37732">Using Function Calls on Standard Vias</a></p>
<p class="webflare-indent1">
<a id="pgfId-429416"></a><a href="chap3.html#73255">Calls to dbRefreshCellView</a></p>
<p class="webflare-indent1">
<a id="pgfId-429420"></a><a href="chap3.html#95156">Using the Schematic Bus Range Order Option</a></p>
<p class="webflare-indent1">
<a id="pgfId-429426"></a><a href="chap3.html#94096">Calls to dbReplaceProp for Abutment Groups</a></p>
<p class="webflare-indent1">
<a id="pgfId-429433"></a><a href="chap3.html#75497">Mark Net Command</a></p>
<p class="webflare-indent1">
<a id="pgfId-429440"></a><a href="chap3.html#47170">Enhancements in the Design Summary Form</a></p>
<p class="webflare-indent1">
<a id="pgfId-429446"></a><a href="chap3.html#33282">Calls to the cdsInit and dbInit Functions</a></p>
<p class="webflare-indent1">
<a id="pgfId-429452"></a><a href="chap3.html#73411">Defragmentation in OpenAccess</a></p>
<p class="webflare-indent1">
<a id="pgfId-429458"></a><a href="chap3.html#44607">Maximum Cellview Bounding Box</a></p>
<p class="webflare-indent1">
<a id="pgfId-429464"></a><a href="chap3.html#55365">Name Space Differences</a></p>
<p class="webflare-indent1">
<a id="pgfId-433706"></a><a href="chap3.html#77967">Database Size Differences Using Paths Versus PathSegs</a></p>
<p class="webflare-indent1">
<a id="pgfId-429470"></a><a href="chap3.html#29451">Escape Sequences in Names</a></p>
<p class="webflare-indent1">
<a id="pgfId-429476"></a><a href="chap3.html#92544">Backquote Character in Names</a></p>
<p class="webflare-indent1">
<a id="pgfId-432765"></a><a href="chap3.html#24739">Using Instance Parameters</a></p>
<p class="webflare-indent1">
<a id="pgfId-429482"></a><a href="chap3.html#86516">Instance Magnification Differences</a></p>
<p class="webflare-indent1">
<a id="pgfId-429488"></a><a href="chap3.html#56812">ITK Read-in Triggers</a></p>
<p class="webflare-indent1">
<a id="pgfId-429494"></a><a href="chap3.html#90186">Instance Masters on OpenAccess</a></p>
<p class="webflare-indent1">
<a id="pgfId-429500"></a><a href="chap3.html#25330">Order of Generating Objects</a></p>
<p class="webflare-indent1">
<a id="pgfId-429506"></a><a href="chap3.html#27756">Undo/Redo</a></p>
<p>
<a id="pgfId-429512"></a><a href="chap3.html#40578">Files</a></p>
<p>
<a id="pgfId-429537"></a><a href="chap3.html#51147">Pins</a></p>
<p class="webflare-indent1">
<a id="pgfId-429546"></a><a href="chap3.html#70590">Complex Pin Modeling</a></p>
<p class="webflare-indent1">
<a id="pgfId-432385"></a><a href="chap3.html#54041">Symbolic Device Masters</a></p>
<p class="webflare-indent1">
<a id="pgfId-432389"></a><a href="chap3.html#62686">Instance Pin (instPin) Objects</a></p>
<p>
<a id="pgfId-429553"></a><a href="chap3.html#27359">InstTerms and Terminals</a></p>
<p class="webflare-indent1">
<a id="pgfId-432380"></a><a href="chap3.html#11845">Iterated Instances</a></p>
<p class="webflare-indent1">
<a id="pgfId-432718"></a><a href="chap3.html#77935">Net Width and Terminal Width</a></p>
<p class="webflare-indent1">
<a id="pgfId-432722"></a><a href="chap3.html#49519">Terminal Required on Instances</a></p>
<p class="webflare-indent1">
<a id="pgfId-432727"></a><a href="chap3.html#83010">Terminal Ordering</a></p>
<p>
<a id="pgfId-432399"></a><a href="chap3.html#19787">Bus and Bundle Nets</a></p>
<p class="webflare-indent1">
<a id="pgfId-429565"></a><a href="chap3.html#67000">Bus Nets, Bundle Net, and Bus Net Bit</a></p>
<p class="webflare-indent1">
<a id="pgfId-429569"></a><a href="chap3.html#34615">Bus Definitions</a></p>
<p class="webflare-indent1">
<a id="pgfId-429573"></a><a href="chap3.html#20426">Nets with Equivalent Names</a></p>
<p class="webflare-indent1">
<a id="pgfId-429577"></a><a href="chap3.html#14966">SKILL Access for Nets/Signals</a></p>
<p class="webflare-indent1">
<a id="pgfId-429581"></a><a href="chap3.html#51375">Net Status Attribute</a></p>
<p>
<a id="pgfId-429585"></a><a href="chap3.html#43509">Embedded Module Hierarchy (EMH)</a></p>
<p>
<a id="pgfId-429589"></a><a href="chap3.html#60979">Inherited Connections</a></p>
<p>
<a id="pgfId-429593"></a><a href="chap3.html#46504">Mosaics</a></p>
<p class="webflare-indent1">
<a id="pgfId-429607"></a><a href="chap3.html#20153">Naming of Mosaic Instances</a></p>
<p class="webflare-indent1">
<a id="pgfId-429597"></a><a href="chap3.html#88746">Binding of Mosaic Instances</a></p>
<p class="webflare-indent1">
<a id="pgfId-429601"></a><a href="chap3.html#97530">Rotation of Mosaics</a></p>
<p>
<a id="pgfId-429624"></a><a href="chap3.html#70070">Design Management</a></p>
<p class="webflare-indent1">
<a id="pgfId-429632"></a><a href="chap3.html#15516">Differences in Storage and Data Models</a></p>
<p>
<a id="pgfId-429642"></a><a href="chap3.html#73180">Region Query Functions</a></p>
<p>
<a id="pgfId-429649"></a><a href="chap3.html#97177">Placement Status</a></p>
<p>
<a id="pgfId-429656"></a><a href="chap3.html#40270">Virtuoso Studio design environment Libraries</a></p>
<p class="webflare-indent1">
<a id="pgfId-429665"></a><a href="chap3.html#79581">Determining the Library Structure</a></p>
<p class="webflare-indent1">
<a id="pgfId-429672"></a><a href="chap3.html#18949">Using Nested Libraries</a></p>
<p class="webflare-indent1">
<a id="pgfId-429676"></a><a href="chap3.html#43212">Library Definition Files</a></p>
<p class="webflare-indent1">
<a id="pgfId-429680"></a><a href="chap3.html#58638">Combining CDB and OpenAccess Libraries</a></p>
<p>
<a id="pgfId-429684"></a><a href="chap3.html#96746">Cellviews</a></p>
<p class="webflare-indent1">
<a id="pgfId-429696"></a><a href="chap3.html#32002">Creating Cellviews</a></p>
<p class="webflare-indent1">
<a id="pgfId-429688"></a><a href="chap3.html#72685">Saving Cellviews Using SKILL</a></p>
<p class="webflare-indent1">
<a id="pgfId-429706"></a><a href="chap3.html#57005">Panic Cellviews</a></p>
<p class="webflare-indent1">
<a id="pgfId-429711"></a><a href="chap3.html#29517">Scratch Cellviews</a></p>
<p class="webflare-indent1">
<a id="pgfId-431187"></a><a href="chap3.html#66186">Standard Via Masters</a></p>
<p class="webflare-indent1">
<a id="pgfId-429715"></a><a href="chap3.html#32106">Behavior in Read-Only Mode</a></p>
<p class="webflare-indent1">
<a id="pgfId-429719"></a><a href="chap3.html#46658">Using dbWriteCellView and dbCopyCellview</a></p>
<p class="webflare-indent1">
<a id="pgfId-429723"></a><a href="chap3.html#49088">Opening a Cellview with dbGetAnyInstSwitchMaster</a></p>
<p class="webflare-indent1">
<a id="pgfId-429727"></a><a href="chap3.html#95100">Maximum Number of Open Files</a></p>
<p class="webflare-indent1">
<a id="pgfId-430417"></a><a href="chap3.html#73907">Cellview Reference Count</a></p>
<p class="webflare-indent1">
<a id="pgfId-429731"></a><a href="chap3.html#17234">CellViewType Attribute</a></p>
<p class="webflare-indent1">
<a id="pgfId-429735"></a><a href="chap3.html#98571">Mapping of Cellview Types from CDB to OpenAccess</a></p>
<p class="webflare-indent1">
<a id="pgfId-429739"></a><a href="chap3.html#46070">Custom Virtuoso Studio design environment View Types</a></p>
<p>
<a id="pgfId-429745"></a><a href="chap3.html#17582">Properties of Libraries, Cells, and Views</a></p>
<p class="webflare-indent1">
<a id="pgfId-429752"></a><a href="chap3.html#97286">Calls to dbBag SKILL Functions</a></p>
<p class="webflare-indent1">
<a id="pgfId-429766"></a><a href="chap3.html#71787">Property Type dbcFileNameType</a></p>
<p class="webflare-indent1">
<a id="pgfId-429770"></a><a href="chap3.html#70853">Properties versus Parameterized Cell Parameters</a></p>
<p>
<a id="pgfId-429779"></a><a href="chap3.html#55651">Command Interpreter Window (CIW)</a></p>
<p>
<a id="pgfId-429787"></a><a href="chap3.html#92844">Objects</a></p>
<p class="webflare-indent1">
<a id="pgfId-429793"></a><a href="chap3.html#74382">Changing Object Types</a></p>
<p class="webflare-indent1">
<a id="pgfId-429800"></a><a href="chap3.html#31400">Changing the Name of an Object</a></p>
<p class="webflare-indent1">
<a id="pgfId-429804"></a><a href="chap3.html#29959">Changing an Instance Name to the Same Name</a></p>
<p>
<a id="pgfId-429813"></a><a href="chap3.html#21719">Timestamps</a></p>
<p class="webflare-indent1">
<a id="pgfId-429823"></a><a href="chap3.html#18290">How CDB Uses Timestamp Properties</a></p>
<p class="webflare-indent1">
<a id="pgfId-429830"></a><a href="chap3.html#82050">How the Virtuoso Studio design environment Uses Counters</a></p>
<p class="webflare-indent1">
<a id="pgfId-429834"></a><a href="chap3.html#95194">Counters Provide Finer Resolution</a></p>
<p class="webflare-indent1">
<a id="pgfId-429842"></a><a href="chap3.html#49432">Instance Time Stamps</a></p>
<p class="webflare-indent1">
<a id="pgfId-429850"></a><a href="chap3.html#49398">Currency of an Instance and Its Master</a></p>
<p class="webflare-indent1">
<a id="pgfId-429854"></a><a href="chap3.html#90544">Both Counters and Timestamps Needed in Some Applications</a></p>

<h2>
<a id="pgfId-427009"></a><a id="53738"></a>General Differences</h2>
<h3>
<a id="pgfId-428431"></a><a id="marker-428429"></a><a id="37732"></a>Using Function Calls on Standard Vias </h3>

<p>
<a id="pgfId-428432"></a>In the Virtuoso Studio design environment, the masters of standard vias are not associated with a library, cell, or view name. A viaSubMaster is opened by OpenAccess in virtual memory only. </p>
<p>
<a id="pgfId-428433"></a>The SKILL API <code>dbIsCellViewStdViaMaster</code> is used to determine whether a cellview is a standard via master. </p>
<p>
<a id="pgfId-428434"></a>The following return values are given for SKILL and C functions calls to standard vias.</p>

<h4>
<a id="pgfId-428435"></a>Using Database (db) Function Calls</h4>
<table class="webflareTable" id="#id428238">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id428240">
<a id="pgfId-428240"></a>Function</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id428242">
<a id="pgfId-428242"></a>Return Value</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428244"></a><code>dbGetCellViewLibId</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428246"></a>Returns NULL ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428248"></a><code>dbGetCellViewDdId</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428250"></a>Returns NULL ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428256"></a><code>dbReOpen</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428258"></a>Returns NULL and gives a warning</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428260"></a><code>dbCellViewNeedRefresh</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428262"></a>Returns FALSE</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428264"></a><code>dbGetCellViewFullDirPath</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428266"></a>Returns NULL</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428341"></a><code>dbClose</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428343"></a>Only closes viaSubMaster</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428337"></a><code>dbGetCellViewLibName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428339"></a>Returns the techLibName where the standard via definition is defined</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428333"></a><code>dbGetCellViewCellName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428335"></a>Returns the standard via definition name</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428329"></a><code>dbGetCellViewViewName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-428331"></a>Returns the view name</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-428157"></a>Using Design Management (dd) Function Calls </h4>

<p>
<a id="pgfId-427013"></a>A NULL value is returned when attempting to use <code>dd</code> function calls to return the master ID of standard vias.</p>

<h3>
<a id="pgfId-427016"></a><a id="73255"></a>Calls to dbRefresh<a id="dbRefresh"></a>CellView</h3>

<p>
<a id="pgfId-427017"></a>The function <code>dbRefreshCellView</code> has been changed on OpenAccess such that, when a cellview in virtual memory is updated with the copy from disk, the access mode is changed to <code>&#39;a&#39;</code>. In CDB, the access mode was not changed by <code>dbRefreshCellView</code>. </p>
<p>
<a id="pgfId-427018"></a>This change has been incorporated because the method in which the OpenAccess database refreshes a design is mode dependent. The design is returned to the state it was in when it was first opened. If the design was opened in &#39;<code>w</code>&#39; mode, it will be truncated with no reloading from disk. </p>

<h3>
<a id="pgfId-427020"></a><a id="95156"></a>Using the Schematic Bus Range Order Option<a id="changeBusRange"></a> </h3>

<p>
<a id="pgfId-427021"></a>In CDB, changing the Virtuoso Schematic Editor option, <em>Bus Range Order</em> in the <em>Editor Options</em> form, would prompt you to save your edits. This was also seen when using the SKILL function <code>dbSetNetNameDescend</code> which sets the direction of the net name vector expression to descending or ascending. In CDB, changing the bus range order would indicate that the cellview had been modified and therefore needed to be saved.</p>
<p>
<a id="pgfId-427022"></a>In the Virtuoso Studio design environment, when changing the bus range order using the <em>Bus Range Order</em> option or <code>dbSetNetNameDescend</code>, you will not be prompted to save changes. The cellview read-in counter does not change, which means the cellview is not flagged as modified. </p>

<h3>
<a id="pgfId-427024"></a><a id="94096"></a>Calls to dbReplaceProp for <a id="callsTodbReplaceProp"></a>Abutment Groups</h3>

<p>
<a id="pgfId-427025"></a>When using the function <code>dbReplaceProp</code>, you must call <code>dbReplaceProp</code> for abutment groups before calls to <code>dbReplaceProp</code> for Pcell properties. This is true for CDB and the Virtuoso Studio design environment. The ID of the objects before and after abutment occurs will not be the same. In some situations on CDB, it was possible to reference the same pin IDs and instance masters in virtual memory after Pcell re-evaluation, but because of changes to complex pin models and when data is purged in OpenAccess (see <a href="chap3.html#70590">Complex Pin Modeling</a> and <a href="chap3.html#90186">Instance Masters on OpenAccess</a>) you can not rely on the same data or IDs after Pcell re-evaluation.</p>

<h3>
<a id="pgfId-427033"></a><a id="75497"></a>Mark Net Command</h3>

<p>
<a id="pgfId-428076"></a>In CDB, the <em>Mark Net</em> command relied on the <code>viaLayers</code> section of the technology file to determine interconnecting layers. </p>
<p>
<a id="pgfId-428077"></a>In the Virtuoso Studio design environment, the <em>Mark Net</em> command relies on the <code>viaDefs</code> section of the technology file to determine interconnecting layers. Most CDB technology file contacts device definitions are converted to via master definitions (<code>viaDefs</code>) in OpenAccess. Via definitions consist of two types of vias, <code>customViaDefs</code> and <code>standardViaDefs</code>. For more information about via definitions, see <a href="chap4.html#69444">Technology File Via Definitions and Via Specifications</a>. </p>

<h3>
<a id="pgfId-428073"></a><a id="47170"></a><a id="marker-428961"></a>Enhancements in the Design Summary Form</h3>

<p>
<a id="pgfId-427034"></a>The <em>Design Summary</em> form has been enhanced to show, row objects, wire statistics, marker objects, track patterns, blockage objects and boundary objects. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-427035"></a>The <em>Instance Statistics</em> section of the <em>Design &#8211; Summary </em>form displays the number of unplaced instances. The <code>unplaced</code> attribute is maintained by P&amp;R applications. An unplaced instance is not displayed in the Virtuoso layout window, it is however present in the database. See <a href="chap3.html#97177">Placement Status</a> for more information. </div>

<h3>
<a id="pgfId-427038"></a><a id="33282"></a><a id="43861"></a>Calls to the <a id="itkdbInit"></a>cdsInit and dbInit Functions</h3>

<p>
<a id="pgfId-432734"></a><a id="marker-432733"></a>Programs using the OpenAccess C++ layer must call the <code>cdsInit</code> or <code>cdsInitNonCDSApp</code> function explicitly in order to specify how the lower-level library search mechanism will work. When using ITKdb, the <code>dbInit</code> function must be explicitly called. The <code>dbInit</code> function registers the SKILL language interface so that Pcells will work.</p>

<h3>
<a id="pgfId-432737"></a><a id="noDefragOA"></a><a id="73411"></a>Defragmentation in OpenAccess</h3>

<p>
<a id="pgfId-432738"></a>The <code>dbDefragCellView</code> function has not been implemented in Virtuoso Studio design environment. The user interface command and SKILL function are not available.</p>

<h3>
<a id="pgfId-427046"></a><a id="44607"></a>Maximum Cellview Bounding Box</h3>

<p>
<a id="pgfId-427049"></a><a id="marker-427047"></a>OpenAccess <a id="marker-427048"></a>and the Virtuoso Studio design environment allow a larger range of coordinates for cellviews. This limit is stored in the constant <code>dbcMaxCoord</code>.</p>
<ul><li>
<a id="pgfId-427050"></a>OpenAccess and the Virtuoso Studio design environment let you create 32-bit coordinates in the range of <br />
<a id="pgfId-427051"></a>-( 2<sup>31</sup> - 1 ) through +( 2<sup>31</sup> -1 ) database units <br />
<a id="pgfId-427052"></a>(or in hexadecimal, <code>7fff ffff</code>). </li><li>
<a id="pgfId-427059"></a>In OpenAccess is:<br />
<a id="pgfId-427060"></a>-2,147,483.65 through +2,147,483.65 user units</li></ul>




<p>
<a id="pgfId-427061"></a>The Virtuoso Studio design environment currently limits the windowing range to approximately plus or minus 700,000 user units.</p>

<h3>
<a id="pgfId-427063"></a><a id="55365"></a>Name Space Differences</h3>

<p>
<a id="pgfId-427065"></a><a id="marker-427064"></a>The OpenAccess name space is different from the CDB name space. For example, in OpenAccess, square brackets are used as the vector expression delimiters for bus names. The CDBA procedural interface will continue to present the CDB type name space, including the use of &#8220;&lt; &gt;&#8221; for vector indexes. </p>
<p>
<a id="pgfId-427066"></a>An <code>oaName</code> object encapsulates all of the mechanics of name mapping. This effectively hides the internal representation of the name from the caller and allows mapping between name spaces.</p>

<h3>
<a id="pgfId-427068"></a><a id="77967"></a>Database Size Differences Using Paths Versus PathSegs</h3>

<p>
<a id="pgfId-433739"></a>Converting CDB data containing paths to OpenAccess data with paths creates an OpenAccess database larger in size than the CDB database. The paths explode the size of the database, especially in the case of digital data. In contrast, OpenAccess data with pathSegs creates a size-efficient OpenAccess database. Therefore, when converting data from CDB, DEF or GDSII to OpenAccess, always use the options to create pathSegs instead of two-point orthogonal paths, especially for digital data.</p>
<p>
<a id="pgfId-433763"></a>In addition, it is recommended to bring in via placements after conversion as vias instead of cell placements. This may require you to create an ITDB library for the design, which can hold the required standard and custom via definitions. This will also shrink the OpenAccess database to smaller than the CDB data.</p>

<h3>
<a id="pgfId-433717"></a><a id="29451"></a>Escape Sequences in Names</h3>

<p>
<a id="pgfId-427070"></a><a id="marker-427069"></a>Except for pin names, escape sequences are now required in names to represent a printable character. </p>
<p>
<a id="pgfId-427071"></a>For example, </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-427072"></a>a\142c</pre>

<p>
<a id="pgfId-427073"></a>is a legal name because it is the same as &#8220;abc&#8221;, but </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-427074"></a>a\006c</pre>

<p>
<a id="pgfId-427075"></a>is not a legal name, because the <code>\006</code> represents the <code>ACK</code> control character, which is not printable.</p>

<h3>
<a id="pgfId-427078"></a><a id="noBackquote"></a><a id="92544"></a>Backquote Character in Names</h3>

<p>
<a id="pgfId-427080"></a><a id="marker-427079"></a>Tools that convert data from a logical design to physical data frequently need to flatten the logical hierarchy. In doing so, they attempt to create names for objects that make it easier to map the objects back to their original logical hierarchy. One example of this is PRflatten. This tool takes the original path names to objects, such as</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-427081"></a>&quot;/top_inst/mid_inst/netA&quot;</pre>

<p>
<a id="pgfId-427082"></a>and convert them to names such as</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-427083"></a>&quot;|top_inst|mid_inst|netA&quot;</pre>

<p>
<a id="pgfId-427084"></a>in a single flat cellview. The pipe character ( | ) in this flat name is used to represent the original hierarchy and is therefore called a <em>pseudohierarchy</em> character.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-427085"></a>Limitations on the use of special characters does not apply to pin names; a pin name is a string for which there is no syntax check.</div>
<p>
<a id="pgfId-427087"></a><a id="marker-427086"></a>OpenAccess formally supports the concept of pseudo hierarchy in name mapping. The CDBA procedural interface uses the backquote character ( <code>&#8216;</code> ) as the pseudo hierarchy character. Therefore, do not use the backquote character ( <code>&#8216;</code> ) in names unless you intend that it be interpreted as pseudo hierarchy by other tools, such as the DEF translator. The pipe character ( | ) is used to represent pseudo hierarchy by convention between the PRflatten and Preview tools.</p>
<p>
<a id="pgfId-427088"></a>On many keyboards, the backquote character ( <code>&#8216;</code> ) is located under the tilde character ( ~ ). In ASCII code, the backquote is represented by the following numbers:</p>
<p>
<a id="pgfId-427089"></a>hexadecimal&#160;&#160;&#160;&#160;60</p>
<p>
<a id="pgfId-427090"></a>octal&#160;&#160;&#160;&#160;140</p>
<p>
<a id="pgfId-427091"></a>decimal&#160;&#160;&#160;&#160;96</p>
<p>
<a id="pgfId-427093"></a>Translators in the physical domain will consider the backquote character ( <code>&#8216;</code> ) as hierarchy when mapping to languages, such as spef and SDF, that treat pseudo hierarchy as real hierarchy.</p>
<p>
<a id="pgfId-427978"></a>In the ASCII technology file, the single quote (forward tick &#39;) is the SKILL sign for symbol. Do not use the backquote. For example, </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-428046"></a>orderedSpacings(<br />(&quot;minOppExtension&quot; &quot;poly1&quot; &quot;metal2&quot; (2.1 0.7) &#39;soft)<br />...<br />)</pre>
<h3>
<a id="pgfId-432218"></a><a id="24739"></a>Using Instance Parameters</h3>

<p>
<a id="pgfId-432227"></a>If an instance of a Pcell has instance parameters and CDF parameters that overlap in their names, types, and default values, you can use the <em>Store Default</em> attribute to determine which of the two parameters should take precedence.</p>
<p>
<a id="pgfId-432770"></a>If you want the CDF parameter of a Pcell to use the evaluated result of an expression string, set its <em>Parse as CEL</em> value to <em>yes</em>. Also set the <code>CDS_NETLISTING_MODE</code> value to <code>Analog</code>.</p>

<h4>
<a id="pgfId-432792"></a>Example</h4>

<p>
<a id="pgfId-432793"></a>Consider the following NLP expression as a CDF parameter of a Pcell instance:</p>
<p>
<a id="pgfId-432794"></a><code>[@nw]</code></p>
<p>
<a id="pgfId-432795"></a>where, nw has been set as <code>nw = &quot;3u&quot;</code>.</p>
<p>
<a id="pgfId-432796"></a>In this situation if <em>Parse as CEL</em> value is <em>yes</em>, the instance parameter will be set to <code>&quot;3u&quot;</code>. (If <em>Parse as number</em> is also set to <em>yes</em>, the expression will be evaluated to <code>3e-06</code>). If <em>Parse as CEL</em> is set to <em>no</em>, then the parameter expression will not be evaluated and will be set to <code>&quot;[@nw]&quot;</code>.</p>
<p>
<a id="pgfId-432771"></a>You can update both <em>Store Default </em>and <em>Parse as CEL </em>values in the <em>Edit CDF</em> form (In the CIW, click <em>Tools - CDF - Edit</em>).</p>

<h3>
<a id="pgfId-432216"></a><a id="86516"></a><a id="instanceMagnification"></a><a id="86504"></a>Instance Magnification Differences</h3>

<p>
<a id="pgfId-427123"></a><a id="marker-427122"></a>OpenAccess does not support instance magnification. </p>
<p>
<a id="pgfId-427124"></a>The <em>Property Editor</em> and <em>Create Instance</em> forms no longer contain fields for magnification. Both the Virtuoso Layout L Editor and the Virtuoso Schematic L Editor handle magnification on OpenAccess as described below.</p>
<p>
<a id="pgfId-427126"></a><a id="marker-427125"></a>The Virtuoso Studio design environment supports the translation of magnified instances, including that of hierarchical and Pcell instances, from CDB and Stream to OpenAccess. Translation is done by creating special parameterized cells that emulate magnification and <a id="marker-427127"></a>any-angle rotation. In the future, this method will facilitate better handling of all angles of rotated instances (srefs) in Stream.</p>
<p>
<a id="pgfId-427130"></a>Each of these special Pcells contain SKILL code that:</p>
<ul><li>
<a id="pgfId-427131"></a>Creates an instance of the original instance master.</li><li>
<a id="pgfId-427132"></a>Flattens the instance.</li><li>
<a id="pgfId-427133"></a>Transforms all the resultant shapes by the magnification of the original instance (the <code>mag</code> parameter of this Pcell).</li></ul>


<p>
<a id="pgfId-427135"></a><a id="marker-427134"></a>The Pcell master created in OpenAccess for a translated magnified instance will have library, cell, and view names based on the names of the original instance master. The cell name will be identical to the original, and the view name will be appended with <code>_xform</code>. </p>
<p>
<a id="pgfId-427136"></a>If the library of the original instance&#8217;s master is writable, it is used; otherwise, the library of the cellview in which the instance is instantiated is used.</p>
<p>
<a id="pgfId-427137"></a>For example, when the master of the magnified instance is </p>
<p>
<a id="pgfId-427138"></a>(<code>A_lib</code> <code>B-cell</code> <code>symbol</code>)</p>
<p>
<a id="pgfId-427139"></a>then the Pcell master is </p>
<p>
<a id="pgfId-427140"></a>(<code>A_lib</code>, <code>B_cell</code>, <code>symbol_xform</code>)</p>
<p>
<a id="pgfId-427141"></a>The Pcell master has two parameters, <span class="webflare-courier-new" style="white-space:pre"><em>mag</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>angle</em></span>.</p>
<p>
<a id="pgfId-427142"></a>When you run a netlister, the current method of translation of magnified instances involves two restrictions:</p>
<ul><li>
<a id="pgfId-427143"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>viewname_xform</em></span> cellview should be translated to the instance&#8217;s master library. This means you MUST have write permission for the instance&#8217;s master library.</li><li>
<a id="pgfId-427144"></a>You have to add <span class="webflare-courier-new" style="white-space:pre"><em>viewName</em></span><code>_xform</code> to the netlister&#8217;s view name list before running the netlister, for example, add <code>symbol_xform</code> to the view name list.</li></ul>


<h3>
<a id="pgfId-427146"></a><a id="56812"></a>ITK Read-in <a id="itkReadinTrigger"></a>Triggers</h3>

<p>
<a id="pgfId-427147"></a>Customer application code that relies on read-in triggers to fire for instance creation, must now use fig triggers for instance binding. On OpenAccess, fig triggers are fired in the event of instance binding changes and are not fired for Pcell submasters evaluation.</p>

<p>
<a id="pgfId-427167"></a></p>
<table class="webflareTable" id="#id427148">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430748"></a><strong>When triggers are fired</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430736"></a><strong>OpenAccess</strong> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430738"></a><strong>CDB</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430750"></a>read-in triggers fired (variant creation) </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430740"></a>No </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430742"></a>Yes</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430752"></a>fig triggers fired (instance binding)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430744"></a>Yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430746"></a>No</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-427207"></a></p>
<div class="webflare-div-image">
<img width="667" height="282" src="images/chap3-2.gif" /></div>
<h3>
<a id="pgfId-427209"></a><a id="90186"></a>Instance Masters on OpenAccess</h3>

<p>
<a id="pgfId-427211"></a><a id="marker-427210"></a>CDB did not purge instance masters even when there were no instances referring to the master. In the Virtuoso Studio design environment, the instance master is purged as soon as the instance reference count associated with the instance master becomes zero. </p>
<p>
<a id="pgfId-432855"></a>On CDB, an instHeader ID remains the same when making changes to the instHeader master. On OpenAccess, there is no equivalent of setting the master for instHeader natively. In the Virtuoso Studio design environment, this is emulated by setting the master of individual instance on the instHeader to the new master. All the instances are removed from the old instHeader and moved to the new instHeader, which could or could not exist.</p>
<p>
<a id="pgfId-432859"></a>However, when an instHeader is empty, meaning it does not have any instance on this instHeader, the instHeader is removed and the ID is no longer valid. This change has effected the behavior of the SKILL function <code>dbSetInstHeaderMaster</code>.</p>
<p>
<a id="pgfId-432863"></a>The following code is an example of retrieving the instHeader after setting the master. In this example, the instance should be retrieved first. Then, set the instHeader after the master is reset.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-432867"></a>inst = car(ih~&gt;instances);</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-432911"></a>dbSetInstHeaderMasterName(ih newLib ih~&gt;cellName ih~&gt;viewName);</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-432912"></a>set ih = inst~&gt;instHeader; ;; Changes to instHeader</pre>
<h3>
<a id="pgfId-427214"></a><a id="orderOfGeneratingObjects"></a><a id="25330"></a>Order of Generating Objects</h3>

<p>
<a id="pgfId-427217"></a><a id="marker-427216"></a>In CDB, the order in which objects were returned by the different generators depended on the type of object and whether the objects was new and had not yet been saved to disk. If a number of objects were created, they were generated in the order they were created. However, after the data had been saved, purged from memory, and then opened and read in, the order would be different than before but consistent from this point forward. </p>
<p>
<a id="pgfId-434897"></a>OpenAccess is consistent in the order that objects are generated. The generators always generate shapes in the same order. </p>

<h3>
<a id="pgfId-434899"></a><a id="27756"></a>Undo/Redo </h3>

<p>
<a id="pgfId-434901"></a><a id="marker-434900"></a>The following table describes the differences for the <em>Undo</em> and <em>Redo</em> commands on CDB and the Virtuoso Studio design environment.</p>

<p>
<a id="pgfId-430809"></a></p>
<table class="webflareTable" id="#id430811">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id430896">
<a id="pgfId-430896"></a>Behavior</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id430868">
<a id="pgfId-430868"></a><strong>Virtuoso Studio design environment</strong></span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id430870">
<a id="pgfId-430870"></a><strong>CDB Database</strong></span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430898"></a>Supports the undo/redo of changes to parameterized cell parameters on instances, including stretchable Pcells?</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430872"></a>yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430874"></a>no</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430900"></a>Number of undo levels</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430876"></a>0 to 128 levels</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430878"></a> 0 to 10 levels</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430902"></a>Prompts you to save?</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430880"></a>Only if the cellview has been changed</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430882"></a>Yes, if the cellview has been edited, even if undo commands have restored the cellview to its original state.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430906"></a>Behavior when all the changes to a cellview have been undone.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430888"></a><code>dbIsCellViewModified</code> returns FALSE and the cellview attribute <code>modifiedButNotSaved </code>returns <code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-430890"></a><code>dbIsCellViewModified</code> returns TRUE and the cellview attribute <code>modifiedButNotSaved</code> returns <code>t</code></p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-434906"></a>techFindViaDefByName vs leIsContactName SKILL API</h3>

<p>
<a id="pgfId-434913"></a>The <code>techFindViaDefByName</code> API is available in OpenAccess (OA) and its corresponding API is <code>leIsContactName</code>, which was only supported in CDB.</p>
<p>
<a id="pgfId-434955"></a>Some observations on inconsistency in CDB and OA translation are given below regarding via and contacts across LEF, VLE, and technology file.</p>
<ol><li>
<a id="pgfId-435220"></a>If via, <code>via1</code> is displayed as <code>VIA DEFAULT</code> or <code>VIA</code> in the LEF file, then, after LEF In:

<br /><table class="webflareTable" id="#id435221">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id435223">
<a id="pgfId-435223"></a>CDB</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id435225">
<a id="pgfId-435225"></a><strong>OA</strong></span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-435227"></a>It gets mapped to <code>symContactDevice</code> in technology file.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-435229"></a>It gets mapped to <code>customViaDef</code> and <code>LEFDefaultRouteSpec</code> in technology file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-435231"></a>Shows up as a contact in the list in the Create Contact form in VLE.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-435233"></a>Does not show up in the list in the Create Contact form in VLE.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-435234"></a>If via, <code>via2</code> is displayed as <code>VIARULE GENERATE</code> in the LEF file, then, after LEF In:

<br /><table class="webflareTable" id="#id435265">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id435267">
<a id="pgfId-435267"></a>CDB</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id435269">
<a id="pgfId-435269"></a><strong>OA</strong></span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-435271"></a>It gets mapped to <code>prGenViaRules</code> in technology file.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-435311"></a>It gets mapped to <code>stdViaDef</code> and <code>cdsVia</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-435325"></a>Does not show up in the list in the Create Contact form in VLE.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-435357"></a>Shows up as a contact in the list in the Create Contact form in VLE.</p>
</td>
</tr>
</tbody></table></li></ol>



<p>
<a id="pgfId-434947"></a></p>

<h2>
<a id="pgfId-430974"></a><a id="40578"></a>Files</h2>

<ul><li>
<a id="pgfId-433282"></a><a href="chap3.html#98945">Set-up Files New in the Virtuoso Studio design environment</a></li><li>
<a id="pgfId-433297"></a><a href="chap3.html#82209">Files that Have Changed</a></li><li>
<a id="pgfId-433308"></a><a href="chap3.html#51705">Files that No Longer Exist</a></li><li>
<a id="pgfId-433319"></a><a href="chap3.html#77428">Files that Are the Same</a></li></ul>




<h3>
<a id="pgfId-430977"></a><a id="marker-430975"></a><a id="98945"></a>Set-up Files New in the Virtuoso Studio design environment<a id="marker-430976"></a></h3>

<ul><li>
<a id="pgfId-417280"></a><code>data.dm</code><a id="marker-425688"></a> <br />
<a id="pgfId-417281"></a>The data.dm file is a design management data file used, in part, for storing properties when using the DMFileSys plug-in. For more information, see <a href="chap3.html#17582">Properties of Libraries, Cells, and Views</a>. </li><li>
<a id="pgfId-417285"></a><code>.oalib</code><a id="marker-425689"></a> <br />
<a id="pgfId-417286"></a>The .<code>oalib</code> file is created to store information that is used by OpenAccess for library management. If a<code>.oalib</code> file does not exist when a library is opened by OpenAccess, it will be created. You must have write access to the library in order for a <code>.oalib</code> file to be created. </li></ul>




<h3>
<a id="pgfId-417287"></a><a id="82209"></a>Files that Have Changed </h3>

<ul><li>
<a id="pgfId-417288"></a><code>layout.cdb</code>, <code>sch.cdb</code>, etc. <br />
<a id="pgfId-417289"></a>Name change only. The file extension for design database files is <code>.oa</code>.<br />
<a id="pgfId-417378"></a>In CDB, the cellview data filename did not need to reflect the view type stored in the cellview data file. For example, CDB allowed a cellview with the stored view type <code>maskLayout</code> to be called <code>symbol.cdb</code>. <br />
<a id="pgfId-417379"></a>The Virtuoso Studio design environment expects a cellview filename to reflect the stored view type and will not allow a conflict in naming and type. <br />
<a id="pgfId-417376"></a>For information about cellview type mapping, see <a href="chap3.html#98571">Mapping of Cellview Types from CDB to OpenAccess</a>. </li><li>
<a id="pgfId-417290"></a><code>tech.db</code><br />
<a id="pgfId-417292"></a><a id="marker-417291"></a>The technology database filename changes from <code>techfile.cds</code> to <code>tech.db</code>. Application code must be changed to no longer refer to the technology database file by name. For information on how to retrieve the technology database filename, see <a href="chap4.html#88117">Chapter 4, &#8220;OpenAccess Technology Data Changes.&#8221;</a></li><li>
<a id="pgfId-417296"></a><code>pc.db</code><a id="marker-425690"></a><br />
<a id="pgfId-417297"></a>The <code>pc.db</code> file typically resides in the cellview directory and stores the hierarchical relationships for that cellview. It is a derived file that allows hierarchy functions to navigate descriptions other than CDB; for example, VHDL and Verilog.</li></ul>









<h3>
<a id="pgfId-425705"></a><a id="marker-425738"></a><a id="51705"></a>Files that No Longer Exist</h3>

<ul><li>
<a id="pgfId-417306"></a><code>prop.xx</code><a id="marker-425735"></a><br />
<a id="pgfId-417310"></a>See <a href="chap3.html#17582">Properties of Libraries, Cells, and Views</a>.</li><li>
<a id="pgfId-433422"></a><code>lib.defs</code><a id="marker-433421"></a><br />
<a id="pgfId-433409"></a>The <code>lib.defs</code> file is no longer a supported library definition file. See <a href="chap3.html#43212">Library Definition Files</a> for more information. </li></ul>




<h3>
<a id="pgfId-417311"></a><a id="77428"></a>Files that Are the Same </h3>

<ul><li>
<a id="pgfId-417312"></a><code>cdsinfo.tag</code><a id="marker-425736"></a> </li><li>
<a id="pgfId-417314"></a><span class="webflare-courier-new" style="white-space:pre"><em>name</em></span><code>.Cat</code> (category registry)</li><li>
<a id="pgfId-417315"></a><code>libInit.il</code> (SKILL loader)</li><li>
<a id="pgfId-417316"></a><code>master.tag</code><a id="marker-425737"></a> <br />
<a id="pgfId-417317"></a>The <code>master.tag</code> file contains the name of the master (or primary) data file, and optionally, a comment such as the version number.<br />
<a id="pgfId-417318"></a>A cellview will fail to open if it is created without a <code>master.tag</code> file. If you create a new cellview using the UNIX <code>mkdir</code> command and then copy the files into the cellview in a random order, you will not be copying the <code>master.tag</code> and master files first. If during the copy, you or some other process request OpenAccess to evaluate the cellview (and it does not contain a <code>master.tag</code> file) an error message will be issued.</li></ul>






<h2>
<a id="pgfId-396956"></a><a id="51147"></a>Pins</h2>
<h3>
<a id="pgfId-415246"></a><a id="70590"></a>Complex <a id="marker-425750"></a>Pin <a id="complexPinMod"></a>Modeling</h3>

<p>
<a id="pgfId-429894"></a><a href="chap3.html#71498">Converting CDB Subnet Pin Model to OpenAccess Pin Group Model</a></p>
<p>
<a id="pgfId-429898"></a><a href="chap3.html#60114">Attributes on Pins</a></p>
<p>
<a id="pgfId-429909"></a><a href="chap3.html#57519">Pin Group Conversion During Pcell Evaluation</a></p>
<p>
<a id="pgfId-429913"></a><a href="chap3.html#98446">How Undefined Pin Groups are Converted</a></p>
<p>
<a id="pgfId-429917"></a><a href="chap3.html#90113">Reloading Pcells After CDB to Virtuoso Studio design environment Translation</a></p>
<p>
<a id="pgfId-429921"></a><a href="chap3.html#79764">Changes to C Functions for OpenAccess Pin Group Model</a></p>
<p>
<a id="pgfId-429931"></a>In CDB, subnets are used to implement the pin group relations of strong, weak, or mustJoin. Subnet extensions are represented by a two level subnet structure. Pins are placed at the second level subnets and the connection status of the pin group is determined by their relative location in the structure. Also, there is a one-to-one relationship between the pin and the physical implementation figure.</p>
<p>
<a id="pgfId-415248"></a>Pin models in the Virtuoso Studio design environment allow multiple figures per pin, as well as multiple pins per terminal. Subnets are no longer used to represent pin group relationships. </p>
<p>
<a id="pgfId-415249"></a>The <code>oaPinFig</code> class allows the figures (instances, shapes and vias) to be added to a pin. Pins can be created with 0 to <span class="webflare-courier-new" style="white-space:pre"><em>n</em></span> figures attached. When writing SKILL code, pins can be initially create with no figures. You can then add or remove figures from the pins in subsequent calls.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-422551"></a>
Do not leave pins without a figure attached. Creating a pin without a figure is intended to be a transitional state, not a permanent, or saved state. </div>

<p>
<a id="pgfId-415250"></a>The following diagram describes CDB pin grouping versus the Virtuoso Studio design environment pin modeling.</p>

<p>
<a id="pgfId-415400"></a></p>
<div class="webflare-div-image">
<img width="669" height="471" src="images/chap3-4.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-415401"></a>You can indicate a must connect by setting the <code>mustJoin</code> attribute on the terminals. </div>

<h4>
<a id="pgfId-415402"></a><a id="71498"></a>Converting CDB Subnet Pin Model to OpenAccess Pin Group Model</h4>

<p>
<a id="pgfId-415403"></a>Two types of situation exist where the CDB subnet pin group relationship is converted to the Virtuoso pin model. </p>
<ul><li>
<a id="pgfId-415404"></a>CDB data <br />
<a id="pgfId-415405"></a>Subnet pin modeling is converted to OpenAccess pin modeling.</li><li>
<a id="pgfId-415406"></a>SKILL Pcell code<br />
<a id="pgfId-415407"></a>Any Pcell code dependent on the subnet structure is still valid in the Virtuoso environment. Once the Pcell code is evaluated, the subnet pin model in the subMaster is dynamically converted to OpenAccess pin model in virtual memory. This may slow down the performance. Therefore, although it is not required, re-writing your Pcell code using the following functions to define and retrieve the name, access the direction, and the placement status of pins will provide better performance.<br />
<a id="pgfId-415410"></a><code>dbGetPinFigName </code><a id="pinAPI"></a><br />
<a id="pgfId-415411"></a><code>dbGetPinFigAccessDirection</code><br />
<a id="pgfId-415412"></a><code>dbGetPinFigPlacementStatus</code><br />
<a id="pgfId-415413"></a><code>dbSetPinFigName </code><br />
<a id="pgfId-415414"></a><code>dbSetPinFigAccessDirection</code><br />
<a id="pgfId-415415"></a><code>dbSetPinFigPlacementStatus</code></li></ul>










<h4>
<a id="pgfId-415416"></a><a id="60114"></a>Attributes on Pins</h4>

<p>
<a id="pgfId-426570"></a>In CDB, pin physical attributes are stored on the pin object even though they apply to the pin figure because of the one-to-one relationship between a pin and the physical implementation figure. These attributes are used to access the name, access direction, and placement status. During translation to the Virtuoso Studio design environment, the attribute information is moved down to the figure. The following functions are provided to access pin information from the figure: <code>dbGetPinFigName</code>, <code>dbGetPinFigAccessDirection</code>, <code>dbGetPinFigPlacementStatus</code>, <code>dbSetPinFigName</code>, <code>dbSetPinFigAccessDirection</code>, <code>dbSetPinFigPlacementStatus</code>.</p>

<p>
<a id="pgfId-415477"></a></p>
<div class="webflare-div-image">
<img width="669" height="298" src="images/chap3-5.gif" /></div>
<h4>
<a id="pgfId-415478"></a><a id="57519"></a>Pin Group Conversion During Pcell Evaluation </h4>

<p>
<a id="pgfId-415479"></a>The following describes how CDB pin group connection status in the subMasters of Pcells are converted to the Virtuoso environment pin model. </p>

<p>
<a id="pgfId-420994"></a></p>
<div class="webflare-div-image">
<img width="669" height="738" src="images/chap3-6.gif" /></div>
<h4>
<a id="pgfId-420995"></a><a id="98446"></a>How <a id="marker-425751"></a>Undefined Pin Groups are Converted </h4>

<p>
<a id="pgfId-420996"></a>When Pcells are created in CDB without an explicit pin model (without subnets), by convention, the CDB application would interpret the connection status. In the case of VXL in CDB, these pins would be considered strongly connected. </p>
<p>
<a id="pgfId-415574"></a>To resolve ambiguous or undefined pin status, the property <a id="marker-425852"></a><code>defaultPinModel</code> with a value of strong is added to all super-masters of <code>maskLayout</code> cellviews which do not have explicit pin model information (subnets). This allows undefined DFII on CDB pins to be explicitly modeled as strongly connected in the Virtuoso Studio design environment. If the subnets do exist, the pin connection status is evaluated based on subnets.</p>

<p>
<a id="pgfId-415637"></a></p>
<div class="webflare-div-image">
<img width="669" height="363" src="images/chap3-7.gif" /></div>
<h4>
<a id="pgfId-415638"></a><a id="90113"></a>Reloading Pcells After CDB to Virtuoso Studio design environment Translation </h4>

<p>
<a id="pgfId-415639"></a>When loading SKILL Pcells that do not explicitly state the connection status, you must either change your SKILL Pcells to explicitly describe the pin connection status or add the <code>defaultPinModel</code> property to the Pcell master. The recommended solution is to modify Pcells to correctly describe the pin model. </p>
<ul><li>
<a id="pgfId-415640"></a>To describe the pin connection status in SKILL Pcells, create pin figures using <code>dbCreatePin</code> and then add figures to the pin using <code>dbAddFigsToPin</code> (or <code>dbAddFigToPin</code> for adding a single figure). Define the pin figure properties by using <code>dbSetPinFigName</code>. Additionally, you can use <code>dbSetPinFigAccessDirection</code> and <code>dbSetPinFigPlacementStatus</code> for defining complex connectivity model for Pcell abutment.</li><li>
<a id="pgfId-415641"></a>If you want to temporary add the property to the Pcell master, define the <code>defaultPinModel</code> property in the technology file. For example, <br /><pre class="webflare-pre-block webflare-courier-new" id="#id415642">
<a id="pgfId-415642"></a>tfcDefineDeviceProp(
(layout    m1_m2    defaultPinModel    &quot;strong&quot;)
)</pre>
<a id="pgfId-415643"></a>Valid values for <code>defaultPinModel</code> are <code>strong</code>, <code>weak</code>, and <code>must</code>. </li></ul>




<h4>
<a id="pgfId-415644"></a><a id="79764"></a>Changes to C Functions for OpenAccess Pin Group Model</h4>

<p>
<a id="pgfId-415645"></a><code>dbCreatePinOnTerm</code></p>
<p>
<a id="pgfId-415646"></a>This function creates a new pin using a supplied name. In CDB, there was a one to one relationship between pin and figure. Pins could not be created without a figure and were uniquely named per the terminal. </p>
<p>
<a id="pgfId-415647"></a>In OpenAccess, it is possible to have a pin with 0 or more figures. When using <code>dbCreatePinOnTerm</code> the figure on a pin is now optional. If the figure is not supplied when creating a pin, an empty pin created. The behavior of <code>dbCreatePinOnTerm</code> is:</p>
<ul><li>
<a id="pgfId-415648"></a>Creates an empty pin if the named pin does not already exist.</li><li>
<a id="pgfId-415649"></a>Creates an empty pin with a specified figure ID if the named pin does not already exist.</li><li>
<a id="pgfId-415650"></a>Gives a warning and returns <code>dbcNullId</code> if the named pin already exist.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-415651"></a>To add a figure to a pin, use <code>dbAddFigToPin</code>.</div>
<p>
<a id="pgfId-434386"></a>For more information, see <h-hot><a actuate="user" class="URL" href="../skdfref/pin_re_Pin_Connection_Functions.html" show="replace" xml:link="simple">Pin Modeling SKILL functions</a></h-hot> and <h-hot><a actuate="user" class="URL" href="../itkdbase/chap7.html#Pins" show="replace" xml:link="simple">Pin Modeling C functions</a></h-hot>.</p>

<h3>
<a id="pgfId-432349"></a><a id="54041"></a>Symbolic Device Masters </h3>

<p>
<a id="pgfId-432350"></a>Symbolic device masters (<code>syContact</code>, <code>syPin</code>, and <code>syRectPin</code>) are obsolete in the Virtuoso Studio design environment. When translating DFII on CDB technology data to the Virtuoso environment, device definitions are deleted from the technology file, device masters are optionally deleted from disk (<a href="chap4.html#83931">Keeping Device Masters</a>) and all instances are mapped to vias or converted to rectangular shapes with pins. </p>
<p>
<a id="pgfId-432355"></a>For information about how CDB symbolic devices masters are mapped and how to enable a preservation of symbolic device masters, see <a href="chap4.html#99847">Mapping CDB Symbolic Device Masters</a>. </p>

<h3>
<a id="pgfId-432362"></a><a id="62686"></a>Instance <a id="instPinChange"></a>Pin (instPin) Objects<a id="marker-432361"></a> </h3>

<p>
<a id="pgfId-432363"></a>Because pins are now allowed to have several figures, the instance pin (instPin) object is obsolete. In CDB, an instPin was a database object that represents a pin of a terminal in the master of an instance. Any existing user code that refers to instance pins must be updated. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-432369"></a>This change does not imply that instances cannot be pins. Pins can be created as instances and you can specify an instance as a pin figure. In CDB, the master of instances that were pins were typically <code>syPin</code> devices. <code>syPin</code> devices are now converted to rectangles as pins in the Virtuoso Studio design environment. See <a href="chap3.html#54041">Symbolic Device Masters</a>. </div>

<h2>
<a id="pgfId-432342"></a><a id="27359"></a><a id="15455"></a>InstTerms and Terminals</h2>
<h3>
<a id="pgfId-432477"></a><a id="11845"></a>Iterated Instances</h3>

<p>
<a id="pgfId-432485"></a>If an instance is changed to be an iterated instance, for example <code>I1 </code>to<code> I1&lt;0&gt;</code>, the object type is changed. Be aware that object types such as <code>I1</code> are a scalar instance and if changed to<code> I1&lt;0&gt;</code>, the object type is a vector instance. User SKILL or C code that change instances to be an iterated instances, will no longer return the same object ID. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-432536"></a>The angle brackets &lt;&gt; are use for iteration of instances as well as bits of a nets. </div>

<h3>
<a id="pgfId-415860"></a><a id="77935"></a>Net Width and Terminal Width</h3>

<p>
<a id="pgfId-415733"></a><a id="marker-415732"></a>When an instance terminal (instTerm) is created, the net width and terminal width must be the same. If they are different, a warning is issued indicating that the net width does not match the instance/terminal width. </p>

<h3>
<a id="pgfId-415864"></a><a id="49519"></a>Terminal Required on Instances</h3>

<p>
<a id="pgfId-415891"></a>To allow an instance to be assigned to a net in OpenAccess, an instance terminal is created on the instance and connects that instance terminal to the net. However, this can only be done if the instance master has one or more terminals. If you need to be able to associate an instance with nets, add at least one terminal to the instance master in CDB and then run the translator again.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-426498"></a>This does not apply to vias, as vias are no longer instances.</div>

<h3>
<a id="pgfId-415764"></a><a id="83010"></a>Terminal Ordering</h3>

<p>
<a id="pgfId-415766"></a>In the Virtuoso Studio design environment, terminals can be created and referenced by position rather than by name only. This allows better support to the connection semantics of Verilog and other netlist formats. </p>
<p>
<a id="pgfId-415767"></a>In the following example, the terminals are referenced by their position for connectivity, or the order in which they are specified in the Verilog statement. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-415768"></a>subModule M1(net1, net2) </pre>

<p>
<a id="pgfId-415769"></a><code>M1</code> is the instance of the master <code>subModule</code>. <code>net1</code> is connected to the first terminal, and <code>net2</code> is connected to the second terminal. Even if the names of the terminals are change in the master, the connection is reference by the terminal order.</p>
<p>
<a id="pgfId-415770"></a>To further support terminal ordering, the following functionality is supported at the API level. </p>
<ul><li>
<a id="pgfId-415771"></a>Assign the position to a terminal </li><li>
<a id="pgfId-415772"></a>Remove the position from a terminal </li><li>
<a id="pgfId-415773"></a>Query the position of a terminal </li><li>
<a id="pgfId-415774"></a>Find a terminal based on position</li><li>
<a id="pgfId-415775"></a>Create an instTerm based on position</li><li>
<a id="pgfId-415776"></a>Find an instTerm based on position</li><li>
<a id="pgfId-415777"></a>Query an instTerm terminal based on position</li></ul>






<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-415778"></a>All instTerms associated with an instance must be connected by reference to the name or to the position. </div>
<p>
<a id="pgfId-415779"></a>For more information, see <h-hot><a actuate="user" class="URL" href="../skdfref/db_Terminal_Ordering_Functions.html" show="replace" xml:link="simple">Terminal Ordering SKILL Functions</a></h-hot><a actuate="user" class="URL" href="../itkdbase/chap7.html#Terminal" show="replace" xml:link="simple"> and </a><h-hot>Terminal Ordering C Functions</h-hot>.</p>

<h2>
<a id="pgfId-432377"></a><a id="19787"></a>Bus and Bundle Nets</h2>
<h3>
<a id="pgfId-432460"></a><a id="67000"></a>Bus Nets, Bundle Net, and Bus Net Bit</h3>

<p>
<a id="pgfId-416016"></a><a id="marker-425877"></a>CDB connectivity is represented by signals, the nets that implement those signals, instance terminals, and terminals. In OpenAccess, there is a net base class from which are derived the scalar and multi-bit nets.</p>
<ul><li>
<a id="pgfId-416017"></a>The bus net is a multi-bit net that represents a collection of logical connections. It is associated with a single base name and vector range specification. A bus net has a corresponding <code>busNetDef</code> that manages all bus nets that share the same base name. </li><li>
<a id="pgfId-416018"></a>The bundle net is a multi-bit net composed of one or more scalar nets, bus nets, or a combination of both. The bundle net object can be viewed as a collection of single bit net members and represents a collection of logical connections. The index and ordering of each member of a bundle net is indicated by the bundle name representation. </li><li>
<a id="pgfId-416019"></a>The bus net bit represents a single bit of an bus net. When a bus net is created, a corresponding set of bus net bits are automatically created. An implicitly created bus net bit cannot be used to connect to terminals or instTerms, nor can it be associated with shapes or routes. </li></ul>


<p>
<a id="pgfId-416020"></a>You can change a net from implicit to explicit by creating a net with the same name as an implicit net or by scalarizing the multi-bit nets. If you scalarize a multi-bit net, all the associated implicit bitNets become explicit and the multi-bit net becomes implicit. A scalarized multi-bit net can be referenced, but not modified.</p>

<h3>
<a id="pgfId-416034"></a><a id="34615"></a>Bus Definitions</h3>

<p>
<a id="pgfId-416035"></a>There are three types of bus definitions objects which define the vectored objects busNet, <code>busTerm</code>, and <code>vectorInst</code>. The definition includes base name, bit range, and bit order. The same bus definition manages all vectored objects in a block with the same base name. </p>
<p>
<a id="pgfId-416036"></a>The bus definition class tracks the minimum and maximum indexes referred to by all the corresponding bus and busBit objects. A bus definition can have missing bits. Buses need not start or end at zero, but the indexes must be greater than or equal to zero. </p>
<p>
<a id="pgfId-416037"></a>If an implicit or explicit bus definition object does not already exist when a bus object is created, the database automatically creates an implicit bus definition object. The database adds vectored objects with the same base name to the vector definition.</p>
<p>
<a id="pgfId-416042"></a>For more information, see <h-hot><a actuate="user" class="URL" href="../skdfref/db_Bus_Definition_and_Bit_Order_Functions.html" show="replace" xml:link="simple">Bus Definition SKILL Functions</a></h-hot> and <h-hot><a actuate="user" class="URL" href="../itkdbase/chap7.html#BusDefSec" show="replace" xml:link="simple">Bus Definition C Functions</a></h-hot>.</p>

<h3>
<a id="pgfId-417559"></a><a id="20426"></a>Nets with Equivalent Names</h3>

<p>
<a id="pgfId-417562"></a><a id="marker-417561"></a>The overall connectivity is the same between OpenAccess and CDB. However, the two databases store net names differently, and OpenAccess does not support complex bundle names. </p>

<h4>
<a id="pgfId-417563"></a>How Net Name Variations Are Stored</h4>

<p>
<a id="pgfId-417565"></a><a id="marker-417564"></a>The variations on a net name are stored as follows:</p>
<ul><li>
<a id="pgfId-417566"></a>CDB stores each variation on a net name separately</li><li>
<a id="pgfId-417567"></a>OpenAccess stores all equivalent variations on a net name as one net name</li></ul>

<p>
<a id="pgfId-417568"></a>For example, when you create the following three nets:</p>
<p>
<a id="pgfId-417569"></a>a<br />&lt;*1&gt;a<br />(a)</p>
<p>
<a id="pgfId-417570"></a>which all have <code>a</code> in common, CDB stores each of the three variations separately, while OpenAccess stores all three as one net name, <code>a</code>.</p>
<p>
<a id="pgfId-417571"></a>As a second example, the following net names:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-417572"></a>a,b<br />(a),b<br />a,(b)<br />(a),(b)</pre>

<p>
<a id="pgfId-417573"></a>are stored as four different names by CDB, but by OpenAccess a single net name:</p>
<p>
<a id="pgfId-417574"></a><code>a</code>, <code>b</code></p>

<h4>
<a id="pgfId-417575"></a>Complex Bundle Names Not Supported by OpenAccess</h4>

<p>
<a id="pgfId-417577"></a><a id="marker-417576"></a>OpenAccess does not support complex bundle names, including repeated or nested bundle names. OpenAccess expands complex bundle names. If a bundle net or terminal is a complex name, OpenAccess returns the expanded name the next time it is queried. For example, OpenAccess expands the following repeated bundle name,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-417578"></a>&lt;*1024&gt;(a,b)</pre>

<p>
<a id="pgfId-417579"></a>to 1024 occurrences of a, b, such as this:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-417580"></a>a,b,a,b,a,b,a,b,a,b,...</pre>

<p>
<a id="pgfId-417581"></a>and OpenAccess expands the following nested bundle name,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-417582"></a>gnd!,&lt;*1024&gt;(a,b)</pre>

<p>
<a id="pgfId-417583"></a>to gnd!, followed by 1024 occurrences of a, b, such as this:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-417584"></a>gnd!,a,b,a,b,a,b,a,b,a,b,...</pre>
<h4>
<a id="pgfId-417585"></a><a id="44179"></a>Looking for a Net by Name<a id="lookingForNetByName"></a></h4>

<p>
<a id="pgfId-417587"></a><a id="marker-417586"></a>When you look for a net by name using the <code>dbFindNetByName</code> function, the results are different in CDB and the Virtuoso Studio design environment. In CDB, <code>dbFindNetByName</code> returns a different result for each variation of the net name (or fails if the name is not a literal match), while on OpenAccess, <code>dbFindNetByName</code> returns a single net for all variations of the name that are equivalent. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-428011"></a><code>dbFindNetByName</code> can not be used to find the net name of subnets. <code>dbFindNetByName</code> only returns the matching root net name. </div>
<p>
<a id="pgfId-417588"></a>For example, when <code>dbFindNetByName</code> on CDB returns</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-417589"></a>&lt;*1&gt;a</pre>

<p>
<a id="pgfId-417590"></a><code>dbFindNetByName</code> on OpenAccess returns</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-417591"></a>a</pre>
<h3>
<a id="pgfId-416174"></a><a id="14966"></a><a id="11690"></a><a id="51569"></a>SKILL Access for Nets/Signals</h3>

<p>
<a id="pgfId-416176"></a><a id="marker-416175"></a>CDB distinguishes between nets and signals. In CDB, querying attributes with SKILL returns different attributes for nets than for signals. In OpenAccess, there are no signals. The various signal-specified functions in the CDBA procedural interface will process all single-bit nets as a signal. The attribute access has been modified in the following way:</p>
<ul><li>
<a id="pgfId-416177"></a>For a multi-bit net, only net attributes are presented/processed.</li><li>
<a id="pgfId-416178"></a>For implicit single-bit nets (for example, scalar members of a <code>bundleNet</code> that do not exist as independent scalar nets), only signal attributes are presented/processed.</li><li>
<a id="pgfId-416179"></a>For single-bit nets, both net and signal attributes will be presented/processed.</li></ul>



<h3>
<a id="pgfId-418333"></a><a id="51375"></a>Net Status Attribute </h3>

<p>
<a id="pgfId-418335"></a><a id="marker-418334"></a>The <em>Net Status</em> attribute has been removed from the Property Editor form for OpenAccess because OpenAccess does not support this attribute.</p>

<h2>
<a id="pgfId-416084"></a><a id="marker-425752"></a><a id="43509"></a>E<a id="emhModuleHier"></a>mbedded Module Hierarchy (EMH)</h2>

<p>
<a id="pgfId-416085"></a>Embedded Module Hierarchy (EMH), is a model for storing hierarchical design data supported at the OpenAccess database level. </p>
<p>
<a id="pgfId-416086"></a>EMH lets applications preserve a consistent relationship between the logical and physical hierarchy through the implementation flow, and it provides an occurrence model for annotating data specific to each distinct unfolded object in a design. </p>
<p>
<a id="pgfId-416087"></a>For information about specific OpenAccess support, go to the following URL. Login accounts are required for file downloads and many site features. </p>

<p>
<a id="pgfId-416089"></a><a actuate="user" class="URL" href="http://openeda.si2.org" show="replace" xml:link="simple">http://openeda.si2.org</a></p>
<h2>
<a id="pgfId-416133"></a><a id="60979"></a>Inherited Connections</h2>

<p>
<a id="pgfId-416135"></a><a id="marker-416134"></a>In CDB, an inherited connection is created when a <em>net expression</em> is associated with either a signal or a terminal. The connection is overridden by a <code>netSet</code> property placed on an instance somewhere in the hierarchy above. The net expression specifies the name of a <code>netSet</code> property to search for in the hierarchy above and a default name to use. </p>
<ul><li>
<a id="pgfId-416136"></a>In the case of an inherited signal, the net expression specifies the name to use for the corresponding signal.</li><li>
<a id="pgfId-416137"></a>In the case of an inherited terminal, the net expression specifies the name of the net that is to connect externally to the terminal if there is no corresponding physical connection through an instance terminal.</li></ul>

<p>
<a id="pgfId-426519"></a>CDBA emulates a net that has an associated <code>oaNetConnectDef</code> as an inherited signal and a terminal with an associated <code>oaTermConnectDef</code> as an inherited terminal. </p>

<h2>
<a id="pgfId-427704"></a><a id="46504"></a>Mosaics</h2>

<p>
<a id="pgfId-427706"></a>CDB <a id="marker-427705"></a>supports objects called mosaics, which are two-dimensional arrays of cellview placements. They can be simple or complex. A simple mosaic has only one type of instance master cellview, and the space between its rows and between its columns is the same. A complex mosaic can have a variety of <a id="marker-427707"></a>instance master cellviews at different locations in the array, and the space between its rows and between its columns can vary. </p>
<p>
<a id="pgfId-427708"></a>Complex mosaics were created by the structure compiler application. For a description of simple and complex mosaics, see the <em>Cadence Integrator&#8217;s Toolkit Database Reference</em>.</p>
<p>
<a id="pgfId-427711"></a>OpenAccess does not support mosaics in the same way that CDB does. OpenAccess has only instances, which can have row and column attributes of one or greater. When the attribute of a row or column is greater than one, the instance is an called an <em>arrayed instance</em>. CDB simple mosaics are emulated by using OpenAccess arrayed instances. </p>

<h3>
<a id="pgfId-427713"></a><a id="20153"></a>Naming of Mosaic Instances</h3>

<p>
<a id="pgfId-427715"></a><a id="marker-427714"></a>For mosaics, CDB uses more instance names than OpenAccess uses. CDB assigns mosaics a unique name of the format <code>M</code><span class="webflare-courier-new" style="white-space:pre"><em>n</em></span>, where <span class="webflare-courier-new" style="white-space:pre"><em>n</em></span> is 1 for the first mosaic and <span class="webflare-courier-new" style="white-space:pre"><em>n</em></span>+1 for the subsequent mosaics; CDB then assigns the resulting mosaic instance the name <code>I</code><span class="webflare-courier-new" style="white-space:pre"><em>n</em></span>+1. OpenAccess assigns mosaics a unique name of the format <code>M</code><span class="webflare-courier-new" style="white-space:pre"><em>n</em></span>, and assigns the same name to the resulting mosaic instance.</p>
<p>
<a id="pgfId-427716"></a>For example, if you open a cellview in the layout editor and use the Create Instance command to create two instances, then a mosaic, and then another instance, the resulting default instance names are as follows:</p>
<ul><li>
<a id="pgfId-427717"></a>For CDB:<br />
<a id="pgfId-427718"></a>First instance is named <code>I0</code>.<br />
<a id="pgfId-427719"></a>Second instance is named <code>I1</code>.<br />
<a id="pgfId-427720"></a>Mosaic is named <code>M1</code> and mosaic instance (<code>mosaicInst</code>) is named <code>I2</code>.<br />
<a id="pgfId-427721"></a>Third instance is named <code>I3</code>.</li><li>
<a id="pgfId-427722"></a>For OpenAccess:<br />
<a id="pgfId-427723"></a>First instance is named <code>I0</code>.<br />
<a id="pgfId-427724"></a>Second instance is named <code>I1</code>.<br />
<a id="pgfId-427725"></a>Mosaic is named <code>M1</code> and mosaic instance (mosaic = mosaicInst = OA arrayed instance) is also named <code>M1</code>.<br />
<a id="pgfId-427727"></a>Third instance is named <code>I2</code>.</li></ul>










<h3>
<a id="pgfId-427729"></a><a id="88746"></a>Binding of Mosaic Instances</h3>

<p>
<a id="pgfId-427731"></a>In CDB, the <a id="marker-427730"></a>master cells for mosaic instances are automatically bound (opened); in OpenAccess, the master cells for mosaic instances are not automatically bound. Therefore, for OpenAccess, applications and customer code must bind mosaic master cells explicitly.</p>
<p>
<a id="pgfId-427732"></a>For example, for the <span class="webflare-courier-new" style="white-space:pre"><em>mosaicSwitcher</em></span> argument of the <code>dbHierInfo</code> structure, you provide your own, user-defined mosaic switcher code, which you have registered. For OpenAccess, use the <code>dbGetAnyInstMaster</code> function to bind a mosaic.</p>
<p>
<a id="pgfId-427733"></a>The code example below works for both CDB and OpenAccess. For OpenAccess, the following line was added:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-427734"></a>masterId = dbGetAnyInstMaster(info-&gt;id);</pre>
<h4>
<a id="pgfId-427735"></a>Code Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-427736"></a>Boolean<br />myMosaicSwitcher( dbHierInfo *info )<br />{</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-427737"></a> travArgs *a;<br /> a = (travArgs*)info-&gt;pSArg;<br /> mosaicSwitcher++;<br /> info-&gt;toExpand = FALSE;<br /> info-&gt;toProduce = FALSE;<br /> if(a-&gt;expand){<br />  dbCellViewId masterId;<br />  /****** Add the following line for OpenAccess: *****/<br />  masterId = dbGetAnyInstMaster(info-&gt;id); <br />  if( !a-&gt;baseMosaic ) info-&gt;toExpand = TRUE;<br />  if( a-&gt;baseMosaic == info-&gt;id ){<br />   info-&gt;toExpand = TRUE;<br />  }<br /> }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-427738"></a> return TRUE;<br />}</pre>
<h3>
<a id="pgfId-427740"></a><a id="97530"></a>Rotation of Mosaics</h3>

<p>
<a id="pgfId-427742"></a><a id="marker-427741"></a>The difference between simple mosaics in CDB and emulated mosaics in the Virtuoso environment is the effect of rotation. For CDB, rotation is applied to the individual elements of the array, whereas in the Virtuoso Studio design environment, the rotation is applied to the complete array.</p>
<p>
<a id="pgfId-433898"></a>For example, for two arrays, one with angle 0 and the other with angle 90, the effect of rotation during creation is as follows:</p>

<p>
<a id="pgfId-434009"></a></p>
<div class="webflare-div-image">
<img width="637" height="434" src="images/chap3-8.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-434010"></a>In CDB, the Property Editor swapped rows and columns to make the array appear as if it has been rotated, whereas this is not necessary in OpenAccess. OpenAccess completely rotates the rows and columns.</div>
<p>
<a id="pgfId-434012"></a>Therefore, the coordinates of the <a id="marker-434011"></a>bounding box around a rotated mosaic instance are different for each database. Also, in CDB, the numbers in the Delta X and Delta Y fields on the Create Instance form were swapped.</p>
<p>
<a id="pgfId-434013"></a>In the following examples, the mosaic instance contains two rows and two columns of the following element:</p>

<p>
<a id="pgfId-434027"></a></p>
<div class="webflare-div-image">
<img width="449" height="82" src="images/chap3-9.gif" /></div>

<p>
<a id="pgfId-434028"></a>When you place the example mosaic instance without rotation, the results are the same for CDB and OpenAccess, as shown below. In the example, the space between the centers of the elements is 20 units along the X axis and 12 units along the Y axis. The centers of the left column of elements falls on the Y axis.</p>

<p><strong>Figure 3-1
<a id="pgfId-434087"></a>No Rotation: Results Are Same for OpenAccess and CDB</strong></p>
<div class="webflare-div-image">
<img width="668" height="276" src="images/chap3-10.gif" /></div>

<p>
<a id="pgfId-434088"></a>In CDB, when you placed the example mosaic instance with a 90 degree rotation, the space between the centers of the elements would change to 12 units along the X axis and 20 units along the Y axis, and the centers of the left column of elements would fall on the Y axis.</p>

<p><strong>Figure 3-2
<a id="pgfId-434148"></a>With Rotation: Location in CDB</strong></p>
<div class="webflare-div-image">
<img width="668" height="372" src="images/chap3-11.gif" /></div>

<p>
<a id="pgfId-434149"></a>In the Virtuoso environment, when you place the example mosaic instance with a 90 degree rotation, the centers of the right column of elements falls on the Y axis.</p>

<p><strong>Figure 3-3
<a id="pgfId-434208"></a>With Rotation: Location in OpenAccess</strong></p>
<div class="webflare-div-image">
<img width="668" height="347" src="images/chap3-12.gif" /></div>

<p>
<a id="pgfId-434210"></a>Also, <a id="marker-434209"></a><code>dbGetInstOrient</code> supports both regular and mosaic instances. On CDB, <code>dbGetInstOrient</code> supported only regular instances.</p>

<h2>
<a id="pgfId-426522"></a><a id="70070"></a>Design Management<a id="DMFileSys"></a></h2>

<p>
<a id="pgfId-416230"></a><a id="marker-425753"></a>In OpenAccess the phrase &#8220;Design Management&#8221; refers to library management, work-space synchronization, file management, and version control management. </p>
<p>
<a id="pgfId-431145"></a>Different types of design management systems are supported using plug-in executables (the Virtuoso Studio design environment only supports the DMFileSys plug-in). </p>
<p>
<a id="pgfId-416231"></a>In the Virtuoso Studio design environment the phase &#8220;Design Management&#8221; refers to checkin and checkout type operations, which are handled by Cadence Generic Design Management (GDM). This is in contrast to OpenAccess where the term Design Management refers to all access, and to any object in the library (not just checkin an checkout.) In OpenAccess, there is a plug-in called Version Control which is the equivalent of GDM in the Virtuoso environment. </p>
<p>
<a id="pgfId-416232"></a>In the Virtuoso environment, GDM interfaces with applications, making direct design management system calls which handle version control (checkin and checkout). The data management system called Design Data Procedural Interface (DDPI) handles the low-level manipulation of the libraries, cells, and views. The mapping of OpenAccess design management to the Virtuoso environment is done through the DMFileSys plug-in which is implementing 5.X compatibility. </p>

<p><strong>Figure 3-4
<a id="pgfId-416280"></a>DMFileSys Interface with OpenAccess Design Management System </strong></p>
<div class="webflare-div-image">
<img width="645" height="164" src="images/chap3-13.gif" /></div>
<h3>
<a id="pgfId-416282"></a><a id="15516"></a>Differences in Storage and Data Models</h3>

<p>
<a id="pgfId-416283"></a>Different types of OpenAccess design management plug-ins support different types of storage mechanisms. The Virtuoso Studio design environment relies on a specific storage mechanism that is consistent with the 5.X library structure implemented on OpenAccess with the DMFileSys plug-in. </p>
<p>
<a id="pgfId-416284"></a>The 5.X library structure leverages the UNIX directory structure. The overriding organization of library data is lib/cell/view. Each library is a separate UNIX directory. Each cell within a library is a separate file system directory. Each view within a cell is a separate file system directory. Each view directory contains application files. Files specific to a cell (and all views of that cell) can be placed in the cell directory. Files specific to a library can be placed in the library directory. </p>
<p>
<a id="pgfId-416285"></a>The data model in OpenAccess design management is slightly different than the data model in 5.X. The OpenAccess design management supports a cellview (combination of cell and view) that maps to a view in 5.X. The concepts of library and cell are the same. The concept of a <em>master</em> in the 5.X library structure maps to what is called a <em>primary</em> in OpenAccess design management. </p>
<p>
<a id="pgfId-416286"></a>The OpenAccess design management system is compatible with the Virtuoso environment through the DMFileSys plug-in. The 5.X storage structure is understood and maintained as well as cells and views are represented as directories. </p>
<p>
<a id="pgfId-428901"></a>For more information, see <h-hot><a actuate="user" class="URL" href="../skdfref/chap3.html#firstpage" show="replace" xml:link="simple"></a>Design Management SKILL Functions</h-hot> and <h-hot><a actuate="user" class="URL" href="../itkdbase/chap5.html#firstpage" show="replace" xml:link="simple">Design Management C Functions</a></h-hot></p>

<h2>
<a id="pgfId-419043"></a><a id="73180"></a>Region Query Functions</h2>

<p>
<a id="pgfId-419045"></a>In the Virtuoso Studio design environment the functions used to query regions have been re-implemented. A region query function has been provided for each type of the following objects; blockage, boundary, guide, instance, marker, row, shape steiner, and via. Also, the types of objects that are produced by these functions and the control actions have been changed. </p>
<p>
<a id="pgfId-419046"></a>For more information, see <h-hot><a actuate="user" class="URL" href="../skdfref/db_Query_Functions.html" show="replace" xml:link="simple">Query SKILL Functions</a></h-hot> and <h-hot><a actuate="user" class="URL" href="../itkdbase/chap7.html#RegionQueries" show="replace" xml:link="simple">Query C Functions</a></h-hot>.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-432543"></a>
Query of objects is based on the open hierarchy level. Only cellviews that are currently open will be searched. To ensure that all shapes are returned in a query list, <code>dbOpenHier</code> can be used to load all required cellviews. </div>
<h4>
<a id="pgfId-419056"></a><a id="80882"></a>Changes to C <a id="marker-425754"></a>Functions for <a id="regionQForC"></a>Region Query</h4>

<p>
<a id="pgfId-419057"></a>The procedural interface function, <code>dbProduceOverlap2</code> produces figures within a given search box. In the Virtuoso environment, the functions that produced figures in a given searching box will only produce figures that overlap the area specified by the searching box. </p>
<p>
<a id="pgfId-419058"></a>In CDB, the <code>dbProduceOverlap2 </code>function can be set to either; only produce figures contained within a specified search box <a href="chap3.html#36411">Figure&#160;3-5</a>, or produce any figure whose bounding box overlaps the specified search box <a href="chap3.html#10964">Figure&#160;3-6</a>. This behavior in CDB is controlled by setting the <code>trueOverlap</code> member of the <code>dbHierInfo</code> structure which is passed to <code>dbProduceOverlap2</code>. </p>
<p>
<a id="pgfId-419068"></a>In the Virtuoso environment, <code>dbProduceOverlap2</code> will only produce figures contained within the specified search box <a href="chap3.html#36411">Figure&#160;3-5</a>. This behavior is know as producing true overlaps. </p>
<p>
<a id="pgfId-419072"></a>The true overlap behavior in CDB only applied to the line, path, and polygon shapes. In the Virtuoso environment, true overlaps applies to all figures and not just these three shapes.</p>

<p><strong>Figure 3-5
<a id="pgfId-419103"></a><a id="36411"></a></strong></p>
<div class="webflare-div-image">
<img width="645" height="229" src="images/chap3-14.gif" /></div>
<p><strong>Figure 3-6
<a id="pgfId-419132"></a><a id="10964"></a></strong></p>
<div class="webflare-div-image">
<img width="625" height="226" src="images/chap3-15.gif" /></div>
<h4>
<a id="pgfId-419134"></a><a id="48627"></a>Changes to <a id="changesSkillRegionQ"></a>SKILL Functions for Region Query</h4>

<p>
<a id="pgfId-419135"></a>The SKILL functions; <code>dbGetTrueOverlaps</code>, <code>dbGetOverlaps</code>, and <code>dbProduceOverlap</code>. have been changed. </p>
<p>
<a id="pgfId-419136"></a>In CDB the SKILL function <code>dbGetTrueOverlaps</code>, which returns a list of figures within a specified search box, is applicable to only lines, paths, and polygons. In the Virtuoso environment, all shapes are applicable. </p>
<p>
<a id="pgfId-419137"></a>In CDB the SKILL functions <code>dbGetOverlaps</code> and <code>dbProduceOverlap</code> return a list of all figures whose bounding box overlaps the specified search box. In the Virtuoso environment, <code>dbGetOverlaps</code> and <code>dbProduceOverlap</code> will produce the same results as <code>dbGetTrueOverlaps</code> (Figure 3-1). </p>
<p>
<a id="pgfId-434465"></a>For more information, see <h-hot><a actuate="user" class="URL" href="../skdfref/db_Query_Functions.html" show="replace" xml:link="simple">Query SKILL Functions</a></h-hot> and <h-hot><a actuate="user" class="URL" href="../itkdbase/chap7.html#RegionQueries" show="replace" xml:link="simple">Query C Functions</a></h-hot>.</p>

<h2>
<a id="pgfId-419299"></a><a id="97177"></a><a id="91951"></a>Placement Status<a id="marker-428962"></a> </h2>

<p>
<a id="pgfId-419300"></a>The following describes the placement status supported in the Virtuoso Studio design environment. </p>

<p>
<a id="pgfId-419326"></a></p>
<table class="webflareTable" id="#id419301">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id419303">
<a id="pgfId-419303"></a>Placement Status</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id419305">
<a id="pgfId-419305"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-419307"></a><code>none</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-419309"></a>The placement status has not been set, but the current placement location is treated as valid.</p>
<p>
<a id="pgfId-434587"></a>The value for this placement status retrieved by <code>instId~&gt;status</code> is <code>nil</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-419311"></a><code>unplaced</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-419313"></a>The object is defined logically in database, but not physically placed in the design. The current placement is arbitrary and should be changed. Unplaced objects do not contribute to the bounding box of the containing design, and they will not be returned by region query. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-419315"></a><code>fixed</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-419317"></a>The placement of the object can not be changed by an automatic placement tool </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-419319"></a><code>locked</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-419321"></a>The placement of the object can not be changed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-419323"></a><code>placed</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-419325"></a>An effort has been made to place this object but it may be placed again by future attempts</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-420844"></a>In CDB, the status of <code>firm</code> was the default placement status and was used to represent an object should not be changed by an automatic placement tool. On OpenAccess, the default placement status is none. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-419330"></a><em>Design Summary &#8211; Instance Statistics </em>displays the number of instances with the placement status attribute set to <code>unplaced</code>. This attribute is maintained by P&amp;R applications. An <code>unplaced</code> instance is not displayed in the Virtuoso layout window, it is however present in the database.</div>
<p>
<a id="pgfId-432037"></a>The following describes the placement status mapping from CDB to OpenAccess.</p>
<p>
<a id="pgfId-432098"></a>Non-Preview Data</p>

<p>
<a id="pgfId-432133"></a></p>
<table class="webflareTable" id="#id432112">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-432114"></a>CDB</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-432116"></a>OpenAccess</p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432118"></a>firm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432120"></a>none</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432122"></a>suggested</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432124"></a>placed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432126"></a>placed</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432128"></a>placed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432130"></a>locked</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432132"></a>locked</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-432158"></a>Preview Data</p>

<p>
<a id="pgfId-432180"></a></p>
<table class="webflareTable" id="#id432159">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-432161"></a>CDB</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-432163"></a>OpenAccess</p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432165"></a>firm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432167"></a>fixed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432169"></a>suggested</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432171"></a>placed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432173"></a>placed</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432175"></a>placed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432177"></a>locked</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432179"></a>locked</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432192"></a>unplaced</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-432194"></a>unplaced</p>
</td>
</tr>
</tbody></table>
<h2>
<a id="pgfId-416011"></a><a id="40270"></a>Virtuoso Studio design environment Libraries</h2>
<h3>
<a id="pgfId-416635"></a><a id="79581"></a>D<a id="detLibStruct"></a>etermining the Library Structure</h3>

<p>
<a id="pgfId-416636"></a>When a library is created, the library structure is determined by which plug-in is used. The Virtuoso environment only supports the DMFileSys plug-in. In order to be understood as a 5.X library, the library must be defined as a 5.X library in the library definition. Any library defined in a <code>cds.lib</code> file is assumed to be a 5.X library. </p>
<p>
<a id="pgfId-416638"></a>The <a id="ddLibIs5X"></a><code>ddLibIs5X</code> C and SKILL functions determine if a library was created with 5.X library structure or not. <code>ddLibIs5X(ddId libId</code>) uses a library ID as an argument and returns TRUE if the library was created as a 5.X library otherwise it returns FALSE.</p>

<h3>
<a id="pgfId-416319"></a>Using <a id="nestedLibraries"></a><a id="18949"></a>Nested Libraries</h3>

<p>
<a id="pgfId-416321"></a><a id="marker-416320"></a>Although both CDB and OpenAccess allow hierarchical library structures to be defined, using nested libraries (libraries within other libraries) can cause unpredictable behavior and cryptic errors in applications. OpenAccess issues warnings about nested libraries; CDB does not.</p>
<p>
<a id="pgfId-416322"></a>In OpenAccess, there are a number of conditions that result in warnings related to nested libraries. For example, when a library list file containing nested libraries is read, OpenAccess issues a warning saying that the directory has been used multiple times.</p>

<h3>
<a id="pgfId-416331"></a><a id="43212"></a>Library Definition Files</h3>

<p>
<a id="pgfId-416332"></a>In CDB, the <code>cds.lib</code> is the only library definition file used by applications. In the OpenAccess Virtuoso Studio design environment, the <code>cds.lib</code> is the only supported library definition file. The CdsLib plugin (release 31.09) allows OpenAccess applications to read cds.lib files, where previously they required to use lib.defs.</p>

<h3>
<a id="pgfId-416684"></a>Combining <a id="58638"></a><a id="dontMixCdbaOA"></a><a id="46237"></a>CDB and OpenAccess Libraries</h3>

<p>
<a id="pgfId-416686"></a>Cellviews containing <code>.oa</code> files must not coexist in libraries whose cellviews contain <code>.cdb</code> files. Similarly, CDB libraries can contain a <code>techfile.cds</code> file and Virtuoso Studio design environment libraries can contain a <code>tech.db</code> file, but not a combination of these types of files. </p>

<h2>
<a id="pgfId-427310"></a><a id="96746"></a>Cellviews<a id="marker-427309"></a></h2>
<h3>
<a id="pgfId-432587"></a><a id="32002"></a>Creating Cellviews</h3>

<p>
<a id="pgfId-432588"></a>In the Virtuoso Studio design environment, a cellview is not created unless a master (<code>layout.oa</code>, <code>sch.oa</code>, <code>verilog.v</code> etc.) has been specified. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-432589"></a>ddGetObj(.... &quot;verilog.v&quot;, &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-432590"></a>dbOpenCellViewByType(.... &quot;netlist&quot; &quot;wc&quot;)</pre>

<p>
<a id="pgfId-432591"></a>The above would results in <code>verilog.v</code> as the master and the <code>netlist.oa</code> as a separate file. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-432592"></a>dbOpenCellViewByType(.... &quot;netlist&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-432593"></a>ddGetObj(.... &quot;verilog.v&quot; &quot;wc&quot;)</pre>

<p>
<a id="pgfId-432594"></a>The above would results in <code>netlist.oa</code> as the master and <code>verilog.v</code> as a separate file.</p>
<p>
<a id="pgfId-432596"></a>For more information, see <h-hot><a actuate="user" class="URL" href="../itkdbase/chap5.html#ddGetObjFunc" show="replace" xml:link="simple">ddGetObj</a></h-hot>.</p>

<h3>
<a id="pgfId-432584"></a><a id="72685"></a>Saving Cellviews Using SKILL</h3>

<p>
<a id="pgfId-427364"></a>You can edit the contents of a cellview with SKILL functions in the CIW or by running SKILL programs, but you cannot save your edits while in read (r) mode. To save edits made with SKILL, change to edit mode either before or after making the edits to the cellview.</p>

<h3>
<a id="pgfId-429294"></a><a id="57005"></a>Panic Cellviews</h3>

<p>
<a id="pgfId-427366"></a>Panic cellviews are supported in the Virtuoso Studio design environment. In addition, the SKILL functions, <code>dbOpenPanicCellView</code> and <code>dbOpenAutoSavedCellView</code> are also supported.</p>

<h3>
<a id="pgfId-432667"></a><a id="29517"></a>Scratch Cellviews<a id="scratchCellviewsRetired"></a></h3>

<p>
<a id="pgfId-432668"></a>CDB provided a scratch cellview mode, <code>&quot;s&quot;</code>, that let you create temporary cellviews in virtual memory; you could edit them, but not save them to disk. In the Virtuoso environment, you need to use the editable read-only capability instead. See <a href="chap3.html#73907">Cellview Reference Count</a>.</p>
<p>
<a id="pgfId-432672"></a>On CDB, the following SKILL example created a scratch cellview:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-432673"></a>cvId = dbOpenCellViewByType( &quot;myLib&quot; &quot;myCell&quot; &quot;myView&quot; &quot;maskLayout&quot; &quot;s&quot; )</pre>

<p>
<a id="pgfId-432674"></a>The Virtuoso environment provides editable read-only cellviews that cannot be saved to disk; therefore, scratch cellviews are redundant and are being retired (with the exception of Pcell submasters, see <a href="chap3.html#25540">Pcell Submaster are Opened in &quot;s&quot; Mode</a>). </p>
<p>
<a id="pgfId-432678"></a>The following SKILL code creates a cellview that provides the same functionality as a scratch cellview on CDB:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-432679"></a>cvId = dbOpenCellViewByType( &quot;myLib&quot; &quot;myCell&quot; &quot;myView&quot; &quot;maskLayout&quot; &quot;w&quot; )<br />dbReopen( cvId &quot;r&quot; )</pre>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-432681"></a>
<a id="marker-432680"></a>SKILL code that explicitly uses the <code>&quot;s&quot;</code> scratch cellview mode needs to be updated to use the editable read-only mode, as shown above, when running on OpenAccess.</div>
<h4>
<a id="pgfId-432684"></a><a id="90877"></a>Scratch Cellviews Can Have Null Library in OpenAccess<a id="scratchCellviewNoLib"></a></h4>

<p>
<a id="pgfId-432685"></a>On CDB, scratch cellviews were associated with a specific library; in the Virtuoso environment, the equivalent of scratch cellviews, editable read-only cellviews, are not associated with a library.</p>
<p>
<a id="pgfId-432686"></a>In the Virtuoso environment, standard vias (<code>stdVia</code>) do not have an associated library. The data translated from LEF In or DEF contain routes and standard vias, and therefore, master cellviews for standard vias that do not have libraries.</p>
<p>
<a id="pgfId-432687"></a>If you have SKILL or C code that requires the library for a cellview, you must to update your code. For example, <code>dbGetOpenCellViews</code> returns a list of all open cellviews, which could include scratch cellviews without associated libraries.</p>
<p>
<a id="pgfId-432688"></a>Currently, the absence of an associated library only applies to standard vias. The Virtuoso Studio design environment provides the SKILL API <code>dbIsCellViewStdViaMaster</code> to determine whether a cellview is a stdViaMaster.</p>

<h4>
<a id="pgfId-432690"></a><a id="25540"></a>Pcell Submaster are Opened in &quot;s&quot; Mode</h4>

<p>
<a id="pgfId-432691"></a>Scratch mode, &quot;s&quot;, still exists for Pcell submasters. Pcell submasters now are opened in &quot;s&quot; mode whereas they were opened in &quot;a&quot; mode on CDB. The &quot;s&quot; mode is for internal use only and cannot be set by the user. </p>
<p>
<a id="pgfId-432692"></a>Code that checks for write access can check the mode as follows:</p>
<p>
<a id="pgfId-432693"></a><code>mode!=&quot;r&quot;</code></p>

<h3>
<a id="pgfId-431171"></a><a id="66186"></a>Standard Via Masters </h3>

<p>
<a id="pgfId-431180"></a>In the Virtuoso Studio design environment, the masters of standard vias are not associated with a library, cell, or view name. A NULL value is returned when attempting to use <code>dd</code> function calls to return the master ID of standard vias. The SKILL function <code>dbIsCellViewStdViaMaster</code> is provided to determine whether a cellview is a standard via master or not. </p>
<p>
<a id="pgfId-431175"></a>For more information, see <a href="chap3.html#37732">Using Function Calls on Standard Vias</a>. </p>

<h3>
<a id="pgfId-431169"></a><a id="switchingFromEditToRead"></a><a id="32106"></a>Behavior in Read-Only Mode</h3>

<ul><li>
<a id="pgfId-427381"></a><a id="marker-427380"></a>CDB and the Virtuoso Studio design environment respond differently when you switch from edit to read-only mode using the <code>dbReopen</code> function.<br />
<a id="pgfId-427382"></a>In CDB, when you open a cellview in edit mode, edit the cellview, and then change to read mode using the <code>dbReopen</code> function, your changes are retained in virtual memory (VM). When the edited cellview is purged from VM or you exit the editing session, the changes are lost. You can preserve your changes by saving the cellview under a new name (Save As).<br />
<a id="pgfId-427383"></a>In Virtuoso Studio design environment, when the <code>dbReopen</code> function is used to change from edit to read-only mode, the changes are discarded immediately.</li></ul>


<p>
<a id="pgfId-427384"></a>In both CDB and Virtuoso Studio design environment, when the graphical user interface is used to change from edit to read-only mode, the system displays a dialog box asking if you want to save your changes.</p>
<ul><li>
<a id="pgfId-433092"></a>CDB and the Virtuoso Studio design environment respond differently when you delete an object from a read-only cellview.<br />
<a id="pgfId-433109"></a>In CDB, you cannot modify or delete an object from a read-only cellview.<br />
<a id="pgfId-433132"></a>In the Virtuoso Studio design environment, you can delete an object from a read-only cellview by using the <a actuate="user" class="URL" href="../skdfref/ge_re_geDeleteSelSet.html" show="replace" xml:link="simple">geDeleteSelSet</a> function.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-433116"></a>This action cannot be undone.</div><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-433117"></a>
If you want to prevent deletion of objects from a read-only cellview, use the <a actuate="user" class="URL" href="../sklayoutref/layout_re_leHiDelete.html" show="replace" xml:link="simple">leHiDelete</a> function. You will be warned to open the cellview with write permission. </div><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-434666"></a>
If you want to prevent deletion of objects from a read-only schematic cellview, use the <a actuate="user" class="URL" href="../skcompref/chap1_re_schHiDelete.html" show="replace" xml:link="simple">schHiDelete</a> function. If you try to delete the object, the SCH-1007 message will be displayed.</div></li></ul>






<h3>
<a id="pgfId-432608"></a><a id="46658"></a>Using <a id="marker-432606"></a>dbWriteCellView and <a id="dbWritedbCopy"></a>dbCopyCellview</h3>
<p>
<a id="pgfId-432651"></a></p>
<div class="webflare-div-image">
<img width="668" height="359" src="images/chap3-17.gif" /></div>

<p>
<a id="pgfId-432652"></a>When saving a cellview using the command <em>Design &#8211; Save As</em>, the target cellview cannot be open in virtual memory. When attempting to use the <em>Save As</em> command on a cellview that is open, the cellview is considered a locked file. The <em>Save As</em> command is designed to be used to save a source cellview to a different target cellview without overwriting the original. </p>
<p>
<a id="pgfId-432653"></a>When using the functions <code>dbWriteCellView</code> or <code>dbCopyCellView</code> the following warning message will be issued when attempting to &#8220;save as&#8221; or copy to a cellview which is open in virtual memory in append (<code>a</code>), or write (<code>w</code>) mode. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-432654"></a>*WARNING* <code>dbWriteCellView</code>: Unable to lock database file for <code><em>library</em></code>/<code><em>cell</em></code>/<code><em>view</em></code></pre>

<p>
<a id="pgfId-432655"></a>If the target cellview is open in read (<code>r</code>) mode, the target cellview is saved to disk and updated in virtual memory.</p>
<p>
<a id="pgfId-432656"></a>CDB allowed the target cellview to be open in append (<code>a</code>), or write (<code>w</code>) mode when using when using <code>dbWriteCellView</code> or <code>dbCopyCellView</code>. The target cellview was updated in virtual memory but not saved to disk. </p>

<h3>
<a id="pgfId-432603"></a><a id="49088"></a>Opening a Cellview with <a id="infodbGetAnyInstSwitchMaster"></a>dbGetAnyInstSwitchMaster</h3>

<p>
<a id="pgfId-427388"></a><code></code><a id="marker-427387"></a>The Virtuoso Studio design environment behaves differently than CDB when choosing which view to open based on an instance&#8217;s switch master.</p>
<ul><li>
<a id="pgfId-427389"></a>In CDB, the <code>dbGetAnyInstSwitchMaster</code> function uses the instance&#8217;s library and cell names to access the list of view names, and opens the first view that contains CDB data; the function returns a handle to the cellview. In addition, for Pcells, the system uses each parameter on the instance to check whether it is a parameter of the matching cellview, and returns a handle to a submaster.</li><li>
<a id="pgfId-427390"></a>The Virtuoso Studio design environment opens the first view in the list of views that matches. If the matching view does not contain OpenAccess data, the system issues a warning message and the function returns NULL. The list of views is not searched for a view containing OpenAccess data; it stops when it finds the first view in the list of view names on disk.</li></ul>

<p>
<a id="pgfId-427391"></a>This behavior change makes the Virtuoso Studio design environment consistent with other applications that could be using the Hierarchy database and Hierarchy Editor to access the list of view names. In a hierarchical traversal of data, the first view matching in the view name list would be used regardless of the data stored in it.</p>

<h3>
<a id="pgfId-427393"></a><a id="95100"></a>Maximum Number of Open Files</h3>

<p>
<a id="pgfId-427395"></a><a id="marker-427394"></a>OpenAccess avoids problems caused when other processes write to a file that has been partially read by keeping partially read files open. The maximum number of open files is limited by the operating system: in Solaris 7, the maximum number of open files is 1024. You can set the number from 1 to the maximum of 1024 with the following UNIX shell command:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-427396"></a>limit descriptors <code><em>your_maximum</em></code></pre>

<p>
<a id="pgfId-427397"></a>For example, to set the maximum number of open files to 512, type:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-427398"></a>limit descriptors 512</pre>

<p>
<a id="pgfId-427399"></a>To reset the number to the maximum of 1024, type:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-427400"></a><code>unlimit</code> descriptors</pre>

<p>
<a id="pgfId-427401"></a>Refer to the OpenAccess documentation for the minimum number of descriptors expected by OpenAccess. Currently, the minimum limit is 512. Do not use less than the minimum, as the system might not behave as expected.</p>
<p>
<a id="pgfId-427403"></a><a id="marker-427402"></a>OpenAccess always completely reads small files, and partially reads large files, as long as the total number of open files does not exceed the current limit. When the number of open files would exceed the limit, OpenAccess completely reads large files. The intention is to partially read large files whenever possible.</p>

<h3>
<a id="pgfId-427407"></a><a id="73907"></a><a id="34985"></a>Cellvi<a id="refCount"></a>ew Reference Count</h3>

<p>
<a id="pgfId-427409"></a><a id="marker-427408"></a>CDB does not close instance masters even when there are no instances referring to them. OpenAccess purges the instance master as soon as the reference count associated with the instance master becomes zero. This happens when no open cellview has an instance of the master.</p>
<p>
<a id="pgfId-427410"></a>F<a id="editingInReadMode"></a>requent opening and closing of instance masters adversely affects the performance of Virtuoso tools. To avoid this problem, Virtuoso increments the cellview reference count twice when a cellview is explicitly opened.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-427411"></a>Pcell supermasters and scratch cellviews are an exception; the Virtuoso environment does not increment twice for Pcell supermasters and scratch cellviews.</div>
<p>
<a id="pgfId-427413"></a>The <code>dbGetRefCount</code><a id="marker-427412"></a> C function has been updated as follows: When the OpenAccess reference count is two (2) or greater, one (-1) is subtracted from the OpenAccess reference count. The function <code>dbGetRefCount</code> now returns a different count than the native OpenAccess <code>oaCellView::getRefCount()</code> function: when the reference counter is greater than zero (0), the OpenAccess function count is higher by one (1).</p>
<p>
<a id="pgfId-427414"></a>For the Virtuoso Studio design environment, the C and SKILL <code>dbClose</code> SKILL functions have been modified to close the cellview twice when the reference count is two (2), thereby removing the cellview from virtual memory.</p>

<h3>
<a id="pgfId-430295"></a><a id="17234"></a>CellViewType Attribute</h3>

<p>
<a id="pgfId-430323"></a>In CDB, the cellview attribute <code>cellViewType</code> could be modified. In OpenAccess, the <code>cellViewType</code> attribute cannot be modified. The <code>cellViewType</code> attribute must be set to its correct value when the cellview is initially opened for write access.</p>

<h3>
<a id="pgfId-427417"></a><a id="98571"></a>Mapping of Cellview Types from CDB to OpenAccess<a id="mappingViewTypes"></a></h3>

<p>
<a id="pgfId-427418"></a>There are several differences in the support of view types for CDB and OpenAccess, the most important of which is that OpenAccess supports fewer view types than CDB. View types are mapped to one of the four OpenAccess view types, as shown in <a href="chap3.html#36948">Mapping of CDB View Types to OpenAccess View Types</a>.</p>
<ul><li>
<a id="pgfId-427427"></a><a id="marker-427426"></a>OpenAccess does not use the data registry; it uses its own filename-to-view type mapping, which is different from the mapping defined in the data registry.</li><li>
<a id="pgfId-431354"></a>OpenAccess enforces the built-in mapping from filename-to-view type; it does not allow data filenames that do not match the view type stored internally in the data.</li><li>
<a id="pgfId-427429"></a>The <code>dbOpenCellViewByType</code><a id="marker-427428"></a> function maps all CDB view types to one of the four OpenAccess view types.</li><li>
<a id="pgfId-427430"></a>The <code>stranger</code> view type is not supported. </li></ul>



<p>
<a id="pgfId-431360"></a>The mapping of view types between CDB and OpenAccess if given in the table below.</p>

<p>
<a id="pgfId-427620"></a></p>
<table class="webflareTable" id="#id437980">
<caption style="text-align:left;"><p>
</p><h4>Table 3-1
<a id="pgfId-427441"></a><a id="36948"></a>Mapping of CDB View Types to OpenAccess View Types</h4></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id427453">
<a id="pgfId-427453"></a><strong>CDB enum</strong></span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id427455">
<a id="pgfId-427455"></a><strong>OA enum</strong></span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id427457">
<a id="pgfId-427457"></a><strong>CDB Filename</strong></span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id427459">
<a id="pgfId-427459"></a><strong>OA Filename</strong></span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id427461">
<a id="pgfId-427461"></a>CDB View Type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id427463">
<a id="pgfId-427463"></a>OA View Type</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427465"></a>dbcUnknownCellViewType</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427467"></a>(no equivalent)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427469"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427471"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427473"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427475"></a>N/A</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427477"></a>dbcGraphic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427479"></a>oacMaskLayout</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427481"></a>graphic.cdb</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427483"></a>layout.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427485"></a>graphic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427487"></a>maskLayout</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427489"></a>dbcMaskLayout</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427491"></a>oacMaskLayout</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427493"></a>layout.cdb</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427495"></a>layout.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427497"></a>maskLayout</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427499"></a>maskLayout</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427501"></a>dbcSchematic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427503"></a>oacSchematic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427505"></a>sch.cdb</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427507"></a>sch.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427509"></a>schematic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427511"></a>schematic</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427513"></a>dbcSymbolic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427515"></a>oacMaskLayout</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427517"></a>layout.cdb</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427519"></a>layout.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427521"></a>maskLayout</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427523"></a>maskLayout</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427525"></a>dbcPCB</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427527"></a>oacNetlist</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427529"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427531"></a>netlist.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427533"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427535"></a>netlist</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427537"></a>dbcSchematicSymbol</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427539"></a>oacSchematicSymbol</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427541"></a>symbol.cdb</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427543"></a>symbol.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427545"></a>schematicSymbol</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427547"></a>schematicSymbol</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427549"></a>dbcLogicModel</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427551"></a>oacNetlist</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427553"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427555"></a>netlist.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427557"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427559"></a>netlist</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427561"></a>dbcBehavioral</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427563"></a>oacNetlist</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427565"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427567"></a>netlist.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427569"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427571"></a>netlist</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427573"></a>dbcStranger</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427575"></a>(no equivalent)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427577"></a>stranger.cdb</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427579"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427581"></a>stranger</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427583"></a>N/A</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427585"></a>dbcNetlist</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427587"></a>oacNetlist</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427589"></a>netlist.cdb</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427591"></a>netlist.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427593"></a>netlist</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427595"></a>netlist</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427597"></a>dbcPackage</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427599"></a>oacNetlist</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427601"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427603"></a>netlist.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427605"></a>N/A</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427607"></a>netlist</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427609"></a>dbcVerilogMap</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427611"></a>oacNetlist</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427613"></a>veriMap.cdb</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427615"></a>netlist.oa</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427617"></a>verilogMap</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-427619"></a>netlist</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-427622"></a><a id="46070"></a>Custom Virtuoso Studio design environment View Types</h3>

<p>
<a id="pgfId-427623"></a>The Virtuoso environment supports the creation of custom, user-defined view types through the data registry. You can store and manage any non-design data (non-dbObject) in cellviews in your design library for use by third-party (non-Cadence) applications within the Cadence 5.x architecture library structure. A typical use for custom user-defined view types is to store files or documentation in ASCII text, PDF, or HTML format.</p>
<p>
<a id="pgfId-427624"></a>Customer code using registered, non-design, user-defined is supported. However, code using user-defined view types must not use database calls, such as <code>dpOpenCellViewByType</code>.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-427625"></a>
Make sure that code using (reading/writing) user-defined view types does not contain any Virtuoso or OpenAccess database calls (SKILL API, C API (ITK/DB), or native OpenAccess API).</div>

<p>
<a id="pgfId-427626"></a>The Virtuoso environment introduces no new restrictions for user-defined view types used to store non-OpenAccess data. Follow the standard documented procedures to register a tool, data format, and view alias for your user-defined view type in a <code>data.reg</code> file. For more information, see &#8220;<h-hot><a actuate="user" class="URL" href="../caiuser/chap6.html#firstpage" show="replace" xml:link="simple">Cadence Data Registry File: data.reg</a></h-hot>&#8221; in the <em>Cadence Application Infrastructure User Guide</em>.</p>

<h2>
<a id="pgfId-417437"></a><a id="17582"></a><a id="12976"></a>Properties of Libraries, Cells, and Views </h2>

<p>
<a id="pgfId-417438"></a><a id="marker-425687"></a>In CDB, properties of libraries, cells and views are stored in files called <code>prop.xx</code>. To access the properties, the application would call <code>dbOpenBag</code>. The property bag is explicitly or implicitly opened to create properties on library, cell or view. </p>
<p>
<a id="pgfId-417440"></a>In the Virtuoso environment, when using the <h-hot><a href="chap3.html#DMFileSys">DMFileSys</a></h-hot> system, the <code>prop.xx</code> file has been replaced by a <code>data.dm</code> file. In OpenAccess the properties of objects such as library, cell or view are created directly in this file and accessed through the corresponding objects. In the Virtuoso environment, the emulation code provides access to this information through the emulate property bag SKILL and C functions. </p>

<h3>
<a id="pgfId-417442"></a><a id="97286"></a>Calls to dbBag SKILL Functions</h3>

<p>
<a id="pgfId-420526"></a>In CDB, SKILL functions such <code>dbReplaceProp</code> would automatically open the property bag of a database object. In the Virtuoso environment, applications calling functions must call <code>dbOpenBag</code> first, then <code>dbSaveBag</code> and <code>dbCloseBag</code> when all property modifications have been completed. </p>
<p>
<a id="pgfId-417443"></a>When using a SKILL API such as <code>dbGetPropByName</code> on a <code>dd</code> ID when the property bag is not open, the function fails and issues a warning message.</p>
<p>
<a id="pgfId-417444"></a>The mode argument for <code>dbOpenBag</code> differs for CDB versus OpenAccess. For more information, see <h-hot><a actuate="user" class="URL" href="../skdfref/db_re_dbOpenBag.html" show="replace" xml:link="simple">dbOpenBag</a></h-hot> in the Appendix A.</p>

<h3>
<a id="pgfId-425484"></a><a id="properties"></a><a id="71787"></a>Property Type dbcFileNameType</h3>

<p>
<a id="pgfId-418351"></a><a id="marker-418350"></a>One CDB property type, <code>dbcFileNameType</code>, is not supported. The translator issues a warning on encountering this property and converts it to <code>dbcStringType</code>. </p>

<h3>
<a id="pgfId-434240"></a><a id="70853"></a>Properties versus Parameterized Cell Parameters</h3>

<p>
<a id="pgfId-434242"></a><a id="marker-434241"></a>CDB implemented parameters as properties, which implies that a parameter has an associated ID. In OpenAccess, parameters are objects, which while being distinct from properties, are not first class objects (an OpenAccess parameter object does not have an ID). For applications and customer SKILL code to work as before, the CDBA procedural interface layer produces IDs for parameters as if they were properties. A <code>dbProp</code> class creates a filter to determine whether a property, based on original perspective, represents an OpenAccess property or an OpenAccess parameter, and to act appropriately.</p>
<p>
<a id="pgfId-434244"></a>In CDB, you must not change the value of a parameter for a Pcell supermaster using <a id="marker-434243"></a>SKILL because the submasters will not be properly updated.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-434245"></a>In this context, parameters means Pcell parameters, not CDF parameters. There is no change to CDF parameters. The Virtuoso environment supports ranges for parameters, but does not support enum types for parameters. OpenAccess itself does not support ranges or enum types for parameters.</div>

<h4>
<a id="pgfId-434246"></a>Semantics of an Instance Property that Matches the Supermaster Parameter Default Value</h4>

<p>
<a id="pgfId-434248"></a>On OpenAccess, when a Pcell supermaster is recompiled, default parameter values may change. Instances that have explicit properties that match the old supermaster parameter default values retain their original values. Instances that inherit the property values from the supermaster are updated to reflect the new supermaster defaults.</p>
<p>
<a id="pgfId-434249"></a>The complete set of properties explicitly set on the instance determines its binding to the Pcell submaster. An instance that has a single property whose value matches the parameter value in the supermaster binds to a different submaster than an instance that has no explicit properties and which inherits all of the parameter values from the supermaster, even though both instances appear to have the same value for the property.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-434250"></a>The <em>Edit Properties form </em>and the <em>Property Editor</em> assistant can be used to modify instance properties that correspond to supermaster parameters (and affect the underlying Pcell subMaster accordingly). However, by using these tools, you cannot create an instance property that duplicates a supermaster parameter; the new property must have a value that differs from the superMaster parameter value.</div>

<h2>
<a id="pgfId-429188"></a><a id="55651"></a>Command Interpreter Window (CIW)</h2>

<p>
<a id="pgfId-424315"></a>For information about CIW user preferences, see &#8220;Specifying CIW Controls&#8221; in Chapter 8, of the <em><a actuate="user" class="URL" href="../wincfg/customize.html#firstpage" show="replace" xml:link="simple">Virtuoso Design Environment User Guide</a></em><em>.</em> </p>
<p>
<a id="pgfId-424824"></a>For information about CIW control environment variables, see &#8220;Specifying CIW Controls in the .cdsenv&quot; in Chapter 9, of the <em><a actuate="user" class="URL" href="../wincfg/envSettings.html#firstpage" show="replace" xml:link="simple">Virtuoso Design Environment User Guide</a></em><em>.</em> </p>

<h4>
<a id="pgfId-429207"></a>Removed User Preference Environment Variables</h4>

<p>
<a id="pgfId-429208"></a>The environment variables <code>formButtonLocation</code> and <code>textFont</code> are no longer used by Virtuoso applications.</p>

<h2>
<a id="pgfId-424562"></a><a id="modifyingObjects"></a><a id="92844"></a>Objects</h2>

<p>
<a id="pgfId-423521"></a><a id="marker-423519"></a><a id="marker-423520"></a>The following sections describe differences when modifying objects for CDB and OpenAccess.</p>

<h3>
<a id="pgfId-423523"></a><a id="74382"></a>Changing Object Types</h3>

<p>
<a id="pgfId-423525"></a><a id="marker-423524"></a>CDB supported many functions that would convert an object from one type to another. For example, <code>dbConvertPathToPolygon</code>, <code>dbConvertEllipseToPolygon</code>, and <code>dbConvertLineToPath</code>. In CDB, the object identifier returned by the specific conversion function was the same as the object identifier that was passed in. However, the CDBA layer cannot guarantee this behavior; the object identifier returned might be different from what was passed in. <code>dbConvertLineToPath</code><a id="marker-423526"></a> is one function in particular where the path identifier returned will be different from the line identifier the function was given.</p>
<p>
<a id="pgfId-423527"></a>Another function that will change the underlying database object is <code>dbSetLabelType</code>. A normal label in CDB is equivalent to an OpenAccess <code>oaText</code>. However, an IL or NLP label is equivalent to an OpenAccess <code>oaEvalText</code>. In CDB, the <code>dbSetLabelType</code> function returned a Boolean indicating whether the operation was successful or not; in OpenAccess, <code>dbSetLabelType</code> returns an ID, which changes when the label type changes. Applications calling this function should be reviewed to see whether they refer to the given identifier argument after calling it.</p>

<h3>
<a id="pgfId-423529"></a><a id="31400"></a>Changing the Name of an Object</h3>

<p>
<a id="pgfId-423532"></a><a id="marker-423530"></a><a id="marker-423531"></a>In CDB, the name of an object is merely another attribute of the object. Therefore, changing the name of an object does not change the object or its resulting identifier. This is true even when the new name implies a different number of bits than the old name.</p>
<p>
<a id="pgfId-423534"></a><a id="marker-423533"></a>In the Virtuoso environment, changing the name of an object might result in a different object. For example, if the name of an instance is changed from <code>I10&lt;0:4&gt;</code> to <code>I10</code>, the result is replacing the vector instance named <code>I10&lt;0:4&gt;</code> with a scalar instance <code>I10</code>. Many of the CDBA procedural interface functions return a Boolean, indicating only whether the operation was successful or not. Applications that call functions which set the name of an object must be reviewed in case they rely on the object identifier to remain the same.</p>
<p>
<a id="pgfId-423535"></a>Some functions, including <code>dbSetTermName</code>, <code>dbSetInstName</code>, <code>dbSetAnyInstName</code>, and <code>dbSetAnyInstNumInst</code>, have been modified to return an ID rather than just a Boolean value. The <code>dbSetTermName</code><a id="marker-423536"></a> function has the restriction that the new name must imply the same number of bits as the net that is associated with the terminal. There are cases where the ID will be same, but applications that cache the identifier should be reviewed for their use of these functions. </p>

<h3>
<a id="pgfId-423538"></a><a id="29959"></a>Changing an Instance Name to the Same Name</h3>

<p>
<a id="pgfId-423540"></a><a id="marker-423539"></a>The Virtuoso environment and CDB database behave differently when you change the name of an instance to its existing name. </p>
<ul><li>
<a id="pgfId-423541"></a>The Virtuoso environment checks to see whether an instance already exists with the same name, and finding that it does, issues the following warning message:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id423542">
<a id="pgfId-423542"></a>*WARNING* (dbSetAnyInstName) Instance with name &#8217;instance_name&#8217; already exists</pre></li><li>
<a id="pgfId-423543"></a>CDB did not check to see whether an instance already exists with the same name. The name would be replaced with the identical name and no warning message was issued.</li></ul>



<h2>
<a id="pgfId-380115"></a><a id="timestamps"></a><a id="21719"></a>Timestamps</h2>

<p>
<a id="pgfId-380116"></a><a id="marker-392559"></a>For timestamps, the primary difference between CDB and the Virtuoso Studio design environment is that CDB used the <code>instancesLastChanged</code> property to save the time that a cellview was updated, while the Virtuoso environment uses counter objects (such as <code>oaTimeStamp</code><a id="marker-392561"></a>), and increments them when their <a id="marker-425868"></a>associated objects are updated.</p>

<h3>
<a id="pgfId-380118"></a><a id="18290"></a>How CDB Uses Timestamp Properties</h3>

<p>
<a id="pgfId-380119"></a><a id="marker-392562"></a>CDB maintained several time properties in the database, the most prominent of which was called <code>instancesLastChanged</code>. This property was updated every time a modification to the database was made. </p>
<p>
<a id="pgfId-380120"></a>CDB and all of its connectivity extractors, including Virtuoso XL and the Virtuoso Schematic Editor, used the following timestamp properties:</p>
<ul><li>
<a id="pgfId-380121"></a><code>instancesLastChanged</code><a id="marker-392597"></a>: This property was maintained solely by CDB and updated whenever an edit was made to a cellview. All applications use this property to determine whether the database has been edited.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-388799"></a>Despite the name of the <code>instancesLastChanged</code> property, this property contains the time of the last modification of the contents of the cellview, not its instance masters.</div></li><li>
<a id="pgfId-380122"></a><code>lastSchematicExtraction</code><a id="marker-392566"></a>: To designate that the cellview had been extracted, and thus the connectivity data had been created or updated, extractors placed this cellview property in the database. The database stored two major types of data: graphical data and connectivity data. For a schematic cellview, the connectivity was extracted from the graphical data by the Virtuoso Schematic Editor extractor. <a id="marker-392593"></a></li></ul>


<p>
<a id="pgfId-380123"></a>To determine whether the connectivity of a cellview was current, applications compared the timestamp property <code>lastSchematicExtraction</code> against the timestamp property <code>instancesLastChanged</code>. If the value of <code>lastSchematicExtraction</code> was later than that of <code>instancesLastChanged</code>, the connectivity data was current.</p>

<h3>
<a id="pgfId-380125"></a><a id="82050"></a>How the Virtuoso Studio design environment Uses Counters</h3>

<p>
<a id="pgfId-380126"></a><a id="marker-392567"></a>In the Virtuoso Studio design environment, the method for tracking whether the database has been edited is by updating unsigned integer counters.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-380127"></a>Although counters in OpenAccess are called &#8220;timestamps,&#8221; their values are unsigned integers. </div>
<p>
<a id="pgfId-405399"></a>In addition to maintaining a counter for each cellview, the Virtuoso environment maintains counters for many other database objects. Whenever an edit is made the counter increments the cellview by 1 and the counter for the object by 1.</p>

<h3>
<a id="pgfId-380129"></a><a id="95194"></a>Counters Provide Finer Resolution</h3>

<p>
<a id="pgfId-380130"></a>An advantage of counters over timestamp properties is finer resolution. Time values are calibrated to one-second intervals. Where an edit and a &#8220;Check and Save&#8221; are completed quickly, the values of the <code>instancesLastChanged</code> and <code>lastSchematicExtraction</code> properties can remain the same, even through the cellview and connectivity data had changed. This stymied applications, particularly incremental netlisting, which relies on the comparison of these properties as a preliminary test to control whether the cellview needs to be re-netlisted. Using counters prevents this problem because counter values are increased by 1 as soon as an edit is made.</p>

<h3>
<a id="pgfId-380131"></a><a id="49432"></a>Instance Time Stamps</h3>

<p>
<a id="pgfId-380132"></a><a id="marker-392568"></a>Virtuoso applications determine that connectivity data is up to date using the cellview counter maintained by OpenAccess. The cellview counter is the OpenAccess equivalent of the CDB property <code>instancesLastChanged</code>. The following new database C and SKILL APIs have been supplied for this purpose:</p>
<ul><li>
<a id="pgfId-389344"></a>In C:</li></ul>

<a id="pgfId-389346"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 Boolean
  dbIsConnCurrent( <code><em>dbCellViewId</em></code> <code><em>cellViewID</em></code> )</pre>

<ul><li>
<a id="pgfId-389347"></a>In SKILL:</li></ul>

<a id="pgfId-389345"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 dbIsConnCurrent( <code><em>d_cellViewId</em></code> )
 <code>=&gt; t | nil</code></pre>

<p>
<a id="pgfId-380133"></a>At the end of the extraction process, the Virtuoso Schematic Editor extractor creates a signed integer cellview property named <code>connectivityLastUpdated</code>. This is the OpenAccess equivalent to the CDB property <code>lastSchematicExtraction</code>. </p>
<p>
<a id="pgfId-380134"></a>To tell whether connectivity data is up to date, applications compare the value of the cellview counter against the value of the <code>connectivityLastUpdated</code> property. If the value of the cellview counter is not equal to the value of <code>connectivityLastUpdated</code>, the connectivity data is out of date and needs to be re-extracted.</p>

<h3>
<a id="pgfId-380135"></a><a id="49398"></a>Currency of an Instance and Its Master</h3>

<p>
<a id="pgfId-380136"></a><a id="marker-392573"></a>After an instance is placed, its master could change. Important examples of changes include swapping pin locations and adding, deleting, or renaming pins. As masters can be instantiated in many designs residing in libraries separate from the libraries containing the masters, users need to be reminded of changes to masters. The Virtuoso Schematic Editor does this by placing blinking yellow markers on instances having changed masters when the schematic is opened (and only when the schematic is opened). It does this as follows:</p>
<ul><li>
<a id="pgfId-380137"></a>In CDB: When a schematic was opened, the value of the <code>instancesLastChanged</code> property was retrieved from the master during instance binding. This value was compared to the value of the <code>instancesLastChanged</code> property from the schematic. If the value from the master was later than the value from the schematic, the master had been edited. When the master had been edited, the Virtuoso Schematic Editor placed blinking yellow markers on the instances. Blinking yellow markers might have also indicated that the schematic needs to be re-extracted to update connectivity.</li><li>
<a id="pgfId-380138"></a><a id="marker-392613"></a>In the Virtuoso environment: the value of the cellview counter from the master is stored in the instHeader for instances, under the name <code>masterChangeCount</code>. When the schematic is opened again, the cellview counter from the master is compared to the <code>masterChangeCount</code> counter from the instHeader. If the values are not equal, then the master has been edited; the Schematic Editor places blinking yellow markers on the instances.</li></ul>


<h3>
<a id="pgfId-380139"></a><a id="90544"></a>Both Counters and Timestamps Needed in Some Applications</h3>

<p>
<a id="pgfId-386656"></a><a id="marker-392574"></a>For <a id="marker-392601"></a>some applications, like incremental netlisting, using counters to track what is up to date is not enough; these applications need to use file timestamps as well. The result is that after migration, while the extraction is up to date, the netlister will probably consider the design as modified and do a full re-netlisting, as opposed to an incremental run.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap2.html" id="prev" title="OpenAccess Adoption with CDBA">OpenAccess Adoption with CDBA</a></em></b><b><em><a href="chap4.html" id="nex" title="OpenAccess Technology Data Changes">OpenAccess Technology Data Cha ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>