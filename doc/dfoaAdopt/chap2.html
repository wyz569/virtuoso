
<html><head><title>OpenAccess Adoption with CDBA</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rishu" />
<meta name="CreateDate" content="2023-09-22" />
<meta name="CreateTime" content="1695381129" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Adoption guide for moving from DFII on the CDB database to the Virtuoso Studio design environment on OpenAccess." />
<meta name="DocTitle" content="Virtuoso Studio Design Environment Adoption Guide" />
<meta name="DocType" content="Installation" />
<meta name="FileTitle" content="OpenAccess Adoption with CDBA" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="dfoaAdopt" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-22" />
<meta name="ModifiedTime" content="1695381129" />
<meta name="NextFile" content="chap3.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="chap1.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Studio Design Environment Adoption Guide -- OpenAccess Adoption with CDBA" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="dfoaAdoptIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="dfoaAdoptTOC.html">Contents</a></li><li><a class="prev" href="chap1.html" title="Introduction to OpenAccess Adoption">Introduction to OpenAccess Ado ...</a></li><li style="float: right;"><a class="viewPrint" href="dfoaAdopt.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap3.html" title="CDB/OpenAccess Database Differences">CDB/OpenAccess Database Differ ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Studio Design Environment Adoption Guide<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>2
<a id="pgfId-346509"></a></h1>
<h1>
<a id="pgfId-370439"></a><hr />
OpenAccess Adoption with CDBA<hr />
</h1>

<p>
<a id="pgfId-387898"></a>This document contains information for Virtuoso Studio design environment application developers updating their code, tests, and data to work with OpenAccess.</p>
<p>
<a id="pgfId-386723"></a><a href="chap2.html#16377">Development Environment</a></p>
<p class="webflare-indent1">
<a id="pgfId-386727"></a><a href="chap2.html#42200">Conditionally Compiling Code</a></p>
<p class="webflare-indent1">
<a id="pgfId-386732"></a><a href="chap2.html#75685">Using OpenAccess Code and Extensions</a></p>
<p class="webflare-indent1">
<a id="pgfId-386736"></a><a href="chap2.html#55618">Structuring Your Code</a></p>

<h2>
<a id="pgfId-389163"></a><a id="52494"></a><a id="16377"></a>Development <a id="marker-389162"></a>Environment</h2>

<p>
<a id="pgfId-387695"></a>The OpenAccess infrastructure packages are written in C++. <a id="marker-387367"></a>Header files exported by the OpenAccess-based CDBA procedural interface have been changed to make them more ANSI-C compliant and compatible in C++ code. Linking executables require the C++ linker (CC). </p>

<h3>
<a id="pgfId-386592"></a><a id="42200"></a>Conditionally Compiling Code</h3>

<p>
<a id="pgfId-386594"></a><a id="marker-386593"></a>The convention for conditionally compiling code differs on CDB and OpenAccess. To compile code, use an <code>ifdef</code> statement similar to the following:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-386595"></a>#ifdef OPENACCESS
&#160;&#160;&#160;&#160;<code><em>OpenAccess_version_of_code<br /></em></code>#else
&#160;&#160;&#160;&#160;<code><em>CDBA_version_of_code<br /></em></code>#endif</pre>

<p>
<a id="pgfId-386596"></a>To pass the <code>OPENACCESS</code> directive to the code, add <code>-DOPENACCESS</code> to the compile line. For example,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-386597"></a>CC -DOPENACCESS myFile.cpp</pre>
<h3>
<a id="pgfId-386600"></a><a id="OACodeAndExtensions"></a><a id="75685"></a>Using OpenAccess Code and Extensions</h3>

<p>
<a id="pgfId-386602"></a><a id="marker-386601"></a>The OpenAccess database is structured to be used in many different environments; each environment has its own requirements. Most of the time, you will be able to use native OpenAccess API functions to create, access, and manipulate database objects in your specific environment. For the few areas that are specific to an environment or graphical application, you will need application extension code to fulfill the unique requirements of the applications you are using.</p>
<p>
<a id="pgfId-386604"></a>For example, Virtuoso and third-party vendor applications might display data differently. These display methods are independent of the data itself. For the Virtuoso Studio design environment, there is a set of OpenAccess application extension objects containing information that controls the Virtuoso environment on OpenAccess, including layer-purpose pairs, display packets, selectability, and visibility.</p>
<p>
<a id="pgfId-386605"></a>For the Virtuoso Studio design environment, layer-purpose pairs (LPPs) are stored as application extension data. The public C-level emulation functions (for example, <code>techCreateLP</code> and <code>techAddLP</code>) handle internal conventions and extension data management; other C-level functions control layer-purpose attribute information, including drawing priority, packet, selectability, and visibility.</p>
<p>
<a id="pgfId-386608"></a>Examples of situations requiring application extension code:</p>
<ul><li>
<a id="pgfId-386609"></a>The OpenAccess extensions for technology LPP information such as packetName and priority are not included in native OpenAccess technology database definitions. This LPP information is required only by Virtuoso. Therefore, a technology file and database generated using native OpenAccess API functions, will not be able to view this LPP-specific information stored as OpenAccess extensions with the Virtuoso&#174; editors, even though the data is there. <br />
<a id="pgfId-386610"></a>To solve this problem, use Integrator&#8217;s Toolkit (ITK) public functions (or SKILL) to add the required Virtuoso-specific additions/extensions for data such as LPPs. Then build on your Virtuoso-specific code to create the <code>display.drf</code> file required by Virtuoso. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-388057"></a>C++-level functionality is not available for LPPs. You must use C functions through ITK.</div>
<a id="pgfId-386612"></a>For information about ITK functions, see the <em><a actuate="user" class="URL" href="../itkdbase/itkdbaseTOC.html#firstpage" show="replace" xml:link="simple">Cadence Integrator&#8217;s Toolkit Database Reference</a></em>.</li><li>
<a id="pgfId-386614"></a>Virtuoso Studio design environment LEF/DEF and Stream translators were written to share common functionality from core OpenAccess database requirements. New versions of the translators can be created and customized to handle the specific requirements of any vendor&#8217;s application environment and extensions. The native OpenAccess LEF translator (<code>lef2oa</code>) and the customized version, <code>lefin</code>, both share the same code base; the <code>lefin</code> translator was extended to handle Virtuoso-specific requirements, including layer-purpose and special via processing.</li></ul>





<h3>
<a id="pgfId-386615"></a><a id="55618"></a>Structuring Your Code</h3>

<p>
<a id="pgfId-386617"></a><a id="marker-386616"></a>Code written to support an application needs to be kept separate from code written using OpenAccess APIs. This allows code written to support an environment to be updated without impacting the OpenAccess code.</p>
<p>
<a id="pgfId-386618"></a>Native OpenAccess code interfaces directly with the objects in the OpenAccess database. Application-specific code can access the extensions that are also stored in the OpenAccess database. The Virtuoso Studio design environment uses application-specific extensions.</p>

<p>
<a id="pgfId-386662"></a></p>
<div class="webflare-div-image">
<img width="660" height="301" src="images/chap2-2.gif" /></div>

<p>
<a id="pgfId-387114"></a>Application-specific information can also be stored in separate files, such as the Virtuoso-specific <code>display.drf</code> ASCII file.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap1.html" id="prev" title="Introduction to OpenAccess Adoption">Introduction to OpenAccess Ado ...</a></em></b><b><em><a href="chap3.html" id="nex" title="CDB/OpenAccess Database Differences">CDB/OpenAccess Database Differ ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>