
<html><head><title>Running Diva Verification</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sarita" />
<meta name="CreateDate" content="2023-05-02" />
<meta name="CreateTime" content="1683027672" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="The Diva verification tool lets you check physical design and electrical functionality, perform layout versus schematic comparisons, and view errors interactively to speed diagnosis and correction." />
<meta name="DocTitle" content="Diva Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Running Diva Verification" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="divaref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-05-02" />
<meta name="ModifiedTime" content="1683027672" />
<meta name="NextFile" content="chap3.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Physical Verification  Analysis" />
<meta name="PrevFile" content="chap1.html" />
<meta name="c_product" content="Diva" />
<meta name="Product" content="Diva" />
<meta name="ProductFamily" content="Diva" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Diva Reference -- Running Diva Verification" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="divarefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="divarefTOC.html">Contents</a></li><li><a class="prev" href="chap1.html" title="Introducing Diva Verification">Introducing Diva Verification</a></li><li style="float: right;"><a class="viewPrint" href="divaref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap3.html" title="Executing Diva Verification Using SKILL Commands">Executing Diva Verification Us ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Diva Reference<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>2
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1011663"></a><hr />
<a id="24439"></a>Running Diva Verification<hr />
</h1>

<p>
<a id="pgfId-1014200"></a>You can run Diva<a id="marker-1014197"></a> from the <a id="marker-1014198"></a>Cadence or <a id="marker-1014199"></a>UNIX environment, or you can run Diva remotely.</p>
<ul><li>
<a id="pgfId-1014202"></a>To use the Diva <a id="marker-1014201"></a>interactive graphics mode, you must work in the Cadence environment. When you do a DRC or extraction, Diva runs in the <a id="marker-1014203"></a>foreground. When you run an ERC or an LVS, the program runs in <a id="marker-1014204"></a>background mode and lets you do other work in the Cadence environment. <br />
<a id="pgfId-1014205"></a>There are three ways you can run Diva in the Cadence environment.<ul><li>
<a id="pgfId-1014206"></a>Open a design window, and select the Verify menu commands.</li><li>
<a id="pgfId-1014982"></a>Open the Cadence design framework II, and type <a id="marker-1014981"></a>SKILL commands in the Command Interpreter Window (CIW). See Chapter 3, <a href="chap3.html#33968">Executing Diva Verification Using SKILL Commands</a> for more information on SKILL commands.</li><li>
<a id="pgfId-1014987"></a>Open Cadence design framework II in nongraphics (<em>-nograph</em><a id="marker-1014986"></a> option) mode, and type SKILL commands at the prompt. See Chapter 3, <a href="chap3.html#33968">Executing Diva Verification Using SKILL Commands</a> for more information on SKILL commands.</li></ul><br />
<a id="pgfId-1014217"></a>During interactive DRC and extraction runs, the rules being executed are normally echoed in the CIW. There are two conditions that impact this display.<ul><li>
<a id="pgfId-1014218"></a>Rule optimization changes the order in which rules are executed and combines multiple rules into a single execution step. For combined rules, all the combined rules echo as components of the single execution step.</li><li>
<a id="pgfId-1014219"></a>If you run in hierarchical mode, the execution of the rules is not echoed in the CIW. The complete rule set is executed for every cell being processed, and an echo of this in the CIW and in the run log generates unacceptably large quantities of repetitive data.</li><li>
<a id="pgfId-1014221"></a>When you use the <a id="marker-1014220"></a>UNIX environment, Diva is <em>not</em> interactive. You do not need a graphics terminal. Rules are echoed to the the screen. The results of the run are saved in a new version of the design. You can graphically display the new version and the errors by running interactive Diva. This means you can run a verification check in Unix mode while using Cadence software on another design, and then later display the results of the check. See Chapter 3, <a href="chap3.html#33968">Executing Diva Verification Using SKILL Commands</a> for more information on UNIX commands.</li></ul></li><li>
<a id="pgfId-1014225"></a>When you run remote, you can run Diva on one design while you work on another. You can run Diva on a remote server or workstation, or on the local machine as a batch job. When the server completes the remote verification, you can display the results on the local workstation and correct your design.</li></ul>










<h3>
<a id="pgfId-1014226"></a>Interactive Mode</h3>

<p>
<a id="pgfId-1014229"></a>Running <a id="marker-1014227"></a>Diva <a id="marker-1014228"></a>interactively lets you run a verification check and then display and probe errors on the screen. This graphics capability can significantly reduce the time you spend finding and correcting errors.</p>
<p>
<a id="pgfId-1014230"></a>You can run Diva interactively in one of the following ways:</p>
<ul><li>
<a id="pgfId-1014231"></a>Open a design window in the Cadence design framework II environment and select the <em>Verify</em> menu commands.</li><li>
<a id="pgfId-1014233"></a>Open the Cadence design framework II environment and type <a id="marker-1014232"></a>SKILL commands in the CIW. </li></ul>


<h4>
<a id="pgfId-1014234"></a>Using Verify Menu Commands</h4>

<p>
<a id="pgfId-1014236"></a><a id="Using Menu Commands"></a>The Cadence software displays designs in layout or schematic windows. You can access Diva&#160;&#160;commands from the <a id="marker-1014237"></a><a id="marker-1014238"></a><code>Verify </code>menu at the top of either a layout or a schematic window. For information about other menus on the menu banner, refer to <em>Virtuoso Layout Editor User Guide</em>. For information about using the <code>Verify</code> menu, forms, and options windows, see <a href="chap1.html#22520">Chapter 1, &#8220;Introducing Diva Verification.&#8221;</a></p>

<h4><em>
<a id="pgfId-1014242"></a>Using Commands from a Layout Window</em></h4>

<p>
<a id="pgfId-1014245"></a>To <a id="marker-1014243"></a>access Diva&#8217;s commands from a layout window, perform these steps.<a id="marker-1014244"></a></p>
<ol><li>
<a id="pgfId-1014246"></a>Select <em>Verify </em>from the menu banner.</li><li>
<a id="pgfId-1014248"></a>Select the Diva command you want to use.<a id="marker-1014247"></a> A brief description of each command follows the menu. For a detailed description of each command, see <a href="chap14.html#12327">Chapter 14, &#8220;Verify Menu Commands.&#8221;</a><br />
<a id="pgfId-1015228"></a><div class="webflare-div-image">
<img width="668" height="322" src="images/chap2-2.gif" /></div></li></ol>





<p>
<a id="pgfId-1014275"></a>DRC checks a layout for design rule violations. DRC puts any errors found on the marker layer. You can highlight and display information about errors using the <em>Markers</em> commands.</p>
<p>
<a id="pgfId-1014276"></a>Extract extracts devices and connectivity to prepare a layout for ERC and LVS checks. Extract puts any errors found on the marker layer. You can highlight and display information about errors using the <em>Markers</em> commands.</p>
<p>
<a id="pgfId-1014277"></a>ERC checks an extracted cellview of a layout or schematic for electrical violations. ERC lets you highlight and display information about any errors found.</p>
<p>
<a id="pgfId-1014278"></a>LVS compares two versions of a circuit. You can compare two layouts, two schematics, or a layout and a schematic. You can highlight and display information about any differences found. </p>
<p>
<a id="pgfId-1014279"></a>Probe highlights and displays information about devices and nets in a layout following an ERC or LVS run. Single-probing lets you highlight a net or device in a single cellview. Cross-probing lets you highlight a net or device in two different cellviews that have been compared using LVS. </p>
<p>
<a id="pgfId-1014280"></a>Markers displays the Markers menu, which contains commands that let you find error or warning markers in a layout. </p>
<p class="webflare-indent1">
<a id="pgfId-1014281"></a>Explain displays a window showing the reason for the error or warning marker.</p>
<p class="webflare-indent1">
<a id="pgfId-1014282"></a>Find searches for and highlights each error and warning marker.</p>
<p class="webflare-indent1">
<a id="pgfId-1014283"></a>Delete permanently removes an error or warning marker.</p>
<p class="webflare-indent1">
<a id="pgfId-1014284"></a>Delete All permanently removes all error and warning markers for the current cellview or the complete hierarchy.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018461"></a>The <strong>Markers</strong> menu items operate on markers stored as shapes on the <em>marker</em> layer.  Markers stored in the ivEDB error database must be accessed using the ivEDB browser.</div>

<h4><em>
<a id="pgfId-1014285"></a>Using Commands from a Schematic Window</em></h4>

<p>
<a id="pgfId-1014287"></a>To access this software&#8217;s commands from a <a id="marker-1014286"></a>schematic window, perform the following steps.<a id="marker-1014288"></a></p>
<ol><li>
<a id="pgfId-1014289"></a>Select <em>Tools - Diva </em>from the banner menu.<br />
<a id="pgfId-1015213"></a>The menu <em>Verify</em> gets added to the menu banner. <a id="marker-1014290"></a></li><li>
<a id="pgfId-1014292"></a>Select <em>Verify</em> from the banner menu.</li></ol>


<p>
<a id="pgfId-1014294"></a>Select the Diva command you want to use from the <em>Verify</em> menu. A brief description of each command follows the menu. For a detailed description of each command, see <a href="chap14.html#12327">Chapter 14, &#8220;Verify Menu Commands.&#8221;</a><a id="marker-1014293"></a></p>

<p>
<a id="pgfId-1015278"></a></p>
<div class="webflare-div-image">
<img width="668" height="111" src="images/chap2-3.gif" /></div>

<p>
<a id="pgfId-1014315"></a>ERC checks an extracted cellview of a schematic or layout for electrical violations. ERC lets you highlight and display information about any errors found.</p>
<p>
<a id="pgfId-1014316"></a>LVS compares two versions of a circuit. You can compare two layouts, two schematics, or a layout and a schematic. You can highlight and display information about any differences found.</p>
<p>
<a id="pgfId-1014317"></a>Probe highlights and displays information about devices and nets in a layout following an ERC or LVS run. Single-probing lets you highlight a net or device in a single cellview. Cross-probing lets you highlight a net or device in two different cellviews that have been compared using LVS. </p>

<h4>
<a id="pgfId-1014319"></a>Using SKILL Commands<a id="Using SKILL Commands"></a></h4>

<p>
<a id="pgfId-1014321"></a>In addition <a id="marker-1014320"></a>to using the pulldown menus, you can type SKILL commands in the CIW. For detailed descriptions, syntax, and examples of these commands, see Chapter 3, <a href="chap3.html#33968">Executing Diva Verification Using SKILL Commands</a>.</p>

<h3>
<a id="pgfId-1014334"></a>Batch Mode<a id="Running Diva in Batch Mode"></a></h3>

<p>
<a id="pgfId-1014337"></a>Running<a id="marker-1014335"></a> Diva in <a id="marker-1014336"></a>batch mode lets you run a verification check either in another window or on another machine while you continue to work on a different application. When you run Diva in batch mode, you do not need a graphics terminal. You can run a verification check on a machine without graphics capability and then later display and probe the errors on a machine with graphics capability.</p>
<p>
<a id="pgfId-1014338"></a>You can run Diva in batch mode by using either the Cadence design framework II environment or the <a id="marker-1014339"></a>UNIX environment.</p>
<ul><li>
<a id="pgfId-1014340"></a>Open the Cadence design Framework II environment in the nongraphics 
(<a id="marker-1014341"></a>no-graph option) mode and execute the SKILL commands with the necessary arguments. For detailed descriptions, syntax, and examples of these commands, see Chapter 3, <a href="chap3.html#33968">Executing Diva Verification Using SKILL Commands</a>. </li><li>
<a id="pgfId-1014346"></a>Type <code>ivVerify</code> at the UNIX prompt. For a detailed description, syntax, and examples of this command, see the <a href="chap3.html#72546">ivVerify</a> section in Chapter 3.<a id="marker-1014345"></a></li></ul>


<h3>
<a id="pgfId-1014354"></a><a id="marker-1014350"></a><a id="76009"></a>Remote Mode<a id="Running Diva in Batch Mode"></a></h3>

<p>
<a id="pgfId-1014355"></a>With Diva remote verification, you can run verification on one design while you work on a different machine. You can run verification on a remote server or workstation, or on the local machine as a batch job. When the server completes the remote verification, you can display the results on your local workstation and correct the design.</p>
<p>
<a id="pgfId-1014356"></a>When you run a job on a remote workstation, Diva remote verification uses the NFS file system to access the data you are working with on the local machine or any other machine. </p>
<p>
<a id="pgfId-1014357"></a>To run Diva remotely</p>
<ol><li>
<a id="pgfId-1014358"></a>Open a design window in the Cadence design framework II environment.</li><li>
<a id="pgfId-1014359"></a>Select the Verify menu command DRC, Extract, ERC, or LVS.</li><li>
<a id="pgfId-1015054"></a>Select the <em>remote</em> option for Machine and enter the machine name in the field provided. A blank entry in this field tells Diva to use the local machine.</li></ol>



<h4>
<a id="pgfId-1014361"></a>Prerequisites</h4>

<p>
<a id="pgfId-1014364"></a><a id="marker-1014362"></a>Be<a id="marker-1014363"></a>fore running Diva remote, you must</p>
<ul><li>
<a id="pgfId-1014365"></a>Have this software (DRC, Extract, ERC, or LVS) and licenses available on the remote machine.</li><li>
<a id="pgfId-1014366"></a>Set up the local and remote machines to run this remote tool as described in the following section.</li></ul>


<h4>
<a id="pgfId-1014367"></a>Setting Up Machines for Diva Remote Verification</h4>

<p>
<a id="pgfId-1014369"></a><a id="marker-1014368"></a>After the Cadence tools and licenses are installed on the remote and local machines, you must set up the machines to run Diva remote by performing the following steps.</p>
<ol><li>
<a id="pgfId-1014370"></a>Modify the <em>rhosts</em> file on the remote machine to allow the localmachine access to the remote machine.</li><li>
<a id="pgfId-1014371"></a>Make sure you have not defined restricted access to your local machine by using an <em>xhost</em> command in you initialization (<em>.xinitrc</em>). The remote machine must be able to talk to the local machine.</li><li>
<a id="pgfId-1014372"></a>Note whether your remote machine setup causes messages to be returned when you use <em>rsh</em>. For example, an entry in the <em>.cshrc</em> of the remote machine <em>stty erase ^H</em> causes a message to be echoed when the <em>rsh</em> command executes that <em>.cshrc</em>. This echo might cause a problem in some cases.</li><li>
<a id="pgfId-1014373"></a>Using <em>mount</em> or <em>automount</em>, make the data you are working with on the local machine accessible in read and write mode from the remote machine.</li><li>
<a id="pgfId-1014374"></a>Check the access you have to the software on the remote machine. You can do this by typing the following command on the local machine:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1014375">
<a id="pgfId-1014375"></a>rsh remote-machine ivVerify -V</pre>
<a id="pgfId-1014376"></a>This should return with a line of the form<pre class="webflare-pre-block webflare-courier-new" id="#id1014377">
<a id="pgfId-1014377"></a>ivVerify.exe version 5.0.0 01/01/2006 17:37 (cds9216)</pre>
<a id="pgfId-1014378"></a>On some machines, you need to use <em>remsh</em> instead of <em>rsh</em>.<br />
<a id="pgfId-1014379"></a>Check the version number to ensure you are using the correct program. This is the version number of the Diva verification software that is running on the remote machine. If the version number is incorrect, you need to change the file that sets the search path on the remote machine, or you need to install the correct version.<br />
<a id="pgfId-1014380"></a>If <em>rsh</em> fails and prints &#8220;Permission Denied,&#8221; you do not have permission to run this program on the remote machine. See your local system administrator to correct this. You might need to update the <em>.rhosts</em> file on the remote machine.<br />
<a id="pgfId-1014381"></a>If the <em>rsh</em> returns with the message &#8220;ivVerify: Command not found&#8221; the file that sets the search path on the remote machine does not define the path containing Diva.</li><li>
<a id="pgfId-1014382"></a>You must decide whether you want to use manual or automatic file mapping. If you choose manual file mapping, you need to set up a map file. See the following section on &#8220;File Mapping&#8221; for more information.</li><li>
<a id="pgfId-1014383"></a>To improve the performance of the remote processing, keep network traffic to a minimum. Diva creates temporary files of the form <em>hostname_8356_1234_1.pdv</em>. Accessing these files through the network can be very slow, so they should be created on a local disk. You can do this by setting the DRCTEMPDIR environment variable to a local directory. This eases network traffic and lets DIva run faster. When you set this variable, you must take into account the disk capacity of the remote machine.</li></ol>














<h4>
<a id="pgfId-1014386"></a>File Mapping</h4>

<p>
<a id="pgfId-1014388"></a><a id="marker-1014387"></a>The Diva remote verification program needs to access data from machines other than the server it is running on. Therefore, the file paths on the machines must be mapped.</p>
<p>
<a id="pgfId-1014389"></a>File mapping is the process of determining the name of a file on the local machine as it is seen from the remote machine. For example, a file on the local machine called <em>/usr/ucb/vi</em> might be referenced from the server with the name <em>/net/ziggy/usr/ucb/vi</em>.</p>
<p>
<a id="pgfId-1014390"></a>There are two ways to do this: manually and automatically.</p>
<ul><li>
<a id="pgfId-1014391"></a>The manual methodology requires you to create a mapping file, but is independent of the automount methodology or the complexity of the automount configuration file.</li><li>
<a id="pgfId-1014392"></a>The automatic methodology requires no special setup, but has a small start-up run-time overhead. Because the automount methodology relies on simple automount usage, it might not work with AFS, and it might not work with complex automounts.</li></ul>

<p>
<a id="pgfId-1014393"></a>If this remote tool interface program does not find a manual mapping file on the local machine, this software runs in automatic mode.</p>
<p>
<a id="pgfId-1014394"></a>See the following sections for more information about manual and automatic file mapping.</p>

<h4>
<a id="pgfId-1014395"></a>Manual File Mapping</h4>

<p>
<a id="pgfId-1014397"></a><a id="marker-1014396"></a>Manual mapping is used when the Diva finds a map file. The map file must be in one of the following locations on the host machine:</p>
<ul><li>
<a id="pgfId-1014398"></a>Current directory</li><li>
<a id="pgfId-1014399"></a>Home directory</li><li>
<a id="pgfId-1014400"></a><code>&lt;</code><em>your_install_dir</em><code>&gt;/tools/dfII/local/divamaps</code><br />
<a id="pgfId-1015225"></a>(Replace <em>your_install_dir</em> with the location your Cadence software was installed in.)</li></ul>



<p>
<a id="pgfId-1014401"></a>The map file name must be of the form:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014402"></a>diva.local.remote.map</pre>
<p>
<a id="pgfId-1014403"></a>where</p>

<p><strong>
<a id="pgfId-1014404"></a><em>local</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019068"></a> Is the name of the machine you are running on.</p>

<p><strong>
<a id="pgfId-1019073"></a><em>remote</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019076"></a> Is the target machine for Diva remote verification execution (remote).</p>
<p>
<a id="pgfId-1014406"></a>The machine name used is the canonicallized machine name returned when you type the SKILL procedure <em>ivGetHostName</em> (machine) in the CIW.</p>
<p>
<a id="pgfId-1014407"></a>Map files have a two-column format that contains directory definitions. The columns can be separated by spaces or tabs, and each line consists of one map entry.</p>
<p>
<a id="pgfId-1014408"></a>The first column in the map file is the name of the directory as it appears when referenced from the local machine. The second column is the name of the directory as it appears from the remote machine. The directories can reside on any machine. For example,</p>
<p>
<a id="pgfId-1014409"></a>Map file name:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014410"></a> diva.ice.snow.map</pre>
<p>
<a id="pgfId-1015995"></a>Map file contents:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015996"></a> /               /net/ice<br /> /usr            /net/ice/usr<br /> /net/snow       /<br /> /net/snow/usr   /usr<br /> /net&#160;&#160;          /net</pre>
<p>
<a id="pgfId-1015997"></a>The first two entries refer to directories on the local machine (<em>ice</em>) so the first column has direct references and the second column uses automount addresses.</p>
<p>
<a id="pgfId-1014414"></a>Conversely, the next two directories reside on the server machine (<em>snow</em>) so the second column has direct addresses and the first column uses automount. </p>
<p>
<a id="pgfId-1014415"></a>The last entry allows any other machine to be accessed through automount. The address of other machines is the same from both the local and server machines.</p>
<p>
<a id="pgfId-1014416"></a>The map file is sorted by length of name of the local directory so that longer paths match before shorter paths. The first entry that matches determines the mapped name.</p>

<h4>
<a id="pgfId-1014417"></a>Automatic File Mapping</h4>

<p>
<a id="pgfId-1014419"></a>Autom<a id="marker-1014418"></a>atic file mapping uses two daemons, <em>cdsd</em> and <em>remoteDivad</em>. The <em>cdsd</em> daemon must be running on all computers that have design data or run Cadence tools. The <em>remoteDivad</em> daemon is started automatically by the Cadence graphic editor.</p>
<p>
<a id="pgfId-1014420"></a>Once the <em>cdsd </em>daemon is started, it runs forever if not manually terminated. The <em>remoteDivad</em> daemon terminates when you exit the graphics editor. If you change servers, the daemon is terminated on the original server and started on the new server. The <em>remoteDivad</em> daemon is not used if you choose the local machine as the server.</p>
<p>
<a id="pgfId-1014421"></a>The first time file mapping is required for a given server there is a slight delay as the <em>remoteDivad</em> daemon is started on the remote server. Network problems might increase this delay. Subsequent mapping is not delayed.</p>

<h4>
<a id="pgfId-1014422"></a>Limitations</h4>

<p>
<a id="pgfId-1014423"></a>The <em>remoteDivad</em> daemon scans through the <em>/etc/fstab</em> file on the server to determine what a file name should map to. It can also work with automount. However, it might be confused if you use automount with complex configuration files. To ensure the daemon works correctly, keep your mounted NFS files mounted with either the mount command, such as defined by the <em>/etc/fstab/</em> file, or with simple automount, such as <em>automount&#160;&#160;/net&#160;&#160;-hosts</em>.</p>

<h2>
<a id="pgfId-1014424"></a>Controlling Diva Verification</h2>

<p>
<a id="pgfId-1014425"></a>Diva verification lets you control certain aspects of the verification run. This section explains different commands you can use to</p>
<ul><li>
<a id="pgfId-1014426"></a>Override run modes on a cell-by-cell basis</li><li>
<a id="pgfId-1014427"></a>Create a log file of all marker shapes created during the Diva verification runs</li><li>
<a id="pgfId-1014428"></a>Save the status of a verification run at any point</li><li>
<a id="pgfId-1014429"></a>Execute DRC and Extraction rules under conditions you specify</li><li>
<a id="pgfId-1014430"></a>Control SKILL access to the DFII database</li><li>
<a id="pgfId-1014431"></a>Set environmental variables</li><li>
<a id="pgfId-1014432"></a>Specify where Diva stores temporary files</li><li>
<a id="pgfId-1014433"></a>Control what cells are referenced in your circuit hierarchy</li><li>
<a id="pgfId-1014434"></a>Convert cells in the hierarchy into instances of devices</li></ul>









<h3>
<a id="pgfId-1014435"></a>Controlling Run Modes Using Properties</h3>

<p>
<a id="pgfId-1014439"></a><a id="marker-1014436"></a>For the <a id="marker-1014437"></a><em>ivDRC</em> and <em>ivVerify</em><a id="marker-1014438"></a> commands, the run modes can be overridden on a cell-by-cell basis by adding a property to the cell. The property overrides the option on the command line for the cell containing the property and all cells below it in the hierarchy.</p>

<h4>
<a id="pgfId-1014440"></a>Syntax</h4>
<a id="pgfId-1014443"></a><a id="marker-1014441"></a><a id="marker-1014442"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
hdrc = mode</pre>
<h4>
<a id="pgfId-1014444"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014445"></a><code>hdrc</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019083"></a><code>&#160;&#160;&#160;&#160;</code>The property name.</p>

<p><strong>
<a id="pgfId-1019088"></a><code>mode</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019091"></a> The value of the property enclosed in double quotation marks (&#8220; &#8221;). The value can be any one of these single characters, or a string starting with that character:</p>

<p><strong>
<a id="pgfId-1019101"></a><code>F</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019104"></a> Flat. Equivalent to the<em> ?hier nil </em>option.</p>

<p><strong>
<a id="pgfId-1019109"></a><code>N</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019112"></a> Nonoptimized hierarchical. Equivalent to <em>?hier t</em> plus <em>?optimize nil</em>.</p>

<p><strong>
<a id="pgfId-1019117"></a><code>E</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019120"></a> Optimized hierarchical with <a id="marker-1014449"></a>expanded mosaics. Equivalent to <em>?hier</em> plus <em>?optimize, </em>except mosaics are expanded.</p>

<p><strong>
<a id="pgfId-1019125"></a><code>U</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019128"></a> Optimized hierarchical with unexpanded mosaics. Equivalent to <em>?hier</em> plus <em>?optimize</em>.</p>
<p>
<a id="pgfId-1014452"></a>References to the expansion of mosaics identifies how they are processed in the pattern recognition optimization. In expanded mode, the mosaic planes are treated as contiguous data without interplane boundaries or repetition. In unexpanded mode, the interfaces between the planes are optimized the same as interfaces between cells.</p>

<h4>
<a id="pgfId-1014453"></a>Example</h4>

<p>
<a id="pgfId-1014454"></a>In this example, the cell is checked hierarchically with optimization, while mosaics remain unexpanded.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014455"></a>hdrc = &quot;U&quot;</pre>
<p>
<a id="pgfId-1014456"></a>If you leave the inclusion limit to its default of 1,000, all cells are processed. For more information on specifying the inclusion limit, see the <em>?inc</em> argument in the <code>ivDRC</code>, <code>ivExtract</code>, or<code> ivVerify</code> command. </p>

<h3>
<a id="pgfId-1014459"></a>Creating a Log File<a id="ivCreatePCells"></a><a id="marker-1014458"></a></h3>

<p>
<a id="pgfId-1014462"></a><a id="marker-1014460"></a>The <em>drcCreateLogFile</em> command lets you create a log file that lists all marker shapes created during an Diva verification run. You can use the coordinates in this list to reference the errors and then cross them off the list once you have fixed them. You can use the <em>drcCreateLogFile</em><a id="marker-1014461"></a> command in the CIW or in a SKILL program.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018394"></a>This command does not work with markers stored in the ivEDB error database.</div>

<h4>
<a id="pgfId-1014463"></a>Syntax</h4>
<a id="pgfId-1014464"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
drcCreateLogFile( topCellId [keyed arguments] )</pre>
<h4>
<a id="pgfId-1014465"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014466"></a><code>topCellId</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019135"></a> The ID of the top-level cell. You get the top cell ID by typing the command <em>cv=dbOpenCellViewByType( &quot;lib&quot; &quot;cell&quot; &quot;view&quot; ) </em>in the CIW.</p>

<p><strong>
<a id="pgfId-1019141"></a><code>keyed arguments</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019144"></a> Options used for keyed arguments. You can specify the following options:</p>

<p><strong>
<a id="pgfId-1019149"></a><code>?name</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019152"></a> Name of the log file. The existing data in this file is overwritten when any new text is written to it. Diva verification writes the log file to the CIW by default.</p>

<p><strong>
<a id="pgfId-1019157"></a><code>?key</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019160"></a> The name of the property to filter, such as &#8220;drcWhy&#8221; or &#8220;extractWhy.&#8221; The default is no filtering.</p>

<p><strong>
<a id="pgfId-1019165"></a><code>?hier</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019168"></a> If <em>t</em>, a full hierarchical summary is generated. Otherwise, only a log file for the top-level cell is generated.</p>

<p><strong>
<a id="pgfId-1019173"></a><code>?precision</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019176"></a> Number of digits to the right of the decimal point to be used when the numbers are printed. For example, a value of 2 might cause coordinates to be printed such as 5.25, while a value of 3 might produce 5.252. The default value is 2. </p>

<p><strong>
<a id="pgfId-1019181"></a><code>?page_width</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019184"></a> The default page width is 80 characters. Lines that exceed 80 characters are broken into multiple lines.</p>

<p><strong>
<a id="pgfId-1019189"></a><code>?page_length</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019192"></a><code>&#160;&#160;&#160;&#160;</code>The default page width is 0, which disables this feature. If you use this argument, the system inserts a page header at the top of each page.</p>

<p><strong>
<a id="pgfId-1019197"></a><code>?line_limit</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019200"></a> Specifies the limit to the number of lines output to the log file. After this indicated number of lines are output to the log, no more will be output. The default is no limit.</p>

<h4>
<a id="pgfId-1014475"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014476"></a>drcCreateLogFile( )</pre>
<h3>
<a id="pgfId-1014482"></a><a id="marker-1014479"></a><a id="63148"></a>Using Checkpoints<a id="marker-1014481"></a></h3>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1014484"></a>
The checkPoint functionality descibed in this section has been disabled due to technical issues. Please contact Cadence Design Systems if you need to rely on this functionality.</div>

<p>
<a id="pgfId-1018395"></a>You can use the <a id="marker-1014483"></a><em>checkPoint</em> command to save the status of a verification run at any point in its execution. You then use this run status to start another run from the final checkpoint, rather than recreating data from the beginning.</p>
<p>
<a id="pgfId-1014486"></a>To create <a id="marker-1014485"></a>checkpoints, you enter the <em>checkPoint</em> command in the verification rules file. The <em>checkPoint</em> command creates a directory, if it does not already exist, and stores run data in that directory. You specify the directory name with the <em>checkPoint</em> command.</p>
<p>
<a id="pgfId-1014487"></a>You can use multiple <em>checkPoint</em> commands in the rules file. You can insert as many checkpoint commands as you want. At each checkpoint, the data resulting from the previous checkpoint is overwritten by data from the most recent checkpoint. Only the last checkpoint data is saved. If the run finishes successfully, all the stored data is removed. </p>
<p>
<a id="pgfId-1014488"></a>Adding a checkpoint at the beginning or end of the rules has no effect. At the beginning, Diva has not yet created any data so there is nothing it can checkpoint. At the end, the Diva verification is complete and results are saved, so there is no data to save.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014489"></a>
Because Diva verification optimizes command execution, there is not always a one-to-one correlation between command lines and commands performed. A command after a checkpoint might be combined with, and executed with, a command prior to the same checkpoint. This means you cannot be sure which commands are processed before or after any checkpoint.</div>

<p>
<a id="pgfId-1014490"></a>The checkpoint process creates many files in the checkpoint directory. These files are used when you restart a run. Do not alter the checkpoint files or use the checkpoint directories to store other files, or you might jeopardize the integrity of the run.</p>
<p>
<a id="pgfId-1014491"></a>If you are doing an extraction, or the DRC checks generate errors, the <em>checkPoint</em> command creates a library called <em>cpLib</em> in the directory you specify.</p>
<p>
<a id="pgfId-1014492"></a>You cannot use the <em>checkPoint</em> command in hierarchical processing.</p>
<p>
<a id="pgfId-1014495"></a>To restart the program, you use the <em>ivRestart</em> command. See the <a href="chap3.html#72546">&#8220;ivVerify&#8221;</a> for more information about the <em>ivRestart</em> command.</p>

<h4>
<a id="pgfId-1014500"></a>Syntax<a id="97551"></a><a id="checkPoint"></a><a id="marker-1014499"></a></h4>
<a id="pgfId-1014501"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
checkPoint( name )</pre>
<h4>
<a id="pgfId-1014502"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014503"></a><code>name</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019207"></a> Defines the directory under which the checkpoint files are created. If this text string (in quotation marks) matches an environmental variable, the contents of that variable are used as the string.</p>
<p>
<a id="pgfId-1014504"></a>You can enter a full or relative path to the checkpoint directory.</p>
<p>
<a id="pgfId-1014505"></a>If the named directory exists, it is used along with any existing files. If it does not exist, it is created. If for any reason the directory cannot be created, the run terminates with a warning message.</p>

<h4>
<a id="pgfId-1014506"></a>Examples</h4>

<p>
<a id="pgfId-1014507"></a>The following example creates the directory <em>my_checkpoint</em> for the temporary layers:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014508"></a>checkPoint( &quot;my_checkpoint&quot; )</pre>
<p>
<a id="pgfId-1014509"></a>In the following example, the first command in the UNIX environment sets the environmental variable <em>CHECK_DIR </em>to the value of <em>my_checkpoint.</em> The second command in the verification rules file creates a directory that references the <em>CHECK_DIR</em> environmental variable.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014510"></a>setenv CHECK_DIR my_checkpoint<br />checkPoint( &quot;CHECK_DIR&quot; )</pre>

<h3>
<a id="pgfId-1014512"></a><a id="93531"></a>Conditional Execution of Rules</h3>

<p>
<a id="pgfId-1014513"></a>During rule deck compilation, you can choose which checks and operations are to be performed. After grouping the rules, you use the <em>if-then-else</em> capability of the <em>ivIf</em> command to define the conditions under which each group is compiled. You can also use the <code>avSwitch</code> procedure in a SKILL <em>if</em> statement.</p>
<p>
<a id="pgfId-1014515"></a><a id="marker-1014514"></a>You can define the condition as a &#8220;switch&#8221; name or logical combination of switches. A switch name can be any name you choose or the default switch names like <em>drc?</em><a id="marker-1014516"></a> and <em>extract?</em><a id="marker-1014517"></a>. If you choose your own switch name, you must specify that name at run time. If you use only the default names, you do not need to specify a switch name at run time. </p>

<h4>
<a id="pgfId-1014523"></a>Syntax<a id="70976"></a><a id="ivIf"></a></h4>
<a id="pgfId-1014525"></a><a id="marker-1014524"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ivIf(
condition ...
then
then_rules ...
[else
else_rules ...])</pre>
<h4>
<a id="pgfId-1014527"></a>Description</h4>

<p>
<a id="pgfId-1014528"></a>Divides the verification rules into groups and makes the execution of those <a id="marker-1014529"></a>groups dependent on conditions determined at rule compilation time.</p>
<p>
<a id="pgfId-1014530"></a>When Diva evaluates the <em>if </em>condition, if the result is <em>t </em>(true), the <em>then</em> group of rules is compiled. If the result is <em>nil </em>(false), the <em>else</em> group of rules is compiled. </p>
<p>
<a id="pgfId-1014531"></a>If there is only one rule in each group, the <em>then</em> and <em>else </em>keywords are unnecessary.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014532"></a>
You should not use derived layers with <code>ivIf(empty)</code>. You should only use raw graphical layers. The ivIf command is evaluated at rule compilation time, so it is not possible to know if a derived layer will be empty or not when the compiled rules are executed.</div>
<h4>
<a id="pgfId-1014533"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014534"></a><code>condition</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019214"></a> Determines which of the subsequent groups of rules is compiled. The result of the condition is always <em>t </em>(true) or <em>nil</em> (false). </p>
<p class="webflare-indent1">
<a id="pgfId-1019219"></a> The condition can be a single expression or a complex combination of expressions. You can use the following operators and procedures in your condition.</p>

<p><strong>
<a id="pgfId-1019227"></a><code>switch( t_switch_name )</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019235"></a>Tests for the switch name you define. You must enclose the switch name in quotation marks.</p>

<p><strong>
<a id="pgfId-1019242"></a><code>empty( t_layer_name ) </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019245"></a>Tests for the absence of data on the specified original graphics layer. Derived layers are not allowed since the value of the expression is determined when the rules are compiled.</p>
<p class="webflare-indent1">
<a id="pgfId-1014538"></a> The use of derived layers is no longer supported due to changes in the task execution engine which preclude run time evaluation of the procedure.</p>

<p><strong>
<a id="pgfId-1019253"></a><code>&amp;&amp;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019256"></a><code>&#160;&#160;&#160;&#160;</code>Combines expressions in an AND operation. You can concatenate any number of expressions. For example</p>

<pro2k-prog-in-2-keep id="#id1014540">
<a id="pgfId-1014540"></a><code>switch( &quot;A&quot; ) &amp;&amp; switch( &quot;B&quot; )</code></pro2k-prog-in-2-keep>

<p class="webflare-indent1">
<a id="pgfId-1014541"></a> If all expressions return <em>t</em>, the result is <em>t</em>. If one of the expressions returns <em>nil,</em> the result is<em> nil</em>. </p>

<p><strong>
<a id="pgfId-1019267"></a><code>||</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019270"></a><code>&#160;&#160;&#160;&#160;</code>Combines expressions in an OR operation. You can concatenate any number of expressions. For example,</p>
<p class="webflare-indent1">
<a id="pgfId-1014543"></a><code> switch( &quot;A&quot; ) || switch( &quot;B&quot; ) || switch( &quot;C&quot; )</code></p>
<p class="webflare-indent1">
<a id="pgfId-1014544"></a> If any expression returns <em>t,</em> then the final result is <em>t.</em> If all of the expressions return <em>nil,</em> then the result is <em>nil</em>.</p>

<p><strong>
<a id="pgfId-1019281"></a><code>!</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019284"></a><code>&#160;&#160;&#160;&#160;</code>Reverses the meaning of one of the following expression. If you place &#8220;!&#8221; in front of the expression, it behaves as a NOT operator. For example, if the expression is <em>switch</em>, the ! operator reverses the meaning to <em>not_switch</em>. </p>
<p class="webflare-indent1">
<a id="pgfId-1014546"></a> To negate a complex expression, you must enclose it in parentheses with the operator preceding the opening parenthesis. For example,</p>
<p class="webflare-indent1">
<a id="pgfId-1014547"></a> <code>!(switch( &quot;A&quot; ) || switch( &quot;B&quot; ))</code></p>
<p class="webflare-indent1">
<a id="pgfId-1014548"></a> The following examples show how you can combine the procedures and operators.</p>
<p class="webflare-indent1">
<a id="pgfId-1014549"></a><code> ( switch( &quot;A&quot;= ) &amp;&amp; switch( &quot;B&quot; ) ) || <br />!switch( &quot;C&quot; )</code></p>
<p class="webflare-indent1">
<a id="pgfId-1014550"></a><code> ( switch( &quot;A&quot; ) &amp;&amp; switch( &quot;B&quot; ) ) ||<br />( switch( &quot;C&quot; ) &amp;&amp; switch( &quot;D&quot; ))</code></p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1014551"></a>Use parentheses to clarify the meaning of groups of expressions.</div>

<p><strong>
<a id="pgfId-1014552"></a><code>then</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019296"></a> Optional keyword for the group of expressions to be executed if the result of the <em>if</em> condition is <em>t</em>. If only one expression in the group is to be executed, you can omit the keyword.</p>

<p><strong>
<a id="pgfId-1019301"></a><em>then_rules</em></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019304"></a><em>&#160;&#160;&#160;&#160;</em>Commands to be executed if the result of the i<em>f </em>condition is t. These can be verification commands or SKILL procedures.</p>

<p><strong>
<a id="pgfId-1019309"></a><code>else</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019312"></a> Optional keyword for the group of expressions to be executed if the result of the<em> if </em>condition is <em>nil</em>. If no expressions are to be executed, you can omit the <em>then</em> keyword. If both the <em>then</em> and <em>else</em> groups have only one expression each, you can omit the <em>then</em> keyword.</p>

<p><strong>
<a id="pgfId-1019317"></a><span class="webflare-courier-new" style="white-space:pre"><em>else_expression</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019320"></a>Commands to be executed if the result of the <em>if</em> condition is<em> nil. </em>These can be verification commands or SKILL procedures.</p>

<h4>
<a id="pgfId-1014556"></a>Examples</h4>

<p>
<a id="pgfId-1014557"></a>The following are some examples of the command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014558"></a>ivIf( switch( &quot;do_drc&quot; ) <br />then<br />drc( gate &quot;cut&quot; sep &lt; 3 )<br />drc( &quot;poly&quot; width &lt; 2 )<br />)</pre>
<p>
<a id="pgfId-1014559"></a>If the switch <em>do_drc</em> is set, the two <em>drc</em> commands run. All subsequent commands run no matter how the switch is evaluated.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014560"></a>ivIf( !empty( &quot;poly&quot; ) &amp;&amp; !empty( &quot;diff&quot; )<br />gate = geomAnd( &quot;poly&quot; &quot;diff&quot; )<br />)</pre>
<p>
<a id="pgfId-1014561"></a>If the original graphics layers <em>poly</em> and <em>diff</em> contain data, the subsequent layer processing command runs.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014562"></a>ivIf( switch ( &quot;do_simple&quot; )<br />then<br />length = measureParameter( length( gate inside poly ) 0.5 )<br />else<br />temp = measureParameter( length( gate inside poly ) 0.47 )<br />width = measureParameter( length( gate coincident poly ) ;0.52 )<br />bends = measureParameter( bends_all( gate inside poly ) )<br />length = calculateParameter( temp - ( width * bends * 0.5 ) )<br />)</pre>
<p>
<a id="pgfId-1014563"></a>If <em>do_simple</em> is set, the one-line measurement method is used. If <em>do_simple</em> is not set, a more complex form of measurement that considers bends is used.</p>

<h3>
<a id="pgfId-1017090"></a>Default ivIf Switch Values</h3>

<p>
<a id="pgfId-1017091"></a>Diva has a number of predefined switch names you can use with the <em>ivIf(switch)</em> command and the avSwitch SKILL predicate function.</p>

<h4>
<a id="pgfId-1014572"></a>DRC and Extraction </h4>

<p>
<a id="pgfId-1014573"></a>You can switch the DRC and Extraction sections of the rules file automatically using the default switches <em>drc? </em>and <em>extract?.</em></p>

<p><strong>
<a id="pgfId-1014574"></a><em>drc?</em><a id="marker-1018478"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019327"></a><em>&#160;&#160;&#160;&#160;</em>When you run DRC, the <em>drc? </em>switch is automatically enabled. The switch <em>extract?</em> is de-activated.</p>

<p><strong>
<a id="pgfId-1019332"></a><em>extract?</em><a id="marker-1018479"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019335"></a><em>&#160;&#160;&#160;&#160;</em>When you run Extraction, the <em>extract?</em> switch is automatically enabled. The switch <em>drc?</em> is de-activated.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014576"></a>The use of these switches is not necessary because the DRC and Extraction rules are now stored in separate files by default. The switches are still supported for cases where you select a non-default rules file and want to keep both sets of rules in the same file.</div>

<h4>
<a id="pgfId-1016662"></a>General Options</h4>

<p>
<a id="pgfId-1016663"></a>Diva will set various switches depending on the options chosen on the DRC and Extract forms, or on the ivVerify command line.</p>

<p><strong>
<a id="pgfId-1016664"></a><em>echoOn?</em><a id="marker-1018480"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019341"></a><em>&#160;&#160;&#160;&#160;</em>The user checked the &quot;Echo Commands&quot; box on the DRC form or the -echo ivVerify option.</p>

<p><strong>
<a id="pgfId-1019346"></a><em>byArea?</em><a id="marker-1018481"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019349"></a> The user selected the &quot;by area&quot; limit on the DRC form or the -area ivVerify option.</p>

<p><strong>
<a id="pgfId-1019354"></a><em>full?</em><a id="marker-1018482"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019357"></a> The user selected the &quot;full&quot; limit on the DRC form or the -full ivVerify option.</p>

<p><strong>
<a id="pgfId-1019362"></a><em>macro?</em><a id="marker-1018483"></a> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019365"></a>The user selected the &quot;macro cell&quot; mode on the Extract form or the -macro ivVerify option.</p>

<p><strong>
<a id="pgfId-1019378"></a><em>joinNet?</em><a id="marker-1018484"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019381"></a> The user checked the &quot;Join Nets With Same Name&quot; box in the form or the -join ivVerify option.</p>

<p><strong>
<a id="pgfId-1019386"></a><em>flat?</em><a id="marker-1018549"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019389"></a> The user selected the &quot;flat&quot; method on the form or a hierarchical ivVerify option was not selected.</p>

<p><strong>
<a id="pgfId-1019394"></a><em>ignoreMissingMasters?</em><a id="marker-1018584"></a> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019397"></a>The user requested that Diva ignore missing masters while reading the design data.</p>

<h4>
<a id="pgfId-1014578"></a><a id="84405"></a>Hierarchy Control</h4>

<p>
<a id="pgfId-1014579"></a>DRC has three switches that are set during certain phases of execution. These switches let DRC perform a specific class of design rule checks.</p>
<ul><li>
<a id="pgfId-1014580"></a><em>hier?</em><a id="marker-1018486"></a> <br />
<a id="pgfId-1014581"></a>This switch lets you use a different set of rules in hierarchical mode than in flat mode. In hierarchical mode, the <em>hier?</em> switch is automatically on. </li><li>
<a id="pgfId-1014582"></a><a id="marker-1018487"></a>currentCell?<br />
<a id="pgfId-1014583"></a>This feature lets you write rules that are cell based and not truly hierarchical. The <em>currentCell?</em> switch is toggled on and off as the design is checked. In hierarchical mode, checking occurs in two passes. The first pass uses only the polygons in the current cell. The second pass runs in flat mode, from the current cell down, rechecking small areas where two instances overlap or where an instance and a polygon overlap in the current cell. The <em>currentCell?</em> switch is set on in the first pass and set off in the second pass. </li><li>
<a id="pgfId-1014584"></a><a id="marker-1018488"></a>topCell?<br />
<a id="pgfId-1014585"></a>This switch, when present, instructs Diva to perform a flat DRC analysis on the top cell after all hierarchical checking is done. You can use this feature to check sparse data, for example pads, to improve execution speed.</li></ul>





<p>
<a id="pgfId-1014586"></a>In the final pass, you can run a rules check in flat mode on data that is best checked in flat mode. For example, pad checks have limited data and do not check efficiently in hierarchical mode.</p>
<p>
<a id="pgfId-1016682"></a>In addition to the phase related switches, hierarchical mode can set the switch <a id="marker-1018489"></a><em>optimize?</em> to indicate that the user selected the &quot;hierarchical&quot; mode on the DRC form instead of the &quot;hier w/o optimization&quot; mode.</p>

<h3>
<a id="pgfId-1014587"></a>Rules File Example</h3>

<p>
<a id="pgfId-1014588"></a>To understand how the switches can be used, consider four simple checks on a design.</p>
<ul><li>
<a id="pgfId-1014589"></a>Flag any metal spacing less than 0.5 microns. </li><li>
<a id="pgfId-1014590"></a>Flag any pad spacing that is less than 10 microns. The pad layer is a sparse layer and is better checked in flat mode. This check can be done in hierarchical mode, but it increases the size of the halo, which makes the program run slow even when there is no pad layer in the vicinity.</li><li>
<a id="pgfId-1014591"></a>Check that any cell containing layer Q also contains layer R and that layer R is exactly 0.4 micron larger than layer Q. This can be checked by using the <em>currentCell? </em>switch.</li><li>
<a id="pgfId-1014592"></a>Check that no part of the design is more than 1 micron from a piece of metal. This check is easily done in flat mode.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014593"></a>This check is the most difficult of the four to implement.</div><pre class="webflare-pre-block webflare-courier-new" id="#id1014594">
<a id="pgfId-1014594"></a>m1g = geomSize( &quot;m1&quot; 0.5 )
err = geomAndNot( geomBkgnd() m1g )
saveDerived( err &quot;m1 coverage error&quot; )</pre>
<a id="pgfId-1014595"></a>The problem in hierarchical mode is that instances form an area where no polygonal data exists and a large error is generated. It is necessary to find errors that are not over instances, yet errors must also be found that are between instance polygons and cell polygons.<br />
<a id="pgfId-1014596"></a>Diva solves this problem by introducing a new layer in the data base,<em> m1 boundary</em>. As the design is processed, a boundary shape for <em>m1</em> is created. The check is done by looking at shapes at the current level and <em>m1</em> boundaries from instances that have already been processed.<br />
<a id="pgfId-1014597"></a>The rules for the check follow. The rules apply only to hierarchical mode.</li></ul>









<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014599"></a>drcExtractRules(<br />   ivIf( switch( &quot;drc?&quot; ) then<br />      ivIf( switch( &quot;hier?&quot; ) then<br />         ivIf( switch( &quot;topCell?&quot; ) then<br />               ; check 2<br />               pad = geomOr( &quot;pad&quot; )<br />               drc( pad sep &lt; 10 &quot;pad spacing less than 10&quot; )<br />         else<br />               m1 = geomOr( &quot;m1&quot; )<br />               ; check 1<br />               drc( m1 sep &lt; 0.5 &quot;m1 spacing less than 0.5&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014600"></a>               ivIf( switch( &quot;currentCell?&quot; ) then</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014601"></a>               ; check 3<br />               check3 = geomXor( geomSize( &quot;Q&quot; 0.4 ) &quot;R&quot; )<br />               saveDerived( check3 &quot;R and Q check&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014602"></a>               ; check 4<br />               ; Remove any m1 boundary shapes because they are<br />               ; going to be rederived<br />               geomErase( &quot;m1&quot; &quot;boundary&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014603"></a>               ; Collect m1 in the current cell with m1 boundary<br />               ; polygons from one level down in the hierarchy.<br />               m1b = geomOr( &quot;m1&quot; geomGetPurpose( &quot;m1&quot; &quot;boundary&quot; 1 1 ) )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014604"></a>               ; Grow the m1 shapes by 0.5 microns to find areas<br />               ; that are not covered.<br />               m1bg = geomSize( m1b 0.5 )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014605"></a>               ; Get the cell boundary to<br />               ; (1) determine where a coverage error should be flagged.<br />               ; This gets rid of errors on the boundary of the cells.<br />               ; (2) build the m1 boundary for the current cell.<br />               ;<br />               ; The hdrc boundary shapes were calculated just prior<br />               ; to rules execution in the current cell.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014606"></a>               cell_bnd = geomGetPurpose( &quot;hdrc&quot; &quot;boundary&quot; 0 0 )<br />               cell_bnd_shrunk = geomSize( cell_bnd -0.5 )<br />               check4 = geomAndNot( cell_bnd_shrunk m1bg )<br />               saveDerived( check4 &quot;m1 coverage error&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014607"></a>               ; Derive the m1 boundary for the next level of hierarchy.<br />               m1_bnd_next = geomOr( &quot;m1&quot; cell_bnd_shrunk )<br />               saveDerived( m1_bnd_next ( &quot;m1&quot; &quot;boundary&quot; ) )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014608"></a>            )<br />         )<br />    else<br />         /*<br />          *  Rules to run in flat mode.<br />          */<br />          m1 = geomOr( &quot;m1&quot; )<br />          drc( m1 sep &lt; 0.5 )<br />          /*<br />            ... other flat checks ...<br />          */            .....</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014609"></a>      )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014610"></a>   )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014611"></a>)</pre>
<h3>
<a id="pgfId-1014613"></a>Controlling SK<a id="marker-1014612"></a>ILL Access</h3>

<p>
<a id="pgfId-1014614"></a>You can have SKILL access to the DFII database during Diva verification execution prior to saving the data to disk, which provides a simple interface and alleviates the read-write overhead. The <em>ivCallProc</em> command provides access to the DFII database only. There is no SKILL access to the Diva&#8217;s internal data structures or edge files.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014615"></a>
You can destroy or corrupt data by using SKILL access to the database. The SKILL Access command does not determine whether a requested change is detrimental to the database. Therefore, you must make sure your changes do not harm the database.</div>

<p>
<a id="pgfId-1014616"></a>During hierarchical extraction, SKILL Access is applied for each pass over the rules, which corresponds to each cell being processed.</p>

<h4>
<a id="pgfId-1014617"></a>Syntax</h4>
<a id="pgfId-1014619"></a><a id="marker-1014618"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ivCallProc( procedure )</pre>
<h4>
<a id="pgfId-1014620"></a>Description</h4>

<p>
<a id="pgfId-1014621"></a>You can place this command anywhere in the rules file. Placing this command in a DRC rule deck will only provide access to the layout view. Any marker generating rules which execute before the ivCallProc will result in the markers being present in the layout view. It is recommended that markers not be modified though use of the ivCallProc command. Markers stored in the ivEDB error database are not accessable from within an ivCallProc. Depending on where you place this command in an Extract rule deck, it has the following results:</p>
<ul><li>
<a id="pgfId-1014622"></a>If you place the command at the beginning of the rules file, the extracted view is available for processing but is empty because the tool has not done any work yet. You can add cell properties at this point.</li><li>
<a id="pgfId-1014623"></a>If you place the command after an <em>extractDevice</em> command in the rules file, the extracted view contains the instances of the devices. The devices are connected, but they do not have parameters such as length and width attached.</li><li>
<a id="pgfId-1014624"></a>If you place the command after the <em>saveParameter</em> command in the rules file, the device instances have properties attached.</li><li>
<a id="pgfId-1014625"></a>If you place the command after <em>saveParasitic</em> in the rules file, the extracted cell contains parasitic devices.</li><li>
<a id="pgfId-1014626"></a>If you place the command at the end of the rules file, the extracted cell is complete except for the <em>schematicLastExtracted</em> property.</li></ul>





<h4>
<a id="pgfId-1014627"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1014628"></a><code>procedure</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019404"></a> The name of the SKILL<em> lambda</em> procedure you specify.</p>
<p>
<a id="pgfId-1014629"></a>Diva passes a disembodied property list to the procedure. This property list contains the cell environment at the point in the execution of commands (rules file) where the <em>ivCallProc</em> command is referenced. There are four possible property values, which are database IDs of cellviews being processed or created. For hierarchical processing they refer to the current cell. </p>
<p>
<a id="pgfId-1014630"></a>The property values are</p>
<table class="webflareTable" id="#id1019406">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019408"></a>layout</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019410"></a>The id of the cell being extracted. This is usually the layout view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019412"></a>extracted</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019414"></a>The id of the extracted cell. It is <em>nil</em> when extraction is not active.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019416"></a>excell</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019418"></a>The id of the excell cell defined during hierarchical extraction. It is <em>nil</em> during flat extraction and DRC.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019420"></a>abstract</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1019422"></a>The id of the abstract cell valid when abgen is active. If abgen is not active, the abstract is <em>nil</em>.</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1014635"></a>Examples</h4>

<p>
<a id="pgfId-1014636"></a>The following example places the name of the user who created the extracted cell on the extracted cell.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014637"></a>ivCallProc( lambda( (ids)<br />let( ( myName )<br />if( ids-&gt;extracted then<br />myName = getShellEnvVar( &quot;LOGNAME&quot; )<br />dbReplaceProp( ids-&gt;extracted &quot;creator&quot; &quot;string&quot; myName<br />   )<br />         )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014638"></a>      )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014639"></a>)</pre>

<p>
<a id="pgfId-1014640"></a>The following example adds a property to each <em>nfet</em> in the extracted cell.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014641"></a>x = lambda( (ids)<br />   let( (nfet nfets q)<br />      if( ids-&gt;extracted then<br />         nfets = setof(q ids-&gt;extracted~&gt;instances q~&gt;cellName == &quot;nfet&quot;)<br />         foreach( nfet nfets<br />            dbReplaceProp( nfet &quot;myProp&quot; &quot;int&quot; 3 )<br />         )<br />      )<br />   )<br />)<br />ivCallProc( x )</pre>

<p>
<a id="pgfId-1014642"></a>The following example adds a property to each <em>nfet</em> in the extracted cell with a procedure.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014643"></a>    procedure( addNfetProp(ids)<br />      let( (nfet nfets q)<br />         if( ids-&gt;extracted then<br />            nfets = setof(q ids-&gt;extracted~&gt;instances q~&gt;cellName == &quot;nfet&quot;)<br />            foreach( nfet nfets<br />               dbReplaceProp( nfet &quot;myProp&quot; &quot;int&quot; 3 )<br />            )<br />         )<br />      )<br />   )<br />   ivCallProc( getd( &#39;addNfetProp) )</pre>
<h3>
<a id="pgfId-1014644"></a>Special Procedures</h3>
<h4>
<a id="pgfId-1014645"></a>ivGetCellView</h4>
<a id="pgfId-1014646"></a><a id="73067"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ivGetCellView ()</pre>
<h4>
<a id="pgfId-1014647"></a>Description</h4>

<p>
<a id="pgfId-1014648"></a>From the rules file, this procedure gets the database ID of the layout cellview being processed, from which the cell, library, and techfile can be accessed. Properties associated with these are available for use in the rules.</p>
<p>
<a id="pgfId-1014649"></a>When this procedure is called, the optimized rules are marked as not being reusable. Subsequent runs of Diva verification will compile and optimize the rules, even if they have not been changed. This is necessary because the rules compiler cannot detect that a property used as a parameter in the rules has been changed.</p>

<h4>
<a id="pgfId-1016177"></a>ivCompilingFor</h4>
<a id="pgfId-1016178"></a><a id="marker-1016307"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ivCompilingFor (string...)</pre>
<h4>
<a id="pgfId-1016179"></a>Description</h4>

<p>
<a id="pgfId-1016180"></a>From the rules file, this procedure returns <em>t</em> if any of the strings passed as arguments contain the constant <code>diva</code>. It is expected that the results of calling the procedure will be used in a SKILL <code>if </code>statement. You can use the SKILL statement to select the Diva rules in a rule deck containing both Diva and Assura rules.</p>
<p>
<a id="pgfId-1016896"></a>Additional strings are available if your rule deck must adapt to multiple releases of Diva. Appendix A, What Is New In Diva, documents these strings with the changes they can indicate the availability of.</p>

<h4>
<a id="pgfId-1016192"></a>Example</h4>

<p>
<a id="pgfId-1016225"></a>The following example shows the use of this procedure to implement a check in a rule deck which supports both Diva and Assura.</p>
<p>
<a id="pgfId-1016692"></a>if(ivCompilingFor(&#8220;diva&#8221;)<br />then a=geomSize(geomSize(m1 -0.5) 0.5)<br />else a=geomWidth(m1 keep &gt; 1.0)<br />)</p>

<h4>
<a id="pgfId-1016693"></a>avSwitch</h4>
<a id="pgfId-1016695"></a><a id="marker-1016694"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
avSwitch (string...)</pre>
<h4>
<a id="pgfId-1016696"></a>Description</h4>

<p>
<a id="pgfId-1016698"></a>From the rules file, this procedure returns <code>t</code> if the string passed as an argument is a switch name set by the user through the use of the <code>-set</code> option in the <code>ivVerify</code> or LVS commands. Otherwise, <code>avSwitch()</code> returns <code>nil</code>. You can use this procedure to select rules in the rules deck.</p>

<h4>
<a id="pgfId-1016699"></a>Example</h4>

<p>
<a id="pgfId-1016700"></a>The following example shows the use of <code>avSwitch()</code> to implement a conditional execution of rules in a rules file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016701"></a>if(avSwitch(&quot;sw1&quot;)
then
&#160;&#160;&#160;&#160;a = geomSize( m1 0.5 )
else
&#160;&#160;&#160;&#160;a = geomWidth( m1 keep &gt; 1.0 )<br />)</pre>

<p>
<a id="pgfId-1016702"></a>If the above is invoked with the option:<br /># ivVerify -set &quot;sw1&quot;</p>
<p>
<a id="pgfId-1016703"></a>then the rule<br />       a = geomSize( m1 0.5 )<br />will be executed. Otherwise, the rule<br />       a = geomWidth( m1 keep &gt; 1.0 )<br />will be executed.</p>

<h4>
<a id="pgfId-1017144"></a><a id="93221"></a>geomOption</h4>
<a id="pgfId-1017147"></a><a id="marker-1017191"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
geomOption(keyword value)</pre>
<h4>
<a id="pgfId-1017148"></a>Description</h4>

<p>
<a id="pgfId-1017151"></a>Usable from the rule deck or the CIW, this command allows the user to set options that affect how Diva runs. Some keywords are temporary and will not be documented here.</p>

<p><strong>
<a id="pgfId-1017173"></a><code>verbosity</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019437"></a> Equivalent to the -v option on the ivVerify command line, the value, a positive integer, controls the amount of additional information displayed during the Diva run. The default value is zero. This is intended as a debugging aid so the specific content for any given value is subject to change and must not be relied upon by the user.</p>

<p><strong>
<a id="pgfId-1019442"></a><code>echoUnusedTasks</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019445"></a> When the value is <em>nil</em>, Diva will not display the messages about unused tasks being removed. The default value <em>t</em>, which displays the unused tasks being removed.</p>

<p><strong>
<a id="pgfId-1019450"></a><code>vlePathOutline</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019453"></a> When the value is <em>t</em>, Diva renders paths into polygons <strong>before</strong> scaling to internal units. When the value is <em>nil</em>, Diva renders paths into polygons <strong>after</strong> scaling to internal units. For angled path segments, <em>nil</em> produces a more accurate polygon, but can be different from what is visible in the layout editor.</p>
<p class="webflare-indent1">
<a id="pgfId-1018606"></a> The default value is <em>nil</em> in DFII on CDB for consistancy of results with previous versions of Diva. The default is <em>t</em> for DFII on OA since the OpenAccess path rendering API produces different results when compared with CDB and user input has been to use what is displayed since differences in errors are inevitable.</p>

<h2>
<a id="pgfId-1014650"></a>Controlling Properties and Variables</h2>

<p>
<a id="pgfId-1014652"></a>Whe<a id="marker-1014651"></a>n you use the DRC and extraction tools, you can use environmental variables and database properties to control the behavior of various aspects of the program.</p>
<p>
<a id="pgfId-1014653"></a>To set up the environmental variables automatically when you log in, place them in your .<em>cshrc</em> or .<em>login</em> file under <em>csh</em> or in your <em>.profile</em> file under <em>sh</em>. Database properties are set using the Virtusoso GUI</p>

<h3>
<a id="pgfId-1014654"></a>Storing Temporary Files</h3>

<p>
<a id="pgfId-1014655"></a>By default, any temporary layer files that Diva generates are placed in the directory in which you started this verification.</p>
<p>
<a id="pgfId-1014656"></a>If you want Diva to store temporary files in other directories, use the DRCTEMPDIR environmental variable. The directories you specify need not be on the same disk as Diva. Each directory can be on a different disk.</p>
<p>
<a id="pgfId-1014657"></a>To specify where you want to store the files, define the environmental variable as follows:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014658"></a>setenv DRCTEMPDIR &quot;directory&quot;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014659"></a>setenv DRCTEMPDIR &quot;directory1 directory2 directory3 ... &quot;</pre>
<p>
<a id="pgfId-1014660"></a>Temporary layer files created by Diva are named according to this format:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014661"></a><code><em>machid</em></code>_<code><em>pid</em></code>_<code><em>lyrid</em></code>_<code><em>fileno</em></code>.<code><em>pdv</em></code></pre>

<p><strong>
<a id="pgfId-1014662"></a><span class="webflare-courier-new" style="white-space:pre"><em>machid</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019474"></a>   The machine host name</p>

<p><strong>
<a id="pgfId-1019479"></a><span class="webflare-courier-new" style="white-space:pre"><em>pid</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019482"></a> The process id</p>

<p><strong>
<a id="pgfId-1019487"></a><span class="webflare-courier-new" style="white-space:pre"><em>lyrid</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019490"></a> The layer id</p>

<p><strong>
<a id="pgfId-1019502"></a><span class="webflare-courier-new" style="white-space:pre"><em>fileno</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019505"></a> The file number</p>

<p><strong>
<a id="pgfId-1019510"></a><span class="webflare-courier-new" style="white-space:pre"><em>pdv</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1019513"></a> The layer file extension</p>
<p>
<a id="pgfId-1014667"></a>The following is an example of a temporary layer filename:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014668"></a><code><em>machineA_101_20_1.pdv</em></code></pre>
<p>
<a id="pgfId-1014669"></a>The maximum size of any single temporary layer file created by Diva is 256 megabytes. Layers that exceed this file size limit are split into multiple files. The first file has a file number 1, the second file has a file number 2, and so on. As an example, a 3-gigabyte layer resides in 12 files.</p>
<p>
<a id="pgfId-1014670"></a>When one or more disks is filled, Diva continues to allocate files to the remaining directories. If a file is too large for a directory, that file is automatically split, and the remainder of the file is placed in the next directory or disk with free space. If Diva fills all the disks that contain directories in the DRCTEMPDIR list, and there are still more files to store, the Diva verification terminates and the files are removed. </p>

<h3>
<a id="pgfId-1014673"></a><a id="49317"></a>Including and Excluding Cells</h3>

<p>
<a id="pgfId-1014674"></a>By default, Diva verification processes all cells in the hierarchy of a circuit. To specify that a cell be ignored during the processing,<a id="marker-1014675"></a> <a id="marker-1014676"></a>you provide a non-negative integer value using one or more of the following methods:</p>
<ul><li>
<a id="pgfId-1014677"></a>Provide a user-defined SKILL procedure to dynamically generate a value.</li><li>
<a id="pgfId-1014678"></a>Define a value with an <em>ivIncludeValue</em> property placed on the cell instance.</li><li>
<a id="pgfId-1014679"></a>Define a value with an <em>ivIncludeValue</em> property placed on the cell master.</li></ul>


<p>
<a id="pgfId-1014680"></a>Diva evaluates these methods in the order given until one provides a valid value that is then compared to the Include Limit specified when the run was started. During hierarchical processing, only method 3 is available because the instances are not present at the time the master is processed.</p>
<p>
<a id="pgfId-1014681"></a>The user can define a filter procedure using the run-specific file command includeValueFunc<em> </em>to dynamically generate the value used in place of the ivIncludeValue property. </p>
<p>
<a id="pgfId-1014683"></a>When you start Diva, you can define an inclusion value as shown in the table below. For every cell to be processed, Diva compares this inclusion value with the value of the <em>ivIncludeValue</em> property:</p>
<ul><li>
<a id="pgfId-1014684"></a>If the property value is larger than the inclusion value, the cell is ignored.</li><li>
<a id="pgfId-1014685"></a>If the property value is equal to or less than the inclusion value, the cell is processed.</li></ul>

<p>
<a id="pgfId-1014687"></a><a id="marker-1014686"></a>A cell without an <em>ivIncludeValue</em> property is treated as if it has a property value of 0 (zero). If you do not specify an inclusion value when you start Diva, then it defaults to a value of 1,000.</p>

<p>
<a id="pgfId-1016655"></a> </p>
<table class="webflareTable" id="#id1014688">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1014690">
<a id="pgfId-1014690"></a>If you start Diva verification...</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1014692">
<a id="pgfId-1014692"></a>You set the inclusion value...</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014694"></a>By using the <em>ivVerif</em>y<em> </em>command</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014696"></a>By specifying the <em>-inc</em> option</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014698"></a>By using the SKILL commands <em>ivDRC</em> or <em>ivExtract</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014700"></a>By specifying the <em>?inc</em> option</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014702"></a>Interactively</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014704"></a>In the start-up form with the entry <em>Inclusion Limit</em></p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1014705"></a>Consider the following example:</p>
<p class="webflare-indent1">
<a id="pgfId-1014706"></a>Cell <em>A</em> has no property.</p>
<p class="webflare-indent1">
<a id="pgfId-1014707"></a>Cell <em>B</em> has the property <em>ivIncludeValue = 3.</em></p>
<p class="webflare-indent1">
<a id="pgfId-1014708"></a>Cell <em>C</em> has the property <em>ivIncludeValue = 5.</em></p>
<p class="webflare-indent1">
<a id="pgfId-1014709"></a>Cell <em>D</em> has no property and references cells <em>A</em>,<em> B</em>,<em> </em>and<em> C.</em></p>
<p>
<a id="pgfId-1014710"></a>If you set the inclusion limit to<em> 0 </em>on startup, cells <em>B</em> and <em>C</em> are ignored because their property values are greater than the start-up inclusion value.</p>

<h3>
<a id="pgfId-1014713"></a><a id="22351"></a>Macro Cell Mode<a id="Macro Cell Mode"></a></h3>

<p>
<a id="pgfId-1014715"></a>Normally,<a id="marker-1014714"></a> for the extraction of hierarchical structured layouts, Diva expands the contents of each instance of a cell in the hierarchy into a single flat representation. The flattening process continues until all cell instances are gone, leaving only shapes on layers.</p>
<p>
<a id="pgfId-1014716"></a>Macro cell processing modifies this process so that specific cells in the hierarchy are not expanded into a flat representation, but are converted into instances of devices. When you look at the <a id="marker-1014717"></a>extracted cellview, instances of <a id="marker-1014718"></a>macro cells appear the same as normal cell instances.</p>

<h4>
<a id="pgfId-1014719"></a>Using MacroCell Processing</h4>

<p>
<a id="pgfId-1014722"></a><a id="marker-1014720"></a>You can use macro cell processing to significantly <a id="marker-1014721"></a>reduce extraction run time when you use a cell more than once. Diva can check each cell before it is added to the system library. Using that cell as a macro cell causes Diva to treat it as a device in the layout. Diva replaces all cell internal processing by the recognition of the external connections to the cell.</p>
<p>
<a id="pgfId-1014723"></a>You can also use macro cell processing when you have not yet designed the contents of a cell or when you don&#8217;t have access to the contents of a cell. You must define the pin connections to the cell before Diva can process it.</p>

<h4>
<a id="pgfId-1014724"></a>Defining a Macro Cell</h4>

<p>
<a id="pgfId-1014726"></a><a id="marker-1014725"></a>If you specify macro cell mode, a cell becomes a macro cell based on the following requirements:</p>
<ul><li>
<a id="pgfId-1014727"></a>The cell must contain one or more pins on connected layers. A layer is connected if it appears in a <em>geomConnect</em> command. The pins form the external connections to the cell.</li><li>
<a id="pgfId-1014728"></a>If Diva verification is not in hierarchical mode and the user has defined a filter procedure using the run-specific file command macroCellFunc, the procedure is called with the full instance path through the hierarchy to the instance currently being tested. If the value returned is a non-empty string, the cell is processed according to that value.<br />
<a id="pgfId-1014729"></a>The value can be:<br />
<a id="pgfId-1016651"></a><table class="webflareTable" id="#id1016031">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016033"></a><em>macro</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016035"></a>Forces the cell to be a macro cell providing the cell has pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016037"></a><em>graphic</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016039"></a>Forces the cell to not be a macro cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016041"></a><em>none</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016043"></a>Ignores the <em>macroCellFile</em> and <em>ivCellType</em> property and lets the cell become a macro or not, based on its pins and <em>prCellType</em> property.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1014735"></a>If Diva verification is not in hierarchical mode and the SKILL procedure is not defined or returns an empty value and the instance has an <em>ivCellType</em> property, the property value is used to define the processing mode.<br />
<a id="pgfId-1014736"></a>The <em>ivCellType</em> property value can be:<br />
<a id="pgfId-1016652"></a><table class="webflareTable" id="#id1016046">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016048"></a><em>macro</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016050"></a>Forces the cell to be a macro cell providing the cell has pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016052"></a><em>graphic</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016054"></a>Forces the cell to not be a macro cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016056"></a><em>none</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016058"></a>Ignores the <em>macroCellFile</em> and <em>ivCellType</em> property and lets the cell become a macro or not, based on its pins and <em>prCellType</em> property.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1014740"></a>If the <em>ivCellType</em> is not found on the instance, and the <em>macroCellFile</em> is provided in the run-specific rules, and the cell being processed matches an entry in the file, the cell is processed according to the value defined for that cell in the file.<br />
<a id="pgfId-1014741"></a>The <em>macroCellFile</em> value can be:<br />
<a id="pgfId-1016653"></a><table class="webflareTable" id="#id1016059">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016061"></a><em>macro</em> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016063"></a>Forces the cell to be a macro cell providing the cell has pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016065"></a><em>graphic</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016067"></a>Forces the cell not to be a macro cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016069"></a><em>none</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016071"></a>Ignores the <em>ivCellType</em> property and lets the cell become a macro or not based on its pins and <em>prCellType</em> property.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1014745"></a>If the <em>macroCellFile</em> is not provided in the run-specific rules, or the cell does not exist in the file, Diva uses the <em>ivCellType</em> property on the cell to define the processing mode.<br />
<a id="pgfId-1016085"></a>The <em>ivCellType</em> property value can be<br />
<a id="pgfId-1016173"></a><table class="webflareTable" id="#id1016091">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016093"></a><em>macro</em> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016095"></a>Forces the cell to be a macro cell providing the cell has pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016097"></a><em>graphic</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016099"></a>Forces the cell not to be a macro cell.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1016088"></a>If a cell does not have an <em>ivCellType</em> property, it becomes a macro cell if it has a <em>prCellType</em> of:<ul><li>
<a id="pgfId-1014750"></a>Standard</li><li>
<a id="pgfId-1014751"></a>IO</li><li>
<a id="pgfId-1014752"></a>Corner<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014753"></a>The top level of hierarchy cannot be a macro cell. Even if the top cell conforms to the requirements of a macro cell, the program treats it as a normal cell. If you switch to hierarchical processing mode, the hierarchical cell control takes precedence over the macro cell interpretation unless the <em>ivCellType</em> property explicitly defines the cell as a macro cell.</div></li></ul>
<a id="pgfId-1014754"></a>The <em>macroCellFile</em> and <em>ivCellType</em> values are<br />
<a id="pgfId-1016174"></a><table class="webflareTable" id="#id1016100">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016102"></a><em>macro</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016104"></a>Forces the cell to be a macro cell providing the cell has pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016106"></a><em>graphic</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016108"></a>Forces the cell not to be a macro cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016110"></a><em>none</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016112"></a>Ignores the <em>ivCellType</em> property and lets the cell become a macro or not based on its pins and <em>prCellType</em> property.</p>
</td>
</tr>
</tbody></table></li></ul>

































<h4>
<a id="pgfId-1014758"></a>Controlling Macro Cell Hierarchy</h4>

<p>
<a id="pgfId-1014760"></a><a id="marker-1014759"></a>When traversing the hierarchy, Diva verification descends into the cellview defined by the instance of the current cell unless the property <em>originalViewName</em> exists on the cell. </p>
<p>
<a id="pgfId-1014761"></a>If the property <em>originalViewName</em> is specified for the cell, Diva switches into the cellview defined by this property providing</p>
<ul><li>
<a id="pgfId-1014762"></a>Diva is not running under the OpenAccess database. The implementation of originalViewName is based on a feature of the CDB database which is not available in the OpenAccess database. Diva will issue a warning message an terminate.</li><li>
<a id="pgfId-1016965"></a>The cell is not defined to be macro or graphic by the <em>ivCellType</em>  the <em>macroCellFile</em>. </li><li>
<a id="pgfId-1016966"></a>The <em>prCellType</em> of the cell is not <em>macro</em>.</li><li>
<a id="pgfId-1016953"></a>The cellview defined by <em>originalViewName</em> exists.</li></ul>




<h4>
<a id="pgfId-1014765"></a>Starting Macro Cell Processing</h4>

<p>
<a id="pgfId-1014767"></a>To start<a id="marker-1014766"></a> macro cell extraction&#160;&#160;from a layout window, select the<em> Extract </em>command from the Verify menu, then select <em>macro cell</em> for the&#160;&#160;method in the Extract form. </p>
<p>
<a id="pgfId-1014768"></a>To start macro cell extraction using SKILL, use the <em>ivExtract</em> command to specify a <em>t </em>value for the<em> ?macro </em>argument.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014769"></a>The command stream for macro cell processing must contain a <em>geomConnect</em><a id="marker-1014770"></a> command and can contain any other DRC and extraction commands for layer processing and device recognition. Normally, you can mix extracted devices with macro cell devices.</div>

<h4>
<a id="pgfId-1014771"></a>How Diva Verification Processes Macro Cells</h4>

<p>
<a id="pgfId-1014772"></a>When Diva recognizes a macro cell, it does not recognize or expand cell instances within that macro cell. Diva expands shapes only on layers whose purpose is <em>boundary</em> or shapes associated with <em>pin</em>s.</p>
<p>
<a id="pgfId-1014773"></a>Although the program copies the cell boundary from a macro cell (if it is on purpose <em>boundary)</em>, the boundary is not used for connectivity processing. However, you can use the boundary to generate &#8220;keep-out&#8221; layers. Keep-out layers represent regions on the macro cell that you don&#8217;t want other cells&#8217; layers to overlap.</p>
<p>
<a id="pgfId-1014775"></a>Diva places every macro cell as a <a id="marker-1014774"></a>device instance in the extracted version. At the topmost level, it gives that instance the same name as the original cell instance in the layout. At lower levels of hierarchy, the program gives instances the names <em>+1, +2, +3</em>, and so on. Make sure these names do not conflict with your own cell names.<a id="marker-1014776"></a></p>

<h2>
<a id="pgfId-1017228"></a><a id="87311"></a>Using Cadence Environment Variables With Diva</h2>

<p>
<a id="pgfId-1017230"></a>A number of Cadence environmental variables are available to control aspects of the DIva user interface. The text to place in your .cdsenv file to match the default values is shown. An explanation of each variable follows the example text.</p>

<h3>
<a id="pgfId-1017299"></a>Environment variables affecting the DRC form</h3>

<p>
<a id="pgfId-1018345"></a>The DRC form is created once when the layerProc context is loaded so the following values are only used at that time.</p>

<pro2k-prog-in-2-keep id="#id1017300">
<a id="pgfId-1017300"></a>Diva.DRC  ipos  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017301"></a>Disables the initial positioning of the form. To enable control of the initial position of the form, use a value of <em>t</em>. Due to a limitation of the Human Interface, setting the initial position of the form results in the form appearing in the wrong position, disappearing, then appearing in the correct position. This may be annoying to users, so the default behavior is to not set the initial position.</p>

<pro2k-prog-in-2-keep id="#id1017302">
<a id="pgfId-1017302"></a>Diva.DRC  xpos  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017303"></a>Specifies how many pixels should be between the form edge and the left or right edge of the display, as controlled by the <em>xrel</em> variable below.</p>

<pro2k-prog-in-2-keep id="#id1017304">
<a id="pgfId-1017304"></a>Diva.DRC  ypos  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017305"></a>Specifies how many pixels should be between the form edge and the top or bottom edge of the display, as controlled by the <em>yrel</em> variable below.</p>

<pro2k-prog-in-2-keep id="#id1017306">
<a id="pgfId-1017306"></a>Diva.DRC  xrel  string  &quot;left&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017307"></a>Specifies which edge of the display the <em>xpos</em> variable refers to. Allowed values are &quot;left&quot; and &quot;right&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017308">
<a id="pgfId-1017308"></a>Diva.DRC  yrel  string  &quot;bottom&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017309"></a>Specifies which edge of the display the <em>ypos</em> variable refers to. Allowed values are &quot;top&quot; and &quot;bottom&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017411">
<a id="pgfId-1017411"></a>Diva.DRC  method  cyclic  &quot;flat&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017488"></a>Initializes the <em>Checking Method</em> field. Allowed values are &quot;flat&quot;, &quot;hierarchical&quot; and &quot;hier w/o optimization&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017412">
<a id="pgfId-1017412"></a>Diva.DRC  limits  cyclic  &quot;full&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017492"></a>Initializes the <em>Checking Limit</em> field of the form. Allowed values are &quot;full&quot;, &quot;incremental&quot; and &quot;by area&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017413">
<a id="pgfId-1017413"></a>Diva.DRC  area  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017496"></a>Initializes the <em>Coordinate</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017414">
<a id="pgfId-1017414"></a>Diva.DRC  join  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017500"></a>Initializes the <em>Join Nets With Same Name</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017415">
<a id="pgfId-1017415"></a>Diva.DRC  echo  boolean  t</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017856"></a>Initializes the <em>Echo Commands</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017416">
<a id="pgfId-1017416"></a>Diva.DRC  switches  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017864"></a>Initializes the <em>Switch Names</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017417">
<a id="pgfId-1017417"></a>Diva.DRC  useRsf  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017868"></a>Initializes the checkbox portion of the <em>Run-Specific Command File</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017418">
<a id="pgfId-1017418"></a>Diva.DRC  rsf  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017872"></a>Initializes the text portion of the <em>Run-Specific Command File</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017419">
<a id="pgfId-1017419"></a>Diva.DRC  include  int  1000</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017876"></a>Initializes the <em>Inclusion Limit</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017420">
<a id="pgfId-1017420"></a>Diva.DRC  remote  cyclic  &quot;local&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017880"></a>Initializes the location text portion of the <em>Machine</em> field. Allowed values are &quot;local&quot; and &quot;remote&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017421">
<a id="pgfId-1017421"></a>Diva.DRC  machine  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017884"></a>Initializes the machine name text portion of the <em>Machine</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017422">
<a id="pgfId-1017422"></a>Diva.DRC  rules  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017888"></a>Initializes the <em>Rules File</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017423">
<a id="pgfId-1017423"></a>Diva.DRC  useLib  boolean  t</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017892"></a>Initializes the checkbox portion of the <em>Rules Library</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017424">
<a id="pgfId-1017424"></a>Diva.DRC  rulesLib  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017896"></a>Initializes the text portion of the <em>Rules Library</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017425">
<a id="pgfId-1017425"></a>Diva.DRC  limitRule  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017900"></a>Initializes the checkbox portion of the <em>Limit Rule Errors</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017426">
<a id="pgfId-1017426"></a>Diva.DRC  ruleLimit  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017904"></a>Initializes the text portion of the <em>Limit Rule Errors</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017427">
<a id="pgfId-1017427"></a>Diva.DRC  limitRun  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017908"></a>Initializes the checkbox portion of the <em>Limit Run Errors</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017428">
<a id="pgfId-1017428"></a>Diva.DRC  runLimit  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017912"></a>Initializes the text portion of the <em>Limit Run Errors</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017429">
<a id="pgfId-1017429"></a>Diva.DRC  useEDB  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017916"></a>Initializes the checkbox portion of the <em>Use Error Database</em> field.</p>

<pro2k-prog-in-2-keep id="#id1018568">
<a id="pgfId-1018568"></a>Diva.DRC  nameEDB  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018569"></a>Initializes the text portion of the <em>Use Error Database</em> field.</p>

<pro2k-prog-in-2-keep id="#id1018503">
<a id="pgfId-1018503"></a>Diva.DRC  imm  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018504"></a>Initializes the checkbox of the <em>Ignore Missing Masters</em> field.</p>
<p>
<a id="pgfId-1018339"></a>The Extract form is created once when the layerProc context is loaded so the following values are only used at that time.</p>

<pro2k-prog-in-2-keep id="#id1017318">
<a id="pgfId-1017318"></a>Diva.Extract  ipos  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017319"></a>Disables the initial positioning of the form. To enable control of the initial position of the form, use a value of <em>t</em>. Due to a limitation of the Human Interface, setting the initial position of the form results in the form appearing in the wrong position, disappearing, then appearing in the correct position. This may be annoying to users, so the default behavior is to not set the initial position.</p>

<pro2k-prog-in-2-keep id="#id1017320">
<a id="pgfId-1017320"></a>Diva.Extract  xpos  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017321"></a>Specifies how many pixels should be between the form edge and the left or right edge of the display, as controlled by the <em>xrel</em> variable below.</p>

<pro2k-prog-in-2-keep id="#id1017322">
<a id="pgfId-1017322"></a>Diva.Extract  ypos  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017323"></a>Specifies how many pixels should be between the form edge and the top or bottom edge of the display, as controlled by the <em>yrel</em> variable below.</p>

<pro2k-prog-in-2-keep id="#id1017324">
<a id="pgfId-1017324"></a>Diva.Extract  xrel  string  &quot;left&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017325"></a>Specifies which edge of the display the <em>xpos</em> variable refers to. Allowed values are &quot;left&quot; and &quot;right&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017326">
<a id="pgfId-1017326"></a>Diva.Extract  yrel  string  &quot;bottom&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017327"></a>Specifies which edge of the display the <em>ypos</em> variable refers to. Allowed values are &quot;top&quot; and &quot;bottom&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017443">
<a id="pgfId-1017443"></a>Diva.Extract  method  cyclic  &quot;flat&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017924"></a>Initializes the <em>Extract Method</em> field. Allowed values are &quot;flat&quot;, &quot;macro cell&quot;, &quot;full hier&quot; and &quot;incremental hier&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017444">
<a id="pgfId-1017444"></a>Diva.Extract  join  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017928"></a>Initializes the <em>Join Nets With Same Name</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017445">
<a id="pgfId-1017445"></a>Diva.Extract  echo  boolean  t</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017932"></a>Initializes the <em>Echo Commands</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017446">
<a id="pgfId-1017446"></a>Diva.Extract  switches  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017936"></a>Initializes the <em>Switch Names</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017447">
<a id="pgfId-1017447"></a>Diva.Extract  useRsf  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017940"></a>Initializes the checkbox portion of the <em>Run-Specific Command File</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017448">
<a id="pgfId-1017448"></a>Diva.Extract  rsf  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017944"></a>Initializes the text portion of the <em>Run-Specific Command File</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017449">
<a id="pgfId-1017449"></a>Diva.Extract  include  int  1000</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018194"></a>Initializes the <em>Inclusion Limit</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017450">
<a id="pgfId-1017450"></a>Diva.Extract  remote  cyclic  &quot;local&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018200"></a>Initializes the location portion of the <em>Machine</em> field. Allowed values are &quot;local&quot; and &quot;remote&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017451">
<a id="pgfId-1017451"></a>Diva.Extract  machine  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018206"></a>Initializes the machine name portion of the <em>Machine</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017452">
<a id="pgfId-1017452"></a>Diva.Extract  extView  string  &quot;extracted&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018210"></a>Initializes the <em>Extracted</em> portion of the <em>View Names</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017453">
<a id="pgfId-1017453"></a>Diva.Extract  exlView  string  &quot;excell&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017966"></a>Initializes the <em>Excell</em> portion of the <em>View Names</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017454">
<a id="pgfId-1017454"></a>Diva.Extract  rules  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017970"></a>Initializes the <em>Rules File</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017455">
<a id="pgfId-1017455"></a>Diva.Extract  useLib  boolean  t</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017974"></a>Initializes the checkbox portion of the <em>Rules Library</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017456">
<a id="pgfId-1017456"></a>Diva.Extract  rulesLib  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017978"></a>Initializes the text portion of the <em>Rules Library</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017457">
<a id="pgfId-1017457"></a>Diva.Extract  limitRule  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017982"></a>Initializes the checkbox portion of the <em>Limit Rule Errors</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017458">
<a id="pgfId-1017458"></a>Diva.Extract  ruleLimit  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017986"></a>Initializes the text portion of the <em>Limit Rule Errors</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017459">
<a id="pgfId-1017459"></a>Diva.Extract  limitRun  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017990"></a>Initializes the checkbox portion of the <em>Limit Run Errors</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017460">
<a id="pgfId-1017460"></a>Diva.Extract  runLimit  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017994"></a>Initializes the text portion of the <em>Limit Run Errors</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017461">
<a id="pgfId-1017461"></a>Diva.Extract  useEDB  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017998"></a>Initializes the checkbox portion of the <em>Use Error Database</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017441">
<a id="pgfId-1017441"></a>Diva.Extract  nameEDB  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018002"></a>Initializes the text portion of the <em>Use Error Database</em> field.</p>

<pro2k-prog-in-2-keep id="#id1018579">
<a id="pgfId-1018579"></a>Diva.Extract  imm  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018580"></a>Initializes the checkbox of the <em>Ignore Missing Masters</em> field.</p>

<h3>
<a id="pgfId-1017241"></a>Environment variables affecting the LVS form</h3>

<p>
<a id="pgfId-1017402"></a>Due to differences in the implementation of this form, an initial position has always been in place. Only control of where the form will be positioned is available. Unlike the DRC and Extract forms, the LVS form is created and destroyed each time it is used. The following values are used each time the form is created.</p>

<pro2k-prog-in-2-keep id="#id1017259">
<a id="pgfId-1017259"></a>Diva.LVS  xpos  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017268"></a>Specifies how many pixels should be between the form edge and the left or right edge of the display, as controlled by the <em>xrel</em> variable below.</p>

<pro2k-prog-in-2-keep id="#id1017260">
<a id="pgfId-1017260"></a>Diva.LVS  ypos  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017269"></a>Specifies how many pixels should be between the form edge and the top or bottom edge of the display, as controlled by the <em>yrel</em> variable below.</p>

<pro2k-prog-in-2-keep id="#id1017261">
<a id="pgfId-1017261"></a>Diva.LVS  xrel  string  &quot;left&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017270"></a>Specifies which edge of the display the <em>xpos</em> variable refers to. Allowed values are &quot;left&quot; and &quot;right&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017262">
<a id="pgfId-1017262"></a>Diva.LVS  yrel  string  &quot;bottom&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1017271"></a>Specifies which edge of the display the <em>ypos</em> variable refers to. Allowed values are &quot;top&quot; and &quot;bottom&quot;.</p>

<pro2k-prog-in-2-keep id="#id1017471">
<a id="pgfId-1017471"></a>Diva.LVS  rundir  string  &quot;LVS&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018006"></a>Initializes the <em>Run Directory</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017472">
<a id="pgfId-1017472"></a>Diva.LVS  switches  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018010"></a>Initializes the <em>Switch Names</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017473">
<a id="pgfId-1017473"></a>Diva.LVS  rules  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018014"></a>Initializes the text portion of the <em>Rules Library</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017474">
<a id="pgfId-1017474"></a>Diva.LVS  useLib  boolean  t</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018018"></a>Initializes the <em>Rules File</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017475">
<a id="pgfId-1017475"></a>Diva.LVS  rulesLib  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018022"></a>Initializes the text portion of the <em>Rules Library</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017476">
<a id="pgfId-1017476"></a>Diva.LVS  rewire  boolean  t</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018026"></a>Initializes the <em>Rewiring</em> portion of the <em>LVS Options</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017477">
<a id="pgfId-1017477"></a>Diva.LVS  fix  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018030"></a>Initializes the <em>Device Fixing</em> portion of the <em>LVS Options</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017478">
<a id="pgfId-1017478"></a>Diva.LVS  xref  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018034"></a>Initializes the <em>Create Cross Reference</em> portion of the <em>LVS Options</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017479">
<a id="pgfId-1017479"></a>Diva.LVS  term  boolean  t</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018038"></a>Initializes the <em>Terminals</em> portion of the <em>LVS Options</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017480">
<a id="pgfId-1017480"></a>Diva.LVS  tcorr  boolean  nil</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018042"></a>Initializes the checkbox portion of the <em>Correspondence File</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017481">
<a id="pgfId-1017481"></a>Diva.LVS  corrFile  string  &quot;lvs_corr_file&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018046"></a>Initializes the text portion of the <em>Correspondence File</em> field.</p>

<pro2k-prog-in-2-keep id="#id1017482">
<a id="pgfId-1017482"></a>Diva.LVS  priority  int  0</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018050"></a>Initializes the <em>Priority</em> field. The allowed range is 0 to 20, inclusive.</p>

<pro2k-prog-in-2-keep id="#id1017483">
<a id="pgfId-1017483"></a>Diva.LVS  remote  cyclic  &quot;local&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018054"></a>Initializes the location portion of the <em>Machine</em> field. Allowed values are &quot;local&quot; and &quot;remote&quot;</p>

<pro2k-prog-in-2-keep id="#id1017469">
<a id="pgfId-1017469"></a>Diva.LVS  machine  string  &quot;&quot;</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018058"></a>Initializes the machine name portion of the <em>Machine</em> field.</p>

<h3>
<a id="pgfId-1018524"></a><a id="52607"></a>Other environment variables</h3>
<pro2k-prog-in-2-keep id="#id1018525">
<a id="pgfId-1018525"></a>Diva  changeLayer  boolean  t</pro2k-prog-in-2-keep>

<p>
<a id="pgfId-1018526"></a>Controls generation of shapes on the changeLayer during editing. The default value of t causes shapes to be created. A value of nil causes shapes to not be generated. The variable has no effect on existing changeLayer shapes and does not affect how Diva processes shapes on the changeLayer. Changing the variable has no effect until the workbench is restarted.</p>
<p>
<a id="pgfId-1017222"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap1.html" id="prev" title="Introducing Diva Verification">Introducing Diva Verification</a></em></b><b><em><a href="chap3.html" id="nex" title="Executing Diva Verification Using SKILL Commands">Executing Diva Verification Us ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160; </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>