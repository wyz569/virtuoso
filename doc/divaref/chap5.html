
<html><head><title>Layer Processing Concepts</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sarita" />
<meta name="CreateDate" content="2023-05-02" />
<meta name="CreateTime" content="1683027691" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="The Diva verification tool lets you check physical design and electrical functionality, perform layout versus schematic comparisons, and view errors interactively to speed diagnosis and correction." />
<meta name="DocTitle" content="Diva Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Layer Processing Concepts" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="divaref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-05-02" />
<meta name="ModifiedTime" content="1683027691" />
<meta name="NextFile" content="chap6.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Physical Verification  Analysis" />
<meta name="PrevFile" content="chap4.html" />
<meta name="c_product" content="Diva" />
<meta name="Product" content="Diva" />
<meta name="ProductFamily" content="Diva" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Diva Reference -- Layer Processing Concepts" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="divarefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="divarefTOC.html">Contents</a></li><li><a class="prev" href="chap4.html" title="Writing Diva Verification Rules">Writing Diva Verification Rule ...</a></li><li style="float: right;"><a class="viewPrint" href="divaref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap6.html" title="Connectivity Extraction Concepts">Connectivity Extraction Concep ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Diva Reference<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>5
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1011663"></a><hr />
<a id="31633"></a>Layer Processing Concepts<hr />
</h1>

<p>
<a id="pgfId-1014196"></a>This section describes the concepts and terminology used when discussing layers and shapes in Diva verification.</p>

<h3>
<a id="pgfId-1014197"></a>Layers</h3>

<p>
<a id="pgfId-1014201"></a>The three groups of layers used in Diva are as follows:</p>
<ul><li>
<a id="pgfId-1014204"></a><a id="marker-1014202"></a><a id="marker-1014203"></a>Original graphics layers</li><li>
<a id="pgfId-1014205"></a>Derived layers</li><li>
<a id="pgfId-1014206"></a>Connected layers</li></ul>



<h4>
<a id="pgfId-1014207"></a>Original Graphics Layers</h4>

<p>
<a id="pgfId-1014209"></a>Layer names you specify in the g<a id="marker-1014208"></a>raphics editor are called <em>original graphics layers</em>. You enter the layer name as a text string enclosed in double quotation marks. The following are some typical original graphics layer names:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014210"></a>&quot;polysilicon&quot; &quot;metal&quot; &quot;diffusion&quot;</pre>
<p>
<a id="pgfId-1020660"></a>Original graphics layers are subdivided into layer purposes such as <em>drawing</em>, <em>pin</em>, or <em>text</em>. Some commands handle specific layer purposes. You can find details of these capabilities in the command descriptions. If a command does not reference layer purposes, the command processes all layer purposes except <em>boundary</em> by default. The <em>boundary</em> purpose is excluded because it contains a single polygon per cell defining the boundary of that layer in that cell. If this polygon is processed in conjunction with the shapes on other purposes of that layer, those shapes would be eliminated by the boundary polygon.</p>
<p>
<a id="pgfId-1020661"></a>Commands which accept an original graphics layer name will also accept a layer purpose pair specified as two text strings within parenthesis. The shapes processed will limited to those on the layer and purpose given. The following are examples of layer purpose pairs:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020667"></a>(&quot;metal1&quot; &quot;drawing&quot;) (&quot;metal1&quot; &quot;pin&quot;)</pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1020662"></a><em>Do not use</em> any of the reserved layers used by the Virtuoso<sup>&#174;</sup> layout editor (such as instance on the drawing purpose, for example) to create graphic information. Your data may be deleted or modified by internal processes in the editor that assume the layer is reserved to their use.</div>

<h4>
<a id="pgfId-1014212"></a>Derived Layers</h4>

<p>
<a id="pgfId-1014213"></a>Many verification commands generate results that can be processed the same way as an original graphics layer. These results are called <em>derived</em> <em>layers</em>. </p>
<p>
<a id="pgfId-1014215"></a>There are significant differences between <a id="marker-1014214"></a>original graphics layers and derived layers. A derived <a id="marker-1014216"></a>layer is really a symbolic name associated with the data that forms the layer. You can manipulate a derived layer the same way as a symbol.</p>
<p>
<a id="pgfId-1014217"></a>For example, consider the simple command</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014218"></a>gate = geomAnd( &quot;polysilicon&quot; &quot;diffusion&quot; )</pre>
<p>
<a id="pgfId-1014219"></a>This creates a derived layer called <em>gate</em> from original layers of polysilicon and diffusion. </p>
<p>
<a id="pgfId-1014220"></a>Another example is</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014221"></a>x = gate</pre>
<p>
<a id="pgfId-1014222"></a>The symbol<em> x</em> and the symbol <em>gate</em> both refer to the same data generated by the <em>geomAnd</em> command. The symbol name and the layer name are separate, except that the name of the first symbol the layer is assigned to is used as the name of the layer.</p>
<p>
<a id="pgfId-1014223"></a>The derived layer names must conform to SKILL naming syntax conventions. The most important convention is that a name starting with a numeric (0 though 9) must be preceded by a &#8220;\.&#8221;. For detailed information about SKILL naming conventions, refer to the <em>SKILL Language User Guide</em>.</p>
<p>
<a id="pgfId-1014225"></a>Another difference between original and derived layers is that derived layers do not exist in the graphics database unless you specifically save them there. </p>
<p>
<a id="pgfId-1014227"></a><a id="marker-1014226"></a>Derived layers can be empty. Empty layers are processed the same way as any other derived layer. In some circumstances, Diva automatically creates empty layers. For example, if you define an <em>if-then-else</em> branch in the rules, create a layer in the <em>if</em> branch but not in the <em>else</em> branch, and do not create that layer anywhere else, Diva creates an empty version of that layer so that after exiting the <em>if</em> branch, it consistently has that layer. You can also generate empty layers for other uses by using the <em>geomEmpty</em> command.</p>

<h4>
<a id="pgfId-1014228"></a>Connected Layers</h4>

<p>
<a id="pgfId-1014230"></a>Layers processed with the <em>geomConnect</em> command are called <em>connected layers</em><a id="marker-1014229"></a>. Diva assigns net numbers to the connected layers and uses these net numbers in various places in the system.</p>
<p>
<a id="pgfId-1014231"></a>Normally, derived layers generated from connected layers do not retain net information. However, you can use Relational Selection commands to generate layers that retain net information. You can also use <em>geomAnd</em> and <em>geomAndNot</em>. Refer to these sections later in this chapter.</p>

<h3>
<a id="pgfId-1014232"></a>Shapes</h3>

<p>
<a id="pgfId-1014235"></a><a id="marker-1014233"></a>A shape consists of <a id="marker-1014234"></a>edges linked together to form a closed area. All shapes have an inside and an outside. In Diva verification, a shape is the name given to any graphic entity, such as a polygon or rectangle.<em> Shape</em> and <em>polygon a</em>re often used to mean the same thing. </p>
<p>
<a id="pgfId-1021803"></a>The following figure illustrates three shapes and their types. You can refer to each shape as a <em>shape</em> or a <em>polygon.</em></p>

<p>
<a id="pgfId-1021813"></a></p>
<div class="webflare-div-image">
<img width="584" height="84" src="images/chap5-2.gif" /></div>
<h4>
<a id="pgfId-1021814"></a>Raw and Merged Data Format</h4>

<p>
<a id="pgfId-1014248"></a>Layer data format can be describe<a id="marker-1014247"></a>d as either <em>raw </em>or <em>merged</em>. When Diva first reads a layer in the graphics editor database, the layer is in<em> raw </em>format. This means that individual shapes on the same layer can overlap and butt each other, and that the system retains internal construction edges such as the exit edges from donut holes.</p>
<p>
<a id="pgfId-1014249"></a>Most layer processing commands generate <em>merged</em> data. This means that Diva merges overlapping and butting shapes on the same layer into single shapes and also removes construction edges. The resulting shapes have edges that form an interface between the inside and outside of the shape. If you use merged data during verification, processing is simplified and spurious errors are eliminated. </p>
<p>
<a id="pgfId-1014250"></a>For some applications, you might want to process the data in raw format. To process data in raw format, you can use the DRC <em>raw</em> modifier.</p>
<p>
<a id="pgfId-1014251"></a>The following figure illustrates the difference between raw and merged data format.</p>

<p>
<a id="pgfId-1017597"></a></p>
<div class="webflare-div-image">
<img width="594" height="170" src="images/chap5-3.gif" /></div>
<h4>
<a id="pgfId-1014268"></a>Polygon and Edge Data Format</h4>

<p>
<a id="pgfId-1014269"></a>With derived layers, the format of the layer data can be described as either <em>polygon</em> or <em>edge</em>. As discussed previously,<em> polygon </em>and <em>shape</em><a id="marker-1014270"></a> are often used to mean the same thing. All original graphics layers are in polygon format. </p>
<p>
<a id="pgfId-1014272"></a>Some layers can be in edge f<a id="marker-1014271"></a>ormat. This means the data is a group of separate edges that originally belonged to a polygon. For example, you can direct DRC to flag errors as edges. DRC extracts only those segments of the original polygon edges that violate the design rule, and stores those segments on the output layer.</p>
<p>
<a id="pgfId-1020716"></a>The edges on the edge layers retain all the information about the polygon from which they came, such as which side of the edge was the inside of the polygon and which side was the outside. You can use these edges in places where you would use polygons, such as DRC.</p>
<p>
<a id="pgfId-1020719"></a>Although the <a id="marker-1020717"></a>edges for a <a id="marker-1020718"></a>polygon can appear on an edge layer, Diva treats the edges as separate edges and does not form a polygon. You cannot use edges to form polygons, although you can size edges using the <em>edges</em> option in the<em> geomSize</em> command.</p>
<p>
<a id="pgfId-1014277"></a>There are some limitations to using edge format. For example, you cannot use edge layers with the <em>geomEnclose</em> command because an edge cannot enclose another shape.</p>
<p>
<a id="pgfId-1017601"></a>The following figure illustrates the concepts of polygon and edge formats.</p>

<p>
<a id="pgfId-1017622"></a></p>
<div class="webflare-div-image">
<img width="586" height="170" src="images/chap5-4.gif" /></div>
<h4>
<a id="pgfId-1017625"></a><a id="marker-1017623"></a>Conics and <a id="marker-1017624"></a>Paths</h4>

<p>
<a id="pgfId-1014304"></a><em>Conics and paths</em><a id="marker-1014302"></a><a id="marker-1014303"></a> are any shapes you create that do not have a sequence of outside edges. The graphics editor recognizes conics as polygons and stores them as polygons in the database. However, the graphics editor does not store paths as polygons. Instead, Diva converts paths to polygons when they are brought up from the database. <a id="marker-1014305"></a></p>
<p>
<a id="pgfId-1014306"></a>Because of this, when Diva converts conics and paths to polygons, there might be inaccuracies during DRC checks. Regardless of how many edges you use to represent a conic, the spacing is always different from the edge spacing. The following figure illustrates the problem.</p>

<p>
<a id="pgfId-1017628"></a></p>
<div class="webflare-div-image">
<img width="594" height="231" src="images/chap5-5.gif" /></div>

<p>
<a id="pgfId-1014322"></a>With paths, the angle of a path center line combined with its defined width might define polygon vertex points that lie off of the grid being used to represent the data. </p>

<h3>
<a id="pgfId-1014325"></a>Edge Boolean<a id="marker-1014323"></a> Commands<a id="marker-1014324"></a></h3>

<p>
<a id="pgfId-1014326"></a>The results of logical operations on shapes are well defined. However the results of logical operations such as <em>and </em>and <em>or </em>on edges are not so clear as there are multiple possible interpretations. Following is the definition of how logical edge operations will be interpreted in Diva verification in version 4.4. This is a change from the previous definition (in versions 4.3.4 and earlier).</p>
<p>
<a id="pgfId-1014327"></a>Wherever possible the results of edge boolean operations are based on the result of the equivalent shape boolean operations. For example, an <em>and</em> command between shapes will not have a result if the shapes do not overlap. Similarly, the <em>and</em> command between edges will not have a result if the edges came from shapes which did not overlap. An edge <em>xor </em>is considered to be the same as an edge <em>or </em>minus an edge <em>and.</em></p>
<p>
<a id="pgfId-1014328"></a>Edges resulting from boolean operation will carry the serial, node and direction of the original edges from which they were derived. Where both layers in a command contribute to a single resultant edge, this information will come from the first layer specified in the command.</p>
<p>
<a id="pgfId-1014329"></a>The following graphic illustrates two-layer and single-layer boolean operations.</p>

<div class="ft-figtabl-title">
<a id="pgfId-1014363"></a>Two Layer Operations</div>
<p>
<a id="pgfId-1021920"></a></p>
<div class="webflare-div-image">
<img width="566" height="320" src="images/chap5-6.gif" /></div>
<div class="ft-figtabl-title">
<a id="pgfId-1014390"></a>Single Layer Operations</div>
<p>
<a id="pgfId-1021980"></a></p>
<div class="webflare-div-image">
<img width="560" height="209" src="images/chap5-7.gif" /></div>
<h3>
<a id="pgfId-1014391"></a>Invalid Graphics Data</h3>

<p>
<a id="pgfId-1014392"></a>There are some shapes that Diva might interpret different from what you want. These shapes are referred to as <a id="marker-1014393"></a><em>invalid</em> graphics data. They include the following:</p>
<ul><li>
<a id="pgfId-1014394"></a>Self-intersecting shapes</li><li>
<a id="pgfId-1014395"></a>Zero-width rectangles</li><li>
<a id="pgfId-1014396"></a>Zero-width polygons</li><li>
<a id="pgfId-1014397"></a>Lines, zero-width paths, and arcs</li><li>
<a id="pgfId-1032601"></a>Optionally, path start and end segement lengthless than or equal to half the path width</li><li>
<a id="pgfId-1014398"></a>Text</li></ul>






<h4>
<a id="pgfId-1014399"></a>Self-Intersecting Shapes</h4>

<p>
<a id="pgfId-1014400"></a>Many shapes can be drawn that violate the concept of &#8220;inside&#8221; and &#8220;outside&#8221; of a shape. These shapes are called<a id="marker-1014401"></a> <em>self-intersecting shapes</em>. Diva accepts self-intersecting shapes and tries to generate valid shapes during the merging process. If you use the DRC <em>raw </em>modifier, Diva won&#8217;t try to merge the shapes.</p>
<p>
<a id="pgfId-1014402"></a>The following figure illustrates five shapes, four of which are self-intersecting. Note that some edges are drawn close together rather than coincident, so that the point at which the edges cross is not hidden. Also, the shapes are not shaded, since shading depends upon the concept of &#8220;inside&#8221; and &#8220;outside.&#8221;</p>

<p>
<a id="pgfId-1017632"></a></p>
<div class="webflare-div-image">
<img width="520" height="283" src="images/chap5-8.gif" /></div>

<p>
<a id="pgfId-1014449"></a>The self-intersecting shapes might be the shapes you want. You can use the <em>dubiousData</em> command to flag self-intersecting shapes so you can decide whether they are invalid or not.<a id="marker-1014450"></a></p>

<h4>
<a id="pgfId-1019525"></a>Self-Intersecting<a id="marker-1020060"></a> Paths</h4>

<p>
<a id="pgfId-1019536"></a>Diva will detect, using the same rule as above, a path which has an outline which qualifies as a self-intersecting polygon. You should note that the path outline checked is the same as the outline displayed by the layout editor.</p>

<h4>
<a id="pgfId-1014451"></a>Zero-Width Rectangles</h4>

<p>
<a id="pgfId-1014452"></a>Diva processes zero-width rectangles as <em>raw </em>data but deletes them during the merging process. Use the<em> dubiousData</em> command to flag these shapes.</p>

<h4>
<a id="pgfId-1014454"></a><a id="marker-1014453"></a>Zero-Width Polygons</h4>

<p>
<a id="pgfId-1014455"></a>Diva processes zero-width polygons as <em>raw</em> data. When the merging process is done, Diva verification deletes any sections of the polygon that have zero width, leaving valid polygon pieces.</p>

<h4>
<a id="pgfId-1014457"></a><a id="marker-1014456"></a>Lines, Zero-Width Paths, and Arcs</h4>

<p>
<a id="pgfId-1014458"></a>Diva flags lines, zero-width paths, and arcs as warnings if you use the <em>dubiousData </em>command. They do not appear in raw or merged data.</p>

<h4>
<a id="pgfId-1032603"></a>Short path start and end segments</h4>

<p>
<a id="pgfId-1032604"></a>Diva flags paths when the length of the start or end segment is less than or equal to half the width of the path. This is optional and requires the rule writer to request the additional check. Diva renders the path outline the same as the layout editor does, but some other tools render these short end segments with unexpected notches or spikes that can cause problems.</p>

<h4>
<a id="pgfId-1014459"></a>Text</h4>

<p>
<a id="pgfId-1014461"></a>Diva flags text as warnings if you use the <em>dubiousData </em>command. Text does not appear in raw or merged data.<a id="marker-1014462"></a></p>

<h3>
<a id="pgfId-1014463"></a>Exclusive Selection</h3>

<p>
<a id="pgfId-1014465"></a><a id="marker-1014464"></a>You can specify the &#8220;exclusive&#8221; option for most relational selection commands. </p>
<ul><li>
<a id="pgfId-1014466"></a>If you don&#8217;t specify the &#8220;exclusive&#8221; option, a shape on the input layer is selected if it interacts with any shape on the related layer in the manner described by the selection command. It does not matter if there are other shapes on the related layer interacting in other ways with the input layer.</li><li>
<a id="pgfId-1014467"></a>If you specify the &#8220;exclusive&#8221; option, a shape on the input layer is selected only if every interaction with shapes on the related layer are in the manner described by the selection command.</li></ul>

<p>
<a id="pgfId-1021332"></a><a id="marker-1021331"></a>The relationship being checked for the selection includes both the relationship defined by the command keyword and the <em>sameNet</em> and <em>diffNet</em> options. For example, if you specify</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1021333"></a>geomCoincident( A B sameNet exclusive)</pre>
<p>
<a id="pgfId-1021334"></a>with the following conditions</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1014472"></a>A shape on layer A has 2 shapes of layer B interacting with it.</li><li>
<a id="pgfId-1014473"></a>Both shapes on layer B are coincident with the shape on layer A.</li><li>
<a id="pgfId-1014474"></a>The first shape on layer B is on the same net as the shape on layer A.</li><li>
<a id="pgfId-1014475"></a>The second shape on layer B is on a different net than the shape on layer A.</li></ul></li></ul>



<p>
<a id="pgfId-1014476"></a>The shape on layer A is not selected because the second shape on layer B violates the exclusive requirement as it is on a different net. </p>
<p>
<a id="pgfId-1014477"></a>You might find the exclusive concept confusing when dealing with relationships that appear to be inherently exclusive, such as <em>geomButtOnly</em>. There is a significant difference between <em>geomButtOnly</em> with and without the exclusive option.</p>
<ul><li>
<a id="pgfId-1014478"></a>The command <em>geomButtOnly( A B )</em> selects any shape on layer A that interacts with one or more shapes on layer B with a butting-only relationship. The butting-only relationship refers to the way in which any individual shape on layer B relates to the shape on layer A. It does not matter if other shapes on layer B relate to the shape on layer A with some other relationship.</li><li>
<a id="pgfId-1014479"></a>The command <em>geomButtOnly( A B exclusive ) </em>selects a shape on layer A only if all shapes on layer B that interact with it have a butting-only relationship.</li></ul>


<h2>
<a id="pgfId-1014482"></a>Data Integrity Checks<a id="Data Integrity Checks"></a></h2>

<p>
<a id="pgfId-1014485"></a><a id="marker-1014483"></a>Data integrity checks<a id="marker-1014484"></a> let you evaluate the layout view for grid or shape errors.</p>

<h3>
<a id="pgfId-1014488"></a><a id="54913"></a>dubiousData<a id="dubiousData"></a> </h3>
<a id="pgfId-1014490"></a><a id="marker-1014489"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dubiousData( inLayer [message] [limit] )</pre>
<a id="pgfId-1032625"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dubiousData( disable|enable [all] [halfWidth] [ignoreLabels] ... )</pre>
<h4>
<a id="pgfId-1014491"></a>Description</h4>

<p>
<a id="pgfId-1029787"></a>The <em>dubiousData</em> command highlights improperly formed graphics layer shapes by copying each shape in error to the <em>marker</em> <a id="marker-1029786"></a>layer. The command highlights any shape that:</p>
<ul><li>
<a id="pgfId-1029788"></a>is self-intersecting,</li><li>
<a id="pgfId-1019561"></a>is a path with a self-intersecting outline,</li><li>
<a id="pgfId-1019562"></a>has labels (on the selected layer),</li><li>
<a id="pgfId-1019563"></a>is a zero width rectangle,</li><li>
<a id="pgfId-1019564"></a>is a zero width path,</li><li>
<a id="pgfId-1032626"></a>is a path that have a short start or end segment (optional),</li><li>
<a id="pgfId-1019565"></a>has a section of zero width formed by two edges running coincident for a finite length. Shapes that have a zero width formed by a point contact are not flagged.</li></ul>







<h4>
<a id="pgfId-1014495"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014496"></a><code>inLayer</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033559"></a>Input layer name. You can specify either a layer name in quotes, a layer purpose pair, or a list of layers and layer purpose pairs in a nested geomCat. Where a layer is given without a purpose, the all purpose is assumed. Examples of the supported forms are:</p>
<p class="webflare-indent1">
<a id="pgfId-1014497"></a><code> &quot;m1&quot;<br />(&quot;m1&quot; &quot;drawing&quot;)<br />geomCat( &quot;m1&quot; &quot;m2&quot; )<br />geomCat( (&quot;m1&quot; &quot;drawing&quot;) (&quot;m1&quot; &quot;pin&quot;) )<br />geomCat( (&quot;m1&quot; &quot;all&quot;) &quot;m2&quot; )</code></p>

<p><strong>
<a id="pgfId-1014499"></a><code>message</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033568"></a>Optional text string that is used as the message associated with errors. You see this text string when you use the <em>Explain Marker </em>command. If you do not define this message, Diva uses the complete command as the message.</p>

<p><strong>
<a id="pgfId-1033581"></a><code>limit</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033584"></a> The optional modifier <em>errorLimit</em> allows the specification of a limit to the number of error markers which the check will produce. The keyword <em>abort</em> can be used to cause early termination of the entire run if the limit is reached. See <a href="chap7.html#54053">errorLimit</a> in the drc command for details.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032657"></a>The following are only available in the second syntax form. This syntax form does not cause Diva to check any shapes, but is used to control the behavior of all later dubiousData commands. The two syntax forms are mutually exclusive.</div>

<p><strong>
<a id="pgfId-1032636"></a><code>disable</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033590"></a>Keyword which disables the following options for all dubiousData commands which follow this one. The standard checks cannot be disabled.</p>

<p><strong>
<a id="pgfId-1033596"></a><code>enable</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033599"></a>Keyword which enables the following options for all dubiousData commands which follow this one.</p>

<p><strong>
<a id="pgfId-1033609"></a><code>all</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033612"></a> Option indicating all optional checks are to be disabled or enabled for the dubiousData commands which follow this one.</p>

<p><strong>
<a id="pgfId-1033617"></a><code>halfWidth</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033620"></a> Option indicating halfWidth checking is to be disabled or enabled for the dubiousData commands which follow this one. When enabled, Diva will flag paths when the length of the start or end segment is less than or equal to half the width of the path.</p>

<p><strong>
<a id="pgfId-1033625"></a><code>ignoreLabels</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033628"></a>Option indicating the ignoring of labels is to be disabled or enabled for the dubiousData commands which follow this one. When enabled, Diva will ignore labels on the layer. When disabled, Diva will report labels as an error.</p>

<h4>
<a id="pgfId-1014500"></a>Examples</h4>

<p>
<a id="pgfId-1014501"></a>The following example illustrates testing polysilicon shapes with the <em>dubiousData</em> command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014502"></a>dubiousData( &quot;poly&quot; &quot;badly formed poly polygons&quot; )</pre>
<p>
<a id="pgfId-1032659"></a>The following examples illustrate testing metal shapes with the <em>dubiousData</em> command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032660"></a>dubiousData(geomCat(&quot;metal1&quot; &quot;metal2&quot; &quot;metal3&quot;) &quot;badly formed metal polygons&quot;)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032661"></a>dubiousData((&quot;metal1&quot; &quot;drawing&quot;) &quot;badly formed metal polygons&quot;)</pre>
<p>
<a id="pgfId-1014503"></a>The following example illustrates using the second syntax form to enable optional checks in the dubiousData command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014504"></a>dubiousData( disable all enable halfWidth )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032666"></a>dubiousData(geomCat(&quot;metal1&quot; &quot;metal2&quot; &quot;metal3&quot;) &quot;badly formed metal polygons&quot;)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014505"></a>dubiousData((&quot;metal1&quot; &quot;drawing&quot;) &quot;badly formed metal polygons&quot;)</pre>

<h3>
<a id="pgfId-1014508"></a><a id="60194"></a>offGrid<a id="offGrid"></a></h3>
<a id="pgfId-1014510"></a><a id="marker-1014509"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
offGrid( inLayer grid [size] [raw] [message] [limit] )</pre>
<h4>
<a id="pgfId-1014511"></a>Description</h4>

<p>
<a id="pgfId-1014512"></a>You can use the<em> offGrid</em> check to find vertices of original graphics layers that are not on a specified grid. Diva places crossover offgrid vertices on the <em>marker</em><a id="marker-1014513"></a> layer in the layout view.</p>
<p>
<a id="pgfId-1014516"></a>All <a id="marker-1014514"></a>vertices on all shapes are checked unless those shapes are invalid. <a id="marker-1014515"></a>Conics and <a id="marker-1014517"></a>paths are expanded into <a id="marker-1014518"></a>polygons prior to the off-grid checking.</p>
<p>
<a id="pgfId-1014521"></a>Specifying a list of <a id="marker-1014519"></a>layers using the<em> geomCat</em><a id="marker-1014520"></a> command is not the same as specifying a number of <em>offGrid</em> commands, unless the raw option is used. The raw option prevents the layers from being merged and internal vertices from being removed.</p>

<h4>
<a id="pgfId-1014522"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014523"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033635"></a> Input layer name. This layer can be either a derived layer or an original graphics layer.</p>

<p><strong>
<a id="pgfId-1033640"></a><code>grid</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033643"></a> Floating point number in user units that defines the size of the grid. For example, a value of 0.25 microns highlights all vertices not on a quarter-micron grid. </p>

<p><strong>
<a id="pgfId-1033648"></a><code>size</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033651"></a> Floating point number that overrides the default size of the cross that the program uses to flag the position of any vertex not on grid. The default size of the cross is 1 user unit.</p>

<p><strong>
<a id="pgfId-1033661"></a><code>raw</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033664"></a><code>&#160;&#160;&#160;&#160;</code>Optional keyword <em>raw</em> so the program does not merge an original graphics input layer before the check. </p>
<p class="webflare-indent1">
<a id="pgfId-1014527"></a> The <em>raw</em> option has no effect on derived layers because they are always merged by the program.</p>
<p class="webflare-indent1">
<a id="pgfId-1014528"></a> When the program merges data, some off-grid points move back onto the grid. Off-grid points in one shape that overlap another shape are removed by the program during merging.</p>

<p><strong>
<a id="pgfId-1014529"></a><code>message</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033676"></a><code>&#160;&#160;&#160;&#160;</code>You can specify a text string in quotes as the message associated with errors. You see this text string when you use the <em>Explain Marker </em>command. If<em> message</em> is not defined, the complete command is used as the message.</p>

<p><strong>
<a id="pgfId-1033681"></a><code>limit</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033684"></a>The optional modifier <em>errorLimit</em> allows the specification of a limit to the number of error markers which the check will produce. The keyword <em>abort</em> can be used to cause early termination of the entire run if the limit is reached. See <a href="chap7.html#54053">errorLimit</a> in the drc command for details.</p>

<h4>
<a id="pgfId-1014530"></a>Examples</h4>

<p>
<a id="pgfId-1014531"></a>The following example illustrates the <em>offGrid</em> command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014532"></a>offGrid( &quot;metal&quot; 0.25 &quot;off grid metal&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014533"></a>offGrid( &quot;poly&quot; 0.10 raw )</pre>

<h2>
<a id="pgfId-1031599"></a>Graphic Layer Access Commands<a id="Data Integrity Checks"></a></h2>

<p>
<a id="pgfId-1031602"></a>DFII graphic layer data can be accessed directly by using an original graphics layer name in place of a derived layer name in most commands. In addition, commands are available to collect graphic layer shapes. These commands are provided for compatibility with Assura rule decks or to apply special filters to the shapes gathered.</p>

<h3>
<a id="pgfId-1032086"></a><a id="72452"></a>geomArray<a id="marker-1032085"></a>Shapes</h3>
<a id="pgfId-1032087"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomArrayShapes( bound cellview shape extent )</pre>
<h4>
<a id="pgfId-1032088"></a>Description</h4>

<p>
<a id="pgfId-1032089"></a>The <code>geomArrayShapes</code> command generates a layer composed of an array of shapes on the <code>shape</code> layer in <code>cellview</code>. You determine the size of the array by the extent of shapes on the <code>extent</code> layer in <code>cellview</code>, and by the extent of the shapes on the <code>bound</code> layer.</p>
<p>
<a id="pgfId-1032090"></a>When constructing a fill cell, care should be taken that any shape on the <code>shape</code> layer not touch both the bottom and top, or left and right, of the bounding box of the shapes on the <code>extent</code> layer. While the output is a raw layer, most commands that select shapes will merge the shapes before doing the selection. This can result in very poor fill.</p>

<h4>
<a id="pgfId-1032091"></a>Fields</h4>
<p><strong>
<a id="pgfId-1032092"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033691"></a> Name for the <em>geomArrayShapes</em> output layer. This is a raw shape layer.</p>

<p><strong>
<a id="pgfId-1033697"></a><code>bound</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033700"></a> The name of the layer whose bounding box the tool uses as a rectangle to be covered by the array of shapes.</p>

<p><strong>
<a id="pgfId-1033709"></a><code>cellview</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033712"></a> This is the name of the <span class="webflare-courier-new" style="white-space:pre"><em>cellview</em></span> that the tool uses to collect the <span class="webflare-courier-new" style="white-space:pre"><em>shape</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>extent</em></span> layers. The character string you use must define the cell name and can optionally define the view name and a library name. If you don&#8217;t specify the view name, the program defaults to the <code>layout</code> view.</p>

<p><strong>
<a id="pgfId-1033718"></a><code>shape</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033721"></a> Name of the layer in <span class="webflare-courier-new" style="white-space:pre"><em>cellview</em></span> from which shapes will be collected and replicated into the rows and columns of the array. This must be an original graphics layer name which has shapes in the <span class="webflare-courier-new" style="white-space:pre"><em>cellview</em></span>.</p>

<p><strong>
<a id="pgfId-1033730"></a><code>extent</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033733"></a> Name of the layer in the <span class="webflare-courier-new" style="white-space:pre"><em>cellview</em></span> which the tool uses to determine the row and column spacing of the array to be generated, and also to determine the position of the shapes from the <span class="webflare-courier-new" style="white-space:pre"><em>shape</em></span> layer in relation to each row and column. This must be an original graphics layer name which has shapes in the <span class="webflare-courier-new" style="white-space:pre"><em>cellview</em></span>.</p>

<h4>
<a id="pgfId-1032097"></a>Example</h4>

<p>
<a id="pgfId-1032098"></a>The following example illustrates the <em>geomArrayShapes</em> command in conjunction with the <code>drc(coverage)</code> command to do area fill for the <em>m1</em> layer:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032099"></a>bkgnd = geomBkgnd()</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032100"></a>; find area with density that is too low</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032101"></a>lowdensity = drc(m1 bkgnd coverage &lt; 0.4 windowSize(10) stepSize(2.5))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032102"></a>; keep fill shapes at least 0.1 from real m1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032103"></a>fillarea = geomAndNot(lowdensity geomSize(m1 0.1))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032104"></a>; get the fill shapes</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032105"></a>filler = geomArrayShapes(fillarea &quot;chevrons layout lib&quot; (&quot;m1&quot; &quot;drawing&quot;) (&quot;m1&quot; &quot;boundary&quot;))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032106"></a>; only use fill shapes that are completely inside fillarea</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032107"></a>fill = geomInside(filler fillarea)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032108"></a>; add the fill shapes to the real m1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032109"></a>m1 = geomOr(m1 fill)</pre>
<h3>
<a id="pgfId-1032112"></a>geo<a id="marker-1032110"></a>m<a id="geomBkgnd"></a>Bkgnd</h3>
<a id="pgfId-1032113"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomBkgnd( [halo] [border] )</pre>
<h4>
<a id="pgfId-1032114"></a>Description</h4>

<p>
<a id="pgfId-1032115"></a>The <em>geomBkgnd </em>command generates a layer composed of a single rectangle. The size of the rectangle is made up of these elements:</p>
<ul><li>
<a id="pgfId-1032116"></a>The cellview bounding box, the area you specify, or the incremental area. <br />
<a id="pgfId-1032117"></a>For more information about incremental area, see the Incremental section in the Design Rule Checking chapter.</li><li>
<a id="pgfId-1032118"></a>The halo calculated from the rules</li><li>
<a id="pgfId-1032119"></a>A small border two user units wide</li></ul>



<p>
<a id="pgfId-1032120"></a>The optional arguments lets you control the size of the rectangle.</p>

<h4>
<a id="pgfId-1032121"></a>Field</h4>
<p><strong>
<a id="pgfId-1032122"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033743"></a> Name for the <em>geomBkgnd</em> output. This is a merged polygon layer.</p>

<p><strong>
<a id="pgfId-1033748"></a><code>halo</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033751"></a>The default option. Adds the halo.</p>

<p><strong>
<a id="pgfId-1033756"></a><code>border</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033766"></a>Numeric value that specifies the number of user units to be added. The default for this option is 2.0. </p>

<h4>
<a id="pgfId-1032125"></a>Example </h4>

<p>
<a id="pgfId-1032126"></a>The following examples illustrate the <em>geomBkgnd</em> command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032127"></a>; generate a background including the halo plus 3 user units<br />substrate = geomBkgnd( halo 3.0 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032128"></a>; generate the default background: halo plus 2 user units<br />substrate = geomBkgnd( )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032129"></a>; generate a background without halo or border<br />substrate = geomBkgnd( 0 )</pre>

<h3>
<a id="pgfId-1032132"></a><a id="53163"></a>geomCell<a id="marker-1032131"></a>Boundary</h3>
<a id="pgfId-1032133"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomCellBoundary( [root | &quot;&quot;] [file( fileNames )] [cells] )</pre>
<h4>
<a id="pgfId-1032134"></a>Description</h4>

<p>
<a id="pgfId-1032135"></a>Generates a layer of cell bounding boxes. The layer produced is raw since overlapping and butting cell boundaries will produce overlapping and butting shapes. A one layer <em>geomOr</em> should be used if a merged layer is desired.</p>
<p>
<a id="pgfId-1032136"></a>Common uses are to apply a different set of rules to certain cells, or to exclude cells such as logos from being checked. Caution should be used when excluding areas from checks since more than the expected cells can be present.</p>
<p>
<a id="pgfId-1032137"></a>While all fields are considered optional, one must be given.</p>

<h4>
<a id="pgfId-1032138"></a>Field</h4>
<p><strong>
<a id="pgfId-1032139"></a><code>layerName</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033775"></a> Name of the layer that will be generated.</p>

<p><strong>
<a id="pgfId-1033780"></a><code>root</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033783"></a> Keyword used with <em>geomCellBoundary</em> that allows the rule file to be independent of the top level design name. An alternative to using geomCellBoundary(root) is geomCellBoundary(&quot;&quot;), which specifies the bounding box of the top cell.</p>

<p><strong>
<a id="pgfId-1033788"></a><code>file</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033791"></a> Keyword that introduces the list of files that contain the names of the cells from which to produce bounding boxes. You must enclose the filenames in quotation marks.</p>

<p><strong>
<a id="pgfId-1033796"></a><code>fileNames</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033799"></a> A list of one or more text files that each contain a list of the cells from which to produce bounding boxes. When a simple filename is given, the file will be looked for in the current directory, then the directory the rules came from.</p>
<p class="webflare-indent1">
<a id="pgfId-1032143"></a> In the <code>fileNames</code> you specify, each cell name must appear on a separate line. Lines starting with <strong>#</strong> or <strong>;</strong> are comments. You can specify a complete cell, view and library name, a cell and view name, or just a cell name. You can use wildcard characters following the Diva conventions for wildcards as described in &#8220;<a href="chap4.html#50184">Using Wildcards</a>&#8221; in Chapter 4 of this manual.</p>

<p><strong>
<a id="pgfId-1033807"></a><code>cells</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033810"></a> One or more quoted strings specifying the cells from which to produce bounding boxes. The same format as allowed in non-comment lines in the <code>fileNames</code> described above.</p>

<h4>
<a id="pgfId-1032148"></a> Examples</h4>

<p>
<a id="pgfId-1032149"></a>This example produces a layer of shapes covering ct3, ct4, and any cells whose names begin with &quot;block&quot;:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032150"></a>abr_layer = geomCellBoundary( &quot;ct3&quot; &quot;ct4&quot; &quot;block*&quot;)</pre>
<p>
<a id="pgfId-1032151"></a>This example uses the file X to list cells to be processed. In addition, your design has cells block_met1, block_met2, and std_block, none of which are listed in file X.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032152"></a># this is file X<br />ct1 layout stdLib<br />ct2 layout chipLib<br />
# the next version of ct2 is from stdLib
ct2 layout stdLib

; any cells in cmosLib that start with b2 and have two
; or more characters in their name
b11 layout cmosLib
b2* layout cmosLib</pre>
<p>
<a id="pgfId-1032153"></a>In your rule deck you have the command:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032154"></a>abr_layer = geomCellBoundary( file(&quot;X&quot;) &quot;block*&quot;)</pre>
<p>
<a id="pgfId-1032155"></a>The layer <em>abr_layer</em> now has shapes covering all of the cells listed in file X&#160;&#160;including any cells having a name beginning with b2&#160;&#160;as well as block_met1 and block_met2. It does not include std_block.</p>

<h3>
<a id="pgfId-1031617"></a>geom<a id="geomGetByLayer"></a>GetByLayer</h3>
<a id="pgfId-1031619"></a><a id="marker-1031618"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetByLayer( layer1 layer2 [size] )</pre>
<h4>
<a id="pgfId-1031620"></a>Description</h4>

<p>
<a id="pgfId-1031621"></a>You use the <em>geomGetByLayer</em> command to improve performance when running design rule checks on a dense original graphics layer that is related to a sparse layer. The command assumes that <em>layer1</em> is dense and that <em>layer2</em> is sparse. </p>
<p>
<a id="pgfId-1031622"></a>For example, consider a long distance spacing requirement between the metal and pad layers. In general, the metal layer is very dense with data covering the entire chip, and the pad layer is sparse with data only near the periphery. The check<em> drc(metal pad sep&lt;50)</em> runs slowly for each piece of metal in the chip. Diva searches around the metal for any pad within the specified distance, and usually there is no pad anywhere near the metal other than on the chip boundary. </p>
<p>
<a id="pgfId-1031623"></a>You can use the <em>geomGetByLayer</em> command to create a subset of the metal layer from the layout database based on proximity to the pad layer. The result is that only the metal near the pads is processed.</p>
<p>
<a id="pgfId-1031624"></a>To make the selection, the sparse layer (<em>layer 2</em>) is grown by the specified distance with angled edges converted to manhattan edges. If this grown shape overlaps the bounding box of a shape on the dense layer (<em>layer 1</em>) that dense layer shape is selected.</p>
<p>
<a id="pgfId-1031625"></a>This command is intended to act as a fast data filter. It is not intended to provide selection by exact dimension separation. It often gathers more shapes than is necessary, but never misses a shape that should be selected. If you want exact selection by dimensions, you can use other commands subsequent to this command.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031626"></a>The output can contain multiple copies of any shape selected from the dense layer and is therefore not suitable for any &#8220;raw&#8221; operation such as &#8220;single layer and.&#8221;</div>

<h4>
<a id="pgfId-1031627"></a>Fields</h4>
<p><strong>
<a id="pgfId-1031628"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033823"></a> Name for the <em>geomGetByLayer</em> output.</p>

<p><strong>
<a id="pgfId-1033828"></a><code>layer1</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033831"></a> The name of the dense layer. The name can be a text string such as &#8220;metal1,&#8221; or a layer purpose pair, such as (&#8220;metal&#8221; &#8220;drawing&#8221;). This layer must be an original layer. It cannot be a derived layer.</p>

<p><strong>
<a id="pgfId-1033836"></a><code>layer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033839"></a> The name of the sparse layer. The name can be any verification layer containing polygons. Edge layers are not valid.</p>

<p><strong>
<a id="pgfId-1033844"></a><code>size</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033847"></a> Optional. You can specify how close a <em>layer1</em> shape must be to a <em>layer2</em> shape to be copied to the output layer. For example, if you specify a <em>size</em> value of 52 microns, the system searches for any <em>layer1</em> within 52 microns of the <em>layer2</em> shape. The value must be a positive number. The default is 0.0, meaning all shapes that overlap one of the shapes on the sparse layer are copied to the output layer. </p>

<h4>
<a id="pgfId-1031632"></a>Example</h4>

<p>
<a id="pgfId-1031633"></a>The following example illustrates the <em>geomGetByLayer</em> command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031634"></a>out = geomGetByLayer( &quot;L1&quot; &quot;L2&quot; 1.0 )</pre>

<h3>
<a id="pgfId-1031738"></a><a id="16903"></a>geom<a id="geomGetMacro"></a>GetMacro</h3>
<a id="pgfId-1031740"></a><a id="marker-1031739"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetMacro( inLayer purpose [pinsOnly] )</pre>
<h4>
<a id="pgfId-1031741"></a>Description</h4>

<p>
<a id="pgfId-1031743"></a>The <em>geomGetMacro</em> command selects shapes from macro cells and ignores other cells. The command selects shapes in macro cells from the input layer by their layer purpose. <a id="marker-1031742"></a></p>

<h4>
<a id="pgfId-1031744"></a>Fields</h4>
<p><strong>
<a id="pgfId-1031745"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033854"></a> Optional output layer for the unmerged polygon layer.</p>

<p><strong>
<a id="pgfId-1033859"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033862"></a> Polygon layer as an input layer. This layer must be an original graphics layer since only these layers have a purpose.</p>

<p><strong>
<a id="pgfId-1033867"></a><code>purpose</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033870"></a> Single text string or list of text strings defining the graphics purpose of the layer selected by Diva. For example</p>
<p class="webflare-indent1">
<a id="pgfId-1031748"></a><code> geomGetMacro ( &quot;met1&quot; &quot;drawing&quot; )
geomGetMacro( &quot;met1&quot; (&quot;pin&quot; &quot;net&quot;))</code></p>

<p><strong>
<a id="pgfId-1031749"></a><code>pinsOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033882"></a> Optional keyword that specifies that<em> geomGetMacro</em> selects only pin shapes from the specified purpose.</p>

<h4>
<a id="pgfId-1031750"></a>Example</h4>

<p>
<a id="pgfId-1031751"></a>Here are some examples illustrating the <em>geomGetMacro</em> command. </p>
<p>
<a id="pgfId-1031752"></a>The following example selects all shapes from metal <em>pin</em> purpose:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031753"></a>met_pins = geomGetMacro( &quot;metal&quot; &quot;pin&quot; )</pre>
<p>
<a id="pgfId-1031754"></a>The following example selects all shapes on the <em>pin </em>and<em> net</em> purposes:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031755"></a>mlp = geomGetMacro( &quot;met1&quot; (&quot;pin&quot; &quot;net&quot;))</pre>
<p>
<a id="pgfId-1031756"></a>The following example selects only pins on <em>drawing</em> purpose:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031757"></a>mlp = geomGetMacro( &quot;met1&quot; &quot;drawing&quot; pinsOnly)</pre>
<p>
<a id="pgfId-1031758"></a>The following example selects pins on all purposes:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031759"></a>mlp = geomGetMacro( &quot;met1&quot; &quot;all&quot; pinsOnly)</pre>
<p>
<a id="pgfId-1031760"></a>The following example selects only pins on <em>pin</em> and <em>net </em>purposes:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031761"></a>mlp = geomGetMacro( &quot;met1&quot; (&quot;pin&quot; &quot;net&quot;) pinsOnly)</pre>

<h3>
<a id="pgfId-1031764"></a><a id="68112"></a>geomGetObje<a id="marker-1031763"></a>ct</h3>
<a id="pgfId-1031765"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetObject( object variant [top_level bottom_level] )</pre>

<p>
<a id="pgfId-1031766"></a>[outLayer=] geomGetObject( macro object variant [pinsOnly] )</p>

<h4>
<a id="pgfId-1031767"></a>Description</h4>

<p>
<a id="pgfId-1031768"></a>Available only when the underlying database is OpenAccess, the <em>geomGetObject</em> command selects objects which do not have a layer purpose pair. This command has options to control the hierarchical levels from which the data is selected, as well acting like the <em>geomGetMacro</em> command. </p>

<h4>
<a id="pgfId-1031769"></a>Fields</h4>
<p><strong>
<a id="pgfId-1031770"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033889"></a> Optional polygon layer output name.</p>

<p><strong>
<a id="pgfId-1033894"></a><code>macro</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033897"></a> Optional keyword which enables behavior similar to the <a href="chap5.html#16903">geomGetMacro</a> command, but for OpenAccess objects. Requires the extraction mode to be macrocell or hierarchical.</p>

<p><strong>
<a id="pgfId-1033902"></a><code>object</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033905"></a> A keyword describing the type of the object to collect. The available object types are: <code>boundary</code> and <code>blockage</code>.</p>

<p><strong>
<a id="pgfId-1033910"></a><code>variant</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033913"></a> A keyword describing the variant of the object type, followed by any selection values required by the variant.</p>
<p class="webflare-indent1">
<a id="pgfId-1031777"></a> The <code>boundary</code> object supports the following variants: <code>area</code>, <code>pr</code> and <code>snap</code>. The <code>area</code> variant requires a string value which is the name of the areaBoundary to collect, and may be a Diva wildcard pattern.</p>
<p class="webflare-indent1">
<a id="pgfId-1031778"></a> The blockage object supports the following variants: <code>placement</code>, <code>routing</code>, <code>wiring</code>, <code>fill</code>, <code>slot</code>, <code>pin</code>, <code>feedthru</code> and <code>screen</code>. Except for the <code>placement</code> variant, a string value containing a layer name is required.</p>

<p><strong>
<a id="pgfId-1031779"></a><code>top_level bottom_level</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033925"></a>You can optionally specify two integers defining the range of hierarchical levels from which shapes are selected. The current level of the circuit is level 0. </p>
<p class="webflare-indent1">
<a id="pgfId-1031780"></a> If you want data from a single level other than 0, set both values to that level. If you want data from all levels, you must specify the range &#8220;0 n,&#8221; where &#8220;n&#8221; is a value as large or larger than the highest level of hierarchy.</p>
<p class="webflare-indent1">
<a id="pgfId-1031781"></a> In flat mode, if a range is not specified, shapes are selected from the current level down, or all levels. In hierarchical mode, if a range is specified, each level of hierarchy being processed relative to that level is applied. If you don&#8217;t specify a range, shapes are selected in exactly the same way as for logical commands (for example, <em>geomOr</em>).</p>
<p class="webflare-indent1">
<a id="pgfId-1031782"></a> If the <code>macro</code> keyword has been used, start and stop levels are not available.</p>

<p><strong>
<a id="pgfId-1031783"></a><code>pinsOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033937"></a> Optional keyword that specifies that<em> geomGetObject</em> selects only pin objects of the specified type. Requires the <code>macro</code> keyword to have been given.</p>

<h4>
<a id="pgfId-1031784"></a>Examples</h4>

<p>
<a id="pgfId-1031785"></a>The following examples illustrate the <em>geomGetObject</em> command. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031786"></a>met1_bnd = geomGetObject( boundary area &quot;met1*&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031787"></a>met2_bnd = geomGetObject( boundary area &quot;met2*&quot; 1 3 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031788"></a>pr_bnd = geomGetObject( boundary pr 0 0 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031789"></a>snap_bnd = geomGetObject( boundary snap )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031790"></a>met1_blk = geomGetObject( blockage routing &quot;met1&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031791"></a>met1_blk = geomGetObject( blockage routing &quot;met1&quot; 2 4 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031792"></a>place_blk = geomGetObject( blockage placement )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031793"></a>place_blk = geomGetObject( blockage placement 0 0 )</pre>

<h3>
<a id="pgfId-1031797"></a><a id="16439"></a>geom<a id="geomGetPurpose"></a>GetPurpose</h3>
<a id="pgfId-1031799"></a><a id="marker-1031798"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetPurpose( inlayer purpose [top_level bottom_level] )</pre>
<h4>
<a id="pgfId-1031800"></a>Description</h4>

<p>
<a id="pgfId-1031801"></a>The <em>geomGetPurpose</em> command selects shapes from the input layer by their layer purpose. This command has options to control the hierarchical levels from which the data is selected. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031802"></a>The DFII system lets you create pins on any layer purpose. It is not necessarily true that a shape on purpose <em>pin</em> correlates to a real pin. This command cannot propagate pin information even if you select shapes on purpose <em>pin</em>. However, you can use this command to deliberately break the propagation of pin information when you select a layer purpose which you know does not include the pin shapes.</div>

<h4>
<a id="pgfId-1031803"></a>Fields</h4>
<p><strong>
<a id="pgfId-1031804"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033946"></a>Optional polygon layer output name.</p>

<p><strong>
<a id="pgfId-1033959"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033962"></a> A single text string, enclosed in quotes, or a SKILL symbol referring to a text string, that defines the graphic layer name to read shapes from.</p>

<p><strong>
<a id="pgfId-1033967"></a><code>purpose</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033970"></a> A single text string or list of text strings, enclosed in quotes, that defines the graphics purpose, or purposes, of the <em>inLayer</em> to read shapes from. If not given, the default is to use all purposes defined for <em>inLayer</em>, except purpose <em>boundary</em>.</p>

<p><strong>
<a id="pgfId-1033975"></a><code>top_level bottom_level</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033978"></a>You can optionally specify two integers defining the range of hierarchical levels from which shapes are selected. The current level of the circuit is level 0. </p>
<p class="webflare-indent1">
<a id="pgfId-1031808"></a> If you want data from a single level other than 0, set both values to that level. If you want data from all levels, you must specify the range &#8220;0 n,&#8221; where &#8220;n&#8221; is a value as large or larger than the highest level of hierarchy.</p>
<p class="webflare-indent1">
<a id="pgfId-1033986"></a> In flat mode, if a range is not specified, shapes are selected from the current level down, or all levels. In hierarchical mode, if a range is specified, each level of hierarchy being processed relative to that level is applied. If you don&#8217;t specify a range, shapes are selected in exactly the same way as for logical commands (for example, <em>geomOr</em>).</p>

<h4>
<a id="pgfId-1031810"></a>Examples</h4>

<p>
<a id="pgfId-1031811"></a>The following examples illustrate the <em>geomGetPurpose</em> command. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031812"></a>met_pins = geomGetPurpose( &quot;metal&quot; &quot;pin&quot; ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031813"></a>all_poly = geomGetPurpose( &quot;poly&quot; ( &quot;drawing&quot; &quot;pin&quot; ) )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031814"></a>top_pins = geomGetPurpose( &quot;metal&quot; &quot;pin&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031815"></a>all_pins = geomGetPurpose( &quot;metal&quot; &quot;pin&quot; 0 20 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1031816"></a>low_pins = geomGetPurpose( &quot;metal&quot; &quot;pin&quot; 1 20 )</pre>

<h3>
<a id="pgfId-1031823"></a><a id="56694"></a>layerDefs<a id="marker-1031860"></a></h3>
<a id="pgfId-1031917"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
layerDefs( source
outLayer = layer( inLayer [type( purpose ... ) ... ] ... )
outLayer = fillLayer( inLayer [type( purpose ... ) ... ] ...)
outLayer = cellBoundary( bound )
outLayer = object( object )
)</pre>
<h4>
<a id="pgfId-1031826"></a>Description</h4>

<p>
<a id="pgfId-1031827"></a>The <em>layerDefs</em> command is provided for compatibility with Assura rule decks. Only a subset of Assura functionality is currently available, as described below.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031954"></a>The presence of a layerDefs command in the rule deck causes Diva to change the behavior of some commands to be more compatible with Assura. The <a href="chap7.html#30152">drc(coverage)</a> command has different defaults for the <code>mode</code> modifier. The <a href="chap6.html#97285">geomStamp</a> command updates the input layer instead of producing an output layer with nodal information.</div>

<h4>
<a id="pgfId-1031829"></a>Fields</h4>
<p><strong>
<a id="pgfId-1031885"></a><code>source</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1033993"></a> Indicates which data source this <em>layerDefs</em> command applies to. Must be the first parameter and be the quoted string &quot;DF2&quot; or &quot;GDS2&quot;. Diva does not read GDS2 Stream files and a <em>layerDefs</em> command with &quot;GDS2&quot; as the source will be ignored.</p>

<p><strong>
<a id="pgfId-1033998"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034001"></a> Required derived layer output name. Will contain raw polygon shapes from the input graphic layers.</p>

<p><strong>
<a id="pgfId-1034006"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034009"></a> A single text string, enclosed in quotes, that defines the graphic layer name to read shapes from.</p>

<p><strong>
<a id="pgfId-1034014"></a><code>purpose</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034017"></a> A single text string or list of text strings, enclosed in quotes, that defines the graphics purpose, or purposes, of the <em>inLayer</em> to read shapes from. If not given, the default is to use all purposes defined for <em>inLayer</em>, except purpose <em>boundary</em>.</p>

<p><strong>
<a id="pgfId-1034022"></a><code>bound</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034025"></a> Uses the same syntax as in the <a href="chap5.html#53163">geomCellBoundary</a> command.</p>

<p><strong>
<a id="pgfId-1034030"></a><code>object</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034033"></a> Uses the same syntax as the <a href="chap5.html#68112">geomGetObject</a> command.</p>

<h2>
<a id="pgfId-1014536"></a>Logical Commands<a id="Logical Functions"></a></h2>

<p>
<a id="pgfId-1014538"></a><a id="marker-1014537"></a>Logical commands are used to generate layers using derived or original graphics layers.</p>

<h3>
<a id="pgfId-1014542"></a><a id="99276"></a>geomAnd<a id="geomAnd"></a></h3>
<a id="pgfId-1014544"></a><a id="marker-1014543"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomAnd( inLayer1 [inLayer2] )</pre>
<h4>
<a id="pgfId-1014545"></a>Description</h4>

<p>
<a id="pgfId-1014547"></a><a id="marker-1014546"></a>This command generates new shapes from the overlap of original shapes on the input layers. <em>geomAnd</em> works with one or two input layers and with polygons or edges.<a id="marker-1014548"></a></p>
<ul><li>
<a id="pgfId-1014550"></a><a id="marker-1014549"></a>For two-layer polygon input, it generates the areas common to both input layers.</li><li>
<a id="pgfId-1014551"></a>For one-layer polygon input, it generates the areas where two or more shapes on that layer overlap.</li><li>
<a id="pgfId-1014552"></a>For two-layer edge input, it generates new edge segments where original edges from both layers are coincident and in the same direction.</li><li>
<a id="pgfId-1014553"></a>For one-layer edge input, it generates the new edge segment where multiple input edges are coincident and in the same direction.</li></ul>



<p>
<a id="pgfId-1014554"></a>If the first layer referenced in the command is connected, its net numbers are propagated to the output layer. A layer is connected if it has allocated net numbers through a <em>geomConnect</em> command, or any command that propagates node numbers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014555"></a>polsrc = geomAnd( poly srcd )</pre>
<p>
<a id="pgfId-1014556"></a>If <em>poly</em> is connected, the <em>polsrc</em> layer is allocated its node numbers.</p>
<p>
<a id="pgfId-1014576"></a>The following figure illustrates a polygon and an edge <em>geomAnd</em>.</p>

<p>
<a id="pgfId-1017633"></a></p>
<div class="webflare-div-image">
<img width="594" height="323" src="images/chap5-9.gif" /></div>
<h4>
<a id="pgfId-1014577"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014578"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034047"></a> Layer name for the<em> geomAnd </em>result.</p>

<p><strong>
<a id="pgfId-1034052"></a><code>inLayerN</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034055"></a><code>&#160;&#160;&#160;&#160;</code>Input layer name(s). You can specify either a derived layer or a graphics layer. One or two layers can be specified.</p>

<h4>
<a id="pgfId-1014580"></a>Examples</h4>

<p>
<a id="pgfId-1014581"></a>The following example illustrates the <em>geomAnd</em> of two original layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014582"></a>gate = geomAnd( &quot;poly&quot; &quot;diff&quot; )</pre>
<p>
<a id="pgfId-1014583"></a>The following example illustrates the <em>self and </em>of an original layer.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014584"></a>b_error = geomAnd( &quot;boundary&quot; )</pre>
<p>
<a id="pgfId-1014585"></a>The following example illustrates the<em> and </em>of two derived layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014586"></a>well_c = geomAnd( well pplus )</pre>

<h3>
<a id="pgfId-1014589"></a>geom<a id="geomAndNot"></a>AndNot</h3>
<a id="pgfId-1014591"></a><a id="marker-1014590"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomAndNot( inLayer1 inLayer2 )</pre>
<h4>
<a id="pgfId-1014592"></a>Description</h4>

<p>
<a id="pgfId-1014594"></a><a id="marker-1014593"></a>The <em>geomAndNot </em>command generates new shapes from areas of the first input layer that do not overlap any area of the second input layer. The <em>geomAndNot</em> command works on <a id="marker-1014595"></a>polygons or edge layers.</p>
<ul><li>
<a id="pgfId-1014596"></a>When you specify polygon layer input, the program generates areas of the first layer not over the second layer.</li><li>
<a id="pgfId-1014597"></a>When one or more of the input layers is an edge layer, the program generates edge segments for edges of the first input layer except where original edges from both layers are coincident and in the same direction.</li></ul>

<p>
<a id="pgfId-1014598"></a>If the first layer referenced in the command is connected, its net numbers are propagated to the output layer. A layer is connected if it has allocated net numbers through a <em>geomConnect</em> command, or any command that propagates node numbers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014599"></a>nminus = geomAndNot( diff, well )</pre>
<p>
<a id="pgfId-1014600"></a>If <em>diff</em> is connected, the <em>nminus</em> layer is allocated its node numbers.</p>
<p>
<a id="pgfId-1014632"></a>The following figure illustrates polygon and edge <em>geomAndNot</em> commands.</p>

<p>
<a id="pgfId-1017634"></a></p>
<div class="webflare-div-image">
<img width="594" height="337" src="images/chap5-10.gif" /></div>
<h4>
<a id="pgfId-1014633"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014634"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034062"></a> Layer name for the <em>geomAndNot</em> result.</p>

<p><strong>
<a id="pgfId-1034067"></a><code>inLayer1 inLayer2</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034070"></a>Input layer names. You can specify either a derived layer name or a graphics layer name. Two layers must be specified.</p>

<h4>
<a id="pgfId-1014636"></a>Examples</h4>

<p>
<a id="pgfId-1014637"></a>The following example illustrates the <em>geomAndNot</em> of two original layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014638"></a>diffn = geomAndNot( &quot;diff&quot; &quot;poly&quot; )</pre>
<p>
<a id="pgfId-1014639"></a>The following example illustrates the<em> geomAndNot</em> of two derived layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014640"></a>sub_c = geomAndNot( nplus well )</pre>

<h3>
<a id="pgfId-1014642"></a>geomCat<a id="geomCat"></a> </h3>
<a id="pgfId-1014648"></a><a id="marker-1014647"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomCat( inlayerN... )</pre>
<h4>
<a id="pgfId-1014649"></a>Description</h4>

<p>
<a id="pgfId-1014651"></a>The <code>geomCat</code> command combines shapes on the input layers without merging those polygon shapes. <a id="marker-1014650"></a><a id="marker-1014652"></a></p>
<p>
<a id="pgfId-1029822"></a>Serial and net numbers are preserved when copying shapes from <code>inlayer</code> to <code>outLayer</code>.</p>

<h4>
<a id="pgfId-1014653"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014654"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034093"></a> The resultant unmerged derived polygon layer. This layer consists of the unmerged shapes from all input layers. </p>

<p><strong>
<a id="pgfId-1034082"></a><code>inLayerN</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034085"></a> Input layer name. You can specify any number and combination of derived layer names or graphics layer names. </p>

<h4>
<a id="pgfId-1014656"></a>Examples</h4>

<p>
<a id="pgfId-1014657"></a>The following example combines original layers without merging.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014658"></a>metal = geomCat( &quot;metal1&quot; &quot;metal2&quot; &quot;metal3&quot; )</pre>
<p>
<a id="pgfId-1014659"></a>The following example converts an original layer into an unmerged derived layer.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014660"></a>poly = geomCat( &quot;poly&quot; )</pre>
<p>
<a id="pgfId-1014661"></a>The following example combines derived layers. Note that the results are not merged.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014662"></a>gates = geomCat( ngate pgate )</pre>

<h3>
<a id="pgfId-1014665"></a>geomNot<a id="geomNot"></a> </h3>
<a id="pgfId-1014667"></a><a id="marker-1014666"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomNot( inLayer )</pre>
<h4>
<a id="pgfId-1014668"></a>Description</h4>

<p>
<a id="pgfId-1014670"></a>The <em>geomNot</em> command generates new shapes by inverting the original shapes. It is the equivalent of a <em>geomAndNot</em><a id="marker-1014669"></a> between a layer and a single rectangle encompassing the area being processed. The<em> geomNot</em> command works on one polygon layer only. </p>
<p>
<a id="pgfId-1014686"></a>The following figure illustrates a polygon<em> geomNot</em>.</p>

<p>
<a id="pgfId-1017635"></a></p>
<div class="webflare-div-image">
<img width="594" height="173" src="images/chap5-11.gif" /></div>
<h4>
<a id="pgfId-1014687"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014688"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034100"></a> Layer name for the <em>geomNot</em> result.</p>

<p><strong>
<a id="pgfId-1034105"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034108"></a> Input layer name. You can specify either a derived layer name or a graphics layer name. </p>

<h4>
<a id="pgfId-1014690"></a>Example</h4>

<p>
<a id="pgfId-1014691"></a>The following example illustrates the <em>geomNot</em> of an original layer.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014692"></a>ntub = geomNot( &quot;pwell&quot; )</pre>

<h3>
<a id="pgfId-1014696"></a>geomOr<a id="geomOr"></a></h3>
<a id="pgfId-1014698"></a><a id="marker-1014697"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomOr( inLayer1 [inLayerN] )</pre>
<a id="pgfId-1014700"></a><a id="marker-1014699"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomOr( inLayer [inLayer...] )</pre>
<a id="pgfId-1014702"></a><a id="marker-1014701"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomOr( inLayerN... )</pre>
<h4>
<a id="pgfId-1014703"></a>Description</h4>

<p>
<a id="pgfId-1014706"></a>Use the <em>geomOr </em>command to merge all shapes on polygon or edge input layers. <a id="marker-1014704"></a><a id="marker-1014705"></a></p>
<p>
<a id="pgfId-1014707"></a>When you merge polygons, you can specify one or more input layers. For polygon layers, a merge generates polygons whose area encompasses all the areas from all the layers and removes all the edges internal to the polygons.</p>
<p>
<a id="pgfId-1029823"></a>A one layer geomOr of an already merged layer will preserve net numbers and assign new serial numbers to the shapes in <code>outLayer</code>.</p>
<p>
<a id="pgfId-1014708"></a>When one of the input layers is an edge layer, the resulting merged layer is an edge layer. For edge layers, a <a id="marker-1014709"></a>merge generates edges in which multiple segments having coincidence or colinearity are combined into single segments.</p>
<p>
<a id="pgfId-1014742"></a>The following figure illustrates how polygon and edges merge.</p>

<p>
<a id="pgfId-1017636"></a></p>
<div class="webflare-div-image">
<img width="594" height="329" src="images/chap5-12.gif" /></div>
<h4>
<a id="pgfId-1014743"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014744"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034115"></a><code>&#160;&#160;&#160;&#160;</code>Output layer name. </p>

<p><strong>
<a id="pgfId-1034120"></a><code>inLayerN</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034123"></a><code>&#160;&#160;&#160;&#160;</code>Input layer names. You can specify any number and combination of derived layer names or graphics layer names.</p>

<h4>
<a id="pgfId-1014746"></a>Examples</h4>

<p>
<a id="pgfId-1014747"></a>The following example merges multiple original layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014748"></a>poly = geomOr( &quot;poly1&quot; &quot;poly2&quot; )</pre>
<p>
<a id="pgfId-1014749"></a>The following example merges a single input layer.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014750"></a>metal = geomOr( &quot;metal&quot; )</pre>
<p>
<a id="pgfId-1014751"></a>The following example performs a <em>geomOr </em>on derived layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014752"></a>pnpref = geomOr( emitosize collector )</pre>

<h3>
<a id="pgfId-1014755"></a>geom<a id="geomXor"></a>Xor</h3>
<a id="pgfId-1014757"></a><a id="marker-1014756"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomXor( inLayer1 [inLayer2] )</pre>
<h4>
<a id="pgfId-1014758"></a>Description</h4>

<p>
<a id="pgfId-1014759"></a>The<em> geomXor</em> command generates new shapes from those portions of either input layer that do not overlap the other layer.<a id="marker-1014760"></a></p>
<ul><li>
<a id="pgfId-1014761"></a>When you specify one polygon input layer, the program generates areas of the layer that are not overlapping other areas of the same layer.</li><li>
<a id="pgfId-1014762"></a>When you specify two polygon input layers, the program generates areas of both layers that are not overlapping areas of the other layer.</li><li>
<a id="pgfId-1014763"></a>When you specify two input layers and one or more is an edge layer, the program generates edge segments for each of the input edges, except where original edges from both layers are coincident and in the same direction.</li><li>
<a id="pgfId-1014764"></a>When you specify a single edge layer input, the program generates edge segments for each of the input edges, except where multiple input edges are coincident and in the same direction.</li></ul>



<p>
<a id="pgfId-1014800"></a>The following figure illustrates a polygon or edge <em>geomXor</em>.</p>

<p>
<a id="pgfId-1017637"></a>.</p>
<div class="webflare-div-image">
<img width="594" height="318" src="images/chap5-13.gif" /></div>
<h4>
<a id="pgfId-1014801"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014802"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034130"></a> Layer name for the <em>geomXor</em> result.</p>

<p><strong>
<a id="pgfId-1034135"></a><code>inLayerN</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034138"></a><code>&#160;&#160;&#160;&#160;</code>Input layer name. You can specify either a derived layer name or a graphics layer name. One or two layers can be specified.</p>

<h4>
<a id="pgfId-1014804"></a>Examples</h4>

<p>
<a id="pgfId-1014805"></a>The following example illustrates the<em> exclusive or</em> of two original layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014806"></a>cap1 = geomXor( &quot;metal1&quot; &quot;metal2&quot; )</pre>
<p>
<a id="pgfId-1014807"></a>The following example illustrates the<em> self-exclusive or</em> of an original layer.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014808"></a>open_bound = geomXor( &quot;boundary&quot; )</pre>
<p>
<a id="pgfId-1014809"></a>The following example illustrates the<em> exclusive or</em> of two derived layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014810"></a>cap2 = geomXor( diffn1 diffn2 )</pre>

<h2>
<a id="pgfId-1014813"></a>Relational Selection Commands<a id="Relational Selection Functions"></a></h2>

<p>
<a id="pgfId-1014815"></a><a id="marker-1014814"></a>Relational selection commands select polygons from an input layer based on the relationship between that layer and another layer. Relational selection commands maintain net information.</p>

<h3>
<a id="pgfId-1014817"></a>geomAvoiding</h3>
<a id="pgfId-1014819"></a><a id="marker-1014818"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outlayer=] geomAvoiding( inLayer1 inLayer2 [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1014820"></a>Description</h4>

<p>
<a id="pgfId-1014821"></a>The <em>geomAvoiding</em> command selects shapes on <em>inLayer1</em> that are completely outside and have no butting with shapes on <em>inLayer2</em>. </p>
<p>
<a id="pgfId-1014822"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1014823"></a>Prerequisites</h4>

<p>
<a id="pgfId-1014824"></a>The following figure illustrates a <em>geomAvoiding</em> selection and its differences from <em>geomOutside</em>.</p>

<p>
<a id="pgfId-1017638"></a></p>
<div class="webflare-div-image">
<img width="520" height="298" src="images/chap5-14.gif" /></div>
<h4>
<a id="pgfId-1014839"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014840"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034145"></a> Name for the <em>geomAvoiding</em> output.</p>

<p><strong>
<a id="pgfId-1034150"></a><code>inLayer1 inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034153"></a> Input layer names. You can specify either derived layer names or graphics layer names. You must specify two layers.</p>

<p><strong>
<a id="pgfId-1034159"></a><code>exclusive</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034162"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>. This option is enabled by default, but allowed for compatibility with old rule decks.</p>

<p><strong>
<a id="pgfId-1034167"></a><code>selected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034170"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1034175"></a><code>unselected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034178"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h3>
<a id="pgfId-1014843"></a>geom<a id="geomButting"></a>Butting</h3>
<a id="pgfId-1014845"></a><a id="marker-1014844"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomButting( inLayer1 inLayer2 [sameNet|diffNet] [limits] [includeZero|excludeZero] [onlyEven|onlyOdd] [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1014846"></a>Description</h4>

<p>
<a id="pgfId-1014847"></a>The<em> geomButting</em> command selects shapes on <em>inLayer1</em> that abut shapes on <em>inLayer2</em>.</p>
<p>
<a id="pgfId-1014849"></a>Butting is edge coincidence when the areas of the shapes <em>at the abutment </em><a id="marker-1014848"></a>do not overlap. An <em>inLayer1</em> shape is butting if any of its edges abut edges of an <em>inLayer2</em> shape. A butting shape is not affected by other geometric relationships. An <em>inLayer1</em><a id="marker-1014850"></a><a id="marker-1014851"></a> <a id="marker-1014852"></a>shape can be butting, overlapping, and coincident with a single <em>inLayer2</em> shape and still be classified as butting. </p>
<p>
<a id="pgfId-1014853"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1014854"></a>Prerequisites</h4>

<p>
<a id="pgfId-1014855"></a>If you use the <em>connection</em> modifier when using <em>geomButting,</em> the input layers you specify must be connected layers. The following figure illustrates a <em>geomButting </em>selection.</p>

<p>
<a id="pgfId-1017640"></a></p>
<div class="webflare-div-image">
<img width="594" height="219" src="images/chap5-15.gif" /></div>
<h4>
<a id="pgfId-1014880"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014881"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034185"></a> Name for the <em>geomButting</em> output. </p>

<p><strong>
<a id="pgfId-1034190"></a><code>inLayer1</code> <code>inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034193"></a> Input layer names. You can specify either a derived layer name or a graphics layer name. Two layers must be specified.</p>

<p><strong>
<a id="pgfId-1034198"></a><code>sameNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034201"></a> Optional keyword to count the required relationship only when the shapes are on the same electrical net. May not be used with the diffNet keyword.</p>

<p><strong>
<a id="pgfId-1034206"></a><code>diffNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034209"></a> Optional keyword to count the required relationship only when the shapes are on different electrical nets. May not be used with the sameNet keyword.</p>

<p><strong>
<a id="pgfId-1034214"></a><code>limits</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034217"></a> Optional qualifier you can use to specify the number of shapes on <em>inLayer2</em> that a shape on <em>inLayer1</em> must be have the relationship with in order for it to be selected. The number of <em>inLayer2</em> shapes is specified using a limit or range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028324"></a></p>
<table class="webflareTable" id="#id1028315">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028317"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028319"></a>Select the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028321"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028323"></a>Reject the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1028325"></a> Operators you can use with the keywords are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1014892"></a><code> &lt;
&lt;=
&gt;
&gt;=
==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1014896"></a> You can specify limits by combining a keyword with one or more operators and numbers using normal mathematical conventions. Examples of these combinations are as follows</p>
<p class="webflare-indent1">
<a id="pgfId-1014897"></a> <code>keep == 6
ignore &lt; 2
2 &lt; keep &lt; 5
3 &lt;= ignore &lt;= 7</code></p>

<p><strong>
<a id="pgfId-1026416"></a><code>excludeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034227"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship is not selected, even if the limit range would be satisfied by a zero value. This is the default behavior.</p>

<p><strong>
<a id="pgfId-1034232"></a><code>includeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034235"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship will be selected if the range limit is satisfied by a zero value.</p>

<p><strong>
<a id="pgfId-1034240"></a><code>evenOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034243"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is even, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034248"></a><code>oddOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034251"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is odd, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034256"></a><code>exclusive</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034259"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026463"></a> When you specify the <em>sameNet</em> or <em>diffNet</em> options, the shape on <em>inLayer1</em> is not selected if shapes on <em>inLayer2</em> have the required relationship but do not have the required net connections.</p>

<p><strong>
<a id="pgfId-1026390"></a><code>selected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034268"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1034273"></a><code>unselected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034276"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h4>
<a id="pgfId-1014904"></a>Examples</h4>

<p>
<a id="pgfId-1014905"></a>The following examples illustrate how you can select shapes using <em>geomButting</em> with various options.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014906"></a>badgate = geomButting( gate diffn 2 &lt; ignore &lt; 4 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014907"></a>pulldown = geomButting( poly diffn sameNet )</pre>
<p>
<a id="pgfId-1014908"></a>The following examples illustrate how connectivity information can be passed through derived layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014909"></a>geomConnect( via( a b c )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014910"></a>e = geomStraddle( b f )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014911"></a>g = geomButting( e c sameNet )</pre>

<h3>
<a id="pgfId-1014914"></a>geom<a id="geomButtOrOver"></a>ButtOnly</h3>
<a id="pgfId-1014915"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomButtOnly( inLayer1 inLayer2 [sameNet|diffNet] [limits] [includeZero|excludeZero] [onlyEven|onlyOdd] [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1014916"></a>Description</h4>

<p>
<a id="pgfId-1014918"></a><a id="marker-1014917"></a>The <em>geomButtOnly</em> command selects shapes on <em>inLayer1</em> that butt shapes on <em>inLayer2</em>. To be considered, the shapes on <em>inLayer2</em> must be completely outside the shape on <em>inLayer1</em>. The relationship between a shape on <em>inLayer1</em> and a shape on <em>inLayer2</em> must be butting only. Butting is edge-to-edge coincidence, where the shapes do not overlap at the coincident edge.</p>
<p>
<a id="pgfId-1014919"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1014920"></a>Prerequisites</h4>

<p>
<a id="pgfId-1014921"></a>If you use the connection modifier when using <em>geomButtOnly</em>, the input layers you specify must be connected layers. </p>
<p>
<a id="pgfId-1014938"></a>The following figure illustrates a <em>geomButtOnly</em> selection.</p>

<p>
<a id="pgfId-1017641"></a></p>
<div class="webflare-div-image">
<img width="520" height="221" src="images/chap5-16.gif" /></div>
<h4>
<a id="pgfId-1014939"></a>Fields</h4>
<p><strong>
<a id="pgfId-1014940"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034283"></a> Name for the <em>geomButtOnly</em> output.</p>

<p><strong>
<a id="pgfId-1034288"></a><code>inLayer1 inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034291"></a><code>&#160;&#160;&#160;&#160;</code>Input layer names. You can specify either derived layer names or graphics layer names. You must specify two layers.</p>

<p><strong>
<a id="pgfId-1034296"></a><code>sameNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034299"></a> Optional keyword to count the required relationship only when the shapes are on the same electrical net. May not be used with the diffNet keyword.</p>

<p><strong>
<a id="pgfId-1034304"></a><code>diffNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034307"></a> Optional keyword to count the required relationship only when the shapes are on different electrical nets. May not be used with the sameNet keyword.</p>

<p><strong>
<a id="pgfId-1034312"></a><code>limits</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034315"></a> Optional qualifier you can use to specify the number of shapes on <em>inLayer</em>2 that a shape on <em>inLayer</em>1 must be have the relationship with in order for it to be selected. The number of <em>inLayer</em>2 shapes is specified using a limit or range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028380"></a></p>
<table class="webflareTable" id="#id1028371">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029393"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029395"></a>Select the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029397"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029399"></a>Reject the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1028381"></a> Operators you can use with the keywords are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1018527"></a><code> &lt;
&lt;=
&gt;
&gt;=
==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1018528"></a> You can specify limits by combining a keyword with one or more operators and numbers using normal mathematical conventions. Examples of these combinations are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1014956"></a> <code>keep == 6
ignore &lt; 2
2 &lt; keep &lt; 5
3 &lt;= ignore &lt;= 7</code></p>

<p><strong>
<a id="pgfId-1026445"></a><code>excludeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034325"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship is not selected, even if the limit range would be satisfied by a zero value. This is the default behavior.</p>

<p><strong>
<a id="pgfId-1034330"></a><code>includeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034333"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship will be selected if the range limit is satisfied by a zero value.</p>

<p><strong>
<a id="pgfId-1034338"></a><code>evenOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034341"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is even, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034346"></a><code>oddOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034349"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is odd, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034354"></a><code>exclusive</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034357"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026469"></a> When you specify the <em>sameNet</em> or <em>diffNet</em> options, the shape on <em>inLayer1</em> is not selected if shapes on <em>inLayer2</em> have the required relationship but do not have the required net connections.</p>

<p><strong>
<a id="pgfId-1034365"></a><code>selected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034368"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1034373"></a><code>unselected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034376"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h3>
<a id="pgfId-1014964"></a>geom<a id="geomButtOrCoin"></a>ButtOrCoin</h3>
<a id="pgfId-1014966"></a><a id="marker-1014965"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomButtOrCoin( inLayer1 inLayer2 [sameNet|diffNet] [limits] [includeZero|excludeZero] [onlyEven|onlyOdd] [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1014967"></a>Description</h4>

<p>
<a id="pgfId-1014969"></a>The<em> geomButtOrCoin</em> command selects shapes on <em>inLayer</em><a id="marker-1014968"></a>1 that abut or are coincident with shapes on <em>inLayer</em>2.</p>
<p>
<a id="pgfId-1014971"></a><a id="marker-1014970"></a>Butting and coincidence are defined as any edge-to-edge coincidence, regardless of whether the shapes overlap at the point of coincidence.</p>
<p>
<a id="pgfId-1014972"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>
<p>
<a id="pgfId-1014973"></a>This is a combination of the commands <em>geomButting</em> and <em>geomCoincident</em>. </p>

<h4>
<a id="pgfId-1014974"></a>Prerequisites</h4>

<p>
<a id="pgfId-1014975"></a>If you use the <em>connection</em> modifier when using <em>geomButtOrCoin,</em> the input layers you specify must be connected layers. The following figure illustrates <em>geomButtOrCoin</em> selection.</p>

<p>
<a id="pgfId-1017646"></a></p>
<div class="webflare-div-image">
<img width="594" height="226" src="images/chap5-17.gif" /></div>
<h4>
<a id="pgfId-1015004"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015005"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034383"></a> Name for the <em>geomButtOrCoin</em> output</p>

<p><strong>
<a id="pgfId-1034388"></a><code>inLayer1</code> <code>inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034391"></a> Input layer names. You can specify either a derived layer name or a graphics layer name. Two layers must be specified.</p>

<p><strong>
<a id="pgfId-1034396"></a><code>sameNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034399"></a> Optional keyword to count the required relationship only when the shapes are on the same electrical net. May not be used with the diffNet keyword.</p>

<p><strong>
<a id="pgfId-1034404"></a><code>diffNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034407"></a> Optional keyword to count the required relationship only when the shapes are on different electrical nets. May not be used with the sameNet keyword.</p>

<p><strong>
<a id="pgfId-1034412"></a><code>limits</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034415"></a> Optional qualifier you can use to specify the number of shapes on <em>inLayer</em>2 that a shape on <em>inLayer</em>1 must be have the relationship with in order for it to be selected. The number of <em>inLayer</em>2 shapes is specified using a limit or range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028395"></a></p>
<table class="webflareTable" id="#id1028386">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028388"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028390"></a>Select the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028392"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028394"></a>Reject the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1028396"></a> Operators you can use with the keywords are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1015015"></a><code> &lt;
&lt;=
&gt;
&gt;=
==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1018556"></a> You can specify limits by combining a keyword with one or more operators and numbers using normal mathematical conventions. Examples of these combinations are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1018557"></a><code> keep == 6
ignore &lt; 2
2 &lt; keep &lt; 5
3 &lt;= ignore &lt;= 7</code></p>

<p><strong>
<a id="pgfId-1026473"></a><code>excludeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034424"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship is not selected, even if the limit range would be satisfied by a zero value. This is the default behavior.</p>

<p><strong>
<a id="pgfId-1034429"></a><code>includeZero </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034432"></a>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship will be selected if the range limit is satisfied by a zero value.</p>

<p><strong>
<a id="pgfId-1034437"></a><code>evenOnly </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034440"></a>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is even, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034445"></a><code>oddOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034448"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is odd, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034453"></a><code>exclusive</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034456"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026478"></a> When you specify the <em>sameNet</em> or <em>diffNet</em> options, the shape on <em>inLayer1</em> is not selected if shapes on <em>inLayer2</em> have the required relationship but do not have the required net connections.</p>

<p><strong>
<a id="pgfId-1026479"></a><code>selected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034465"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1034470"></a><code>unselected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034473"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h4>
<a id="pgfId-1015029"></a>Examples</h4>

<p>
<a id="pgfId-1015030"></a>The following examples illustrate how you can use various options to select shapes using <em>geomButtOrCoin</em>.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015031"></a>error1 = geomButtOrCoin( &quot;poly&quot; &quot;diff&quot; ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015032"></a>error2 = geomButtOrCoin( m1cut metal2 sameNet )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015033"></a>strap = geomButtOrCoin( m1cut metal1 sameNet keep &gt; 2 )</pre>

<h3>
<a id="pgfId-1015036"></a>geom<a id="geomButtOrOver"></a>ButtOrOver</h3>
<a id="pgfId-1015038"></a><a id="marker-1015037"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomButtOrOver ( inLayer1 inLayer2 [sameNet|diffNet] [limits] [includeZero|excludeZero] [onlyEven|onlyOdd] [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1015039"></a>Description</h4>

<p>
<a id="pgfId-1015040"></a>The <em>geomButtOrOver</em> command selects shapes on <em>inLayer</em>1 that abut or overlap <a id="marker-1015041"></a>shapes<a id="marker-1015042"></a> on <em>inLayer</em>2. Butting is edge-to-edge coincidence where the shapes do not overlap at the point of coincidence. Overlap is defined as a common area between the shapes.</p>
<p>
<a id="pgfId-1027444"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1027446"></a>Prerequisites</h4>

<p>
<a id="pgfId-1015046"></a>If you use the <em>connection</em> modifier when using <em>geomButtOrOver,</em> the input layers you specify must be connected layers. </p>
<p>
<a id="pgfId-1015078"></a>The following figure illustrates a <em>geomButtOrOver</em> selection.</p>

<p>
<a id="pgfId-1017647"></a></p>
<div class="webflare-div-image">
<img width="594" height="267" src="images/chap5-18.gif" /></div>
<h4>
<a id="pgfId-1015079"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015080"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034480"></a> Name for the <em>geomButtOrOver</em> output. </p>

<p><strong>
<a id="pgfId-1034485"></a><code>inLayer1</code> <code>inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034488"></a> Input layer names. You can specify either a derived layer name or a graphics layer name. Two layers must be specified. </p>

<p><strong>
<a id="pgfId-1034493"></a><code>sameNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034496"></a> Optional keyword to count the required relationship only when the shapes are on the same electrical net. May not be used with the diffNet keyword.</p>

<p><strong>
<a id="pgfId-1034501"></a><code>diffNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034504"></a> Optional keyword to count the required relationship only when the shapes are on different electrical nets. May not be used with the sameNet keyword.</p>

<p><strong>
<a id="pgfId-1034509"></a><code>limits</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034512"></a> Optional qualifier you can use to specify the number of shapes on <em>inLayer</em>2 that a shape on <em>inLayer</em>1 must be have the relationship with in order for it to be selected. The number of <em>inLayer</em>2 shapes is specified using a limit or range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028410"></a></p>
<table class="webflareTable" id="#id1028401">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028403"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028405"></a>Select the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028407"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028409"></a>Reject the shape from <em>inLayer1</em> if the number of shapes on <em>inLayer2</em> matches the limit or is within your specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1028411"></a> Operators you can use with the keywords are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1015090"></a><code> &lt;
&lt;=
&gt;
&gt;=
==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1015095"></a> You can specify limits by combining a keyword with one or more operators and numbers using normal mathematical conventions. Examples of these combinations are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1015096"></a><code> keep == 6
ignore &lt; 2
2 &lt; keep &lt; 5
3 &lt;= ignore &lt;= 7</code></p>

<p><strong>
<a id="pgfId-1026488"></a><code>excludeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034522"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship is not selected, even if the limit range would be satisfied by a zero value. This is the default behavior.</p>

<p><strong>
<a id="pgfId-1034527"></a><code>includeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034530"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship will be selected if the range limit is satisfied by a zero value.</p>

<p><strong>
<a id="pgfId-1034535"></a><code>evenOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034538"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is even, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034543"></a><code>oddOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034546"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is odd, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034551"></a><code>exclusive </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034554"></a>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026493"></a> When you specify the <em>sameNet</em> or <em>diffNet</em> options, the shape on <em>inLayer1</em> is not selected if shapes on <em>inLayer2</em> have the required relationship but do not have the required net connections.</p>

<p><strong>
<a id="pgfId-1026494"></a><code>selected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034563"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1034568"></a><code>unselected </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034571"></a>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h4>
<a id="pgfId-1015103"></a>Examples</h4>

<p>
<a id="pgfId-1015104"></a>The following examples illustrate how you can select shapes using <em>geomButtOrOver</em> with various options.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015105"></a>error1 = geomButtOrOver( &quot;cut&quot; gate ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015106"></a>error2 = geomButtOrOver( abc def diffNet )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015107"></a>widget = geomButtOrOver( abc def sameNet 2 &lt; ignore &lt; 4 )</pre>

<h3>
<a id="pgfId-1021317"></a>geom<a id="geomCoincident"></a>Coincident<a id="marker-1021316"></a></h3>
<a id="pgfId-1021318"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomCoincident( inLayer1 inLayer2 [sameNet|diffNet]  [limits] [includeZero|excludeZero] [onlyEven|onlyOdd] [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1015114"></a>Description</h4>

<p>
<a id="pgfId-1015116"></a>The <em>geomCoincident</em> command selects shapes on <em>inLayer</em>1 that have <a id="marker-1015115"></a>edges coincident with shapes on <em>inLayer</em>2.</p>
<p>
<a id="pgfId-1015117"></a>An <em>inLayer</em>1 shape is coincident if any of its edges are coincident with edges of an <em>inLayer</em>2 shape where areas of the shapes at those edges overlap. Shapes that are coincident are not affected by other geometric relationships. An <em>inLayer</em>1 shape can be coincident, overlapping, and butting with a single <em>inLayer</em><a id="marker-1015118"></a>2 shape and still be evaluated as coincident.</p>
<p>
<a id="pgfId-1015119"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1015120"></a>Prerequisites</h4>

<p>
<a id="pgfId-1015121"></a>If you use the <em>connection</em> modifier when using <em>geomCoincident,</em> the input layers you specify must be connected layers. The following figure illustrates a <em>geomCoincident</em> selection.</p>

<p>
<a id="pgfId-1017648"></a></p>
<div class="webflare-div-image">
<img width="590" height="220" src="images/chap5-19.gif" /></div>
<h4>
<a id="pgfId-1015147"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015148"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034578"></a> Name for the<em> geomCoincident </em>output. </p>

<p><strong>
<a id="pgfId-1034583"></a><code>inLayer1</code> <code>inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034586"></a> Input layer names. You can specify either a derived layer name or a graphics layer name. Two layers must be specified.</p>

<p><strong>
<a id="pgfId-1034591"></a><code>sameNet</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034594"></a>Optional keyword to count the required relationship only when the shapes are on the same electrical net. May not be used with the diffNet keyword.</p>

<p><strong>
<a id="pgfId-1034599"></a><code>diffNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034602"></a> Optional keyword to count the required relationship only when the shapes are on different electrical nets. May not be used with the sameNet keyword.</p>

<p><strong>
<a id="pgfId-1034607"></a><code>limits</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034610"></a>Optional qualifier you can use to specify the number of shapes on <em>inLayer</em>2 that a shape on <em>inLayer</em>1 must be have the relationship with in order for it to be selected. The number of <em>inLayer</em>2 shapes is specified using a limit or range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028425"></a></p>
<table class="webflareTable" id="#id1028416">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028418"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028420"></a>Select the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028422"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028424"></a>Reject the shape from <em>inLayer1</em> if the number of shapes on <em>inLayer2</em> matches the limit or is within your specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1028426"></a> Operators you can use with the keywords are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1015158"></a><code> &lt;
&lt;=
&gt;
&gt;=
==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1015163"></a> You can specify limits by combining a keyword with one or more operators and numbers using normal mathematical conventions. Examples of these combinations are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1015164"></a><code> keep == 6
ignore &lt; 2
2 &lt; keep &lt; 5
3 &lt;= ignore &lt;= 7</code></p>

<p><strong>
<a id="pgfId-1026505"></a><code>excludeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034620"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship is not selected, even if the limit range would be satisfied by a zero value. This is the default behavior.</p>

<p><strong>
<a id="pgfId-1034625"></a><code>includeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034628"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship will be selected if the range limit is satisfied by a zero value.</p>

<p><strong>
<a id="pgfId-1034633"></a><code>evenOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034636"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is even, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034641"></a><code>oddOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034644"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is odd, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034649"></a><code>exclusive</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034652"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026510"></a> When you specify the <em>sameNet</em> or <em>diffNet</em> options, the shape on <em>inLayer1</em> is not selected if shapes on <em>inLayer2</em> have the required relationship but do not have the required net connections.</p>

<p><strong>
<a id="pgfId-1026511"></a><code>selected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034662"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1034667"></a><code>unselected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034670"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h4>
<a id="pgfId-1015171"></a>Examples</h4>

<p>
<a id="pgfId-1015172"></a>The following examples illustrate how you can select shapes using <em>geomCoincident</em> with various options.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015173"></a>closecut = geomCoincident( cut metal sameNet )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015174"></a>bridge = geomCoincident( metal cut sameNet keep &gt; 2 )</pre>

<h3>
<a id="pgfId-1015176"></a>geom<a id="geomButtOrOver"></a>CoinOnly</h3>
<a id="pgfId-1015177"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomCoinOnly( inLayer1 inLayer2 [sameNet|diffNet] [limits] [includeZero|excludeZero] [onlyEven|onlyOdd] [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1015178"></a>Description</h4>

<p>
<a id="pgfId-1015180"></a><a id="marker-1015179"></a>The <em>geomCoinOnly</em> command selects shapes on <em>inLayer1</em> that are coincident with shapes on <em>inLayer2</em>. To be considered, a shape on <em>inLayer1</em> must totally enclose a shape on <em>inLayer2</em>. The relationship between a shape on <em>inLayer1</em> and a shape on <em>inLayer2</em> must be coincident only. Coincidence is edge-to-edge coincidence where the shapes overlap at the coincident edge.</p>
<p>
<a id="pgfId-1015181"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1015182"></a>Prerequisites</h4>

<p>
<a id="pgfId-1015183"></a>If you use the connection modifier when using <em>geomCoinOnly</em>, then the input layers you specify must be connected layers.</p>
<p>
<a id="pgfId-1015199"></a>The following figure illustrates a <em>geomCoinOnly</em> selection.</p>

<p>
<a id="pgfId-1017649"></a></p>
<div class="webflare-div-image">
<img width="495" height="220" src="images/chap5-20.gif" /></div>
<h4>
<a id="pgfId-1015200"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015201"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034677"></a> Name for the <em>geomCoinOnly</em> output.</p>

<p><strong>
<a id="pgfId-1034682"></a><code>inLayer1 inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034685"></a> Input layer names. You can specify either derived layer names or graphics layer names. You must specify two layers.</p>

<p><strong>
<a id="pgfId-1034691"></a><code>sameNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034694"></a> Optional keyword to count the required relationship only when the shapes are on the same electrical net. May not be used with the diffNet keyword.</p>

<p><strong>
<a id="pgfId-1034699"></a><code>diffNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034702"></a> Optional keyword to count the required relationship only when the shapes are on different electrical nets. May not be used with the sameNet keyword.</p>

<p><strong>
<a id="pgfId-1034707"></a><code>limits</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034710"></a> Optional qualifier you can use to specify the number of shapes on <em>inLayer</em>2 that a shape on <em>inLayer</em>1 must have the relationship with in order for it to be selected. The number of <em>inLayer</em>2 shapes is specified using a limit or range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028440"></a></p>
<table class="webflareTable" id="#id1028431">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028433"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028435"></a>Select the shape from layer1 if the number of shapes on <em>layer2</em> matches the limit or is within your specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028437"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028439"></a>Reject the shape from <em>layer1</em> if the number of shapes on <em>layer2</em> matches the limit or is within your specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1028441"></a> Operators you can use with the keywords are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1015211"></a><code> &lt;
&lt;=
&gt;
&gt;=
==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1015216"></a> You can specify limits by combining a keyword with one or more operators and numbers using normal mathematical conventions. Examples of these combinations are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1015217"></a><code> keep == 6
ignore &lt; 2
2 &lt; keep &lt; 5
3 &lt;= ignore &lt;= 7</code></p>

<p><strong>
<a id="pgfId-1026520"></a><code>excludeZero </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034720"></a>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship is not selected, even if the limit range would be satisfied by a zero value. This is the default behavior.</p>

<p><strong>
<a id="pgfId-1026521"></a><code>includeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034726"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship will be selected if the range limit is satisfied by a zero value.</p>

<p><strong>
<a id="pgfId-1034731"></a><code>evenOnly </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034734"></a>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is even, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034739"></a><code>oddOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034742"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is odd, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034747"></a><code>exclusive</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034750"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026525"></a> When you specify the <em>sameNet</em> or <em>diffNet</em> options, the shape on <em>inLayer1</em> is not selected if shapes on <em>inLayer2</em> have the required relationship but do not have the required net connections.</p>

<p><strong>
<a id="pgfId-1026526"></a><code>selected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034759"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1034764"></a><code>unselected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034767"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h3>
<a id="pgfId-1015226"></a>geom<a id="geomEnclose"></a>Enclose<a id="marker-1015225"></a></h3>
<a id="pgfId-1015227"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomEnclose( inLayer1 inLayer2 [sameNet|diffNet] [limits] [includeZero|excludeZero] [onlyEven|onlyOdd] [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1015228"></a>Description</h4>

<p>
<a id="pgfId-1015229"></a>The <em>geomEnclose</em> command selects shapes on <em>inLayer</em>1 that enclose shapes on <em>inLayer</em>2. An <em>inLayer</em>1 shape is enclosing if the entire area of an <em>inLayer</em>2 shape is covered by the <em>inLayer</em><a id="marker-1015230"></a>1 shape. Other relationships for the same shape do not affect the selection. Coincidence of edges does not affect the selection. </p>
<p>
<a id="pgfId-1015231"></a>You can use optional limits qualifiers to specify the number of shapes on <em>inLayer</em>2 that must be enclosed within a single shape on <em>inLayer</em>1 for that shape to be selected by <em>geomEnclose</em>.</p>
<p>
<a id="pgfId-1015232"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1015233"></a>Prerequisites</h4>

<p>
<a id="pgfId-1015234"></a>If you use the <em>connection</em> modifier when using <em>geomEnclose,</em> the input layers you specify must be connected layers. The following figure illustrates a <em>geomEnclose</em> selection.</p>

<p>
<a id="pgfId-1017654"></a></p>
<div class="webflare-div-image">
<img width="594" height="222" src="images/chap5-21.gif" /></div>
<h4>
<a id="pgfId-1015264"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015265"></a><code>outLayer</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034774"></a>Name for the <em>geomEnclose </em>output. </p>

<p><strong>
<a id="pgfId-1034779"></a><code>inLayer1</code> <code>inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034782"></a> Input layer names. You can specify either a derived layer name or a graphics layer name. Two layers must be specified. </p>

<p><strong>
<a id="pgfId-1034787"></a><code>sameNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034790"></a> Optional keyword to count the required relationship only when the shapes are on the same electrical net. May not be used with the diffNet keyword.</p>

<p><strong>
<a id="pgfId-1034795"></a><code>diffNet</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034798"></a>Optional keyword to count the required relationship only when the shapes are on different electrical nets. May not be used with the sameNet keyword.</p>

<p><strong>
<a id="pgfId-1034803"></a><code>limits</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034806"></a> Optional qualifier you can use to specify the number of shapes on <em>inLayer</em>2 that a shape on <em>inLayer</em>1 must be have the relationship with in order for it to be selected. The number of <em>inLayer</em>2 shapes is specified using a limit or range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028455"></a></p>
<table class="webflareTable" id="#id1028446">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028448"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028450"></a>Select the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028452"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028454"></a>Reject the shape from <em>inLayer1</em> if the number of shapes on <em>inLayer2</em> matches the limit or is within your specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1028456"></a> Operators you can use with the keywords are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1015275"></a><code> &lt; 
&lt;= 
&gt; 
&gt;= 
==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1015280"></a> You can use the following limit specifications:</p>
<p class="webflare-indent1">
<a id="pgfId-1015281"></a><code> keep == 6 
ignore &lt; 2
2 &lt; keep &lt; 5
3 &lt;= ignore &lt;= 7</code></p>

<p><strong>
<a id="pgfId-1026531"></a><code>excludeZero </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034815"></a>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship is not selected, even if the limit range would be satisfied by a zero value. This is the default behavior.</p>

<p><strong>
<a id="pgfId-1034820"></a><code>includeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034823"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship will be selected if the range limit is satisfied by a zero value.</p>

<p><strong>
<a id="pgfId-1034829"></a><code>evenOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034832"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is even, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034837"></a><code>oddOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034840"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is odd, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1034845"></a><code>exclusive</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034848"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026536"></a> When you specify the <em>sameNet</em> or <em>diffNet</em> options, the shape on <em>inLayer1</em> is not selected if shapes on <em>inLayer2</em> have the required relationship but do not have the required net connections.</p>

<p><strong>
<a id="pgfId-1026537"></a><code>selected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034857"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1034862"></a><code>unselected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034865"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h4>
<a id="pgfId-1015289"></a>Examples</h4>

<p>
<a id="pgfId-1015290"></a>The following examples select shapes using <em>geomEnclose</em> with various options.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015291"></a>collector = geomEnclose( &quot;ndiff&quot; c_cut )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015292"></a>tied_tub = geomEnclose( tub contact sameNet )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015293"></a>pass_tub = geomEnclose( tub contact sameNet keep &gt; 1 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015294"></a>multi_npn = geomEnclose( ntub npn_base 1 &lt; keep &lt; 3 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015295"></a>error = geomEnclose( ntub npn_base 1 &lt; ignore &lt; 3 )</pre>
<p>
<a id="pgfId-1015296"></a>The following example illustrates how you can pass connectivity information through derived layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015297"></a>geomConnect( via( a b c )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015298"></a>e = geomStraddle( b f )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015299"></a>g = geomEnclose( e c sameNet )</pre>

<h3>
<a id="pgfId-1015301"></a>geomInside<a id="geomInside"></a></h3>
<a id="pgfId-1015303"></a><a id="marker-1015302"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomInside( inLayer1 inLayer2 [sameNet|diffNet] [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1015304"></a>Description</h4>

<p>
<a id="pgfId-1015305"></a>The <em>geomInside</em> command selects shapes on <em>inLayer</em>1 that are totally inside shapes on <em>inLayer2</em>. An <em>inLayer</em>1 shape is <a id="marker-1015306"></a>inside if its<em> entire area is covered</em> by the area of an <em>inLayer</em>2 shape. Coincident shapes are considered <em>inside</em> in this check. If shapes on two layers are coincident on all sides, then each layer can be defined as being inside the other.</p>
<p>
<a id="pgfId-1015308"></a>All select commands maintain serial and net numbers of shapes in the output layer.<a id="marker-1015307"></a></p>

<h4>
<a id="pgfId-1015309"></a>Prerequisites</h4>

<p>
<a id="pgfId-1015310"></a>If you use the <em>connection</em> modifier with <em>geomInside,</em> you must specify connected layers as input.</p>
<p>
<a id="pgfId-1015340"></a>The following figure illustrates a <em>geomInside</em> selection.</p>

<p>
<a id="pgfId-1017655"></a></p>
<div class="webflare-div-image">
<img width="594" height="250" src="images/chap5-22.gif" /></div>
<h4>
<a id="pgfId-1015341"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015342"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034872"></a> Name for the <em>geomInside</em> output. </p>

<p><strong>
<a id="pgfId-1034877"></a><code>inLayer1 inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034880"></a><em>&#160;&#160;&#160;&#160;</em>Input layer names. You can specify either derived layer names or graphics layer names. <code></code></p>

<p><strong>
<a id="pgfId-1034885"></a><code>sameNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034888"></a> Optional keyword to count the required relationship only when the shapes are on the same electrical net. May not be used with the diffNet keyword.</p>

<p><strong>
<a id="pgfId-1034893"></a><code>diffNet</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034896"></a>Optional keyword to count the required relationship only when the shapes are on different electrical nets. May not be used with the sameNet keyword.</p>

<p><strong>
<a id="pgfId-1034901"></a><code>exclusive </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034904"></a>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026555"></a> When you specify the <em>sameNet</em> or <em>diffNet</em> options, the shape on <em>inLayer1</em> is not selected if shapes on <em>inLayer2</em> have the required relationship but do not have the required net connections.</p>

<p><strong>
<a id="pgfId-1026556"></a><code>selected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034913"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1034918"></a><code>unselected </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034921"></a>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h4>
<a id="pgfId-1015347"></a>Examples</h4>

<p>
<a id="pgfId-1015348"></a>The following example selects a derived layer inside an original layer.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015349"></a>ngate = geomInside( gate &quot;pwell&quot; )</pre>
<p>
<a id="pgfId-1015350"></a>The following example illustrates the <em>sameNet</em> option.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015351"></a>well_poly = geomInside( poly well sameNet )</pre>
<p>
<a id="pgfId-1015352"></a>The following example illustrates how connectivity information can be passed through derived layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015353"></a>geomConnect( via( a b c d ) )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015354"></a>e = geomStraddle( b f )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015355"></a>g = geomInside( e c sameNet )</pre>

<h3>
<a id="pgfId-1020095"></a>geomLineEnd<a id="marker-1020094"></a></h3>
<a id="pgfId-1020096"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code><em>outLayer</em></code> = geomLineEnd( <code><em>inLayer</em></code> <code><em>maxLength</em></code> [<code><em>minLength</em></code>] [legs] [inBox] [outBox] )</pre>
<h4>
<a id="pgfId-1020097"></a>Description</h4>

<p>
<a id="pgfId-1020098"></a><code>geomLineEnd</code> selects edges at the end of a line. Line-ends are defined as horizontal, vertical or slanted edges at the end of polygonal lines. The adjacent lines must be perpendicular to the line end. A horizontal line-end is connected to two vertical legs. A vertical line-end is connected to two horizontal legs.</p>

<h4>
<a id="pgfId-1020099"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1020100"></a><span class="webflare-courier-new" style="white-space:pre"><em>outLayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034928"></a> Layer to which line edges are written</p>

<p><strong>
<a id="pgfId-1034933"></a><span class="webflare-courier-new" style="white-space:pre"><em>inLayer</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034936"></a>Layer whose line-ends are written to <span class="webflare-courier-new" style="white-space:pre"><em>outLayer. inLayer </em></span>may be a polygon layer or an edge layer. If <span class="webflare-courier-new" style="white-space:pre"><em>inLayer</em></span> is an edge layer, the adjacent leg edges are still required.</p>

<p><strong>
<a id="pgfId-1034943"></a><span class="webflare-courier-new" style="white-space:pre"><em>maxLength</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034946"></a> Value that specifies the longest possible edge that qualifies as a line-end. Line segments longer than this value are never line-ends.</p>

<p><strong>
<a id="pgfId-1034951"></a><span class="webflare-courier-new" style="white-space:pre"><em>minLength</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034954"></a> Optional value that specifies the shortest possible edge that qualifies as a line-end. Line segments shorter than this value are never line-ends.</p>

<p><strong>
<a id="pgfId-1034959"></a><code>legs</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034962"></a>legs( { <span class="webflare-courier-new" style="white-space:pre"><em>length</em></span> | <span class="webflare-courier-new" style="white-space:pre"><em>lengthmultiplier</em></span> relative } )</p>
<p class="webflare-indent1">
<a id="pgfId-1020107"></a> A leg is an edge on the polygon that is adjacent to a line-end edge. Leg edges are used to determine if an edge is in an end-configuration or step-configuration. Typical step and line end configurations are shown below.</p>

<p>
<a id="pgfId-1020608"></a></p>
<div class="webflare-div-image">
<img width="668" height="130" src="images/chap5-23.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1020135"></a> The legs <span class="webflare-courier-new" style="white-space:pre"><em>length</em></span> specifies the minimum length of the adjacent edges needed to make the line-end valid. Both adjacent edges must be at least that <span class="webflare-courier-new" style="white-space:pre"><em>length</em></span> before the line-end is selected. You can specify the legs length as an absolute length or as a relative length.</p>

<p><strong>
<a id="pgfId-1020136"></a><code>relative</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034975"></a> Keyword used to allow the qualifying legs length to vary according to the size of the line-end. For example, legs( 1.2 relative) means that the minimum legs length to qualify a 1 um edge as a line-end is 1.2 um. The minimum legs length for a .5 um edge is 0.6 um. This allows some degree of aspect ratio to be used in selecting end lines.</p>
<p class="webflare-indent1">
<a id="pgfId-1020154"></a> As shown below, both legs must be present and long enough for an edge to qualify as a line-end. Legs must be perpendicular to the end edge. If a legs option is not used, no leg length checking is done, but both legs must be present for an edge to qualify as a line-end.</p>

<p>
<a id="pgfId-1020619"></a></p>
<div class="webflare-div-image">
<img width="643" height="148" src="images/chap5-24.gif" /></div>
<p><strong>
<a id="pgfId-1020155"></a><code>inBox</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1034987"></a> <code>inBox</code>( { <span class="webflare-courier-new" style="white-space:pre"><em>length</em></span> [<span class="webflare-courier-new" style="white-space:pre"><em>width</em></span>] | <span class="webflare-courier-new" style="white-space:pre"><em>lengthmultiplier</em></span> [<span class="webflare-courier-new" style="white-space:pre"><em>widthmultiplier</em></span> ] <code>relative</code> } ) </p>
<p class="webflare-indent1">
<a id="pgfId-1020156"></a> This checks a minimum penetration depth the edge has on the polygon. It is an alternative method for selecting end lines. For each end line candidate, a box of the specified length which penetrates into the polygon must lie inside the polygon.</p>

<p>
<a id="pgfId-1020620"></a></p>
<div class="webflare-div-image">
<img width="643" height="154" src="images/chap5-25.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1020186"></a> A box is formed which penetrates into the polygon. The width of the box may be clipped by obscuring edges as shown above. When the box is not completely clipped and its width meets the width requirement, the whole edge is selected as a line-end edge.</p>
<p class="webflare-indent1">
<a id="pgfId-1020187"></a> You can specify the inBox length and width numbers as an absolute value or as a relative value to the length of the line-end. The relative keyword is used in a similar way as in the legs specification. The multiplier creates inBox length and width values based on the line-end length. </p>
<p class="webflare-indent1">
<a id="pgfId-1020188"></a> For example, <code>geomLineEnd( </code><span class="webflare-courier-new" style="white-space:pre"><em>inLayer</em></span><code> 2 inBox( 1.2 0.9 relative) )</code> requires that a line-end that is 1 um long must have an unclipped<code> inBox 1.2</code> in length and <code>0.9 </code>in width to qualify as a line-end. A line-end that is<code> 2</code> um long must have an inBox that is <code>2.4 </code>in length and <code>1.8</code> in width to qualify as a line-end.</p>

<p><strong>
<a id="pgfId-1020190"></a><code>outBox</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035005"></a> <code>outBox</code>( { <span class="webflare-courier-new" style="white-space:pre"><em>length</em></span> [<span class="webflare-courier-new" style="white-space:pre"><em>extension</em></span>] | <span class="webflare-courier-new" style="white-space:pre"><em>lengthmultiplier</em></span> [<span class="webflare-courier-new" style="white-space:pre"><em>extensionmultiplier</em></span>] <code>relative </code>} )</p>
<p class="webflare-indent1">
<a id="pgfId-1020192"></a> This checks whether the polygon edges are inside or coincident to the outbox edges. For each candidate edge, a box which is a little wider than the edge is constructed and a test made to see if the polygon is contained in the box. The only valid exit direction is opposite the edge.</p>
<p class="webflare-indent1">
<a id="pgfId-1020220"></a> In the figure example below, the line end on the left has an <code>OutBox</code> drawn to the right. Its length and extension are specified in the <code>outBox</code> argument list. Since the polygon exits the box on the right, it is taken as a line-end. If the polygon had exited on any other side, it would have been disqualified and the edge would not be copied to the <span class="webflare-courier-new" style="white-space:pre"><em>outLayer.</em></span></p>

<p>
<a id="pgfId-1020623"></a></p>
<div class="webflare-div-image">
<img width="643" height="132" src="images/chap5-26.gif" /></div>

<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1020221"></a>The performance of this command decreases if a large <code>inBox</code> length is specified due to the extra work done in clipping the penetration box. Performance also decreases when <code>outBox</code> values are given since an extended search is done to see where the polygon exits.</div>
<p class="webflare-indent1">
<a id="pgfId-1020223"></a>If multiple requirements are specified, all must pass before the edge is copied to the <span class="webflare-courier-new" style="white-space:pre"><em>outLayer</em></span>. Thus if both <code>legs</code> and <code>inBox</code> are used, both must be satisfied.</p>

<h4>
<a id="pgfId-1020224"></a>Examples</h4>
<h4><em>
<a id="pgfId-1020225"></a>Example 1</em></h4>

<p>
<a id="pgfId-1020259"></a>If all the edges in the figure below are less than 1000 um, <code>geomLineEnd(layer 1000)</code> copies 1, 2, 5, and 8 to <span class="webflare-courier-new" style="white-space:pre"><em>outLayer</em></span>. The decision is based solely on how the adjacent edges are oriented. A more reasonable <span class="webflare-courier-new" style="white-space:pre"><em>maxLength</em></span> would be smaller, say 2. In this case the very long edges are filtered but, the edges 1, 2, 5, and 8 are selected.</p>

<p>
<a id="pgfId-1020632"></a></p>
<div class="webflare-div-image">
<img width="643" height="162" src="images/chap5-27.gif" /></div>

<p>
<a id="pgfId-1020260"></a>The fastest way to select edges 1 and 5 and reject edges 2 and 8 is with the legs specifier. Note that the two adjacent edges for 1 and 5 are long while edges 2 and 8 each have one short leg. By requiring two long legs 2 and 8 get rejected. <code>geomLineEnd( layer 2.0 legs(1.5))</code> rejects edges 2 and 8 in its most efficient mode.</p>
<p>
<a id="pgfId-1020261"></a>Other configurations may exist where legs may give inaccurate results.</p>

<h4><em>
<a id="pgfId-1020262"></a>Example 2</em></h4>

<p>
<a id="pgfId-1020287"></a>In the figure below, edges 1 and 2 are rejected because the legs are too small yet they could be considered to be ends. Although legs is fast, it doesn&#8217;t look at enough of the polygon to always make good decisions. To address this, the outBox specifier was created.</p>

<p>
<a id="pgfId-1020633"></a></p>
<div class="webflare-div-image">
<img width="643" height="171" src="images/chap5-28.gif" /></div>

<p>
<a id="pgfId-1020288"></a><code>geomLineEnd( inLayer 2 outBox( 1.2 relative))</code> (more expensive than legs) selects edges 1 and 2. It also selects edges 1 and 5, and rejects 2 and 8. However, outBox by itself may still select too many edges.</p>

<h4><em>
<a id="pgfId-1020289"></a>Example 3</em></h4>

<p>
<a id="pgfId-1020091"></a>In the figure shown below, outBox selects edge 1 if it is shorter than <span class="webflare-courier-new" style="white-space:pre"><em>maxLength</em></span>. outBox is not sensitive to the nearby edge 2 of the polygon. For this reason, inBox was created. inBox projects a box into the polygon. In this case, edge 2 clips the inside box making the inBox too short to qualify edge 1 as a line-end. The command that ignores edge 1 is <code>geomLineEnd( 1 0.2 inBox( 1 .5 relative) </code>(<code>outBox 1 0.2 relative</code>) ).</p>

<p>
<a id="pgfId-1020646"></a></p>
<div class="webflare-div-image">
<img width="643" height="137" src="images/chap5-29.gif" /></div>
<h3>
<a id="pgfId-1028097"></a><a id="23143"></a>geom<a id="marker-1028160"></a>NodeRelate<a id="geomNodeRelate"></a> </h3>
<a id="pgfId-1028099"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomNodeRelate( inLayer1 inLayer2 {conn|disc} )</pre>
<h4>
<a id="pgfId-1028100"></a>Description</h4>

<p>
<a id="pgfId-1028173"></a>The <em>geomNodeRelate</em> command selects shapes or edges from inLayer1 based on nodal information on inLayer2. You must specify either the conn or disc keyword to select shapes or edges that have nodal information that is present, or is not present, on inLayer2.</p>
<p>
<a id="pgfId-1028104"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1028137"></a>Fields</h4>
<p><strong>
<a id="pgfId-1028138"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035035"></a> Name for the <em>geomNodeRelate</em> output.</p>

<p><strong>
<a id="pgfId-1035040"></a><code>inLayer1</code> <code>inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035043"></a> Input layer names. Two layers must be specified and both must be connected.</p>

<p><strong>
<a id="pgfId-1035048"></a><code>conn</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035051"></a><code>&#160;&#160;&#160;&#160;</code>Returns all shapes or edges on inLayer1 that have a node number present on inLayer2.</p>

<p><strong>
<a id="pgfId-1035056"></a><code>disc</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035059"></a><code>&#160;&#160;&#160;&#160;</code>Returns all shapes or edges on inLayer1 that do not have a node number present on inLayer2.</p>
<p>
<a id="pgfId-1028141"></a>Example</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028144"></a>padn = geomNodeRelate( nsd nbond conn )</pre>

<h3>
<a id="pgfId-1015358"></a>geomOutside<a id="geomOutside"></a> </h3>
<a id="pgfId-1015360"></a><a id="marker-1015359"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomOutside( inLayer1 inLayer2 [selected|unselected] )</pre>
<h4>
<a id="pgfId-1015361"></a>Description</h4>

<p>
<a id="pgfId-1015362"></a>The <em>geomOutside</em> command selects shapes on <em>inLayer</em>1 that are totally outside shapes on <em>inLayer2</em>. An <em>inLayer</em>1 shape is outside if none of its area is covered by area of an <em>inLayer</em>2 shape. Butting edges are considered <em>outside.</em><a id="marker-1015363"></a><a id="marker-1015364"></a></p>
<p>
<a id="pgfId-1015365"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>
<p>
<a id="pgfId-1015394"></a>The following figure illustrates a <em>geomOutside </em>selection.</p>

<p>
<a id="pgfId-1017660"></a></p>
<div class="webflare-div-image">
<img width="594" height="252" src="images/chap5-30.gif" /></div>
<h4>
<a id="pgfId-1015395"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015396"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035070"></a> Name for the <em>geomOutside</em> output.</p>

<p><strong>
<a id="pgfId-1035075"></a><code>inLayer1</code> <code>inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035078"></a> Input layer names. You can specify either a derived layer name or a graphics layer name. Two layers must be specified.</p>

<p><strong>
<a id="pgfId-1035083"></a><code>selected </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035086"></a>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1035091"></a><code>unselected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035094"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h4>
<a id="pgfId-1015398"></a>Example</h4>

<p>
<a id="pgfId-1015399"></a>The following example selects a derived layer outside an original layer.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015400"></a>pgate = geomOutside( gate &quot;pwell&quot; )</pre>

<h3>
<a id="pgfId-1015404"></a>geom<a id="geomOverlap"></a>Overlap<a id="marker-1015403"></a></h3>
<a id="pgfId-1015405"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomOverlap( inLayer1 inLayer2 [sameNet|diffNet] [limits] [includeZero|excludeZero] [onlyEven|onlyOdd] [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1015406"></a>Description</h4>

<p>
<a id="pgfId-1015407"></a>The<em> geomOverlap</em> command selects shapes on <em>inLayer</em>1 that overlap shapes on <em>inLayer</em>2. </p>
<p>
<a id="pgfId-1015408"></a>Overlap is any area common to shapes on both layers. An <em>inLayer</em>1 shape overlaps if it has any common area with an <em>inLayer</em><a id="marker-1015409"></a>2 shape. Other relationships for the same shape do not affect the selection. An <em>inLayer</em>1 shape can be overlapping, butting, and coincident with a single <em>inLayer</em><a id="marker-1015410"></a><a id="marker-1015411"></a>2 shape and still be evaluated as overlapping. </p>
<p>
<a id="pgfId-1015412"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1015413"></a>Prerequisites</h4>

<p>
<a id="pgfId-1015414"></a>If you use the <em>connection</em> modifier when using <em>geomOverlap,</em> the input layers you specify must be connected layers. The following figure illustrates a <em>geomOverlap</em> selection.</p>

<p>
<a id="pgfId-1017661"></a></p>
<div class="webflare-div-image">
<img width="594" height="245" src="images/chap5-31.gif" /></div>
<h4>
<a id="pgfId-1015440"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015441"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035101"></a> Name for the <em>geomOverlap</em> output.</p>

<p><strong>
<a id="pgfId-1035106"></a><code>inLayer1</code> <code>inLayer2</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035109"></a>Input layer names. You can specify either a derived layer name or a graphics layer name. Two layers must be specified. </p>

<p><strong>
<a id="pgfId-1035114"></a><code>sameNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035117"></a> Optional keyword to count the required relationship only when the shapes are on the same electrical net. May not be used with the diffNet keyword.</p>

<p><strong>
<a id="pgfId-1035122"></a><code>diffNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035125"></a> Optional keyword to count the required relationship only when the shapes are on different electrical nets. May not be used with the sameNet keyword.</p>

<p><strong>
<a id="pgfId-1035130"></a><code>limits</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035133"></a> Optional qualifier you can use to specify the number of shapes on <em>inLayer</em>2 that a shape on <em>inLayer</em>1 must be have the relationship with in order for it to be selected. The number of <em>inLayer</em>2 shapes is specified using a limit or range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028470"></a></p>
<table class="webflareTable" id="#id1028461">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028463"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028465"></a>Select the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028467"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028469"></a>Reject the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1028471"></a> Operators you can use with the keywords are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1015453"></a><code> &lt;
&lt;=
&gt;
&gt;=
==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1015458"></a> You can use the following limit specifications:</p>
<p class="webflare-indent1">
<a id="pgfId-1015459"></a><code> keep == 6 
ignore &lt; 2
2 &lt; keep &lt; 5
3 &lt;= ignore &lt;= 7</code></p>

<p><strong>
<a id="pgfId-1026582"></a><code>excludeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035143"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship is not selected, even if the limit range would be satisfied by a zero value. This is the default behavior.</p>

<p><strong>
<a id="pgfId-1035148"></a><code>includeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035151"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship will be selected if the range limit is satisfied by a zero value.</p>

<p><strong>
<a id="pgfId-1035156"></a><code>evenOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035159"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is even, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1035164"></a><code>oddOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035167"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is odd, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1035172"></a><code>exclusive</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035175"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026587"></a> When you specify the <em>sameNet</em> or <em>diffNet</em> options, the shape on <em>inLayer1</em> is not selected if shapes on <em>inLayer2</em> have the required relationship but do not have the required net connections.</p>
<p class="webflare-indent1">
<a id="pgfId-1026597"></a> Shapes on <em>inLayer2</em> that only butt the shape on <em>inLayer1</em> do not prevent the selection of the shape on <em>inLayer1</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026598"></a> This relational command is intrinsically exclusive. The only relationship the command does not cover is external butting, and the command ignores any butting shapes. </p>
<p class="webflare-indent1">
<a id="pgfId-1026599"></a> However, the <em>exclusive</em> modifier is meaningful when considering the <em>sameNet</em> and <em>diffNet</em> options. To satisfy the exclusive request, all interacting shapes must conform to the <em>sameNet</em> or <em>diffNet</em> relationship.</p>
<p class="webflare-indent1">
<a id="pgfId-1026600"></a> For example, consider what happens if you use the <em>exclusive</em> modifier in combination with the <em>sameNet</em> option. If the shape on <em>inLayer1</em> is on net number 25, and multiple interacting shapes on <em>inLayer2</em> are all on net number 25, the exclusive request is not violated. However, if one of the interacting shapes on <em>inLayer2</em> is on net number 34, the shape has a relationship that does not conform to the <em>sameNet</em> requirement. The requested exclusive <em>sameNet</em> relationship is violated.</p>

<p><strong>
<a id="pgfId-1026588"></a><code>selected </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035187"></a>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1035192"></a><code>unselected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035195"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h4>
<a id="pgfId-1015468"></a>Examples</h4>

<p>
<a id="pgfId-1015469"></a>The following examples select shapes using <em>geomOverlap</em> with various options.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015470"></a>error1 = geomOverlap( &quot;cut&quot; gate ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015471"></a>error2 = geomOverlap( m1cut metal2 diffNet )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015472"></a>bridge = geomOverlap( lapcon metal sameNet ignore &lt;= 2 )</pre>

<h3>
<a id="pgfId-1015476"></a>geom<a id="geomStraddle"></a>Stra<a id="marker-1015475"></a>ddle</h3>
<a id="pgfId-1015477"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomStraddle( inLayer1 inLayer2 [sameNet|diffNet] [limits] [includeZero|excludeZero] [onlyEven|onlyOdd] [exclusive] [selected|unselected] )</pre>
<h4>
<a id="pgfId-1015478"></a>Description</h4>

<p>
<a id="pgfId-1015480"></a>The <em>geomStraddle</em> command selects shapes on <em>inLayer</em><a id="marker-1015479"></a>1 that straddle shapes on <em>inLayer</em>2. An <em>inLayer</em>1 shape is straddling if part of its area is covered by an <em>inLayer</em>2 and part is not. Butting and coincident edges do not affect this command.<a id="marker-1015481"></a></p>
<p>
<a id="pgfId-1015482"></a>All select commands maintain serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1015483"></a>Prerequisites</h4>

<p>
<a id="pgfId-1015484"></a>If you use a <em>connection</em> modifier when using <em>geomStraddle,</em> then the input layers you specify must be connected layers. </p>
<p>
<a id="pgfId-1015513"></a>The following figure illustrates a <em>geomStraddle</em> selection.</p>

<p>
<a id="pgfId-1017662"></a></p>
<div class="webflare-div-image">
<img width="594" height="255" src="images/chap5-32.gif" /></div>
<h4>
<a id="pgfId-1015514"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015515"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035204"></a> Name for the <em>geomStraddle</em> output.</p>

<p><strong>
<a id="pgfId-1035209"></a><code>inLayer1</code> <code>inLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035212"></a> Input layer names. You can specify either a derived layer name or a graphics layer name. Two layers must be specified.</p>

<p><strong>
<a id="pgfId-1035217"></a><code>sameNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035220"></a> Optional keyword to count the required relationship only when the shapes are on the same electrical net. May not be used with the diffNet keyword.</p>

<p><strong>
<a id="pgfId-1035225"></a><code>diffNet</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035228"></a> Optional keyword to count the required relationship only when the shapes are on different electrical nets. May not be used with the sameNet keyword.</p>

<p><strong>
<a id="pgfId-1035233"></a><code>limits</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035236"></a> Optional qualifier you can use to specify the number of shapes on <em>inLayer</em>2 that a shape on the<em>inLayer</em>1 must be have the relationship with in order for it to be selected. The number of <em>inLayer</em>2 shapes is specified using a limit or range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028485"></a></p>
<table class="webflareTable" id="#id1028476">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028478"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028480"></a>Select the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028482"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028484"></a>Reject the shape from <em>inLayer</em>1 if the number of shapes on <em>inLayer</em>2 matches the limit or is within your specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1028486"></a> Operators you can use with the keywords are as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1015524"></a><code> &lt;
&lt;=
&gt;
&gt;=
==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1015525"></a> You can specify limit or range as shown by the following examples:</p>
<p class="webflare-indent1">
<a id="pgfId-1015526"></a><code> keep == 6
ignore &lt; 2
2 &lt; keep &lt; 5
3 &lt;= ignore &lt;= 7</code></p>

<p><strong>
<a id="pgfId-1026610"></a><code>excludeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035248"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship is not selected, even if the limit range would be satisfied by a zero value. This is the default behavior.</p>

<p><strong>
<a id="pgfId-1035253"></a><code>includeZero</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035256"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to control how a zero count is treated within a range limit. A shape on <em>inLayer1</em> with no shape on <em>inLayer2</em> having the required relationship will be selected if the range limit is satisfied by a zero value.</p>

<p><strong>
<a id="pgfId-1035261"></a><code>evenOnly </code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035264"></a>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is even, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1035270"></a><code>oddOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035273"></a><code>&#160;&#160;&#160;&#160;</code>Optional qualifier you can use to limit the number of separate shapes on <em>inLayer2</em>. If the program finds that the number of shapes on <em>inLayer2</em> with the required relationship to <em>inLayer1</em> is odd, and meets any range limit given, then it selects the shape on <em>inLayer1</em>.</p>

<p><strong>
<a id="pgfId-1035278"></a><code>exclusive</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035281"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to select shapes on <em>inLayer1</em> that conform to the required relationship but that do not have any other relationship with other shapes on <em>inLayer2</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1026615"></a> When you specify the <em>sameNet</em> or <em>diffNet</em> options, the shape on <em>inLayer1</em> is not selected if shapes on <em>inLayer2</em> have the required relationship but do not have the required net connections.</p>

<p><strong>
<a id="pgfId-1035289"></a><code>selected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035292"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes normally selected by the command are to be output. This is the default.</p>

<p><strong>
<a id="pgfId-1035297"></a><code>unselected</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035300"></a><code>&#160;&#160;&#160;&#160;</code>Optional modifier you can use to indicate that the shapes not normally selected by the command are to be output.</p>

<h4>
<a id="pgfId-1015530"></a>Examples</h4>

<p>
<a id="pgfId-1015531"></a>The following examples select derived layers straddling original layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015532"></a>schottky = geomStraddle( collector &quot;pbase&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015533"></a>pulldown = geomStraddle( gate &quot;implant&quot; )</pre>
<p>
<a id="pgfId-1015534"></a>The following example illustrates the <em>diffNet</em> option.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015535"></a>error = geomStraddle( oscont metal diffNet )</pre>
<p>
<a id="pgfId-1015536"></a>The following example illustrates how connectivity information is passed through derived layers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015537"></a>geomConnect( via( a b c ) )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015538"></a>e = geomStraddle( b f )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015539"></a>g = geomStraddle( e c sameNet )</pre>

<h2>
<a id="pgfId-1015542"></a>Sizing Commands<a id="Sizing Functions"></a></h2>

<p>
<a id="pgfId-1015543"></a>You can change polygon or edge layers in these ways:</p>
<ul><li>
<a id="pgfId-1015545"></a>For polygon input layers, <a id="marker-1015544"></a>you can use sizing commands to generate new polygons by oversizing or undersizing the layer. You can also oversize a layer while remaining within shapes on another layer.</li><li>
<a id="pgfId-1015546"></a>For edge input layers, you can use sizing commands to expand an edge into a rectangle, expand a chain of edges into a polygon, or make an edge longer or shorter.</li></ul>


<h3>
<a id="pgfId-1029025"></a><a id="53394"></a>geom<a id="geomGrow"></a>Grow<a id="marker-1029024"></a></h3>
<a id="pgfId-1029026"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outlayer=] geomGrow( in_layer right top [left [bottom]] )</pre>
<h4>
<a id="pgfId-1029027"></a>Description</h4>

<p>
<a id="pgfId-1029062"></a>The<em> geomGrow</em> command sizes a layer in one or more directions. Positive distances cause growth. Negative distances cause shrinkage. Zero can be used to prevent sizing in a direction. At least one direction must be non-zero. Grow and shrink cannot be used together. The left and right directions are parallel to the x axis, the top and bottom directions are parallel to the y axis.</p>

<h4>
<a id="pgfId-1029029"></a>Fields</h4>
<p><strong>
<a id="pgfId-1029030"></a><code>outlayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035307"></a><code>&#160;&#160;&#160;&#160;</code>Layer name for the <em>geomGrow</em> result.</p>

<p><strong>
<a id="pgfId-1035312"></a><code>in_layer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035315"></a> Name for the layer to be sized. Only polygons are allowed.</p>

<p><strong>
<a id="pgfId-1035320"></a><code>right</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035323"></a> The distance to size the shape in the right direction.</p>

<p><strong>
<a id="pgfId-1035328"></a><code>top</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035331"></a> The distance to size the shape in the upward direction.</p>

<p><strong>
<a id="pgfId-1035336"></a><code>left</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035339"></a> The optional distance to size the shape in the left direction. If <code>left</code> is not given, the value of <code>right</code> is used.</p>

<p><strong>
<a id="pgfId-1035344"></a><code>bottom</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035347"></a> The optional distance to size the shape in the downward direction. If <code>bottom</code> is not given, the value of <code>top</code> is used.</p>

<h4>
<a id="pgfId-1029035"></a>Example</h4>

<p>
<a id="pgfId-1029036"></a>The following example illustrates the <em>geomGrow</em> command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1029037"></a>foo = geomGrow( cont 0.2 0.3 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1029149"></a>bar = geomGrow( cont 0.2 0.3 0.2 0.3 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1029150"></a>upright = geomGrow( cont 0.2 0.2 0 0 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1029151"></a>downleft = geomGrow( cont 0 0 0.2 0.3 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1029152"></a>oddshrink = geomGrow( cont -0.1 -0.2 -0.1 -0.4 )</pre>

<h3>
<a id="pgfId-1031561"></a><a id="97353"></a>ge<a id="marker-1031560"></a>omGrowCorner</h3>
<a id="pgfId-1031562"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
outLayer = geomGrowCorner( inLayer [size] [selector] [location] )</pre>
<h4>
<a id="pgfId-1031563"></a>Description</h4>

<p>
<a id="pgfId-1031564"></a>The <em>geomGrowCorner</em> command creates squares at the corners defined by inLayer. One point of the square will be coincident with the corner. The opposing point of the square will be along the bisector of the angle. If the angle of the corner is less than 90 degrees, the square will be deformed by stretching the opposing point along the bisector until the edges touching the corner are coincident with the edges forming the corner. For non-manhattan corners, rounding may cause the square to deform and the edges to vary in length.</p>

<h4>
<a id="pgfId-1031565"></a>Fields</h4>
<p><strong>
<a id="pgfId-1031566"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035361"></a> The layer to contain the generated squares. Since the squares may overlap, the layer is considered to be raw.</p>

<p><strong>
<a id="pgfId-1035373"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035376"></a> A layer generated by the <em>geomGetCorner</em> command.</p>

<p><strong>
<a id="pgfId-1035381"></a><code>size</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035384"></a> An optional positive numeric value which defines the length of the edges of the square. If not given, a value of five times database resolution is used.</p>

<p><strong>
<a id="pgfId-1035389"></a><code>selector</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035392"></a> An optional keyword which selects the corners for which squares will be created. The <em>inner</em> keyword selects corners with an angle less than 180 degrees. The <em>outer</em> keyword selects corners with an angle greater than 180 degrees. The default is to select all corners in <code>inLayer</code>.</p>

<p><strong>
<a id="pgfId-1035397"></a><code>location</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035400"></a> An optional keyword which controls the placement of the square. The <em>inside</em> keyword places the square inside the polygon the corner was selected from. The <em>outside</em> keyword places the square outside the polygon the corner was selected from. The default is to place a square both inside and outside.</p>

<h4>
<a id="pgfId-1031571"></a>Examples</h4>

<p>
<a id="pgfId-1031572"></a><code>a = geomGetCorner( m1 manhattanOnly )<br />b = geomGrowCorner( a 0.05 )<br /></code>c = geomGrowCorner( a 0.01 inner inside )<br />d = geomGrowCorner( a 0.01 outer outside )</p>

<h3>
<a id="pgfId-1026175"></a><a id="94218"></a>geom<a id="geomSize"></a>Size</h3>
<a id="pgfId-1026182"></a><a id="marker-1026176"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomSize( inLayer size [edges] [raw] [unmerged] [unmergedIn] [unmergedPut] [chain] [downUp] [{inside|outside}(layer)] )</pre>
<h4>
<a id="pgfId-1026186"></a>Description</h4>

<p>
<a id="pgfId-1015556"></a>The <em>geomSize</em><a id="marker-1015553"></a> command performs an over-size or under-size operation on the specified layer. A size operation consists of changing the absolute dimensions of shapes without altering their dimensions relative to each other. Shapes that grow into one another are merged together. Acute angles are truncated. Optionally, the growth can be limited to be within shapes on another layer.<a id="marker-1015554"></a><a id="marker-1015555"></a><a id="marker-1015557"></a><a id="marker-1015558"></a></p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1015560"></a>
Do not confuse the geomSize command with scaling. <a id="marker-1015559"></a>Scaling changes the sizes of shapes, their relative positions, and the circuit size.</div>

<p>
<a id="pgfId-1015582"></a>The following figure illustrates the polygon size operations.</p>

<p>
<a id="pgfId-1021566"></a></p>
<div class="webflare-div-image">
<img width="561" height="404" src="images/chap5-34.gif" /></div>

<ul><li>
<a id="pgfId-1015584"></a>Butting shapes cannot pull apart in a negative <a id="marker-1015583"></a>sizing operation since the layer has been previously merged, and construction lines (such as donut hole exit lines) are automatically removed. Similarly, shapes that were separate originally and extend into each other during a positive sizing operation are merged into a single shape.</li><li>
<a id="pgfId-1015586"></a>Polygons changed by <em>geomSize</em> maintain their original shape except when there are shape features that are less than or equal to twice the size value. Holes and notches disappear in a positive grow, and narrow sections disappear in a negative grow.<a id="marker-1015585"></a><a id="marker-1015587"></a></li></ul>

<p>
<a id="pgfId-1015588"></a>Acute-angle corners undergo special processing by the program. To avoid extension of an acute corner out of proportion in a positive sizing, the corner is truncated by the program.</p>

<p>
<a id="pgfId-1017669"></a></p>
<div class="webflare-div-image">
<img width="594" height="195" src="images/chap5-35.gif" /></div>

<p>
<a id="pgfId-1015619"></a>Acute angle <a id="marker-1015617"></a>truncation is not performed during negative <a id="marker-1015618"></a>sizing.</p>
<p>
<a id="pgfId-1015620"></a>The amount of truncation used by the program is the square root of 2 times the size value to match the maximum extension of the shape at a 90-degree corner.</p>
<p>
<a id="pgfId-1015621"></a>You can use the <em>edges</em> option to size the edges of a shape. The following figure illustrates edge sizing.</p>

<p>
<a id="pgfId-1017670"></a></p>
<div class="webflare-div-image">
<img width="635" height="187" src="images/chap5-36.gif" /></div>

<ul><li>
<a id="pgfId-1015650"></a>Each edge is expanded out into a rectangle whose width is the size value. Positive sizing puts the rectangles on the outside of the original shape, and negative sizing puts the rectangles on the inside of the original shape. The resultant shapes are not merged together if they overlap.</li><li>
<a id="pgfId-1015651"></a>If the original layer is composed of edges, rather than shapes, this is the default sizing mode. Outside and inside is determined by the edge direction, which is determined by the shape from which the edge originated.</li></ul>

<p>
<a id="pgfId-1026192"></a>You can use the <em>chain</em> option with an edge input file to grow sequences of edges that will form some part of a polygon perimeter as if they were still a polygon. The following figure illustrates chain sizing.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1026345"></a>The bold line represents the edges selected from the shape to be chain sized. The shaded area shows the results of the chain sizing in relation to the selected edges. The edges themselves are not modified.</div>

<p>
<a id="pgfId-1026219"></a></p>
<div class="webflare-div-image">
<img width="668" height="192" src="images/chap5-37.gif" /></div>
<h4>
<a id="pgfId-1015652"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015653"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035409"></a> Name for the <em>geomSize </em>output. The program always generates a polygon layer for <em>geomSize</em>.</p>

<p><strong>
<a id="pgfId-1035414"></a><code>inLayer</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035417"></a>Input layer name. This layer can be either a derived layer name or a graphics layer name. It can be a polygon layer or an edge layer. Edge layers imply the <em>edge</em> option unless the chain option is given.</p>

<p><strong>
<a id="pgfId-1035422"></a><code>size</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035425"></a> Integer or floating point number defining the amount of the size operation. It can be negative or positive. Zero is not allowed.</p>

<p><strong>
<a id="pgfId-1035430"></a><code>edges</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035433"></a> Optional keyword that expands edges into rectangles. This implies the <em>unmergedOut</em> option.</p>

<p><strong>
<a id="pgfId-1035438"></a><code>chain</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035441"></a> Optional keyword that performs chain sizing of edges. This implies the <em>unmergedOut</em> option.</p>

<p><strong>
<a id="pgfId-1035446"></a><code>downUp</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035449"></a> Optional keyword that causes shapes to be undersized by the distance, then oversized by that same distance.</p>
<p class="webflare-indent1">
<a id="pgfId-1029901"></a> May be used with the <em>raw</em> option, but not with <em>edge</em>, <em>chain</em>, or an edge layer.</p>

<p><strong>
<a id="pgfId-1035457"></a><code>raw</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035460"></a><code>&#160;&#160;&#160;&#160;</code>Equivalent to the <em>unmergedIn</em> with <em>unmergedOut</em> options.</p>

<p><strong>
<a id="pgfId-1035465"></a><code>unmerged</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035468"></a><code>&#160;&#160;&#160;&#160;</code>Equivalent to the <em>unmergedIn</em> with <em>unmergedOut</em> options.</p>

<p><strong>
<a id="pgfId-1035473"></a><code>unmergedIn</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035476"></a><code>&#160;&#160;&#160;&#160;</code>Optional keyword that specifies the shapes on the input layer are not merged together on input. Shapes in the input layer that overlap are sized separately. Has no effect if the input layer is already merged.</p>

<p><strong>
<a id="pgfId-1035481"></a><code>unmergedOut</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035484"></a><code>&#160;&#160;&#160;&#160;</code>Optional keyword that specifies the shapes are not merged together on output. Shapes that overlap as a result of the sizing operation stay separate in the output layer. This is the default when the <em>edges</em> or <em>chain</em> options are used.</p>

<p><strong>
<a id="pgfId-1035489"></a><code>inside(layer)</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035492"></a> Functionally equivalent to a <em>geomAnd</em> of the sizing result with the specified layer. Only valid with polygon sizing options.</p>

<p><strong>
<a id="pgfId-1035497"></a><code>outside(layer)</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035500"></a> Functionally equivalent to a <em>geomAndNot</em> of the sizing result with the specified layer. Only valid with polygon sizing options.</p>

<h4>
<a id="pgfId-1026233"></a>Example 1</h4>

<p>
<a id="pgfId-1026234"></a>The following examples illustrate the <em>geomSize</em> command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026235"></a>cblock = geomSize( &quot;cut&quot; 2 ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026236"></a>terms = geomSize( gate 1.25 edges )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026237"></a>widemet = geomSize( geomSize( met -1.5 ) 1.5 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028562"></a>widemet = geomSize( met 1.5 downUp )</pre>
<p>
<a id="pgfId-1026239"></a><a id="marker-1026238"></a>The first <em>widemet </em>example produces wide metal by first under-sizing the metal to remove any narrow sections, in this case less than or equal to 3 wide, and then over-sizing the result to return the remaining shapes to their original size. The second <em>widemet</em><a id="marker-1026240"></a> example shows the same operation using the <code>downUp</code> option. Care should be taken with these two examples since angled edges of a shape may not grow as expected due to rounding.</p>

<h4>
<a id="pgfId-1026241"></a>Example 2</h4>

<p>
<a id="pgfId-1026242"></a>The following example works with the drc command to flag contacts that violate the line end requirement of having no two adjoining edges within a specified limit. This uses the behavior of the chain option that causes an edge without a shared endpoint to grow into a rectangle, but two edges that share an endpoint will grow into a polygon.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026243"></a>edge = drc( met1 cont enc &lt; 2 edgeb )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026244"></a>mark = geomSize( edge 0.01 chain )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026245"></a>errs = geomGetVertex( mark keep &gt; 4 )</pre>

<h3>
<a id="pgfId-1027035"></a><a id="90011"></a>geom<a id="geomSizeAnd"></a>SizeAnd<a id="marker-1027034"></a></h3>
<a id="pgfId-1027036"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outlayer=] geomSizeAnd( in_layer limit_layer increment distance )</pre>
<h4>
<a id="pgfId-1027037"></a>Description</h4>

<p>
<a id="pgfId-1027038"></a>The<em> geomSizeAnd</em> command oversizes a layer while restricting the results to be within another layer. This command is effectively a series of geomSize and geomAnd command pairs where each geomSize command uses the increment value until the sum of the increments is equal to the distance value. If the last increment would cause the sum to be greater than distance, the value that will make the sum exactly distance is used.</p>

<h4>
<a id="pgfId-1027039"></a>Fields</h4>
<p><strong>
<a id="pgfId-1027040"></a><code>outlayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035507"></a><code>&#160;&#160;&#160;&#160;</code>Layer name for the <em>geomSizeAnd</em> result.</p>

<p><strong>
<a id="pgfId-1035512"></a><code>in_layer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035515"></a> Name for the layer to be sized.</p>

<p><strong>
<a id="pgfId-1035527"></a><code>limit_layer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035530"></a> Name of the layer that constrains the sizing.</p>

<p><strong>
<a id="pgfId-1035535"></a><code>increment</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035538"></a>Size to grow in each step. The increment should be as large as possible to reduce the number of steps, but small enough that the result of the grow for each step cannot extend into another limit shape. Slightly less than the minimum sepNotch value for the limit layer is usually a good value to use.</p>

<p><strong>
<a id="pgfId-1035543"></a><code>distance</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035546"></a> The total distance to grow, using increment steps. The distance does not have to be a multiple of the increment.</p>

<h4>
<a id="pgfId-1027045"></a>Example</h4>

<p>
<a id="pgfId-1027046"></a>The following example illustrates the <em>geomSizeAnd</em> operation.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027047"></a>tubsize = geomSizeAnd( tubtie tub 5 18 )</pre>
<p>
<a id="pgfId-1027048"></a>This is effectively the same as:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027049"></a>a = geomAnd(tubtie tub)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027050"></a>b = geomSize(a 5) inside(tub))</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027051"></a>c = geomSize(b 5) inside(tub))</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027052"></a>d = geomSize(c 5) inside(tub))</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027053"></a>tubsize = geomSize(d 3) inside(tub))</pre>

<h3>
<a id="pgfId-1026675"></a><a id="67580"></a>geom<a id="geomSizeAndNot"></a>SizeAnd<a id="marker-1026674"></a>Not</h3>
<a id="pgfId-1026676"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outlayer=] geomSizeAndNot( in_layer limit_layer increment distance )</pre>
<h4>
<a id="pgfId-1026677"></a>Description</h4>

<p>
<a id="pgfId-1026679"></a>The<em> geomSizeAndNot</em> command oversizes a layer while restricting the results to be outside another layer. This command is effectively a series of geomSize and geomAndNot command pairs where each geomSize command uses the increment value until the sum of the increments is equal to the distance value. If the last increment would cause the sum to be greater than distance, the value that will make the sum exactly distance is used.</p>

<h4>
<a id="pgfId-1026868"></a>Fields</h4>
<p><strong>
<a id="pgfId-1026869"></a><code>outlayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035553"></a><code>&#160;&#160;&#160;&#160;</code>Layer name for the <em>geomSizeAndNot</em> result.</p>

<p><strong>
<a id="pgfId-1035558"></a><code>in_layer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035561"></a> Name for the layer to be sized.</p>

<p><strong>
<a id="pgfId-1035573"></a><code>limit_layer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035576"></a> Name of the layer that constrains the sizing.</p>

<p><strong>
<a id="pgfId-1035581"></a><code>increment</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035584"></a> Size to grow in each step. The increment should be as large as possible to reduce the number of steps, but small enough that the result of the grow for each step cannot extend across a limit shape. Slightly less than the minimum width value for the limit layer is usually a good value to use.</p>

<p><strong>
<a id="pgfId-1035589"></a><code>distance</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035592"></a> The total distance to grow, using increment steps. The distance does not have to be a multiple of the increment.</p>

<h4>
<a id="pgfId-1026915"></a>Example</h4>

<p>
<a id="pgfId-1026916"></a>The following example illustrates the <em>geomSizeAndNot</em> operation.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026917"></a>tubsize = geomSizeAndNot( tubtie tub 5 18 )</pre>
<p>
<a id="pgfId-1027010"></a>This is effectively the same as:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027011"></a>a = geomAndNot(tubtie tub)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027018"></a>b = geomSize(a 5) outside(tub))</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027019"></a>c = geomSize(b 5) outside(tub))</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027020"></a>d = geomSize(c 5) outside(tub))</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027021"></a>tubsize = geomSize(d 3) outside(tub))</pre>

<h3>
<a id="pgfId-1015669"></a>geom<a id="geomSizeInTub"></a>SizeInTub<a id="marker-1015668"></a></h3>
<a id="pgfId-1015670"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outlayer=] geomSizeInTub( contact_layer tub_layer size [sides] [edge] )</pre>
<h4>
<a id="pgfId-1015671"></a>Description</h4>

<p>
<a id="pgfId-1015673"></a>The<em> geomSizeInTub</em> command can be used to check the electrical integrity of wells.<a id="marker-1015672"></a></p>
<p>
<a id="pgfId-1015674"></a>Tub-tie checks are based on the physics of how a MOSFET works. The following figure illustrates a MOSFET, 4-terminal device.</p>

<p>
<a id="pgfId-1017673"></a></p>
<div class="webflare-div-image">
<img width="511" height="136" src="images/chap5-38.gif" /></div>

<p>
<a id="pgfId-1015699"></a>Electrical isolation between the source and the drain is maintained by keeping the junctions between them and the tub in a strong reversed bias state. Because the tub resistivity is not negligible, the voltage on the right can be lower than the voltage on the left, which is near the n+ tub-tie. Where the voltage is lower, the p-n junction becomes forward biased and turned on.</p>
<p>
<a id="pgfId-1015700"></a>From left to right, there is a pnpn configuration. This is the configuration of a silicon controlled rectifier. Once turned on, it stays on and can only be turned off by disconnecting it from the voltage source.</p>
<p>
<a id="pgfId-1015701"></a>The solution is to guarantee that all transistors are close to a <em>tub-tie</em>, the n+ region. The farther away the transistor from the tub-tie, the more likely the reverse bias voltage is low. Since this is a resistance effect, the measurement of <em>close </em>means how far current must flow through the tub to get to the transistor. A direct measurement of the distance from the transistor to the tub-tie is insufficient as is shown in the figure.</p>

<p>
<a id="pgfId-1017674"></a></p>
<div class="webflare-div-image">
<img width="631" height="173" src="images/chap5-39.gif" /></div>

<p>
<a id="pgfId-1015711"></a>The current must flow around the corner to get to the diffusion area near the transistor gate. This distance is much longer than the direct distance from the gate to the tub-tie.</p>
<p>
<a id="pgfId-1015712"></a>Measuring distances around bends is not a traditional operation of verification programs but is a necessary one. Diva approximates the exact measurement with simplified shapes.</p>
<p>
<a id="pgfId-1027460"></a>Two methods are available. The first is referred to as Center Of Mass and is only useful when tub ties are relatively small squares or circle approximations. The second of From Edges and is more accurate when tub ties are large or more complex shapes.</p>

<h4>
<a id="pgfId-1015713"></a>Center of Mass Method</h4>

<p>
<a id="pgfId-1015714"></a>The first step is to approximate each tub-tie contact as a single point, called the apex. This is done by calculating the <em>center of mass</em> of each tub tie. The precise shape of the tub-tie is not considered. Each tub-tie is treated as a point. This point is the center from where distances are measured.</p>
<p>
<a id="pgfId-1015716"></a>Around each tub tie center of mass point a regular polygon is formed as a collection of wedges. This polygon is an approximation to a circle.</p>

<p>
<a id="pgfId-1017675"></a></p>
<div class="webflare-div-image">
<img width="495" height="207" src="images/chap5-40.gif" /></div>

<p>
<a id="pgfId-1015755"></a>Wedges are processed one at a time with the sequence of operations.</p>
<ul><li>
<a id="pgfId-1015756"></a>Each wedge is ANDed with the well. This removes any part of the wedge outside the well. It might also break the wedge into pieces if an obstruction is in the way.<br />
<a id="pgfId-1017676"></a><div class="webflare-div-image">
<img width="631" height="201" src="images/chap5-41.gif" /></div></li><li>
<a id="pgfId-1015763"></a>Select those wedge parts that touch the apex. This has the effect of rejecting the area that must be accessed by turning a corner. This leaves the area that is directly visible to the apex.<br />
<a id="pgfId-1017677"></a><div class="webflare-div-image">
<img width="629" height="196" src="images/chap5-42.gif" /></div></li><li>
<a id="pgfId-1015776"></a>After the wedge is ANDed, a search is made to find vertices from the tub layer that face inward and are directly visible to the apex. A new collection of wedges, with a smaller radius, is centered on the new point and the process starts again. This allows the program to walk around corners.<br />
<a id="pgfId-1017678"></a><div class="webflare-div-image">
<img width="616" height="202" src="images/chap5-43.gif" /></div></li></ul>














<p>
<a id="pgfId-1015798"></a>The following figure illustrates the final result on the original problem definition example (with the gate too far from the contact).</p>

<p>
<a id="pgfId-1017679"></a></p>
<div class="webflare-div-image">
<img width="511" height="187" src="images/chap5-44.gif" /></div>

<p>
<a id="pgfId-1015807"></a>Wedges that totally encompass a corner, or a hole in the tub, are split at the corner into multiple wedges and the corner is used as a new starting (reflection) point. </p>

<p>
<a id="pgfId-1017680"></a></p>
<div class="webflare-div-image">
<img width="503" height="214" src="images/chap5-45.gif" /></div>

<p>
<a id="pgfId-1015826"></a>Since the ends of the wedges are straight lines and not arcs, the circumference of an area encompassed by this check only approximates a circle. The higher the number of wedges used, the better the approximation. When two sets of wedges form different starting points (for example, reflection points intersect), there is not necessarily an exact match of the circumference edges. This results in small steps in the resultant shape. This is clarified using the illustration.</p>

<p>
<a id="pgfId-1017681"></a></p>
<div class="webflare-div-image">
<img width="495" height="269" src="images/chap5-46.gif" /></div>

<p>
<a id="pgfId-1015836"></a>Because of this behavior, it is recommended that the output of this command not be used in any subsequent command that would be susceptible to these steps. An example would be a positive <em>geomSize</em>.</p>

<h4>
<a id="pgfId-1015837"></a>Side Count Limitations</h4>

<p>
<a id="pgfId-1015838"></a>The Diva internal algorithms are based on an integer grid. If you specify a side count of one million, the wedge would be so narrow that it would degenerate into a zero-area polygon when projected onto the integer grid.</p>
<p>
<a id="pgfId-1015839"></a>The maximum number of sides allowed is limited by the integer grid and by the sizing value. The program checks the width of a wedge and adjusts the side count so that the width is at least 4 units. Even if one million edges are specified, you see much fewer edges in the output shape. Despite this automatic adjustment, it is not recommended that large side counts be used due to the non-linear increase in runtime associated with side count. Through experimentation, you will find that a side count of 32 or less is generally adequate.</p>
<p>
<a id="pgfId-1015840"></a>This effect impacts reflection points whose resultant sizing value can be quite small. If the grow size for a reflection point gets so small that a wedge that meets the four unit width requirement cannot be made, then that reflection point is discarded.</p>

<h4>
<a id="pgfId-1027486"></a>From Edges Method</h4>

<p>
<a id="pgfId-1027497"></a>The From Edges method grows each edge of the contact as a rectangle, followed by growing the corners using wedges in the same way the Center Of Mass method does from the apex point. As shown in the figure below, rectangle shapes will grow into rectangles with round corners. When obstructions to the growth are found, the growth will wrap around the corners as described for the Center Of Mass method.</p>

<p>
<a id="pgfId-1027535"></a></p>
<div class="webflare-div-image">
<img width="517" height="384" src="images/chap5-47.gif" /></div>
<h4>
<a id="pgfId-1027482"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015842"></a><code>outlayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035599"></a><code>&#160;&#160;&#160;&#160;</code>Layer name for the <em>geomSizeInTub</em> result.</p>

<p><strong>
<a id="pgfId-1035604"></a><code>contact_layer</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035607"></a>Name for the layer to be treated as contacts.</p>

<p><strong>
<a id="pgfId-1035612"></a><code>tub_layer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035615"></a> Name of the tub layer that determines the bounds constraining the sizing.</p>

<p><strong>
<a id="pgfId-1035620"></a><code>size</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035623"></a> Distance to grow, measured from the center of mass of the contact.</p>

<p><strong>
<a id="pgfId-1035628"></a><code>sides</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035631"></a>Optional number of wedges to create for each contact point. The minimum value allowed is 4. The larger the value, the better the resolution of the sizing, at the expense of run time. The default value is 8.</p>

<p><strong>
<a id="pgfId-1035636"></a><code>edge</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035639"></a> Optional <a id="marker-1020061"></a>keyword that causes growth to be from the edges of the shape instead of the center of mass. </p>

<h4>
<a id="pgfId-1020073"></a> Example</h4>

<p>
<a id="pgfId-1015848"></a>The following example illustrates the <em>geomSizeInTub</em> operation.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015849"></a>tubsize = geomSizeInTub(tubtie tub 10 16)</pre>

<h3>
<a id="pgfId-1028707"></a>geom<a id="geomStretch"></a>Stretch</h3>
<a id="pgfId-1028709"></a><a id="marker-1028708"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomStretch( inLayer stretch )</pre>
<h4>
<a id="pgfId-1028710"></a>Description</h4>

<p>
<a id="pgfId-1028713"></a>The<em> geomStretch</em> command takes each edge of a polygon or edge layer and extends or reduces the edge by the amount you specify.<a id="marker-1028711"></a><a id="marker-1028712"></a></p>

<p>
<a id="pgfId-1028738"></a></p>
<div class="webflare-div-image">
<img width="561" height="191" src="images/chap5-48.gif" /></div>
<h4>
<a id="pgfId-1028739"></a>Fields</h4>
<p><strong>
<a id="pgfId-1028740"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035649"></a> Name for the <em>geomStretch</em> output. The program always generates an edge layer.</p>

<p><strong>
<a id="pgfId-1035654"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035657"></a> Input layer name. This layer can be either a derived layer name or a graphics layer name. The layer name can be a polygon layer or an edge layer.</p>
<p class="webflare-indent1">
<a id="pgfId-1028742"></a> If the input is an edge layer, no consideration is made of the vertex points of the original polygons from which the edges were derived. If the input is a polygon <a id="marker-1028743"></a>layer, each edge is considered independently of the polygon from which it came. The output is always an edge layer.</p>

<p><strong>
<a id="pgfId-1035665"></a><code>stretch</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035671"></a> Integer or floating point number you use to define the amount of the stretch operation. It can be <a id="marker-1028745"></a>negative or positive. A positive value of stretch extends each end of the edges by that stretch value. The edges do not change their absolute location. A negative value of stretch reduces the edge length at each end by the stretch value.</p>

<h4>
<a id="pgfId-1028746"></a>Examples</h4>

<p>
<a id="pgfId-1028747"></a>The following examples illustrate the <em>geomStretch</em> operation.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028748"></a>cut_range = geomStretch( &quot;cut&quot; 2 ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028749"></a>limits = geomStretch( close_poly 2.75 )</pre>

<h3>
<a id="pgfId-1031584"></a><a id="70146"></a>ge<a id="marker-1031583"></a>omStretchCorner</h3>
<a id="pgfId-1031585"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
outLayer = geomStretchCorner( inLayer size )</pre>
<h4>
<a id="pgfId-1031586"></a>Description</h4>

<p>
<a id="pgfId-1031587"></a>The <em>geomStretchCorner</em> command modifies the corners produced by a <em>geomGetCorner</em> command. If the corners were output as triangles, the length of the legs coincident with the edges forming the corners is changed. If the corners were output as edges, the length of the edges is changed.</p>

<h4>
<a id="pgfId-1031588"></a>Fields</h4>
<p><strong>
<a id="pgfId-1031589"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035678"></a> The layer to contain the modified corners. Since the triangles or edges may overlap, the layer is considered to be raw.</p>

<p><strong>
<a id="pgfId-1035683"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035686"></a> A layer generated by the <em>geomGetCorner</em> command.</p>

<p><strong>
<a id="pgfId-1035691"></a><code>size</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035694"></a> A positive numeric value which defines the length of the edges or legs of the triangles to be produced.</p>

<h4>
<a id="pgfId-1031592"></a>Examples</h4>

<p>
<a id="pgfId-1031593"></a><code>a = geomGetCorner( m1 manhattanOnly )<br />b = geomStretchCorner( a 0.05 )<br /></code>c = geomStretchCorner( a 0.01 )</p>

<h3>
<a id="pgfId-1015852"></a><a id="87027"></a>geom<a id="marker-1028769"></a>Width</h3>
<a id="pgfId-1015854"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomWidth( inLayer keep {&gt;|&gt;=} width)</pre>
<h4>
<a id="pgfId-1015855"></a>Description</h4>

<p>
<a id="pgfId-1015858"></a>The<em> geomWidth</em> command returns the portion of the input shapes which meet the width requirement of the <em>size</em> option. This is functionally equivalent to using the <em>geomSize</em> command to shrink, then grow, the shapes.</p>
<p>
<a id="pgfId-1028822"></a>Note: When writing rules using the geomWidth command, it should be remembered that sizing operations are subject to integer grid roundoff. This is rarely an issue for Manhattan and 45 degree shapes, but can easily produce unexpected results for all angle data.</p>

<h4>
<a id="pgfId-1015883"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015884"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035701"></a> Name for the <em>geomWidth</em> output.</p>

<p><strong>
<a id="pgfId-1035706"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035709"></a> Input layer name. This layer can be either a derived layer name or a graphics layer name. The layer must be a polygon layer.</p>

<p><strong>
<a id="pgfId-1035714"></a><code>width</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035717"></a> Integer or floating point number you use to define the minimum size of the resulting polygons. It must be positive and follow the <em>keep</em> keyword and a <em>greater than</em> relational operator. If the relational operator does not include equality, the input shapes must be wider than <em>width</em> to produce output.</p>

<h4>
<a id="pgfId-1015890"></a>Examples</h4>

<p>
<a id="pgfId-1015891"></a>The following example illustrates the <em>geomWith</em> operation.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015892"></a>wide = geomWidth( met1 keep &gt; 2 ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015893"></a>narrow = geomAndNot( met1 wide )</pre>

<h2>
<a id="pgfId-1015896"></a>General Selection Commands<a id="General Selection Functions"></a></h2>

<p>
<a id="pgfId-1015898"></a>General<a id="marker-1015897"></a> selection commands let you select specific kinds of shapes, or shapes with certain characteristics, such as angled edges or texted area. After selecting the shapes, you can use them in verification checking.</p>
<p>
<a id="pgfId-1015899"></a>Most general selection commands maintain net numbers of shapes in the output layer. The only exceptions are <em>geomGetMacro</em>, <em>geomGetPurpose</em>, and <em>geomGetByLayer</em>, which select from original graphics data that could not have been connected.</p>

<h3>
<a id="pgfId-1027886"></a><a id="24517"></a>geom<a id="geomContactCheck"></a>Contact<a id="marker-1027920"></a>Check</h3>
<a id="pgfId-1027888"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomContactCheck( inLayer [length_limit] [width_limit] [ignore] [swap])</pre>
<h4>
<a id="pgfId-1027889"></a>Description</h4>

<p>
<a id="pgfId-1027891"></a>The <em>geomContactCheck</em> command selects all rectangles on the input layer whose edges are not only parallel to the axes, but also satisfy the optional length and width limits; it then copies them to the output layer. Similar to geomGetRectangle, with the difference that the ignore keyword includes polygons in addition to rectangles outside the limits.<a id="marker-1027890"></a></p>
<p>
<a id="pgfId-1027892"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1027893"></a>Fields</h4>
<p><strong>
<a id="pgfId-1027894"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035724"></a> Output layer name. This is a polygon layer.</p>

<p><strong>
<a id="pgfId-1035729"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035732"></a>Input layer. This layer can be either a derived layer name or a graphics layer name. <code></code></p>

<p><strong>
<a id="pgfId-1035745"></a><code>length_limit</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035748"></a> Length of the long axis of the rectangle. If specified, only rectangles that have a length that satisfies the limit are selected. Specify the limit or inclusive range containing the keyword length and one or two constants with the following operators:</p>
<p class="webflare-indent1">
<a id="pgfId-1027897"></a><code> &lt;<br />&lt;=<br />&gt;<br />&gt;=<br />==</code></p>

<p><strong>
<a id="pgfId-1035756"></a><code>width_limit</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035759"></a> Width of the long axis of the rectangle. If specified, only rectangles that have a width that satisfies the limit are selected. Specify the limit or inclusive range containing the keyword width and one or two constants with the following operators:</p>
<p class="webflare-indent1">
<a id="pgfId-1027899"></a><code> &lt;<br />&lt;=<br />&gt;<br />&gt;=<br />==</code></p>

<p><strong>
<a id="pgfId-1035767"></a><code>ignore</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035770"></a> An optional keyword that reverses the behavior of the command. Rectangles that would normally be selected are ignored and those that would be ignored are selected. All polygons are also selected. Use of this keyword requires one or both of length_limit and width_limit.</p>

<p><strong>
<a id="pgfId-1035775"></a><code>swap</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035778"></a> An optional keyword that causes rectangles which fail the limit test to be retested with the width and length values exchanged. Use of this keyword requires one or both of length_limit and width_limit.</p>

<h4>
<a id="pgfId-1027901"></a>Examples</h4>

<p>
<a id="pgfId-1027902"></a>The following examples illustrate the <em>geomContactCheck</em> selection.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027903"></a>rect_cuts = geomContactCheck( &quot;cut&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027904"></a>simple_gate = geomContactCheck( gate )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027905"></a>small_cuts = geomContactCheck( &quot;cut&quot; length &lt; 2 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027906"></a>large_cuts = geomContactCheck( &quot;cut&quot; length &lt; 2 ignore )</pre>

<h3>
<a id="pgfId-1032174"></a><a id="87648"></a>geomEncloseRect<a id="marker-1032271"></a></h3>
<a id="pgfId-1032177"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomEncloseRect( inLayer length width [manhattanOnly] [ignore] )</pre>
<h4>
<a id="pgfId-1032178"></a>Description</h4>

<p>
<a id="pgfId-1032180"></a>The <em>geomEncloseRect</em> command selects input layer polygons which can enclose a rectangle of the specified length and width, where edges of the enclosed rectangle are horizontal and vertical, or at a 45 degree angle.</p>
<p>
<a id="pgfId-1032234"></a>This command preserves serial numbers, if the input is merged, and net numbers if the input is connected.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032376"></a>Due to round-off issues with polygons that have been rotated 45 degrees, the rectangle length value is reduced by one internal unit when testing for 45 degree rectangle enclosure.</div>

<h4>
<a id="pgfId-1032235"></a>Fields</h4>
<p><strong>
<a id="pgfId-1032236"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035785"></a> Output layer name. This is a polygon layer.</p>

<p><strong>
<a id="pgfId-1035797"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035800"></a> Input layer name. This layer must be a polygon layer.</p>

<p><strong>
<a id="pgfId-1035805"></a><code>length</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035808"></a><code>&#160;&#160;&#160;&#160;</code>The length of the rectangle to be used for the enclosure check. Must resolve to a positive, non-zero, internal unit integer value.</p>

<p><strong>
<a id="pgfId-1035813"></a><code>width</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035816"></a><code>&#160;&#160;&#160;&#160;</code>The width of the rectangle to be used for the enclosure check. Must resolve to a positive, non-zero, internal unit integer value. If the width is greater than the length, the values will be exchanged internally.</p>

<p><strong>
<a id="pgfId-1035821"></a><code>manhattanOnly</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035824"></a><code>&#160;&#160;&#160;&#160;</code>Optional keyword that limits the enclosure test to rectangles that have only horizontal and vertical edges.</p>

<p><strong>
<a id="pgfId-1035829"></a><code>ignore</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035832"></a><code>&#160;&#160;&#160;&#160;</code>Optional keyword that causes the polygons that <strong>cannot</strong> enclose a rectangle of the specified length and width to be selected.</p>

<h4>
<a id="pgfId-1032239"></a>Example</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032241"></a>result = geomEncloseRect( poly 0.90 0.180 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032356"></a>result = geomEncloseRect( poly 0.90 0.180 manhattanOnly )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032357"></a>result = geomEncloseRect( poly 0.90 0.180 ignore )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032358"></a>result = geomEncloseRect( poly 0.180 0.90 manhattanOnly ignore )</pre>

<h3>
<a id="pgfId-1015905"></a>geom<a id="geomGetAdjacentEdge"></a>GetAdjacentEdge</h3>
<a id="pgfId-1015908"></a><a id="marker-1015906"></a><a id="marker-1015907"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetAdjacentEdge( inLayer refLayer )</pre>
<h4>
<a id="pgfId-1015909"></a>Description</h4>

<p>
<a id="pgfId-1015911"></a>The <em>geomGetAdjacentEdge</em> command selects input layer edges that are adjacent to the reference edges. More specifically, this command selects input layer edges that have a head-to-tail relationship with edges of the reference layer.<a id="marker-1015910"></a></p>
<p>
<a id="pgfId-1017684"></a>If all polygons are considered to be a sequence of connected edges, tracing around the polygon in a counterclockwise direction traverses each edge from its<em> tail point</em> to its <em>head point</em>. An edge of the input layer is selected if its head point touches a tail point of an edge on the reference layer, or its tail point touches a head point of an edge on the reference layer.</p>
<p>
<a id="pgfId-1017722"></a>The following figure illustrates the <em>geomGetAdjacentEdge</em> command.</p>

<p>
<a id="pgfId-1017726"></a></p>
<div class="webflare-div-image">
<img width="594" height="204" src="images/chap5-49.gif" /></div>

<p>
<a id="pgfId-1017723"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1015952"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015953"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035839"></a> Output layer name. This is an edge layer.</p>

<p><strong>
<a id="pgfId-1035844"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035847"></a> Input layer name. This layer can be either a derived layer name or a graphics layer name. It can be either a polygon layer or an edge layer.</p>

<p><strong>
<a id="pgfId-1035852"></a><code>refLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035855"></a><code>&#160;&#160;&#160;&#160;</code>Edge or polygon layer that acts as a reference layer. </p>

<h4>
<a id="pgfId-1015956"></a>Example</h4>

<p>
<a id="pgfId-1015957"></a>The following example illustrates the <em>geomGetAdjacentEdge</em> selection. The metal at the end of a cut has a higher clearance than at the sides of the cut. The sides are found directly by a DRC enclosure check with the metal. This command then gets the cut ends, given those sides. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1015958"></a>cut_end = geomGetAdjacentEdge( cut cut_side )</pre>

<h3>
<a id="pgfId-1015960"></a><a id="29580"></a>geom<a id="geomGetAngledEdge"></a>GetAngledEdge</h3>
<a id="pgfId-1015963"></a><a id="marker-1015961"></a><a id="marker-1015962"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetAngledEdge( inLayer angle [fig] [mode] )</pre>
<h4>
<a id="pgfId-1015964"></a>Description</h4>

<p>
<a id="pgfId-1015968"></a>The <em>geomGetAngledEdge</em> command selects edges or shapes from the input layer by their angle relative to the X and Y axes.<a id="marker-1015965"></a><a id="marker-1015966"></a><a id="marker-1015967"></a></p>
<p>
<a id="pgfId-1015969"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1015970"></a>Fields</h4>
<p><strong>
<a id="pgfId-1015971"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035862"></a> Optional polygon or edge layer name as output.</p>

<p><strong>
<a id="pgfId-1035867"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035870"></a><code>&#160;&#160;&#160;&#160;</code>Input layer name. This layer can be either a derived layer name or a graphics layer name. The layer you specify can be either a polygon layer or an edge layer unless you specify the<em> fig </em>option. If you specify the <em>fig</em> option, the input layer must be a polygon layer. If you specify a graphics layer name, Diva merges that layer prior to processing this command.</p>

<p><strong>
<a id="pgfId-1035875"></a><code>angle</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035878"></a> The angle an edge must have for it to be selected. The interpretation of the angle is dependent on the <em>mode </em>switch provided. Specify a value using a limit or inclusive range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028600"></a></p>
<table class="webflareTable" id="#id1028587">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028589"></a>angle</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028591"></a>Select the edge if the angle matches the limit or is within the specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028593"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028595"></a>Select the edge if the length matches the limit or is within the specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028597"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028599"></a>Select the edge if the angle does not match the limit or is outside the specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1028601"></a> You can use the following operators with the keywords:</p>
<p class="webflare-indent1">
<a id="pgfId-1015976"></a><code> &lt;
&lt;=
&gt;
&gt;=
==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1015981"></a> The <em>mode</em> switch determines whether you can define a negative angle. Typical formats of the angle definition are</p>
<p class="webflare-indent1">
<a id="pgfId-1015982"></a> <code>angle &lt;= 45 
 angle &gt; 10
-45 &lt; angle &lt; +45</code></p>
<p class="webflare-indent1">
<a id="pgfId-1015985"></a> The angle of an edge is measured totally independently of the polygon from which the edge came. The <em>inside</em> or <em>outside </em>concepts applied to polygons and their edges are not considered when measuring angle.</p>

<p><strong>
<a id="pgfId-1015986"></a><code>mode</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035888"></a><code>&#160;&#160;&#160;&#160;</code>This optional keyword defines the way in which the specified angle is interpreted by Diva. There are four mode switches, including <em>mode1</em>, <em>mode2</em>, <em>mode3</em>, and <em>mode4</em>. The default is <em>mode1</em>.</p>
<p class="webflare-indent1">
<a id="pgfId-1015987"></a> The following sections describe the four modes.</p>
<p class="webflare-indent1">
<a id="pgfId-1023186"></a><em>&#160;&#160;&#160;&#160;</em><strong>mode1</strong></p>

<p>
<a id="pgfId-1023209"></a><change />
</p>
<div class="webflare-div-image">
<img width="668" height="183" src="images/chap5-50.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1023210"></a> The angle or range of angles is specified as a positive value relative to the X or Y axis. All edges having a positive or negative angle conforming to this specification relative to the X axis are selected. This effectively specifies the angle in the first quadrant and mirrors it through X and Y into the other quadrants.</p>
<p class="webflare-indent1">
<a id="pgfId-1016014"></a> 30 &lt; angle &lt; 90
 angle == 25</p>
<p class="webflare-indent1">
<a id="pgfId-1016039"></a> <strong>mode2</strong></p>

<p>
<a id="pgfId-1019101"></a><change />
</p>
<div class="webflare-div-image">
<img width="668" height="182" src="images/chap5-51.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1016040"></a> The angle or range of angles is specified as a positive or negative value relative to the X axis. All edges having a positive or negative angle conforming to this specification relative to the X axis are selected. This effectively specifies the angle in quadrants 1 and 4 and mirrors it through Y to quadrants 2 and 3.</p>
<p class="webflare-indent1">
<a id="pgfId-1016042"></a> -50 &lt; angle &lt; 55
 -90 &lt; angle &lt; 0</p>
<p class="webflare-indent1">
<a id="pgfId-1016044"></a><em> </em><strong>mode3</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1016045"></a><change />
This mode is identical to <em>mode2</em> except the angle is measured relative to the Y axis rather than the X axis.</p>
<p class="webflare-indent1">
<a id="pgfId-1016073"></a> <strong>mode4</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1019233"></a><change />
</p>

<div class="webflare-div-image">
<img width="520" height="266" src="images/chap5-52.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1016074"></a> The angle or range of angles is specified as a positive value relative to the X axis. All edges having a positive angle conforming to this specification relative to the X axis or Y axis are selected. This effectively specifies the angle in quadrant 1 and rotates it through all other quadrants.</p>
<p class="webflare-indent1">
<a id="pgfId-1016076"></a> 0 &lt; angle &lt; 45
45&lt; angle &lt; 90</p>

<p><strong>
<a id="pgfId-1016078"></a><code>fig</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035912"></a> Specifies that the figure containing the selected edge is passed to the output rather than to the edge itself. This applies only to polygon input layers.</p>

<h4>
<a id="pgfId-1016079"></a>Examples</h4>

<p>
<a id="pgfId-1016080"></a>The following examples illustrate the <em>geomGetAngledEdge</em> selection.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016081"></a>fortyfives = geomGetAngledEdge( gate angle == 45 fig )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016082"></a>app45 = geomGetAngledEdge( gate 43 &lt; angle &lt; 47 fig )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016083"></a>negs = geomGetAngledEdge( &quot;poly&quot; -90 &lt; angle &lt; 0 mode2 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016084"></a>orth1 = geomGetAngledEdge( metal 0 &lt;= angle &lt; 2 mode4 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016085"></a>orth2 = geomGetAngledEdge( metal 88 &lt; angle &lt;= 90 mode4)</pre>
<p>
<a id="pgfId-1016148"></a>Note that slanted edges are converted to manhattan edges before being grown.</p>

<p>
<a id="pgfId-1017737"></a></p>
<div class="webflare-div-image">
<img width="483" height="656" src="images/chap5-53.gif" /></div>
<h3>
<a id="pgfId-1016150"></a><a id="54484"></a>ge<a id="marker-1031247"></a>omGetCorner</h3>
<a id="pgfId-1031122"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
outLayer = geomGetCorner( inLayer {[angle] | [limit [increment]]} [edge])</pre>
<h4>
<a id="pgfId-1031123"></a>Description</h4>

<p>
<a id="pgfId-1031124"></a>The <em>geomGetCorner</em> command finds polygon corners based on the angle formed by the edges that define the corner.</p>

<h4>
<a id="pgfId-1031125"></a>Fields</h4>
<p><strong>
<a id="pgfId-1031126"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035919"></a> The layer to contain the corners selected. If the <code>edge</code> option is not given, small triangles are output using the corner point and a point five times the database resolution away from the corner along the edges that form the corner. The exact length may vary due to rounding when the edge is not manhattan. Since the triangles may overlap, the layer is considered to be raw.</p>

<p><strong>
<a id="pgfId-1035924"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035927"></a> A merged polygon layer from which corners are to be selected.</p>

<p><strong>
<a id="pgfId-1035932"></a><code>angle</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035935"></a> A keyword used to define the angle of the corners to be selected. The angle of a corner is measured from inside facing edge to inside facing edge. A rectangle has four 90 degree corners. A L shape has five 90 degree corners and one 270 degree corner.</p>
<p class="webflare-indent1">
<a id="pgfId-1031145"></a> The keyword <em>manhattanOnly</em> requires that the edges forming the corner be parallel to the X and Y axis. If no <code>angle</code> or <code>limit</code> is given, this is the default.</p>
<p class="webflare-indent1">
<a id="pgfId-1031148"></a> The keyword <em>angleMulti90</em> requires that the edges forming the corner have an angle that is a multiple of 90 degrees.</p>
<p class="webflare-indent1">
<a id="pgfId-1031156"></a> The keyword <em>angleMulti45</em> requires that the edges forming the corner have an angle that is a multiple of 45 degrees.</p>
<p class="webflare-indent1">
<a id="pgfId-1031160"></a> The keyword <em>angleAll</em> selects all corners.</p>
<p class="webflare-indent1">
<a id="pgfId-1031168"></a> The keyword <em>convex</em> requires that the edges forming the corner have an angle that is less than 180 degrees.</p>
<p class="webflare-indent1">
<a id="pgfId-1031146"></a> The keyword <em>concave</em> requires that the edges forming the corner have an angle that is greater than 180 degrees.</p>

<p><strong>
<a id="pgfId-1031134"></a><code>limit</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035944"></a> Option to select corners with an angle that meets the range given. The range has an upper and a lower limit, which must be positive and not greater than 360, though only one is required. If the lower limit is not given, zero is used. If the upper limit is not given, 360 is used. The range takes either of two forms:</p>
<p class="webflare-indent1">
<a id="pgfId-1031209"></a> lower operator keyword operator upper<br />== value</p>
<p class="webflare-indent1">
<a id="pgfId-1031210"></a> The allowed operators are <strong>&lt;</strong>, <strong>&lt;=</strong>, <strong>&gt;</strong> and <strong>&gt;=</strong>.</p>
<p class="webflare-indent1">
<a id="pgfId-1031213"></a> The keyword may be <em>keep</em> to select corners with an angle within the range or <em>ignore</em> to select corners with an angle outside the range.</p>

<p><strong>
<a id="pgfId-1035952"></a><code>increment</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035955"></a> An optional modify used with the <code>limit</code> to cause the range to be repeated by incrementing the lower and upper limits by the value given. The increment value must be positive. An illustrative example:</p>
<p class="webflare-indent1">
<a id="pgfId-1031219"></a> <code>44.7 &lt; keep &lt; 45.8 increment = 90</code></p>
<p class="webflare-indent1">
<a id="pgfId-1031220"></a> will select corners with angles in the following ranges:</p>
<p class="webflare-indent1">
<a id="pgfId-1031221"></a> <code>44.7 &lt; keep &lt; 45.81
34.7 &lt; keep &lt; 135.8
224.7 &lt; keep &lt; 225.8
314.7 &lt; keep &lt; 315.8</code></p>

<p><strong>
<a id="pgfId-1031137"></a><code>edge</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035964"></a> An optional output modifier that causes the edges forming the corner to be output. The edges will have one endpoint at the corner and the other five times the database resolution away from the corner along the edge. The exact length may vary due to rounding when the edge is not manhattan.</p>

<h4>
<a id="pgfId-1031239"></a>Examples</h4>

<p>
<a id="pgfId-1031240"></a>a = geomGetCorner( m1 manhattanOnly )</p>
<p>
<a id="pgfId-1031244"></a>b = geomGetCorner( m1 44 &lt; keep &lt; 46 )</p>
<p>
<a id="pgfId-1031245"></a>c = geomGetCorner( m1 ignore == 22.5 increment = 45 edge )</p>

<h3>
<a id="pgfId-1031117"></a><a id="16956"></a>geomGetEdge<a id="marker-1032467"></a></h3>
<a id="pgfId-1016152"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
outLayer = geomGetEdge( inLayer [op opLayer ... ] [wholeEdge] )</pre>
<h4>
<a id="pgfId-1016153"></a>Description</h4>

<p>
<a id="pgfId-1016156"></a>The <em>geomGetEdge</em> command selects edges or edge segments from the first input layer by their relationships to shapes on other layers. Those parts of the edges of the first layer that conform to the total relationship defined to other layers are selected.</p>
<p>
<a id="pgfId-1016158"></a>The <em>geomGetEdge</em> command is intended for extraction of edges for DRC, data manipulation, and plotting. You cannot use <em>geomGetEdge</em><a id="marker-1016157"></a> to generate data for parameter and parasitic extraction.</p>
<p>
<a id="pgfId-1016160"></a><a id="marker-1016159"></a>There is a limit of eight layers the program processes in a single <em>geomGetEdge</em> command. If you exceed this limit, the program aborts during rule compilation and displays an error message. </p>
<p>
<a id="pgfId-1016161"></a>All operations you specify in a single <em>geomGetEdge</em> command are executed at the same time. The program does not preprocess data to extract a layer subset with the defined relationship. Also, the program processes multiple <em>geomGetEdge</em> commands using the same layers at the same time. The result is that additional complex commands can be added for a small increase in run time.</p>
<p>
<a id="pgfId-1016162"></a>If the first layer referenced in the command is connected, its node numbers are propagated to the output layer. A layer is connected if it has been allocated node numbers with a <em>geomConnect</em> command, or any command that propagates node numbers.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016163"></a>pint = geomGetEdge( poly inside tub )</pre>
<p>
<a id="pgfId-1016164"></a>If <em>poly</em> is connected, the layer <em>pint</em> is allocated its node numbers.</p>
<p>
<a id="pgfId-1029824"></a>Serial number are propagated to the output layer.</p>

<h4>
<a id="pgfId-1016165"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016166"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035979"></a> Edge layer name for the output.</p>

<p><strong>
<a id="pgfId-1035984"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035987"></a> Edge or polygon input layer name. This layer can be either a derived layer name or an original graphics layer name. This layer contains the edge segments that are selected and copied to the output layer.</p>

<p><strong>
<a id="pgfId-1035992"></a><code>op</code> <code>opLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1035995"></a> A combination of operator and layer for the initial relationship between edges of inLayer and opLayer. The <em>opLayer</em> must be a polygon layer. Additional op opLayer pairs may be given.</p>
<p class="webflare-indent1">
<a id="pgfId-1016171"></a> You can use the following operators:</p>

<p><strong>
<a id="pgfId-1036003"></a><code>butting</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036006"></a> Edge coincidence between inLayer and opLayer at a point where the areas of the layers do not overlap.</p>

<p><strong>
<a id="pgfId-1036011"></a><code>coincident</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036014"></a> Edge coincidence between inLayer and opLayer at a point where the areas of the layers do overlap.</p>

<p><strong>
<a id="pgfId-1036019"></a><code>outside</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036022"></a> Edges of inLayer that are outside the area of opLayer and are not butting.</p>

<p><strong>
<a id="pgfId-1036027"></a><code>inside</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036030"></a> Edges of inLayer that are inside the area of opLayer and are not coincident.</p>

<p><strong>
<a id="pgfId-1036035"></a><code>not_over</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036038"></a> Edges of inLayer that are outside the area of opLayer, including those conforming to the butting operator.</p>

<p><strong>
<a id="pgfId-1036043"></a><code>over</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036046"></a> Edges of inLayer that are inside the area of opLayer, including those conforming to the coincident operator.</p>

<p>
<a id="pgfId-1023448"></a></p>
<div class="webflare-div-image">
<img width="594" height="201" src="images/chap5-54.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1023450"></a>In the operator descriptions, the word <em>coincident</em> is used generically to denote the sharing of a common edge segment. This should be distinguished from the keyword <em>coincident</em> used specifically to denote coincidence when there is overlapping area at the point of coincidence.</div>

<p><strong>
<a id="pgfId-1032380"></a><code>wholeEdge</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036052"></a> Optional keyword which causes the entire edge from inLayer to be output instead of the sub-edge which is in the specified relationship.</p>

<h4>
<a id="pgfId-1016207"></a>Examples</h4>

<p>
<a id="pgfId-1016208"></a>The following examples illustrate how you can use the <em>geomGetEdge</em> command to extract the sides of gates, possibly for gate length or some other parametric measurement. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016209"></a>gateside = geomGetEdge( gate coincident diff )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016210"></a>ngateside = geomGetEdge( gate coincident diff over nplus )</pre>
<p>
<a id="pgfId-1016211"></a>The following example illustrates extracting a specific edge of diffusion to enable more complex design rule analysis.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016212"></a>diffside = geomGetEdge( diff outside poly over <br />           pwell not_over welltap )</pre>
<p>
<a id="pgfId-1032392"></a>The following figure illustrates a complex layer relationship.</p>

<p>
<a id="pgfId-1032408"></a></p>
<div class="webflare-div-image">
<img width="604" height="212" src="images/chap5-55.gif" /></div>

<p>
<a id="pgfId-1016226"></a>The following figure illustrates the same complex layer relationship with the wholeEdge keyword.</p>

<p>
<a id="pgfId-1017801"></a></p>
<div class="webflare-div-image">
<img width="604" height="212" src="images/chap5-56.gif" /></div>
<h3>
<a id="pgfId-1016231"></a>geom<a id="geomGetPolygon"></a><a id="geomGetPolygon"></a>GetHoled</h3>
<a id="pgfId-1016232"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetHoled( inLayer )</pre>
<h4>
<a id="pgfId-1016234"></a><a id="marker-1016233"></a>Description</h4>

<p>
<a id="pgfId-1016235"></a>The <em>geomGetHoled</em> command selects all polygons from the input layer that contain holes.</p>
<p>
<a id="pgfId-1016236"></a>A hole is an area created when the perimeter of a polygon touches itself, enclosing an area that is not the polygon. These holes are sometimes referred to as &#8220;donut holes.&#8221;</p>
<p>
<a id="pgfId-1016237"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1016238"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016239"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036059"></a> Output layer name. </p>

<p><strong>
<a id="pgfId-1036064"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036067"></a> Input layer name. This layer can be either a derived layer name or a graphics layer name. </p>

<h4>
<a id="pgfId-1016241"></a>Examples</h4>

<p>
<a id="pgfId-1016242"></a>The following examples illustrate the <em>geomGetHoled</em> selection.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016243"></a>holed_metal = geomGetHoled( &quot;aluminum&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016244"></a>holed_diff = geomGetHoled( diffusion )</pre>

<h3>
<a id="pgfId-1016252"></a><a id="67622"></a>geom<a id="geomGetLength"></a>GetLength</h3>
<a id="pgfId-1016254"></a><a id="marker-1016253"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetLength( inLayer length [contiguous] [fig]
[outLayer2 = unselectedEdges] )</pre>
<h4>
<a id="pgfId-1016255"></a>Description</h4>

<p>
<a id="pgfId-1016256"></a>The <em>geomGetLength </em>command selects edges from the input layer by their individual length or by the summed length of a contiguous sequence of edges.<a id="marker-1016257"></a></p>
<p>
<a id="pgfId-1016276"></a>The following figure illustrates the <em>geomGetLength</em> command.</p>

<p>
<a id="pgfId-1017805"></a></p>
<div class="webflare-div-image">
<img width="594" height="150" src="images/chap5-57.gif" /></div>

<p>
<a id="pgfId-1016277"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1016278"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016279"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036074"></a> Edge layer name, or, if you use the<em> fig </em>option, a polygon layer name.</p>

<p><strong>
<a id="pgfId-1036079"></a><code>inLayer</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036082"></a>Polygon or edge layer as an input layer. This layer can be either a derived layer or graphics layer.</p>

<p><strong>
<a id="pgfId-1036087"></a><code>length</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036090"></a>Length an edge or contiguous sequence of edges must have for it to be selected. Specify a value using a limit or inclusive range containing one of the following keywords:</p>

<p>
<a id="pgfId-1028504"></a></p>
<table class="webflareTable" id="#id1028495">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028522"></a>length</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028524"></a>Select the edge or sequence of edges if the length matches the limit or is within the specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028497"></a>keep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028526"></a>Select the edge or sequence of edges if the length matches the limit or is within the specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028501"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028532"></a>Select the edge or sequence of edges if the length does not match the limit or is outside the specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1016284"></a> You can use the following operators with the keywords:</p>
<p class="webflare-indent1">
<a id="pgfId-1016285"></a><code> &lt;<br />&lt;=<br />&gt;<br />&gt;= <br />==</code></p>

<p><strong>
<a id="pgfId-1036099"></a><code>contiguous</code><a id="marker-1016294"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036102"></a> Specifies that the check is not made on the length of individual edges, but on the sum of lengths of contiguous edges. Edges are contiguous if their ends meet at the same coordinate.</p>
<p class="webflare-indent1">
<a id="pgfId-1016296"></a> If you specify this option with a polygon input layer, the perimeter of each polygon is checked. If the polygon has holes, the outside perimeter and the hole perimeter are considered separately.</p>

<p><strong>
<a id="pgfId-1036110"></a><code>fig</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036113"></a> You can specify the optional <em>fig</em> keyword with polygon layer input and/or the <em>contiguous</em> option to generate figure (polygon) output rather than edge output. Without the<em> fig</em> keyword, the program generates individual edges as output regardless of the input format and <em>contiguous</em> option.</p>
<p class="webflare-indent1">
<a id="pgfId-1016298"></a> If the input is a polygon layer and you specify the <em>contiguous</em> option, the length includes the outside perimeter of the polygon plus the perimeter of any holes in the polygon.</p>

<p><strong>
<a id="pgfId-1036121"></a><code>outLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036124"></a> Optional second output layer to receive the inLayer edges which are not written to outLayer. May not be used with the fig option.</p>

<h4>
<a id="pgfId-1016299"></a>Examples</h4>

<p>
<a id="pgfId-1016300"></a>The following examples illustrate the <em>geomGetLength</em> command. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016301"></a>long_poly_edge = geomGetLength( &quot;poly&quot; length &gt; 50 ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016302"></a>long_gate_edge = geomGetLength( gate-side length &gt; 10 <br />                 contiguous )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016303"></a>mid_dfig = geomGetLength( diffn 8 &lt; length &lt; 30 <br />           contiguous fig )</pre>

<h3>
<a id="pgfId-1016331"></a>geom<a id="geomGetNet"></a>GetNet</h3>
<a id="pgfId-1016333"></a><a id="marker-1016332"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetNet( inLayer text [text ...] )</pre>
<h4>
<a id="pgfId-1016334"></a>Description</h4>

<p>
<a id="pgfId-1016335"></a>The <em>geomGetNet</em> command selects shapes from the input layer by the name of the electrical net to which they belong. The program copies from the input layer to the output layer any shape that is part of a net having one of the net names you provide.</p>
<p>
<a id="pgfId-1016336"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1016337"></a>Prerequisites</h4>

<p>
<a id="pgfId-1016338"></a>The input layer you specify must have been previously referenced in a <em>geomConnect </em>command to extract the circuit connectivity. The names of the nets you request with this command must have been defined by pins or text labels.<a id="marker-1016339"></a><a id="marker-1016340"></a></p>

<h4>
<a id="pgfId-1016341"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016342"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036131"></a> Optional polygon layer output name.</p>

<p><strong>
<a id="pgfId-1036136"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036139"></a> Polygon layer for an input layer. This must be a derived layer name since the layer must have been processed by a <em>geomConnect </em>command or be derived from layers processed in a <em>geomConnect</em> statement by commands that retain the net information. <code></code></p>

<p><strong>
<a id="pgfId-1036144"></a><code>text</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036147"></a> Text strings in quotes. Each text string represents the name of a net and must correspond to a pin name or label in the circuit. You can use wildcard characters following Diva verification conventions for using wildcards. (See the &#8220;<a href="chap4.html#50184">Using Wildcards</a>&#8221; section in Chapter 4 of this manual.)</p>

<h4>
<a id="pgfId-1016348"></a>Examples</h4>

<p>
<a id="pgfId-1016349"></a>The following examples illustrate the <em>geomGetNet</em> command. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016350"></a>geomConnect(</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016351"></a>   via( cont metal poly pplus nplus)<br />   label( &quot;text&quot; metal )<br />   ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016352"></a>power_met = geomGetNet( metal &quot;vdd1&quot; &quot;vdd2&quot; ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016353"></a>ground_tie = geomGetNet( nplus &quot;gnd&quot; )</pre>

<h3>
<a id="pgfId-1016355"></a>geom<a id="geomGetNon45"></a>GetNon45</h3>
<a id="pgfId-1016357"></a><a id="marker-1016356"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetNon45( inLayer [fig] )</pre>
<h4>
<a id="pgfId-1016358"></a>Description</h4>

<p>
<a id="pgfId-1016360"></a>The <em>geomGetNon45 </em>command selects edges from the input layer if they are not parallel to the x and y axes of the circuit and are not at an angle of 45 degrees to them. With the<em> fig </em><a id="marker-1016359"></a>option, the shapes are selected if any of the edges conform to the criteria.</p>
<p>
<a id="pgfId-1016361"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1016362"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016363"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036154"></a> Optional polygon or edge layer name as output.</p>

<p><strong>
<a id="pgfId-1036159"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036162"></a> Input layer name. This layer can be either a derived layer name or a graphics layer name. The layer can be either a polygon layer or an edge layer unless the <em>fig</em> option is specified, in which case it must be a polygon layer.</p>

<p><strong>
<a id="pgfId-1036167"></a><code>fig</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036170"></a> Specifies that the figure containing the selected edge is passed to the output rather than the edge itself. This only applies to polygon input layers.</p>

<h4>
<a id="pgfId-1016366"></a>Examples</h4>

<p>
<a id="pgfId-1016367"></a>The following examples illustrate the <em>geomGetNon45</em> selection.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016368"></a>badedge = geomGetNon45( &quot;poly&quot; ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016369"></a>badgate = geomGetNon45( gate fig )</pre>

<h3>
<a id="pgfId-1016371"></a>geom<a id="geomGetAngledEdge"></a>GetNon90</h3>
<a id="pgfId-1016372"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetNon90( inLayer [fig] )</pre>
<h4>
<a id="pgfId-1016373"></a>Description</h4>

<p>
<a id="pgfId-1016375"></a><a id="marker-1016374"></a>The <em>geomGetNon90</em> command selects edges from the &#160;&#160;&#160;&#160;  input layer if they are not parallel to the x and y axes of the circuit. If you specify the <em>fig</em> option, the command selects complete shapes if any of their edges are not parallel to the x and y axes.</p>
<p>
<a id="pgfId-1016376"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1016377"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016378"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036177"></a> Optional output layer name. This is a polygon or edge layer.</p>

<p><strong>
<a id="pgfId-1036182"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036185"></a> Input layer name. This can be either a derived layer name or a graphics layer name. The layer can be either a polygon layer or an edge layer unless you specify the <em>fig</em> option, in which case the layer must be a polygon layer.</p>

<p><strong>
<a id="pgfId-1036190"></a><code>fig</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036193"></a> Specifies that the figure containing the selected edge  is passed to the output rather than to the edge itself. This applies only to polygon input layers.</p>

<h4>
<a id="pgfId-1016381"></a>Examples</h4>

<p>
<a id="pgfId-1016382"></a>The following examples illustrate <em>geomGetNon90</em> selection.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016383"></a>badedge = geomGetNon90( &quot;poly&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016384"></a>badgate = geomGetNon90( gate fig )</pre>

<h3>
<a id="pgfId-1028641"></a><a id="70327"></a>geom<a id="geomGetNonRectangle"></a><a id="geomGetPolygon"></a>GetNon<a id="marker-1028668"></a>Rectangle</h3>
<a id="pgfId-1028643"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetNonRectangle( inLayer [outLayer2 = unselectedShapes] )</pre>
<h4>
<a id="pgfId-1028644"></a>Description</h4>

<p>
<a id="pgfId-1028646"></a>The <em>geomGetNonRectangle</em> command selects all shapes that are not rectangles. This is the reverse of <em>geomGetRectangle</em><a id="marker-1028645"></a>. Equivalent to the <em>geomGetPolygon</em> command.</p>
<p>
<a id="pgfId-1028647"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1028648"></a>Fields</h4>
<p><strong>
<a id="pgfId-1028649"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036200"></a> Output layer name.</p>

<p><strong>
<a id="pgfId-1036205"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036208"></a> Input layer name. This layer can be either a derived layer name or a graphics layer name.</p>

<p><strong>
<a id="pgfId-1036213"></a><code>outLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036216"></a> Optional second output layer name to contain the shapes not selected into <code>outLayer</code>. Must be followed by the assignment operator and the <code>unselectedShapes</code> keyword.</p>

<h4>
<a id="pgfId-1028652"></a>Examples</h4>

<p>
<a id="pgfId-1028653"></a>The following examples illustrate the <em>geomGetNonRectangle</em> selection.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028654"></a>non_rect_cuts = geomGetNonRectangle( &quot;cut&quot; ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028655"></a>complex_gate = geomGetNonRectangle( gate )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028656"></a>polys = geomGetNonRectangle( gate rects = unselectedShapes )</pre>

<h3>
<a id="pgfId-1016387"></a><a id="69771"></a>geom<a id="geomGetPolygon"></a><a id="geomGetPolygon"></a>GetPolygon</h3>
<a id="pgfId-1016389"></a><a id="marker-1016388"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetPolygon( inLayer [outLayer2 = unselectedSHapes] )</pre>
<h4>
<a id="pgfId-1016390"></a>Description</h4>

<p>
<a id="pgfId-1016392"></a>The <em>geomGetPolygon</em> command selects all shapes that are not rectangles. This is the reverse of <em>geomGetRectangle</em><a id="marker-1016391"></a>. Equivalent to the <em>geomGetNonRectangle</em> command.</p>
<p>
<a id="pgfId-1016393"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1016394"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016395"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036223"></a> Output layer name.</p>

<p><strong>
<a id="pgfId-1036228"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036231"></a> Input layer name. This layer can be either a derived layer name or a graphics layer name.</p>

<p><strong>
<a id="pgfId-1036236"></a><code>outLayer2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036239"></a> Optional second output layer name to contain the shapes not selected into <code>outLayer</code>. Must be followed by the assignment operator and the <code>unselectedShapes</code> keyword.</p>

<h4>
<a id="pgfId-1016397"></a>Examples</h4>

<p>
<a id="pgfId-1016398"></a>The following examples illustrate the <em>geomGetPolygon</em> selection.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016399"></a>non_rect_cuts = geomGetPolygon( &quot;cut&quot; ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016400"></a>complex_gate = geomGetPolygon( gate )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028637"></a>polys = geomGetPolygon( gate rects = unselectedShapes )</pre>

<h3>
<a id="pgfId-1030694"></a><a id="21951"></a>geom<a id="geomGetRectangle"></a>GetRectangle</h3>
<a id="pgfId-1030696"></a><a id="marker-1030695"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetRectangle( inLayer [length_limit] [width_limit] [ignore] [swap])</pre>
<h4>
<a id="pgfId-1021325"></a>Description</h4>

<p>
<a id="pgfId-1016430"></a>The <em>geomGetRectangle</em> command selects all rectangles on the input layer whose edges are not only parallel to the axes, but also satisfy the optional length and width limits; it then copies them to the output layer.<a id="marker-1016429"></a></p>
<p>
<a id="pgfId-1016431"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1016432"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016433"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036246"></a> Output layer name. This is a polygon layer.</p>

<p><strong>
<a id="pgfId-1036251"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036254"></a> Input layer. This layer can be either a derived layer name or a graphics layer name. <code></code></p>

<p><strong>
<a id="pgfId-1036259"></a><code>length_limit</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036262"></a> Length of the long axis of the rectangle. If specified, only rectangles that have a length that satisfies the limit are selected. Specify the limit or inclusive range containing the keyword length and one or two constants with the following operators:</p>
<p class="webflare-indent1">
<a id="pgfId-1026263"></a><code> &lt;<br />&lt;=<br />&gt;<br />&gt;=<br />==</code></p>

<p><strong>
<a id="pgfId-1036270"></a><code>width_limit</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036273"></a> Length of the short axis of the rectangle. If specified, only rectangles that have a width that satisfies the limit are selected. Specify the limit or inclusive range containing the keyword width and one or two constants with the following operators:</p>
<p class="webflare-indent1">
<a id="pgfId-1026265"></a><code> &lt;<br />&lt;=<br />&gt;<br />&gt;=<br />==</code></p>

<p><strong>
<a id="pgfId-1036281"></a><code>ignore</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036284"></a> An optional keyword that reverses the behavior of the command. Rectangles that would normally be selected are ignored and those that would be ignored are selected. Use of this keyword requires one or both of length_limit and width_limit.</p>

<p><strong>
<a id="pgfId-1036289"></a><code>swap</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036292"></a> An optional keyword that causes rectangles which fail the limit test to be retested with the width and length values exchanged. Use of this keyword requires one or both of length_limit and width_limit.</p>

<h4>
<a id="pgfId-1026267"></a>Examples</h4>

<p>
<a id="pgfId-1026268"></a>The following examples illustrate the <em>geomGetRectangle</em> selection.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026269"></a>rect_cuts = geomGetRectangle( &quot;cut&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026270"></a>simple_gate = geomGetRectangle( gate )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026271"></a>small_cuts = geomGetRectangle( &quot;cut&quot; length &lt; 2 )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1026272"></a>large_cuts = geomGetRectangle( &quot;cut&quot; length &lt; 2 ignore )</pre>

<h3>
<a id="pgfId-1016441"></a>geom<a id="geomGetTexted"></a>GetTexted</h3>
<a id="pgfId-1016443"></a><a id="marker-1016442"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetTexted( inLayer textLayer text [text ...] )</pre>
<h4>
<a id="pgfId-1016444"></a>Description</h4>

<p>
<a id="pgfId-1016446"></a>The<em> geomGetTexted</em> command selects shapes from the input layer by the value of labels placed on them. Shapes are selected by the program if the origin of the label is over the area of the shape.<a id="marker-1016447"></a></p>
<p>
<a id="pgfId-1016449"></a>The program selects polygons on <em>inLayer</em> for inclusion on <em>outLayer</em> if they contain within their boundaries the origin point of any label on <em>textLayer</em> with the text string specified. The command might miss a polygon that has the origin of a label on its boundary.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032903"></a>Pin shapes are not considered labels by this command.</div>
<p>
<a id="pgfId-1016496"></a>The following figure illustrates the <em>geomGetTexted</em> command.</p>

<p>
<a id="pgfId-1017806"></a></p>
<div class="webflare-div-image">
<img width="594" height="184" src="images/chap5-58.gif" /></div>

<p>
<a id="pgfId-1016497"></a>Optimization is performed by processing in parallel all <em>geomGetTexted</em> and<em> geomGetUnTexted </em>commands having the same input and text layers.</p>
<p>
<a id="pgfId-1016498"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1016499"></a>
Be careful when you use the text selection commands with incremental processing. If the shapes cross the incremental region, the labels might be inside the shape but outside the region and be ignored by the command.</div>
<h4>
<a id="pgfId-1016500"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016501"></a><code>outlayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036299"></a> Polygon output layer name.</p>

<p><strong>
<a id="pgfId-1036304"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036307"></a> Polygon input layer name. This layer can be either a derived layer name or a graphics layer name. </p>

<p><strong>
<a id="pgfId-1036312"></a><code>textLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036321"></a> The original graphics layer containing the text strings to be used.</p>
<p class="webflare-indent1">
<a id="pgfId-1016504"></a> The layer definition can have two formats:</p>

<p>
<a id="pgfId-1018986"></a></p>
<table class="webflareTable" id="#id1018857">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018859"></a><code>&quot;layer&quot;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018861"></a>The labels areaccessed from this layer with purpose <em>drawing</em>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018863"></a><code>(&quot;layer&quot; &quot;purpose&quot;)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018865"></a>If you specify a purpose, such as <em>pin</em> or <em>text</em>, the labels are accessed from that layer purpose. If you define the purpose as <em>all</em>, the labels are accessed from all purposes of the layer.</p>
</td>
</tr>
</tbody></table>
<p><strong>
<a id="pgfId-1016507"></a><code>text</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036330"></a> Text strings, each enclosed in quotes. If any one or more of the text strings you specify is the value of a label on the <em>textLayer</em>, and the label origin is on a shape of the input layer, that shape is selected by the program.</p>
<p class="webflare-indent1">
<a id="pgfId-1016508"></a> The characters you use in text strings can be any characters the graphics editor allows you to place in a label. You can use wildcard characters following the Diva verification conventions for wildcards. (See the section, &#8220;<a href="chap4.html#50184">Using Wildcards</a>&#8221; in Chapter 4 of this manual.)</p>
<p class="webflare-indent1">
<a id="pgfId-1016512"></a>Each string can have multiple instances; each instance of a string selects a different polygon for a single <em>geomGetTexted</em> command. Each instance of a string can be used by multiple <em>geomGetTexted</em> commands to select from different layers. A single shape on an input layer can be selected multiple times by different strings in multiple <em>geomGetTexted</em> commands.</p>

<h4>
<a id="pgfId-1016513"></a>Examples</h4>

<p>
<a id="pgfId-1016514"></a>The following examples illustrate the <em>geomGetTexted </em>command. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016515"></a>resistor = geomGetTexted( &quot;polysilicon&quot; &quot;text&quot; &quot;res&quot; ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016516"></a>all_res = geomGetTexted( &quot;polysilicon&quot; &quot;text&quot; &quot;res1&quot; &quot;res2&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016517"></a>diode = geomGetTexted( base &quot;mytext&quot; &quot;d&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016518"></a>metlab = geomGetTexted( ( &quot;metal&quot; &quot;label&quot; ) &quot;clock*&quot; )</pre>

<h3>
<a id="pgfId-1025912"></a><a id="11449"></a>geomGetUn<a id="marker-1025911"></a>Holed</h3>
<a id="pgfId-1025913"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetUnHoled( inLayer )</pre>
<h4>
<a id="pgfId-1025915"></a><a id="marker-1025914"></a>Description</h4>

<p>
<a id="pgfId-1025916"></a>The <em>geomGetUnHoled</em> command selects all shapes from the input layer that do not contain holes.</p>
<p>
<a id="pgfId-1025917"></a>A hole is an area created when the perimeter of a polygon touches itself, enclosing an area that is not the polygon. You sometimes refer to these holes as &#8220;donut holes.&#8221;</p>
<p>
<a id="pgfId-1025918"></a>This command maintains the serial and net number of those shapes which are copied from the input layer to the output layer.</p>

<h4>
<a id="pgfId-1025919"></a>Fields</h4>
<p><strong>
<a id="pgfId-1025920"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036343"></a> Output layer name. </p>

<p><strong>
<a id="pgfId-1036348"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036351"></a> Input layer name. This layer can be either a derived layer name or a graphics layer name. </p>

<h4>
<a id="pgfId-1025922"></a>Examples</h4>

<p>
<a id="pgfId-1028828"></a>The following examples illustrate the <em>geomGetUnHoled</em> command.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1028829"></a>unholed_metal = geomGetUnHoled( &quot;aluminum&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1028830"></a>unholed_diff = geomGetUnHoled( diffusion )</pre>

<p>
<a id="pgfId-1028856"></a>The following example illustrates finding the innermost empty hole:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1028857"></a>innermostEmpty = geomGetUnHoled(geomHoles(m1 voids))</pre>

<p>
<a id="pgfId-1025923"></a>The following example illustrates finding the innermost hole which may, or may not, contain shapes:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025925"></a>innermost = geomGetUnHoled(geomHoles(geomGetHoled(m1) voids))</pre>
<h3>
<a id="pgfId-1016521"></a>geom<a id="geomGetUnTexted"></a>GetUnTexted</h3>
<a id="pgfId-1016523"></a><a id="marker-1016522"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetUnTexted( inLayer textLayer text [text ...] )</pre>
<h4>
<a id="pgfId-1016524"></a>Description</h4>

<p>
<a id="pgfId-1016525"></a>The <em>geomGetUnTexted</em> command selects input layer shapes that<em> do not </em>have certain text strings. Shapes <em>are not </em>selected if the origin of the text string is over the area of the shape or on any of its edges.</p>
<p>
<a id="pgfId-1016527"></a>Polygons on<em> inLayer </em>are copied to <em>outLayer</em> if they do not contain within or on their boundaries the origin point of any text item or text layer consisting of<em> text </em>string.</p>
<p>
<a id="pgfId-1016553"></a>The following figure illustrates the <em>geomGetUnTexted</em> command.</p>

<p>
<a id="pgfId-1017807"></a></p>
<div class="webflare-div-image">
<img width="594" height="170" src="images/chap5-59.gif" /></div>

<p>
<a id="pgfId-1016554"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1016555"></a>
Be careful when you use the text selection commands with incremental processing. If the shapes cross the incremental region, the text labels might be inside the shape but outside the region and be ignored by Diva verification.</div>
<h4>
<a id="pgfId-1016556"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016557"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036358"></a> Optional polygon layer output name.</p>

<p><strong>
<a id="pgfId-1036363"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036366"></a> Polygon layer as an input layer name. This layer can be either a derived layer name or a graphics layer name.</p>

<p><strong>
<a id="pgfId-1036371"></a><code>textLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036374"></a> Graphics layer containing the text strings.</p>

<p><strong>
<a id="pgfId-1036379"></a><code>text</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036382"></a> Text strings, each enclosed in quotes. If any one or more of the text strings you specify is on the <em>textLayer</em>, and the text string origin is on a shape of the input layer, that shape is not selected by Diva.</p>
<p class="webflare-indent1">
<a id="pgfId-1016561"></a> The characters you use in text strings can be any characters that the graphics editor lets you place in a label. You can use wildcard characters following Diva verification conventions for using wildcards. (See the section, &#8220;<a href="chap4.html#50184">Using Wildcards</a>&#8221; in Chapter 4 of this manual.)</p>

<h4>
<a id="pgfId-1016565"></a>Examples</h4>

<p>
<a id="pgfId-1016566"></a>The following examples illustrate the <em>geomGetUnTexted </em>command. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016567"></a>non_PG = geomGetUnTexted( &quot;metal&quot; &quot;text&quot; &quot;vdd&quot; &quot;vss&quot; ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016568"></a>collector = geomGetUnTexted( ndiff &quot;mytext&quot; &quot;e&quot; )</pre>

<h3>
<a id="pgfId-1016574"></a><a id="87806"></a>geom<a id="geomGetVertex"></a>GetVertex</h3>
<a id="pgfId-1016576"></a><a id="marker-1016575"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomGetVertex( inLayer limits )</pre>
<h4>
<a id="pgfId-1016577"></a>Description</h4>

<p>
<a id="pgfId-1016579"></a>The <em>geomGetVertex </em>command selects all shapes on the input layer that have a vertex count matching the limit or within the range you specify in the <em>limits</em><a id="marker-1016578"></a><a id="marker-1016580"></a> argument.</p>
<p>
<a id="pgfId-1016581"></a>This command maintains the serial and net numbers of shapes in the output layer.</p>

<h4>
<a id="pgfId-1016582"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016583"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036392"></a> Output layer name. This is a polygon layer.</p>

<p><strong>
<a id="pgfId-1036397"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036400"></a> Input layer name. This layer can be either a derived layer name or a graphics layer name. <code></code></p>

<p><strong>
<a id="pgfId-1036405"></a><code>limits</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036408"></a> Limits specifies the number of vertices a shape must have before it is selected by Diva. Specify the value by using a<em> limit</em> or <em>range</em> containing one keyword. The options are as follows:</p>

<p>
<a id="pgfId-1018989"></a></p>
<table class="webflareTable" id="#id1018883">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018885"></a><code>keep</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018887"></a>Select the shape if the number of vertices equals the limit or is within your specified range.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018889"></a><code>ignore</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018891"></a>Reject the shape if the number of vertices equals the limit or is within your specified range.</p>
</td>
</tr>
</tbody></table>

<p class="webflare-indent1">
<a id="pgfId-1016588"></a> You can use the following operators with the keywords:</p>
<p class="webflare-indent1">
<a id="pgfId-1016589"></a><code> &lt;<br />&lt;=<br />&gt;<br />&gt;=<br />==</code></p>
<p class="webflare-indent1">
<a id="pgfId-1016594"></a> You can use the following limit specifications:</p>
<p class="webflare-indent1">
<a id="pgfId-1016595"></a><code> keep == 6 <br />ignore &lt; 4<br />6 &lt; keep &lt; 10<br />5 &lt;= ignore &lt;= 8</code></p>

<h4>
<a id="pgfId-1016599"></a>Examples</h4>

<p>
<a id="pgfId-1016600"></a>The following examples illustrate the <em>geomGetVertex</em> selection.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016601"></a>triangles = geomGetVertex( &quot;poly&quot; keep &lt; 4 ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027237"></a>l_gates = geomGetVertex( gate keep == 6 )</pre>

<h3>
<a id="pgfId-1032686"></a><a id="86845"></a>geom<a id="marker-1032729"></a>SelectEdge</h3>
<a id="pgfId-1032687"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer =] geomSelectEdge( inLayer [length range] angle1(range [length range])
[angle2(range [length range])] )</pre>
<h4>
<a id="pgfId-1032689"></a><a id="marker-1032688"></a>Description</h4>

<p>
<a id="pgfId-1032690"></a>The <em>geomSelectEdge</em> command selects edges based on their characteristics and those of their adjacent edges. The primary characteristic is the inside angle formed between the edge and it&#8217;s adjacent edges. The length of the edge and the adjacent edges may also be considered.</p>
<p>
<a id="pgfId-1032785"></a>For each input edge, the command finds the adjacent edges which form the smallest inside angle with the input edge. The angle1 and angle2 measurements are made using these edges. If length ranges are given for the adjacent edges, they are measured and associated with their respective angles. If an adjacent edge is not present, the angle and length are considered to be zero. The angles and lengths are compared against the <em>angle1</em> and <em>angle2</em> ranges given. If they do not meet the criteria, they are exchanged and compared again. If the first or second comparison succeeds, the edge is selected unless the edge itself does not meet the optional length range.</p>
<p>
<a id="pgfId-1032692"></a>The output layer will be an edge layer. Serial and net numbers from <em>inLayer</em> are preserved.</p>

<h4>
<a id="pgfId-1032693"></a>Fields</h4>
<p><strong>
<a id="pgfId-1032694"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036423"></a> Name of the layer to select edges from. This layer may be a shape or an edge layer.</p>

<p><strong>
<a id="pgfId-1036428"></a><code>length</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036431"></a> A keyword introducing a range. The length of the edge must satisfy the condition of the range for the edge to be selected. When used within the <em>angle1</em> or <em>angle2</em> parameters, the length of the adjacent edge is used.</p>

<p><strong>
<a id="pgfId-1036436"></a><code>range</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036439"></a> A standard range specification using <em>keep</em> or <em>ignore</em>. Angles are measured in degrees. Lengths are measured in user units.</p>

<p><strong>
<a id="pgfId-1036447"></a><code>angle1</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036450"></a> Required keyword introducing the first adjacent edge relationship to be tested. The range is the inside angle between the edge and the adjacent edge.</p>

<p><strong>
<a id="pgfId-1036458"></a><code>angle2</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036464"></a> Optional keyword introducing the second adjacent edge relationship to be tested. The range is the inside angle between the edge and the adjacent edge. If not given, any adjacent edge is considered to be in the proper relationship.</p>

<h4>
<a id="pgfId-1032700"></a>Examples</h4>

<p>
<a id="pgfId-1032821"></a>Select the edges greater than eight units in length which have obtuse angles at each end.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032822"></a>geomSelectEdge(data length keep &gt; 8 angle1(keep &gt; 90) angle2(keep &gt; 90))</pre>

<p>
<a id="pgfId-1032848"></a>Select the edges which have an acute angle at either end.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032823"></a>geomSelectEdge(data angle1(keep &lt; 90))</pre>

<p>
<a id="pgfId-1032852"></a>Select the edges of any length that have right angles at both ends where one of the adjacent edges is exactly one unit in length and the other is greater than one unit in length.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032830"></a>geomSelectEdge(data angle1(keep == 90 length keep == 1)
&#160;&#160;&#160;&#160;angle2(keep == 90 length keep &gt; 1))</pre>

<p>
<a id="pgfId-1032856"></a>Select the edges which lack one or more adjacent edges. This is only possible with an edge input layer. Note the use of the length range. Diva does not allow zero length edges, so even if the edge layer were produced in a way that created a top and a bottom edge forming an angle of zero, this would work as intended.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032835"></a>geomSelectEdge(rslt6 angle1(keep == 0 length keep == 0))</pre>
<h3>
<a id="pgfId-1027353"></a><a id="13286"></a>geomSepInside</h3>
<a id="pgfId-1027354"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomSepInside( device distance tie well [anyOutside|allOutside] )</pre>
<h4>
<a id="pgfId-1027356"></a><a id="marker-1027355"></a>Description</h4>

<p>
<a id="pgfId-1027357"></a>The <em>geomSepInside</em> command selects shapes, or portions of shapes, from the device layer that are more than the specified distance from shapes on the tie layer. Distance measurements are constrained to be within the well layer.</p>
<p>
<a id="pgfId-1027358"></a>This command is effectively a geomSizeInTub followed by a geomOutside or geomAndNot, as determined by the optional keywords.</p>
<p>
<a id="pgfId-1027423"></a>Serial and net numbers from the device layer are preserved.</p>

<h4>
<a id="pgfId-1027359"></a>Fields</h4>
<p><strong>
<a id="pgfId-1027360"></a><code>device</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036471"></a> Name of a layer to select shapes from. In a latch up check, this is the device recognition layer, sometimes with the source and drain diffusion regions included, depending on foundry requirements.</p>

<p><strong>
<a id="pgfId-1036476"></a><code>distance</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036479"></a> The distance within which every device layer shape must be of one or more tie layer shapes. This distance is measured within shapes on the well layer by wrapping around corners.</p>

<p><strong>
<a id="pgfId-1036484"></a><code>tie</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036487"></a> Name of a layer to measure distance to device layer shapes. In a latch up check, this is the layer used to connect the well to a power rail.</p>

<p><strong>
<a id="pgfId-1036499"></a><code>well</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036502"></a> Name of a layer describing the area within which tie layer shapes are recognized and which bounds the distance measurement. In a latch up check, this is the well the device layer shapes are contained in.</p>

<p><strong>
<a id="pgfId-1036515"></a><code>anyOutside</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036518"></a> Optional keyword causing selection of the portion of any device layer shape which is beyond the specified distance from all tie layer shapes. May not be used with the allOutside keyword. This is the default.</p>

<p><strong>
<a id="pgfId-1036529"></a><code>allOutside</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036532"></a> Optional keyword causing selection of any device layer shape with no portion of it&#8217;s area within the specified distance. May not be used with the anyOutside keyword.</p>

<h4>
<a id="pgfId-1027366"></a>Examples</h4>

<p>
<a id="pgfId-1027367"></a>The following examples illustrate the <em>geomSepInside</em> command.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027368"></a>err1 = geomSepInside(nmos 50 ptie pwell anyOutside)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027369"></a>err2 = geomSepInside(nmos 50 ptie pwell allOutside)</pre>

<p>
<a id="pgfId-1027370"></a>Which are equivalent to the following commands:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027371"></a>err1 = geomAndNot(nmos geomSizeInTub(ptie pwell 50 32 edge))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027372"></a>err2 = geomOutside(nmos geomSizeInTub(ptie pwell 50 32 edge))</pre>
<h3>
<a id="pgfId-1027239"></a><a id="marker-1027238"></a><a id="63900"></a>geomSepOutside</h3>
<a id="pgfId-1027240"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomSepOutside( device distance tie well [anyOutside|allOutside] )</pre>
<h4>
<a id="pgfId-1027214"></a><a id="marker-1027213"></a>Description</h4>

<p>
<a id="pgfId-1027215"></a>The <em>geomSepOutside</em> command selects shapes, or portions of shapes, from the device layer that are more than the specified distance from shapes on the tie layer. Distance measurements are constrained to be outside the well layer.</p>
<p>
<a id="pgfId-1027265"></a>This command is effectively a geomSizeInTub followed by a geomOutside or geomAndNot, as determined by the optional keywords.</p>
<p>
<a id="pgfId-1027421"></a>Serial and net numbers from the device layer are preserved.</p>

<h4>
<a id="pgfId-1027218"></a>Fields</h4>
<p><strong>
<a id="pgfId-1027219"></a><code>device</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036544"></a> Name of a layer to select shapes from. In a latch up check, this is the device recognition layer, sometimes with the source and drain diffusion regions included, depending on foundry requirements.</p>

<p><strong>
<a id="pgfId-1036549"></a><code>distance</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036552"></a> The distance within which every device layer shape must be of one or more tie layer shapes. This distance is measured outside shapes on the well layer by wrapping around corners.</p>

<p><strong>
<a id="pgfId-1036557"></a><code>tie</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036560"></a>Name of a layer to measure distance to device layer shapes. In a latch up check, this is the layer used to connect the substrate to a power rail.</p>

<p><strong>
<a id="pgfId-1036568"></a><code>well</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036571"></a> Name of a layer describing the area outside of which tie layer shapes are recognized and which bounds the distance measurement. In a latch up check, this is the well the device layer shapes are not contained in.</p>

<p><strong>
<a id="pgfId-1036579"></a><code>anyOutside</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036582"></a> Optional keyword causing selection of the portion of any device layer shape which is beyond the specified distance from all tie layer shapes. May not be used with the allOutside keyword. This is the default.</p>

<p><strong>
<a id="pgfId-1027286"></a><code>allOutside</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036592"></a> Optional keyword causing selection of any device layer shape with no portion of it&#8217;s area within the specified distance. May not be used with the anyOutside option.</p>

<h4>
<a id="pgfId-1027221"></a>Examples</h4>

<p>
<a id="pgfId-1027310"></a>The following examples illustrate the <em>geomSepOutside</em> command.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027311"></a>err1 = geomSepOutside(pmos 50 ntie pwell anyOutside)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027312"></a>err2 = geomSepOutside(pmos 50 ntie pwell allOutside)</pre>

<p>
<a id="pgfId-1027325"></a>Which are equivalent to the following commands:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027299"></a>err1 = geomAndNot(pmos geomSizeInTub(ntie geomNot(pwell) 50 32 edge))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027304"></a>err2 = geomOutside(pmos geomSizeInTub(ntie geomNot(pwell) 50 32 edge))</pre>
<h2>
<a id="pgfId-1027296"></a>Generation Commands<a id="Generation Functions"></a></h2>

<p>
<a id="pgfId-1016606"></a>Generation commands let you <a id="marker-1016605"></a>generate geometric shapes from areas that are not drawn geometries. You can also supplement text labels on temporary layers for subsequent checking.</p>

<h3>
<a id="pgfId-1031995"></a>geom<a id="geomBkgnd"></a>Empty<a id="marker-1031994"></a></h3>
<a id="pgfId-1016632"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomEmpty( )</pre>
<h4>
<a id="pgfId-1016633"></a>Description</h4>

<p>
<a id="pgfId-1016634"></a>The <em>geomEmpty </em>command generates an empty derived polygon layer. You can use an empty layer in any command in which you can specify a normal derived polygon layer.</p>
<p>
<a id="pgfId-1016635"></a>You can use this command to ensure that all branches in the flow of the rules file generate a specific layer so that subsequent rules do not fail because of a missing layer.</p>

<h4>
<a id="pgfId-1016636"></a>Field</h4>
<p><strong>
<a id="pgfId-1016637"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036602"></a> Name for the <em>geomEmpty</em> output layer.</p>

<h4>
<a id="pgfId-1016638"></a>Example</h4>

<p>
<a id="pgfId-1016639"></a>In the following example, the <em>lay1</em> layer is defined early in the rules and is used for various commands. The layer is redefined in <em>ivIf</em> branching. The <em>then</em> branch creates a new layer, and the <em>else</em> branch creates an empty layer. </p>
<p>
<a id="pgfId-1016640"></a>If you do not define <em>lay1</em> early in the rules, the<em> geomEmpty</em> command is not needed. Diva detects that <em>lay1</em> is only generated in one branch of an <em>ivIF</em> switch, and Diva automatically generates an empty <em>lay1</em> layer in the other branch.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016641"></a>lay1 = geomAnd( lay2, lay3 )<br />....<br />....<br />ivIf( switch( &quot;A&quot; )<br />   then<br />      lay1 = geomAnd( lay4, lay5 )<br />      ....<br />   else<br />      lay1 = geomEmpty()<br />      ....<br />
)</pre>

<h3>
<a id="pgfId-1021689"></a><a id="marker-1021688"></a>geom<a id="marker-1021712"></a>Extent</h3>
<a id="pgfId-1021690"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outlayer=] geomExtent( inLayer [fig] )</pre>
<h4>
<a id="pgfId-1021691"></a>Description</h4>

<p>
<a id="pgfId-1021692"></a>The <em>geomExtent</em> command provides extent information about a layer. It generates a single rectangle that bounds all the shapes on the layer. Or, with the <em>fig</em> option, it generates a bounding rectangle for each shape.</p>

<h4>
<a id="pgfId-1021693"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1021694"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036609"></a> Layer name for the <em>geomExtent</em> output. <em>outLayer</em> contains a rectangle that is the bounding box around the data on <em>inLayer</em>.</p>

<p><strong>
<a id="pgfId-1036614"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036617"></a> Input layer name. This layer can be either a derived layer or a graphics layer.</p>

<p><strong>
<a id="pgfId-1036622"></a><code>fig</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036625"></a> A keyword to change the output from a single rectangle bounding all shapes on the input layer to bounding rectangles for each shape on the input layer.</p>

<h4>
<a id="pgfId-1021697"></a>Examples</h4>

<p>
<a id="pgfId-1021698"></a>The following examples show the basic use of the command.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1021699"></a>m1e = geomExtent(m1)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1021700"></a>m1se = geomExtent(m1 fig)</pre>

<p>
<a id="pgfId-1021701"></a>The following example shows how to use <em>geomExtent</em> in place of the <em>geomBkgnd</em> command when only certain layers should contribute to the background.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1021702"></a>bkgnd = geomEmpty()<br />foreach( layer list( &quot;well&quot; &quot;diff&quot; &quot;poly&quot; &quot;cont&quot; &quot;met1&quot; &quot;via1&quot; &quot;met2&quot; )<br />sprintf(cmd &quot;bkgnd = geomOr(bkgnd geomExtent(%s))&quot; layer) <br />evalstring(cmd)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1021686"></a>)<br />bkgnd = geomExtent(bkgnd)<br />bkgnd = geomSize(bkgnd 2)</pre>
<h3>
<a id="pgfId-1027735"></a><a id="marker-1027733"></a><a id="16391"></a>geomGetBBox</h3>
<a id="pgfId-1027736"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outlayer=] geomGetBBox( inLayer [length] [width] [outputInLayer|outputCenterMark] )</pre>
<h4>
<a id="pgfId-1027737"></a>Description</h4>

<p>
<a id="pgfId-1027738"></a>The <em>geomGetBBox</em> command calculates the bounding box of the shapes on inLayer, compares the dimensions against the optional limits, then writes the selected shapes to outLayer.</p>

<h4>
<a id="pgfId-1027739"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1027740"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036632"></a> Layer name for the output. <em>outLayer</em> contains a shape for each shape selected from inLayer. By default, the bounding box of each selected shape is written.</p>

<p><strong>
<a id="pgfId-1036637"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036640"></a> Input layer name. This layer can be either a derived layer or a graphics layer.</p>

<p><strong>
<a id="pgfId-1036645"></a><code>length, width</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036648"></a> Optional qualifiers you can use to select shapes from inLayer.</p>

<p class="webflare-indent2">
<a id="pgfId-1027823"></a> You can use the following operators with the length and width keywords:</p>
<p class="webflare-indent2">
<a id="pgfId-1027797"></a><code> &lt;
&lt;=
&gt;
&gt;=
==</code></p>
<p class="webflare-indent2">
<a id="pgfId-1027798"></a> You can use the following limit specifications:</p>
<p class="webflare-indent2">
<a id="pgfId-1027799"></a><code> length == 6 
width&lt; 2
2 &lt; length &lt; 5
3 &lt;= width &lt;= 7</code></p>
<p><strong>
<a id="pgfId-1027857"></a><code>outputInLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036657"></a> Optional keyword that copies the selected shapes to outLayer. If inLayer is connected, the nodal information will be copied to outLayer. If inLayer is raw, outLayer will be raw.</p>

<p><strong>
<a id="pgfId-1036671"></a><code>outputCenterMark</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036674"></a> Optional keyword that creates a small rectangle on outLayer in the center of the bounding box for each shape selected from inLayer. The rectangle will be centered on the mathematical center of the bounding box.</p>
<p class="webflare-indent1">
<a id="pgfId-1027866"></a> The dimensions of the center marker will be determined by the on-grid state of the center point along each axis. If the center point is on-grid along an axis, the marker will be six Diva internal units along that axis. If the center point is off-grid along an axis, the marker will be five Diva internal units along that axis.</p>

<h4>
<a id="pgfId-1027742"></a>Examples</h4>

<p>
<a id="pgfId-1027744"></a>This example selects shapes that are very long, but narrow:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1027745"></a>shapes = geomGetBBox(met1 length &gt; 300 width &lt; 10 outputInLayer)</pre>
<p>
<a id="pgfId-1027747"></a>This example checks that shapes on two layers are centered on each other:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028987"></a>cp1 = geomGetBBox(met1 outputCenterMark)<br />cp2 = geomGetBBox(met2 outputCenterMark)<br />err = geomEnclose(met2 geomXor(cp1 cp2))<br />saveDerived(err &quot;met1 not centered on met2&quot;)</pre>

<h3>
<a id="pgfId-1032474"></a><a id="75807"></a>geomGetLayerBBox<a id="marker-1032591"></a></h3>
<a id="pgfId-1032475"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outlayer=] geomGetLayerBBox( [inLayer ...] )</pre>
<h4>
<a id="pgfId-1032476"></a>Description</h4>

<p>
<a id="pgfId-1032509"></a>Creates a derived polygon layer containing a rectangle that represents the bounding box of all shapes on the input layers. Input layers can be original or derived, polygon or edge layers. <em>geomGetLayerBBox</em> differs from the <em>geomGetBBox</em> command, which outputs a bounding box for each shape of the input layer, instead of one bounding box for the layers as a whole.</p>
<p>
<a id="pgfId-1032535"></a>If the bounding box length or width is less than 5 dbu (for example, an input of colinear horizontal edges), then the output dimension is extended to 5 dbu. If the input layer is empty, then the result is also an empty layer.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032516"></a>If you do not specify any arguments, then <em>geomGetLayerBBox</em> produces the same result as the <em>geomBkgnd(0)</em> command.</div>

<h4>
<a id="pgfId-1032478"></a>Arguments</h4>
<p><strong>
<a id="pgfId-1032479"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036690"></a> Layer name for the <em>geomGetLayerBBox</em> output. <em>outLayer</em> contains a rectangle that is the bounding box around the data on the input layers.</p>

<p><strong>
<a id="pgfId-1036695"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036698"></a> Optional input layer name or names. This layer or list of layers can be either derived layer or graphics layers, or a combination of both.</p>

<h4>
<a id="pgfId-1032482"></a>Examples</h4>

<p>
<a id="pgfId-1032483"></a>The following example shows the basic uses of the command.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032484"></a>bkgnd = geomGetLayerBBox()</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032485"></a>m1e = geomGetLayerBBox(m1)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032583"></a>mete = geomGetLayerBBox(m1 m2 m3)</pre>
<h3>
<a id="pgfId-1028991"></a><a id="25324"></a>geom<a id="geomHoles"></a>Ho<a id="marker-1029010"></a>les</h3>
<a id="pgfId-1028993"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomHoles( inLayer [voids|innermost|innermostEmpty]
[area] [length] [width] [extent(length width)] )</pre>
<h4>
<a id="pgfId-1016647"></a>Description</h4>

<p>
<a id="pgfId-1020836"></a>The<em> geomHoles</em> command generates shapes consisting of all the holes in shapes of the input layer. A hole is an area created when the perimeter of a polygon touches itself, enclosing an area that is not the polygon. These are sometimes referred to as &#8220;donut holes.&#8221;<a id="marker-1020835"></a><a id="marker-1020837"></a></p>
<p>
<a id="pgfId-1020838"></a>The command finds holes on a per shape basis. If a shape exists within the hole of another shape, there is no accounting for the enclosed shape. See the lower left hole in the figure below.To change this behavior, use the <em>voids</em> keyword.</p>
<p>
<a id="pgfId-1020742"></a>The following figure illustrates <em>geomHoles</em> generation without the voids option.</p>

<p>
<a id="pgfId-1017808"></a></p>
<div class="webflare-div-image">
<img width="590" height="180" src="images/chap5-60.gif" /></div>
<h4>
<a id="pgfId-1016669"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016670"></a><code>outLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036705"></a> Layer name for the <em>geomHoles</em> output.</p>

<p><strong>
<a id="pgfId-1036710"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036713"></a> Input layer name. This layer can be either a derived layer or a graphics layer.</p>

<p><strong>
<a id="pgfId-1036718"></a><code>innermost</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036721"></a> An optional keyword used to find holes which do not contain shapes with holes. The holes returned may contain shapes without holes. May not be used with <em>innermostEmpty</em> or <em>voids</em>.</p>

<p><strong>
<a id="pgfId-1036726"></a><code>innermostEmpty</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036729"></a> An optional keyword used to find holes which do not contain any shapes. May not be used with <em>innermost</em> or <em>voids.</em></p>

<p><strong>
<a id="pgfId-1036734"></a><code>voids</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036737"></a> With this optional keyword, a hole is defined as an area enclosed by a shape which is not covered by any shape. The following figure illustrates <em>geomHoles</em> generation when the <em>voids</em> keyword is used.</p>

<p>
<a id="pgfId-1020749"></a></p>
<div class="webflare-div-image">
<img width="590" height="180" src="images/chap5-61.gif" /></div>
<p><strong>
<a id="pgfId-1028894"></a><code>length</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036747"></a> Length of the long axis of the bounding box of the hole. If specified, only holes that have a length that satisfies the limit are selected. Must be used when the <em>width</em> limit is used. May not be used with the <em>area</em> limit.</p>
<p class="webflare-indent1">
<a id="pgfId-1028928"></a> Specify the limit or inclusive range containing the keyword <em>length</em> and one or two constants with the following operators:</p>
<p class="webflare-indent1">
<a id="pgfId-1028895"></a><code> &lt;<br />&lt;=<br />&gt;<br />&gt;=<br />==</code></p>

<p><strong>
<a id="pgfId-1036755"></a><code>width</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036758"></a> Length of the short axis of the bounding box of the hole. If specified, only holes that have a width that satisfies the limit are selected. Must be used when the <em>length</em> limit is used. May not be used with the <em>area</em> limit.</p>
<p class="webflare-indent1">
<a id="pgfId-1028935"></a> Specify the limit or inclusive range containing the keyword <em>width</em> and one or two constants with the following operators:</p>
<p class="webflare-indent1">
<a id="pgfId-1028897"></a><code> &lt;<br />&lt;=<br />&gt;<br />&gt;=<br />==</code></p>

<p><strong>
<a id="pgfId-1028957"></a><code>extent</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036771"></a>An optional format for specifying the <em>length</em> and <em>width</em> limits. Provided for compatibility with the Assura rule language.</p>

<p><strong>
<a id="pgfId-1036776"></a><code>area</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036779"></a> Area of the hole. If specified, only holes that have an area that satisfies the limit are selected. May not be used with the <em>length</em> or <em>width</em> limit.</p>
<p class="webflare-indent1">
<a id="pgfId-1028938"></a> Specify the limit or inclusive range containing the keyword <em>area</em> and one or two constants with the following operators:</p>
<p class="webflare-indent1">
<a id="pgfId-1028939"></a><code> &lt;<br />&lt;=<br />&gt;<br />&gt;=<br />==</code></p>

<h4>
<a id="pgfId-1016672"></a>Examples</h4>

<p>
<a id="pgfId-1020788"></a>The following examples illustrate the <em>geomHoles</em> command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020789"></a>tub = geomHoles( &quot;guard_ring&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020790"></a>diode = geomHoles( pbase ) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020778"></a>voids = geomHoles( nbase voids )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028968"></a>innermost = geomHoles( m1 innermost )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1028969"></a>bigSkinny = geomHoles( m2 extent(length &gt; 10 width &lt; 1) )</pre>

<h3>
<a id="pgfId-1020782"></a><a id="46566"></a>geomNo<a id="geomNoHoles"></a>Holes</h3>
<a id="pgfId-1016681"></a><a id="marker-1016680"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[outLayer=] geomNoHoles( inLayer )</pre>
<h4>
<a id="pgfId-1016682"></a>Description</h4>

<p>
<a id="pgfId-1016683"></a>The <em>geomNoHoles</em> command generates new shapes consisting of all the original shapes of the input layer without the holes. A hole is an area created when the perimeter of a polygon touches itself, enclosing an area that is not the polygon. These are sometimes referred to as &#8220;donut holes.&#8221;<a id="marker-1016684"></a><a id="marker-1016685"></a></p>
<p>
<a id="pgfId-1016686"></a>The following figure illustrates <em>geomNoholes</em> generation for a single original shape.</p>

<p>
<a id="pgfId-1017809"></a></p>
<div class="webflare-div-image">
<img width="590" height="179" src="images/chap5-62.gif" /></div>
<h4>
<a id="pgfId-1016698"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016699"></a><code>outLayer</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036789"></a>Name for the <em>geomNoHoles</em> output.</p>

<p><strong>
<a id="pgfId-1036794"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036797"></a><em>&#160;&#160;&#160;&#160;</em>Input layer name. This layer can be either a derived layer name or a graphics layer name.</p>

<h4>
<a id="pgfId-1016701"></a>Examples</h4>

<p>
<a id="pgfId-1016702"></a>The following examples illustrate the <em>geomNoHoles</em> command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016703"></a>barrier = geomNoHoles( &quot;guard_ring&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016704"></a>keepout = geomNoHoles( geomSize( diffn 5 ) )</pre>

<h2>
<a id="pgfId-1016706"></a>Layer Storage and Removal<a id="Layer Storage and Removal"></a></h2>

<p>
<a id="pgfId-1016708"></a>The Layer Storage and Removal commands let you <a id="marker-1016707"></a>save layers you have generated with other commands, or <a id="marker-1016709"></a>remove layers you no longer need in your database.</p>

<h3>
<a id="pgfId-1016713"></a><a id="27149"></a>copy<a id="copyGraphics"></a>Graphics</h3>
<a id="pgfId-1016715"></a><a id="marker-1016714"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
copyGraphics( layer [all] [cell_view] )</pre>
<h4>
<a id="pgfId-1016716"></a>Description</h4>

<p>
<a id="pgfId-1016718"></a>The <em>copyGraphics </em>command lets you copy data from the cellview being analyzed to another view. <a id="marker-1016717"></a></p>

<h4>
<a id="pgfId-1016721"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016722"></a><code>layer</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036804"></a>Original graphics layer to be copied. If a purpose is specified, the layer and purpose must be enclosed in parenthesis and only that layer purpose pair will be copied to the output cellview. If no purpose is given, all purposes except boundary are copied to the output cellview. In both cases, the layer is copied to the drawing purpose, except if the boundary purpose is specified, in which case the output purpose will be boundary.</p>

<p><strong>
<a id="pgfId-1036809"></a><code>all</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036812"></a><code>&#160;&#160;&#160;&#160;</code>Keyword defining the levels of hierarchy from which data is to be copied. With the <em>all</em> option, data is copied from all levels of hierarchy. If you do not use this option, data is copied only from the top level of hierarchy.</p>

<p><strong>
<a id="pgfId-1036817"></a><code>cell_view</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036820"></a> Optional keyword that lets you copy data to the <em>excell</em> view during hierarchical extraction. If you do not specify the<em> cell_view </em>optional keyword, the default is:<br /></p>
<table class="webflareTable" id="#id1026114">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026116"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1026118"></a>During extraction, shapes are copied from the view being analyzed to the <em>extracted</em> view.</li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026120"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1026122"></a>During abgen, shapes are copied from the view being analyzed to the <em>abstract</em> view.</li></ul>

</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1016727"></a>Examples</h4>

<p>
<a id="pgfId-1016728"></a>The following example illustrates the <em>copyGraphics</em> command used to copy the text layer of drawing purpose from the top level of hierarchy.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016729"></a>copyGraphics( ( &quot;text&quot; &quot;drawing&quot; ) )</pre>
<p>
<a id="pgfId-1016730"></a>The following example illustrates the use of all the options.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016731"></a>copyGraphics( ( &quot;label&quot; &quot;drawing&quot; ) all cell_view )</pre>

<h3>
<a id="pgfId-1027644"></a><a id="67901"></a>error<a id="errorLayer"></a>Layer</h3>
<a id="pgfId-1027645"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
errorLayer( inLayer [message] )</pre>
<h4>
<a id="pgfId-1027646"></a>Description</h4>

<p>
<a id="pgfId-1027648"></a>The <code></code><a id="marker-1027647"></a><em>errorLayer</em> command lets you save a layer into the graphics database as a marker. The <em>errorLayer</em> command can operate in the hierarchical mode, although you might get unexpected results. For more information about limitations for saving derived layers, refer to <a href="chap7.html#12293">DRC Limitations</a> of this manual.</p>

<h4>
<a id="pgfId-1027652"></a>Fields</h4>
<p><strong>
<a id="pgfId-1027654"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036827"></a><code>&#160;&#160;&#160;&#160;</code>Derived layer name or original graphics layer name in quotes, defining the layer to be saved. Any unmerged layer is merged when it is saved in the database.<a id="marker-1027653"></a></p>

<p><strong>
<a id="pgfId-1036832"></a><code>message</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036835"></a> Text string defining a message that Diva associates with any shape saved on the marker layer. Diva attaches the contents of the text string, exactly as specified, to each shape. You can view this message with the <em>Explain Marker </em>command. </p>
<p class="webflare-indent1">
<a id="pgfId-1027669"></a> The DRC program generates errors automatically on the marker layer with an associated text string. The<em> message </em>argument lets you supplement this error information with derived layers and still associate a text string with the shapes.</p>

<h4>
<a id="pgfId-1027671"></a>Examples</h4>

<p>
<a id="pgfId-1027672"></a>The following example illustrates the <em>errorLayer</em> command.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027673"></a>errorLayer( bad_via )</pre>

<p>
<a id="pgfId-1027674"></a>You can expand the previous example by adding a message to be associated with the error.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027675"></a>errorLayer( bad_via &quot;Incorrectly formed vias&quot; )</pre>
<h3>
<a id="pgfId-1016733"></a><a id="97955"></a>geomErase<a id="geomErase"></a></h3>
<a id="pgfId-1016735"></a><a id="marker-1016734"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
geomErase( layer [purpose] )</pre>
<a id="pgfId-1030867"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
geomErase( object variant )</pre>
<h4>
<a id="pgfId-1016736"></a>Description</h4>

<p>
<a id="pgfId-1016737"></a>The <em>geomErase</em> command lets you delete shapes from a layer in the graphics database. It erases the shapes on the defined layer from the cellview you are verifying. Cellviews lower in the hierarchy are not affected. You can use this command at the beginning of a command file to erase layers stored during previous runs before they are saved again in the next run. The second syntax form is only available when the underlying database is OpenAccess and allows objects without a layer purpose pair to be erased.<a id="marker-1016738"></a><a id="marker-1016739"></a></p>
<p>
<a id="pgfId-1016740"></a>When this command is used with incremental processing (as in DRC), erasure of layer data only occurs in your specified incremental processing area. Any shapes interacting with the area expanded by the maximum design rule dimension are removed. All shapes outside this area remain.</p>
<p>
<a id="pgfId-1017593"></a>It is not necessary to erase the marker layer. Diva automatically removes any markers from previous runs. If you are running incrementally, or by area, only markers within the area being processed are erased. Similarly, the changed layer is automatically cleared during DRC processing.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1016741"></a>
You can erase your original data without meaning to. Any data saved by a previous run that you want to erase should be written to a layer that you do not draw on. If you draw on metal1, save your generated metal1 shapes to metal1gen. Only use the geomErase command on metal1gen, never on metal1.</div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017545"></a>When writing rules for hierarchical processing, users must be aware that each cell is processed in two passes. Any data saved to the cellview in the first pass will be erased in the second pass. Use the <code>?currentCell</code> switch to prevent this by only executing the geomErase in the pass you generate the data in. See <a href="appC.html#37636">Improving Hierarchical DRC Performance</a>, for more information about hierachical processing passes.</div>

<h4>
<a id="pgfId-1016744"></a>Fields</h4>
<p><strong>
<a id="pgfId-1016745"></a><code>layer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036845"></a> Original graphics layer name, enclosed in quotes, defining the layer to be erased.</p>

<p><strong>
<a id="pgfId-1036850"></a><code>purpose</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036853"></a> Layer purpose, enclosed in quotes. Only shapes on the specified layer with this purpose are erased by Diva. You can use any purpose defined in a layer purpose pair with the <code>layer</code> given. If you do not specify a purpose, the purpose <em>drawing</em> is used.</p>

<p><strong>
<a id="pgfId-1036858"></a><code>object</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036861"></a> A keyword describing the type of the object to erase. The available object types are: <code>boundary</code> and <code>blockage</code>.</p>

<p><strong>
<a id="pgfId-1036866"></a><code>variant</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036869"></a> A keyword describing the variant of the object type, followed by any selection values required by the variant.</p>
<p class="webflare-indent1">
<a id="pgfId-1030876"></a> The <code>boundary</code> object supports the following variants: <code>area</code>, <code>pr</code> and <code>snap</code>. The <code>area</code> variant requires a string value which is the name of the areaBoundary to collect, and may be a Diva wildcard pattern.</p>
<p class="webflare-indent1">
<a id="pgfId-1030877"></a> The blockage object supports the following variants: <code>placement</code>, <code>routing</code>, <code>wiring</code>, <code>fill</code>, <code>slot</code>, <code>pin</code>, <code>feedthru</code> and <code>screen</code>. Except for the <code>placement</code> variant, a string value containing a layer name is required.</p>

<h4>
<a id="pgfId-1016747"></a>Examples</h4>

<p>
<a id="pgfId-1016748"></a>The following examples illustrate the <code>geomErase</code> command.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016749"></a>geomErase( &quot;met1&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1016750"></a>geomErase( &quot;met1&quot; &quot;boundary&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1030886"></a>geomErase( boundary area &quot;met1*&quot; )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1030887"></a>geomErase( boundary pr )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1030888"></a>geomErase( blockage placement )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1030889"></a>geomErase( blockage routing &quot;met1&quot; )</pre>

<h3>
<a id="pgfId-1033222"></a><a id="36725"></a>save<a id="saveDerived"></a>Derived</h3>
<a id="pgfId-1033148"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
saveDerived( inLayer [( layer purpose )] [object variant]
[view] [tile] [raw] [vertices n] [message] [limit] )</pre>
<h4>
<a id="pgfId-1033149"></a>Description</h4>

<p>
<a id="pgfId-1033151"></a>The <code></code><a id="marker-1033150"></a><em>saveDerived</em> command lets you save shapes to the graphics database. The <em>saveDerived</em> command can operate in the hierarchical mode, although you may see unexpected results. For more information about limitations for saving derived layers, refer to <a href="chap7.html#12293">DRC Limitations</a> of this manual.</p>

<h4>
<a id="pgfId-1033155"></a>Fields</h4>
<p><strong>
<a id="pgfId-1033157"></a><code>inLayer</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036882"></a><code>&#160;&#160;&#160;&#160;</code>Derived layer name or original graphics layer name in quotes, defining the layer to be saved.<a id="marker-1033156"></a></p>

<p><strong>
<a id="pgfId-1036887"></a><code>layer purpose</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036890"></a> Optional graphic layer consisting of a layer name and a purpose name to define which layer in the output cellview the input layer is to be saved on. You must specify the layer name and purpose name in quotes and enclose that pair in parentheses. The layer and purpose names must match a defined layer purpose pair. For example:</p>
<p class="webflare-indent1">
<a id="pgfId-1033159"></a><code> ( &quot;poly&quot; &quot;drawing&quot; )</code></p>

<p><strong>
<a id="pgfId-1036898"></a><code>object variant</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036901"></a> Optional argument to define which object and variant in the output cellview the input layer is to be saved on. The available object types are: <code>boundary</code> and <code>blockage</code>.</p>
<p class="webflare-indent1">
<a id="pgfId-1033161"></a> The <code>boundary</code> object supports the following variants: <code>area</code>, <code>pr</code> and <code>snap</code>. The <code>area</code> variant requires a string value which is the name of the areaBoundary to create. If the name includes the formatting characters &quot;%d&quot; multiple boundaries will be created, if needed, each with a unique number starting with 1. If no formatting characters are included, or the variant is <code>pr</code> or <code>snap</code>, only one boundary will be created and an error generated for any additional boundaries produced. For example:</p>
<p class="webflare-indent1">
<a id="pgfId-1033162"></a><code> boundary area &quot;met1&quot;<br />boundary area &quot;met1_%d&quot;<br />boundary pr </code></p>
<p class="webflare-indent1">
<a id="pgfId-1033163"></a> The blockage object supports the following variants: <code>placement</code>, <code>routing</code>, <code>wiring</code>, <code>fill</code>, <code>slot</code>, <code>pin</code>, <code>feedthru</code> and <code>screen</code>. Except for the <code>placement</code> variant, a string value containing a layer name is required. For example:</p>
<p class="webflare-indent1">
<a id="pgfId-1033164"></a> <code>blockage routing &quot;met1&quot;<br />blockage placement</code></p>
<p class="webflare-indent1">
<a id="pgfId-1033165"></a> If you do not specify a <em>layer</em> <em>purpose </em>argument, or an <em>object</em> <em>variant</em> argument, Diva defaults to the <em>marker</em> layer and<em> error </em>purpose. The default is equal to this definition:</p>
<p class="webflare-indent1">
<a id="pgfId-1033166"></a><code> ( &quot;marker&quot; &quot;error&quot; )</code></p>

<p><strong>
<a id="pgfId-1033167"></a><code>view</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036913"></a><code>&#160;&#160;&#160;&#160;</code>Optional keyword to specify the view name in which you need to save the output data. The possible view names are as follows:<br /></p>
<table class="webflareTable" id="#id1033168">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033170"></a>lay_view</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033172"></a>layout view</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033174"></a>ext_view</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033176"></a>extracted view</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033178"></a>cell_view</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033180"></a>excell view</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033182"></a>abs_view</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033184"></a>abstract view</p>
</td>
</tr>
</tbody></table>
<p class="webflare-indent1">
<a id="pgfId-1033185"></a><code>&#160;&#160;&#160;&#160;</code>The keywords are useful only in their correct context. A <em>saveDerived</em> command with the <code>abs_view</code><em> </em>keyword only functions during abstract generation. In any other context, such as the DRC or layout extraction, the <code>abs_view</code><em> </em>keyword is ignored.</p>
<p class="webflare-indent1">
<a id="pgfId-1033186"></a> If you do not use the <code>view</code> keyword, Diva defaults to the layout view.</p>

<p><strong>
<a id="pgfId-1036921"></a><code>tile</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036924"></a><code>&#160;&#160;&#160;&#160;</code>Optional keyword defining the format in which the output layer is to be saved. </p>
<p class="webflare-indent1">
<a id="pgfId-1033188"></a> When you use the <code>tile</code><em> </em>option, the input shapes are sliced vertically into trapazoids and triangles (tiles).</p>
<p class="webflare-indent1">
<a id="pgfId-1033189"></a> If you do not use the <code>tile</code><em> </em>option, Diva formats the output layer as polygons with a vertex count limit. Larger polygons are automatically broken up into smaller polygons within the vertex count limit.</p>

<p><strong>
<a id="pgfId-1036932"></a><code>raw</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036935"></a> Optional keyword to prevent merging of overlapping and butting input shapes when generating polygons. Without this keyword, overlapping and butting input shapes are merged.</p>

<p><strong>
<a id="pgfId-1036940"></a><code>vertices</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036943"></a> Optional keyword to set a limit on the number of vertices that the generated shapes will have. An integer constant, or expression which evaluates to an integer value, follows this keyword. The value is limited to what is supported by the underlying database. The default is 200.</p>

<p><strong>
<a id="pgfId-1036948"></a><code>message</code> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036951"></a>Text string defining a message that Diva associates with any shape saved on the <em>marker</em> layer. Diva attaches the contents of the text string, exactly as specified, to each shape. You can view this message with the <em>Explain Marker </em>command. </p>
<p class="webflare-indent1">
<a id="pgfId-1033193"></a> The DRC program generates errors automatically on the marker layer with an associated text string. The<em> message </em>argument lets you supplement this error information with derived layers and still associate a text string with the shapes.</p>
<p class="webflare-indent1">
<a id="pgfId-1033194"></a> The message is ignored if the outLayer is not the marker layer.</p>

<p><strong>
<a id="pgfId-1036959"></a><code>limit</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1036962"></a> The optional modifier <em>errorLimit</em> allows the specification of a limit to the number of error markers which the command will produce. The keyword <em>abort</em> can be used to cause early termination of the entire run if the limit is reached. See <a href="chap7.html#54053">errorLimit</a> in the drc command for details. This modifier is only valid when saving to the <em>marker</em> layer of the input cellview.</p>

<h4>
<a id="pgfId-1033199"></a>Examples</h4>

<p>
<a id="pgfId-1033200"></a>The following example illustrates the <em>saveDerived</em> command with all its options set to the default mode. This example saves the data on the marker layer.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033201"></a> saveDerived( bad_via )</pre>

<p>
<a id="pgfId-1033202"></a>You can expand the previous example by adding a message to be associated with the error.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033203"></a> saveDerived( bad_via &quot;Incorrectly formed vias&quot; )</pre>

<p>
<a id="pgfId-1033204"></a>The following examples illustrate the <em>saveDerived</em> command using multiple options:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033205"></a> saveDerived(&#160;&#160;ref_layer ( &quot;y0&quot; &quot;drawing&quot; ) cell_view tile )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033206"></a> saveDerived( wideMetal ( &quot;marker&quot; &quot;warning&quot; ) tile <br />             &quot;metal wider than 5&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033207"></a> saveDerived( bndLayer boundary area &quot;met1_%d&quot; ext_view )</pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap4.html" id="prev" title="Writing Diva Verification Rules">Writing Diva Verification Rule ...</a></em></b><b><em><a href="chap6.html" id="nex" title="Connectivity Extraction Concepts">Connectivity Extraction Concep ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160; </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>