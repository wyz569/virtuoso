
<html><head><title>Convergence Difficulties (convergence)</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rrohit" />
<meta name="CreateDate" content="2023-08-31" />
<meta name="CreateTime" content="1693484712" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Provides reference information on the Spectre circuit simulator." />
<meta name="DocTitle" content="Spectre Circuit Simulator Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Convergence Difficulties (convergence)" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="spectreref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-08-31" />
<meta name="ModifiedTime" content="1693484712" />
<meta name="NextFile" content="chap4_re_The_dcopt_command_line_option_dcopt.html" />
<meta name="Order" content="2" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap4_re_Built-in_Mathematical_and_Physical_Constants_constants.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Circuit Simulator Reference -- Convergence Difficulties (convergence)" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="23.1" />
<meta name="SpaceKey" content="spectreref231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectrerefTOC.html">Contents</a></li><li><a class="prev" href="chap4_re_Built-in_Mathematical_and_Physical_Constants_constants.html" title="Built-in Mathematical and Physical Constants (constants)">Built-in Mathematical and Phys ...</a></li><li style="float: right;"><a class="viewPrint" href="spectreref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap4_re_The_dcopt_command_line_option_dcopt.html" title="The dcopt command line option (dcopt)">The dcopt command line option  ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Circuit Simulator Reference<br />Product Version 23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_Convergence_Difficulties_convergence" title="Convergence Difficulties (convergence)"></a><h2>
<a id="pgfId-1048139"></a><a id="58053"></a>Convergence Difficulties (convergence)<a id="marker-1048138"></a></h2>
<h4>
<a id="pgfId-1048141"></a>Description<a id="marker-1048140"></a></h4>

<p>
<a id="pgfId-1048142"></a>If you are having convergence difficulties, try the following suggestions:</p>
<ol><li>
<a id="pgfId-1048144"></a>Evaluate and resolve any notice, warning, or error messages.</li><li>
<a id="pgfId-1048145"></a>Ensure that the topology checker is being used (set topcheck=full on options statement) and heed any warnings it generates.</li><li>
<a id="pgfId-1048146"></a>Perform sanity check on the parameter values by using the parameter range checker (use <code>+param param-limits-file</code> as a command line argument) and heed any warnings. Print the minimum and maximum parameter value by using <code>info</code> analysis. Ensure that the bounds given for instance, model, output, temperature-dependent, and operating-point (if possible) parameters are reasonable.</li><li>
<a id="pgfId-1048147"></a>Small floating resistors connected to high impedance nodes can cause convergence difficulties. Avoid small floating resistors, particularly small parasitic resistors in semiconductors. Instead, use voltage sources or iprobes to measure current.</li><li>
<a id="pgfId-1048148"></a>Use realistic device models. Check all component parameters, particularly nonlinear device model parameters, to ensure that they are reasonable.</li><li>
<a id="pgfId-1054249"></a>Increase the value of gmin (on options statement).</li><li>
<a id="pgfId-1054250"></a>Loosen tolerances, particularly absolute tolerances like <code>iabstol</code> (on options statement). If tolerances are set too tight, they might preclude convergence.</li><li>
<a id="pgfId-1054246"></a>Try to simplify the nonlinear component models to avoid regions that might contribute to convergence problems in the model.</li></ol>








<h4>
<a id="pgfId-1048153"></a>DC Convergence Suggestions</h4>

<p>
<a id="pgfId-1048154"></a>After you have a solution, write it to a nodeset file by using the <code>write</code> parameter, and read it back in on subsequent simulations by using the <code>readns</code> parameter.</p>
<ol><li>
<a id="pgfId-1048155"></a>If you have an estimate of what the solution should be, use <code>nodeset</code> statements or a nodeset file, and set as many nodes as possible.</li><li>
<a id="pgfId-1048156"></a>If convergence difficulties occur when using nodesets or initial conditions, try increasing <code>rforce</code> (on options statement).</li><li>
<a id="pgfId-1048157"></a>If this is not the first analysis and the solution from the previous analysis is far from the solution for this analysis, set <code>restart=yes</code>.</li><li>
<a id="pgfId-1048158"></a>If simulating a bipolar analog circuit, ensure that the region parameter on all transistors and diodes is set correctly.</li><li>
<a id="pgfId-1048159"></a>If the analysis fails at an extreme temperature, but succeeds at room temperature, try adding a DC analysis that sweeps temperature. Start at room temperature, sweep to the extreme temperature, and write the final solution to a <code>nodeset</code> file.</li><li>
<a id="pgfId-1048160"></a>Use numeric pivoting in the sparse matrix factorization by setting <code>pivotdc=yes</code> (on options statement). Sometimes, it is also necessary to increase the pivot threshold to a value in the range of 0.1 to 0.5 by using <code>pivrel</code> (on options statement).</li><li>
<a id="pgfId-1048161"></a>Divide the circuit into smaller pieces and simulate them individually. However, ensure that the results are close to what they would be if you had simulated the whole circuit. Use the results to generate nodesets for the whole circuit.</li><li>
<a id="pgfId-1078122"></a>Check the connections to ground. Convergence problems might result if there are no connections to ground. </li><li>
<a id="pgfId-1048162"></a>If all else fails, replace the DC analysis with a transient analysis and modify all the independent sources to start at zero and ramp to their DC values. Run transient analysis well beyond the time when all the sources have reached their final value (remember that transient analysis is cheap when none of the signals in the circuit are changing) and write the final point to a <code>nodeset</code> file. To make transient analysis more efficient, set the integration method to backward Euler (<code>method=euler</code>) and loosen the local truncation error criteria by increasing <code>lteratio</code>, say to 50. Occasionally, this approach fails, or is slow because the circuit contains an oscillator. Often, for finding the dc solution, the oscillation can be eliminated by setting the minimum capacitance from each node to ground (<code>cmin</code>) to a large value.</li></ol>









<h4>
<a id="pgfId-1048164"></a>Transient Convergence Suggestions</h4>

<ol><li>
<a id="pgfId-1048165"></a>Ensure that a complete set of parasitic capacitors is used on nonlinear devices to avoid jumps in the solution waveforms. On MOS models, specify nonzero source and drain areas.</li><li>
<a id="pgfId-1048166"></a>Use the <code>cmin</code> parameter to install a small capacitor from every node in the circuit to ground. This usually eliminates any jump in the solution.</li></ol>


<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap4_re_Built-in_Mathematical_and_Physical_Constants_constants.html" id="prev" title="Built-in Mathematical and Physical Constants (constants)">Built-in Mathematical and Phys ...</a></em></b><b><em><a href="chap4_re_The_dcopt_command_line_option_dcopt.html" id="nex" title="The dcopt command line option (dcopt)">The dcopt command line option  ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>