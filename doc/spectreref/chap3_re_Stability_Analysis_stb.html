
<html><head><title>Stability Analysis (stb)</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rrohit" />
<meta name="CreateDate" content="2023-08-31" />
<meta name="CreateTime" content="1693484710" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Provides reference information on the Spectre circuit simulator." />
<meta name="DocTitle" content="Spectre Circuit Simulator Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Stability Analysis (stb)" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="spectreref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-08-31" />
<meta name="ModifiedTime" content="1693484710" />
<meta name="NextFile" content="chap3_re_Reliability_Stress_Analysis_stress.html" />
<meta name="Order" content="2" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap3_re_S-Parameter_Analysis_sp.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Circuit Simulator Reference -- Stability Analysis (stb)" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="23.1" />
<meta name="SpaceKey" content="spectreref231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectrerefTOC.html">Contents</a></li><li><a class="prev" href="chap3_re_S-Parameter_Analysis_sp.html" title="S-Parameter Analysis (sp)">S-Parameter Analysis (sp)</a></li><li style="float: right;"><a class="viewPrint" href="spectreref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap3_re_Reliability_Stress_Analysis_stress.html" title="Reliability Stress Analysis (stress)">Reliability Stress Analysis (s ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Circuit Simulator Reference<br />Product Version 23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_Stability_Analysis_stb" title="Stability Analysis (stb)"></a><h3>
<a id="pgfId-1704005"></a>Stability Analysis (stb)<a id="marker-1704004"></a></h3>
<h4>
<a id="pgfId-1704007"></a>Description<a id="marker-1704006"></a></h4>

<p>
<a id="pgfId-1704008"></a>The STB analysis linearizes the circuit about the DC operating point and computes the loop gain and gain and phase margins (if the sweep variable is frequency)for a feedback loop or a gain device.</p>
<p>
<a id="pgfId-1704009"></a>Spectre can perform the analysis while sweeping a parameter. The parameter can be frequency, temperature, component instance parameter, component model parameter, or netlist parameter. If changing a parameter affects the DC operating point, the operating point is recomputed at each step. You can sweep the circuit temperature by giving the parameter name as <code>temp</code>, without a <code>dev</code> or <code>mod</code> parameter. You can sweep a netlist parameter by giving the parameter name without a <code>dev</code> or <code>mod</code> parameter. After the analysis is complete, the modified parameter returns to its original value.</p>

<h4>
<a id="pgfId-1704011"></a>Syntax<a id="marker-1704010"></a></h4>
<a id="pgfId-1704012"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
Name stb parameter=<code><em>value ...</em></code></pre>
<h4>
<a id="pgfId-1704026"></a>Parameters</h4>
<table class="webflareTable" id="#id1704013">
<caption style="text-align:left;"><p>
</p><pre class="webflare-courier-new codeContent">
<a id="pgfId-1704015"></a></pre></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704021"></a><code>prevoppoint</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704023"></a><code>no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704025"></a>Use the operating point computed on the previous analysis. Possible values are no and yes.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1704094"></a>Sweep interval parameters</p>
<table class="webflareTable" id="#id1704027">
<caption style="text-align:left;"><p>
</p><pre class="webflare-courier-new codeContent">
<a id="pgfId-1704029"></a></pre></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704035"></a><code>start</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704037"></a><code>0</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704039"></a>Start sweep limit.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704041"></a><code>stop</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704043"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704045"></a>Stop sweep limit.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704047"></a><code>center</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704049"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704051"></a>Center of sweep.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704053"></a><code>span</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704055"></a><code>0</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704057"></a>Sweep limit span.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704059"></a><code>step</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704061"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704063"></a>Step size, linear sweep.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704065"></a><code>lin</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704067"></a><code>50</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704069"></a>Number of steps, linear sweep.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704071"></a><code>dec</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704073"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704075"></a>Points per decade.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704077"></a><code>log</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704079"></a><code>50</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704081"></a>Number of steps, log sweep.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704083"></a><code>values</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704085"></a><code>[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704087"></a>Array of sweep values.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704089"></a><code>valuesfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704091"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704093"></a>Name of the file containing the sweep values.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1704126"></a>Sweep variable parameters</p>
<table class="webflareTable" id="#id1704095">
<caption style="text-align:left;"><p>
</p><pre class="webflare-courier-new codeContent">
<a id="pgfId-1704097"></a></pre></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704103"></a><code>dev</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704105"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704107"></a>Device instance whose parameter value is to be swept.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704109"></a><code>mod</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704111"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704113"></a>Model whose parameter value is to be swept.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704115"></a><code>param</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704117"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704119"></a>Name of parameter to sweep.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704121"></a><code>freq</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704123"></a><code> (Hz)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704125"></a>Frequency when parameter other than frequency is being swept.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1704146"></a>Probe parameters</p>
<table class="webflareTable" id="#id1704127">
<caption style="text-align:left;"><p>
</p><pre class="webflare-courier-new codeContent">
<a id="pgfId-1704129"></a></pre></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704135"></a><code>probe</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704137"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704139"></a>Probe instance around which the loop gain is calculated.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704141"></a><code>localgnd</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704143"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704145"></a>Node name of local ground. If not specified, the probe is referenced to global ground.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1704172"></a>State-file parameters</p>
<table class="webflareTable" id="#id1704147">
<caption style="text-align:left;"><p>
</p><pre class="webflare-courier-new codeContent">
<a id="pgfId-1704149"></a></pre></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704155"></a><code>readns</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704157"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704159"></a>File that contains estimate of DC solution (nodeset).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704161"></a><code>write</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704163"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704165"></a>DC operating point output file at the first step of the sweep.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704167"></a><code>writefinal</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704169"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704171"></a>DC operating point output file at the last step of the sweep.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1704204"></a>Initial condition parameters</p>
<table class="webflareTable" id="#id1704173">
<caption style="text-align:left;"><p>
</p><pre class="webflare-courier-new codeContent">
<a id="pgfId-1704175"></a></pre></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704181"></a><code>force</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704183"></a><code>none</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704185"></a>Which set of initial conditions to use. Possible values are none, node, dev and all.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704187"></a><code>readforce</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704189"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704191"></a>File that contains initial conditions.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704193"></a><code>skipdc</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704195"></a><code>no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704197"></a>Skip the DC analysis. Possible values are no and yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704199"></a><code>useprevic</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704201"></a><code>no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704203"></a>If set to yes or ns, use the converged initial condition from previous analysis as ic or ns. Possible values are no, yes and ns.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1704230"></a>Output parameters</p>
<table class="webflareTable" id="#id1704205">
<caption style="text-align:left;"><p>
</p><pre class="webflare-courier-new codeContent">
<a id="pgfId-1704207"></a></pre></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704213"></a><code>save</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704215"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704217"></a>Signals to output. Possible values are all, lvl, allpub, lvlpub, selected, none and nooutput.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704219"></a><code>nestlvl</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704221"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704223"></a>Levels of subcircuits to output.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704225"></a><code>oppoint</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704227"></a><code>no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704229"></a>Should operating point information be computed; if yes, where should it be sent. Operating point information would not be output if the operating point computed in the previous analysis remains unchanged. Possible values are no, screen, logfile and rawfile.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1704244"></a>Convergence parameters</p>
<table class="webflareTable" id="#id1704231">
<caption style="text-align:left;"><p>
</p><pre class="webflare-courier-new codeContent">
<a id="pgfId-1704233"></a></pre></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704239"></a><code>restart</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704241"></a><code>yes</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704243"></a>Restart the DC solution from scratch if any condition has changed. If not, use the previous solution as initial guess. Possible values are no and yes.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1704288"></a>Annotation parameters</p>
<table class="webflareTable" id="#id1704245">
<caption style="text-align:left;"><p>
</p><pre class="webflare-courier-new codeContent">
<a id="pgfId-1704247"></a></pre></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704253"></a><code>annotate</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704255"></a><code>sweep</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704257"></a>Degree of annotation. Possible values are no, title, sweep, status and steps.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704259"></a><code>title</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704261"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704263"></a>Analysis title.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704265"></a><code>margininfo_unstable</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704267"></a><code>no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704269"></a>Print GainMargin and PhaseMargin info when the circuit is actually not stable. Possible values are no and yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704271"></a><code>diffprobe</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704273"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704275"></a>DiffProbe instance around which the loop gain is calculated.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704277"></a><code>swap</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704279"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704281"></a>Swap decides the connection of diffprobes to the circuit.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704283"></a><code>mode</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704285"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1704287"></a>Mode decides the calculation mode for diffprobes, e.g. CM for common-mode or DM for differential mode.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1704289"></a>You can define sweep limits by specifying the end points or the center value and span of the sweep. Steps can be linear or logarithmic, and you can specify the number of steps or the size of each step. You can specify a step size parameter (<code>step</code>, <code>lin</code>, <code>log</code> or <code>dec</code>) to determine whether the sweep is linear or logarithmic.&#160;&#160;If you do not specify a step size parameter, the sweep is linear when the ratio of stop to start values is less than 10 and logarithmic when this ratio is 10 or greater. All frequencies are in Hertz.</p>
<p>
<a id="pgfId-1704290"></a>The small-signal analysis begins by linearizing the circuit about an operating-point. By default this analysis computes the operating point, if it is not known, or recomputes it if any significant component or circuit parameter has changed.&#160;&#160;However, if a previous analysis computed an operating point, you can set <code>prevoppoint=yes</code> to avoid recomputing it.&#160;&#160;For example, if you use this option when the previous analysis was a transient analysis, the operating point is the state of the circuit on the final time point.</p>
<p>
<a id="pgfId-1704291"></a>Nodesets help find the DC or the initial transient solution. You can specify nodesets in the circuit description file with nodeset statements or in a separate file by using the readns parameter. When nodesets are specified, Spectre computes an initial guess of the solution by performing DC analysis, while forcing the specified values on to nodes by using a voltage source in series with a resistor whose resistance is rforce. Spectre then removes these voltage sources and resistors and computes the required solution from this initial guess.</p>
<p>
<a id="pgfId-1704292"></a>Nodesets have two important uses. First, if a circuit has two or more solutions, nodesets can bias the simulator towards computing the required solution. Second, this is a convergence aid. By estimating the solution of the largest possible number of nodes, you might be able to eliminate a convergence problem or significantly speed up convergence.</p>
<p>
<a id="pgfId-1704293"></a>When you simulate the same circuit multiple times, it is recommended that you use both <code>write</code> and <code>readns</code> parameters and assign the same file name to both parameters. DC analysis then converges quickly even if the circuit has changed since the last simulation, and the nodeset file is automatically updated.</p>
<p>
<a id="pgfId-1704294"></a></p>
<p>
<a id="pgfId-1704295"></a>During the initial operating point DC analysis, you may force some of the circuit variables to the values given in the <code>ic</code> file, <code>ic</code> statements, or <code>ic</code> parameter on the capacitors and inductors. The <code>ic</code> parameter controls the interaction of the various methods for setting the force values. The effects of individual settings are as follows:</p>
<p>
<a id="pgfId-1704296"></a><code>force</code>=<code>none</code>:&#160;&#160; Any initial condition specifiers are ignored.</p>
<p>
<a id="pgfId-1704297"></a><code>force</code>=<code>node</code>:&#160;&#160; The <code>ic</code> statements are used, and the <code>ic</code> parameter on the capacitors and inductors are ignored.</p>
<p>
<a id="pgfId-1704298"></a><code>force</code>=<code>dev</code>:&#160;&#160;  The <code>ic</code> parameters on the capacitors and inductors are used, and the <code>ic</code> statements are ignored.</p>
<p>
<a id="pgfId-1704299"></a><code>force</code>=<code>all</code>:&#160;&#160;  Both the <code>ic</code> statements and the <code>ic</code> parameters are used, with the <code>ic</code> parameters overriding the <code>ic</code> statements.</p>
<p>
<a id="pgfId-1704300"></a>If you specify an <code>ic</code> file with the <code>readforce</code> parameter, force values from the file are used, and any <code>ic</code> statements are ignored.</p>
<p>
<a id="pgfId-1704301"></a>After you specify the initial conditions, Spectre computes the DC operating point with the specified nodes forced to the given value by using a voltage source in series with a resistor whose resistance is <code>rforce</code> (see <code>options</code>).</p>
<p>
<a id="pgfId-1704302"></a></p>
<p>
<a id="pgfId-1704303"></a>Understanding Loop-Based and Device-Based Algorithms</p>
<p>
<a id="pgfId-1704304"></a>Two algorithms-loop-based and device based are available for small-signal stability analysis. Both algorithms are based on the calculation of Bode&#39;s return ratio. Loop gain waveform, gain margin, and phase margin are the analysis output.</p>
<p>
<a id="pgfId-1704305"></a>The <code>probe</code> parameter must be specified to perform stability analysis. When it points to a current probe or voltage source instance, the loop-based algorithm is run; when it points to a supported active device instance, the device-based algorithm is run.</p>
<p>
<a id="pgfId-1704306"></a>Loop-Based Algorithm</p>
<p>
<a id="pgfId-1704307"></a>The loop-based algorithm calculates the true loop gain, which consists of normal loop gain and reverse loop gain. The loop-based algorithm requires the <code>probe</code> being placed on the feedback loop to identify and characterize the particular loop of interest. The introduction of the probe component should not change any of the circuit characteristics. </p>
<p>
<a id="pgfId-1704308"></a>The loop-based algorithm provides accurate stability information for single loop circuits and also for multi-loop circuits in which a <code>probe</code> component can be placed on a critical wire to break all loops. For a general multi-loop circuit, such a critical wire may not be available. The loop-based algorithm can only be performed on individual feedback loops to ensure that they are stable. Although the stability of all feedback loops is only a necessary condition for the whole circuit to be stable, the multi-loop circuit tends to be stable if all individual loops are associated with reasonable stability margins.</p>
<p>
<a id="pgfId-1704309"></a>For the loop based algorithm, a probe needs to be placed on the feedback loop.The common way is to insert a current probe or voltage source instance in the netlist, and the <code>probe</code> parameter points to this instance. The second way to insert the probe is by specifying the terminal of some instance. </p>
<p>
<a id="pgfId-1704310"></a>The syntax format :</p>
<p>
<a id="pgfId-1704311"></a>    probe = X:n </p>
<p>
<a id="pgfId-1704312"></a><code>X</code> can be an instance or a subcircuit instance and <code>n</code> is the terminal index. The second way has a limitation: We can not specify a branch whose current consists of more than one instance&#39;s terminal current. A current probe or voltage source instance needs to be inserted manually. </p>
<p>
<a id="pgfId-1704313"></a>This can be shown below: </p>
<p>
<a id="pgfId-1704314"></a>                               ___                       </p>
<p>
<a id="pgfId-1704315"></a>                         |----|___|-----|                </p>
<p>
<a id="pgfId-1704316"></a>                         |-----||-------|                </p>
<p>
<a id="pgfId-1704317"></a>                         |              |&lt;--- probe      </p>
<p>
<a id="pgfId-1704318"></a>                         |    ___    |__|---||---|       </p>
<p>
<a id="pgfId-1704319"></a>                         |---|___|--||__         |       </p>
<p>
<a id="pgfId-1704320"></a>                        ===          |  |        |       </p>
<p>
<a id="pgfId-1704321"></a>                         |--------------|--------|       </p>
<p>
<a id="pgfId-1704322"></a>                                                         </p>
<p>
<a id="pgfId-1704323"></a>                No instance can specify the probe&#39;s location. </p>
<p>
<a id="pgfId-1704324"></a></p>
<p>
<a id="pgfId-1704325"></a>Device-Based Algorithm</p>
<p>
<a id="pgfId-1704326"></a>The device-based algorithm calculates the loop gain around a particular active device. This algorithm is often applied to assess the stability of circuit design in which local feedback loops cannot be neglected; the loop-based algorithm cannot be performed for these applications because the local feedback loops are inside the devices and cannot be accessed from the schematic or netlist level to insert the <code>probe</code> component.</p>
<p>
<a id="pgfId-1704327"></a>With the <code>probe</code> parameter pointing to a particular active device, the dominant controlled source in the device is nulled during the analysis. The dominant controlled source is defined as by nulling this source renders the active device to be passive. The device-based algorithm produces accurate stability information for a circuit in which a critical active device can be identified, so that nulling the dominant gain source of this device renders the whole network passive. </p>
<p>
<a id="pgfId-1704328"></a></p>
<p>
<a id="pgfId-1704329"></a>Stability Analysis of Differential Feedback Circuits</p>
<p>
<a id="pgfId-1704330"></a>A balanced fully differential feedback circuit is illustrated below:</p>
<p>
<a id="pgfId-1704331"></a>                                                                     </p>
<p>
<a id="pgfId-1704332"></a>                    |---------[ ZF ]---------|                       </p>
<p>
<a id="pgfId-1704333"></a>                    |                        |                       </p>
<p>
<a id="pgfId-1704334"></a>                    |                        X1                      </p>
<p>
<a id="pgfId-1704335"></a>                    |  |------------------|  |                       </p>
<p>
<a id="pgfId-1704336"></a>                    |  |                  |  |                       </p>
<p>
<a id="pgfId-1704337"></a>    ... ---[ ZS ]---|--|in+          out- |--|---[ ZL ]--- ...       </p>
<p>
<a id="pgfId-1704338"></a>                       |      OPAMP       |                          </p>
<p>
<a id="pgfId-1704339"></a>    ... ---[ ZS ]---|--|in-          out+ |--|---[ ZL ]--- ...       </p>
<p>
<a id="pgfId-1704340"></a>                    |  |                  |  |                       </p>
<p>
<a id="pgfId-1704341"></a>                    |  |------------------|  |                       </p>
<p>
<a id="pgfId-1704342"></a>                    |                        X2                      </p>
<p>
<a id="pgfId-1704343"></a>                    |                        |                       </p>
<p>
<a id="pgfId-1704344"></a>                    |---------[ ZF ]---------|                       </p>
<p>
<a id="pgfId-1704345"></a>                                                                     </p>
<p>
<a id="pgfId-1704346"></a>The feedback loops are broken at X1 and X2, with x1in and x2in being the input side nodes and x1out and x2out being the output side nodes. The following subcircuit connects these four nodes together: </p>
<p>
<a id="pgfId-1704347"></a>    subckt diffprobe x1in x2in x1out x2out </p>
<p>
<a id="pgfId-1704348"></a>        ibranch inout x1out iprobe </p>
<p>
<a id="pgfId-1704349"></a>        vinj inout x1in iprobe </p>
<p>
<a id="pgfId-1704350"></a>        evinj x2in x2out x1in x1out vcvs gain=0 </p>
<p>
<a id="pgfId-1704351"></a>        fiinj 0 x2out pcccs probes=[ibranch vinj] coeffs=[0 1 1] gain=0 </p>
<p>
<a id="pgfId-1704352"></a>    ends diffprobe </p>
<p>
<a id="pgfId-1704353"></a>If the &#39;localgnd&#39; parameter is specified, the above subcircuit should be modified as follows: </p>
<p>
<a id="pgfId-1704354"></a>    subckt diffprobe x1in x2in x1out x2out localgnd  </p>
<p>
<a id="pgfId-1704355"></a>        ibranch inout x1out iprobe </p>
<p>
<a id="pgfId-1704356"></a>        vinj inout x1in iprobe </p>
<p>
<a id="pgfId-1704357"></a>        evinj x2in x2out x1in x1out vcvs gain=0 </p>
<p>
<a id="pgfId-1704358"></a>        fiinj localgnd x2out pcccs probes=[ibranch vinj] coeffs=[0 1 1] gain=0 </p>
<p>
<a id="pgfId-1704359"></a>    ends diffprobe </p>
<p>
<a id="pgfId-1704360"></a></p>
<p>
<a id="pgfId-1704361"></a>Let <code>diffprobe_inst</code> be the instance of subcircuit <code>diffprobe</code>, the following analysis measures the differential-mode loop gain:</p>
<p>
<a id="pgfId-1704362"></a>    DMalterv alter dev=diffprobe_inst.evinj param=gain value=-1 </p>
<p>
<a id="pgfId-1704363"></a>    DMalteri alter dev=diffprobe_inst.fiinj param=gain value=-1 </p>
<p>
<a id="pgfId-1704364"></a>    DMloopgain stb probe=diffprobe_inst.vinj</p>
<p>
<a id="pgfId-1704365"></a>and, the following analysis measures the common-mode loop gain: </p>
<p>
<a id="pgfId-1704366"></a>    CMalterv alter dev=diffprobe_inst.evinj param=gain value=1 </p>
<p>
<a id="pgfId-1704367"></a>    CMalteri alter dev=diffprobe_inst.fiinj param=gain value=1 </p>
<p>
<a id="pgfId-1704368"></a>    CMloopgain stb probe=diffprobe_inst.vinj </p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap3_re_S-Parameter_Analysis_sp.html" id="prev" title="S-Parameter Analysis (sp)">S-Parameter Analysis (sp)</a></em></b><b><em><a href="chap3_re_Reliability_Stress_Analysis_stress.html" id="nex" title="Reliability Stress Analysis (stress)">Reliability Stress Analysis (s ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>