
<html><head><title>Behavioral Source Use Model (bsource)</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rrohit" />
<meta name="CreateDate" content="2023-08-31" />
<meta name="CreateTime" content="1693484712" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Provides reference information on the Spectre circuit simulator." />
<meta name="DocTitle" content="Spectre Circuit Simulator Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Behavioral Source Use Model (bsource)" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="spectreref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-08-31" />
<meta name="ModifiedTime" content="1693484712" />
<meta name="NextFile" content="chap4_re_Checkpoint_-_Restart_checkpoint.html" />
<meta name="Order" content="2" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap4_re_Using_analogmodel_for_Model_Passing_analogmodel.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Circuit Simulator Reference -- Behavioral Source Use Model (bsource)" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="23.1" />
<meta name="SpaceKey" content="spectreref231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectrerefTOC.html">Contents</a></li><li><a class="prev" href="chap4_re_Using_analogmodel_for_Model_Passing_analogmodel.html" title="Using analogmodel for Model Passing (analogmodel)">Using analogmodel for Model Pa ...</a></li><li style="float: right;"><a class="viewPrint" href="spectreref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap4_re_Checkpoint_-_Restart_checkpoint.html" title="Checkpoint - Restart (checkpoint)">Checkpoint - Restart (checkpoi ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Circuit Simulator Reference<br />Product Version 23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_Behavioral_Source_Use_Model_bsource" title="Behavioral Source Use Model (bsource)"></a><h2>
<a id="pgfId-1047892"></a><a id="12421"></a>Behavioral Source Use Model (bsource)<a id="marker-1047891"></a></h2>
<h4>
<a id="pgfId-1047894"></a>Description<a id="marker-1047893"></a></h4>

<p>
<a id="pgfId-1070486"></a>Behavioral source enables you to model a resistor, inductor, capacitor, voltage or current source as a behavioral component. Using bsource, you can express the value of a resistance, capacitance, voltage or current as a combination of node voltages, branch currents, time expression, and built-in Spectre expressions.</p>
<p>
<a id="pgfId-1070531"></a>The syntax for bsource is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047900"></a>name (node1 node2) bsource behav_param param_list </pre>

<p>
<a id="pgfId-1047901"></a>where <code>behav_param</code> can be: </p>
<table class="webflareTable" id="#id1082118">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082124"></a><code>c=simple_expr</code>,</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082126"></a>capacitance between the nodes</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082310"></a><code>g=simple_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082312"></a>conductance between the nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082128"></a><code>i=generic_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082130"></a>current through bsource </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082132"></a><code>l=simple_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082134"></a>inductance between the nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082136"></a><code>phi=simple_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082138"></a>flux in the bsource device </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082140"></a><code>q=simple_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082142"></a>charge in bsource device </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082144"></a><code>r=simple_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082146"></a>resistance between the nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082148"></a><code>v=generic_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082150"></a>voltage across the nodes </p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1047910"></a><code>simple_expr</code> is defined as an Spectre expression, which contains: </p>
<ul><li>
<a id="pgfId-1050351"></a>Netlist parameters.</li><li>
<a id="pgfId-1050352"></a>Current simulation time, <code>$time</code>.</li><li>
<a id="pgfId-1084779"></a>Current frequency, <code>$freq</code>.</li><li>
<a id="pgfId-1050353"></a>Node voltage, <code>v(a,b)</code>, where <code>a</code> and <code>b</code> are nodes in the Spectre netlist, or node voltage <code>v(a)</code>, which is the voltage between node <code>a</code> and ground.</li><li>
<a id="pgfId-1047916"></a>Branch currents, <code>i(&quot;inst_id:index&quot;)</code>, where <code>inst_id</code> is an instance name given in the netlist and index is the port index that starts from 1. The default value of index is 1.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1070328"></a>If the value of the port index is set to 0, simple_expr treats it as the default value 1.</div></li></ul>







<p>
<a id="pgfId-1047919"></a><code>generic_expr</code> is defined as a <code>simple_expr</code> or <code>ddt()</code> or <code>idt()</code> of <code>simple_expr</code>.</p>
<p>
<a id="pgfId-1047920"></a><code>param_list</code> is <code>param_name=value</code>.</p>
<p>
<a id="pgfId-1047921"></a><code>param_name</code> can have the multiplicity factor <code>m</code>. The value of <code>m</code> defaults to 1.</p>

<h4>
<a id="pgfId-1047925"></a>Temperature Parameters</h4>
<p>
<a id="pgfId-1084797"></a></p>
<table class="webflareTable" id="#id1082159">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082165"></a><code>tc1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082378"></a>Linear temperature co-efficient. Valid for all behavioral elements. Default value is 0 1/C.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082350"></a><code>tc2</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082352"></a>Quadratic temperature co-efficient. Valid for all behavioral elements. Default value is 0 C^-2. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084830"></a><code>temp</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084832"></a>Parameter for ambient temperature. Valid for all behavioral elements. Default value is $temperature - 273.15.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082169"></a><code>tnom</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082171"></a>Parameters measurement temperature. Valid for all behavioral elements. Default value is 27.0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082173"></a><code>trise</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082175"></a>Temperature rise for ambient. Valid for all behavioral elements. Default value is 0.0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084860"></a><code>T</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084862"></a>Effective value of temperature. Valid for all behavioral elements. Default value is <code>temp+trise-tnom</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082177"></a><code>tc1c</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082179"></a>Linear temperature coefficient of capacitor. Valid for resistor type behavioral element. Default value is 0 1/C.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082181"></a><code>tc2c</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082183"></a>Quadratic temperature coefficient of capacitor. Valid for resistor type behavioral element. Default value is 0 C^-2.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1047938"></a>Clipping Parameters</h4>
<p>
<a id="pgfId-1084807"></a></p>
<table class="webflareTable" id="#id1082202">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082208"></a><code>max_val</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082422"></a>Maximum value of bsource expression. Valid for all behavioral elements, but used with i and v elements to clip the current or voltage between the specified values. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082394"></a><code>min_val</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082396"></a>Minimum value of bsource expression. Valid for all behavioral elements, but used with i and v elements to clip the current or voltage between the specified values. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084870"></a><code>bv_max</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084879"></a>Generate a warning when bsource voltage of two terminals exceeds the value specified by <code>bv_max</code>. Valid for resistor and capacitor.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1047945"></a>Noise Parameters</h4>
<p>
<a id="pgfId-1084818"></a></p>
<table class="webflareTable" id="#id1082219">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082225"></a><code>af</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082227"></a>Flicker noise exponent. Valid for r and g elements. Default value is 2.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082442"></a><code>fexp</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082444"></a>Flicker noise frequency exponent. Valid for r, g, v, and i elements. Default value is 1.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084897"></a><code>ef</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084899"></a>The alias parameter of <code>fexp</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084907"></a>ldexp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084909"></a>Flicker (1/f) noise L exponent. Valid for r and g elements. Default value is 1.0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084923"></a>lf</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084925"></a>The alias parameter of <code>ldexp</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084930"></a>wdexp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084932"></a>Flicker (1/f) noise W exponent. Valid for r&#160;&#160;and g elements. Default value is 1.0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084946"></a>wf</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084948"></a>The alias parameter of <code>wdexp</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082229"></a><code>isnoisy</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082231"></a>Specifies whether to generate noise. Valid for r, g, i, and v elements. Valid values are <code>yes</code> and <code>no</code>. Default value is <code>yes</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082233"></a><code>kf</code>     </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082235"></a>Flicker noise co-efficient. Valid for r and g elements. Default value is 0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082237"></a><code>white_noise</code>    </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082239"></a>White noise expression. Valid for v and i elements.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082241"></a><code>flicker_noise</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082243"></a>Flicker noise expression. Valid for v and i elements. </p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1047955"></a>DC Mismatch Parameters</h4>
<p>
<a id="pgfId-1084977"></a></p>
<table class="webflareTable" id="#id1082252">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082258"></a><code>mr</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082260"></a>DC-Mismatch parameter. Valid only for r.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1050964"></a>Other Parameters</h4>
<p>
<a id="pgfId-1084996"></a></p>
<table class="webflareTable" id="#id1085004">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085006"></a><code>scale, scaleb, scaler, scalei, scalec</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085008"></a>Bsource scaling factor. Default value is 1.0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085010"></a><code>ctype</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085012"></a>Different implementations of a capacitor. When the value is 1, bsource current is <code>ddt(cap*V(node1, node2))</code>, where <code>cap</code> is the bsource capacitor value with temp effect, mfactor effect, scale effect and so on. <code>V(node1, node2)</code> is the voltage between the bsource terminals. When the value is 2, the current is <code>ddt(cap)</code>. When the value is 0 or any other value, the current value is <code>cap*ddt(V(node1, node2))</code>. Default value is 0.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1084986"></a>For the detailed algorithm, refer to &quot;<em>Affirma Spectre DC Device Matching Analysis Tutorial</em>.&quot;</p>
<p>
<a id="pgfId-1047958"></a>All the parameters in the <code>param_name</code> table are instance parameters. <code>white_noise</code> and <code>flicker_noise</code> may be assigned behavioral expressions; the other parameters must be assigned constant or parametric expressions. </p>

<h4>
<a id="pgfId-1047959"></a>Supported Instance Parameters</h4>

<p>
<a id="pgfId-1047960"></a><code>bsource</code> supports the following instance parameters for Spectre primitives:</p>
<table class="webflareTable" id="#id1082515">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082517"></a>Resistor&#160;&#160;  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082519"></a><code>isnoisy</code>, <code>m</code>, <code>r</code>, <code>tc1</code>, <code>tc2</code>, <code>trise</code>, <code>kf</code>, <code>af</code>, <code>fexp</code>, <code>ldexp</code>, <code>wdexp</code>, <code>l</code>, <code>w</code>, <code>mr</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082521"></a>Capacitor&#160;&#160; </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082523"></a><code>c</code>, <code>m</code>, <code>tc1</code>, <code>tc2</code>, <code>trise</code>, <code>ic,</code> <code>ctype</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082525"></a>Inductor&#160;&#160;  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082527"></a><code>l</code>, <code>m</code>, <code>tc1</code>, <code>tc2</code>, <code>trise</code> </p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1047965"></a>Mathematical Definitions </h4>

<ul><li>
<a id="pgfId-1047966"></a><code>i = ddt(q) = ddt(simple_expr) </code></li><li>
<a id="pgfId-1047967"></a><code>v = ddt(phi) = ddt(simple_expr) </code></li><li>
<a id="pgfId-1047968"></a><code>v = i * r = i* simple_expr </code></li><li>
<a id="pgfId-1047969"></a><code>i = g * v = simple_expr * v </code></li><li>
<a id="pgfId-1047970"></a><code>i = c * ddt(v) = simple_expr * ddt(v)</code></li><li>
<a id="pgfId-1047971"></a><code>v = l * ddt(i) = simple_expr * ddt(i)</code></li></ul>






<h4>
<a id="pgfId-1047972"></a>Operating Point Parameters </h4>
<h4><em>
<a id="pgfId-1051199"></a>Capacitor</em></h4>
<table class="webflareTable" id="#id1082536">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082538"></a><code>cap (F)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082540"></a>Capacitance at operating point</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1047975"></a>Conductor</em></h4>
<table class="webflareTable" id="#id1082549">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082551"></a><code>g (S)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082553"></a>Conductance at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082555"></a><code>v (V)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082557"></a>Voltage at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082559"></a><code>i (A)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082561"></a>Current through the conductor</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082563"></a><code>pwr (W)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082565"></a>Power dissipation.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1051330"></a>Current Source</em></h4>
<table class="webflareTable" id="#id1082570">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082572"></a><code>v (V)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082574"></a>Voltage across the source</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082576"></a><code>i (A)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082578"></a>Current through the source</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082580"></a><code>pwr (W)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082582"></a>Power dissipation</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1047984"></a>Inductor</em></h4>
<table class="webflareTable" id="#id1082587">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082589"></a><code>ind (H)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082591"></a>Inductance at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082593"></a><code>i (A)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082595"></a>Current at operating point</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1047987"></a>Charge</em></h4>
<table class="webflareTable" id="#id1082600">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082602"></a><code>cap (F)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082604"></a>Capacitance at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082606"></a><code>ddt_v (V/s)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082608"></a>Voltage gradient at operating point</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1047990"></a>Resistor</em></h4>
<table class="webflareTable" id="#id1082613">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082615"></a><code>v (V)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082617"></a>Voltage at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082619"></a><code>i (A)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082621"></a>Current through the resistor</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082623"></a><code>res (Ohm)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082625"></a>Resistance at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082627"></a><code>pwr (W)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082629"></a>Power dissipation</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1047995"></a>Voltage Source</em></h4>
<table class="webflareTable" id="#id1082634">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082636"></a><code>v (V)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082638"></a>Voltage across the source</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082640"></a><code>i (A)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082642"></a>Current through the source</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082644"></a><code>pwr (W)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082646"></a>Power dissipation</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1048000"></a>Temperature Effects on bsource</h4>

<p>
<a id="pgfId-1048001"></a>The equation for computing temperature factor is as follows: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048002"></a>tempFactor = [1 + tc1*(temp+trise-tnom)+tc2*(temp+trise-tnom)^2]</pre>
<h4>
<a id="pgfId-1081046"></a>Frequency Eff<a id="frequency_effects"></a>ects on bsource</h4>

<p>
<a id="pgfId-1081047"></a>The support for frequency-dependent bsource is available. You can use a frequency-dependent resistor, capacitor, inductor, or bsource component in ac/noise/xf/sp/hb/hbac/hbnoise analyses.</p>
<p>
<a id="pgfId-1081048"></a>The syntax is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081049"></a>name ( node1 node2 ) model_name behav_param=freq_expression</pre>

<p>
<a id="pgfId-1081050"></a>where:</p>
<ul><li>
<a id="pgfId-1081051"></a><code>name</code> is the name of the instance</li><li>
<a id="pgfId-1081052"></a><code>model_name</code> can be bsource, resistor, capacitor, and inductor</li><li>
<a id="pgfId-1081053"></a><code>behav_param</code> is the r, c or l parameter.</li><li>
<a id="pgfId-1081054"></a><code>freq_expression</code> can be specified by arbitrary expressions using the <code>$freq</code> keyword.</li></ul>



<p>
<a id="pgfId-1081055"></a>Following are some examples using <code>$freq</code>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081057"></a>res (n1 n2) bsource r= 100 + sqrt($freq)/1e6</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081058"></a>res (n1 n2) resistor&#160;&#160;r= 100 + sqrt($freq)/1e6</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081059"></a>cap (n1 n2) bsource c=1e-12/(1+($freq)/1e9)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081060"></a>cap (n1 n2) capacitor c=1e-12/(1+($freq)/1e9)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081061"></a>ind (n1 n2) bsource l=1e-9+1e-9/(1+($freq)/1e9)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081033"></a>ind (n1 n2) inductor l=1e-9+1e-9/(1+($freq)/1e9)</pre>
<h4>
<a id="pgfId-1048003"></a>Examples of bsource Usage</h4>
<h4><em>
<a id="pgfId-1048004"></a><strong>Non-linear resistor/capacitor/inductor modeling</strong> </em></h4>

<p>
<a id="pgfId-1081190"></a><strong>Frequency-dependent resistor component</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081282"></a>res1&#160;&#160;(n1 n2)&#160;&#160;bsource r=100*(1+(1/2)*v(n1,n2)) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048006"></a>res2&#160;&#160;(n1 n2)&#160;&#160;resistor r=100*(1+(1/2)*v(n1,n2)) </pre>

<p>
<a id="pgfId-1081257"></a>In this example, the resistance of <code>res1</code> is frequency-dependent. Therefore, if you run hb and hbnoise analyses for different frequencies, the resistance varies accordingly.</p>
<p>
<a id="pgfId-1048007"></a><strong>Frequency-dependent capacitor component</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081317"></a>C1&#160;&#160;(1&#160;&#160;0) capacitor c=1e-12/(1+($freq)/1e9)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081318"></a>V1 (1 0 ) vsource type=sine freq=1G&#160;&#160;fundname=&quot;freq&quot; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081319"></a>ac ac start=1 stop=100M </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081320"></a>hb hb tstab=0n funds=[&quot;freq&quot;] maxharms=[5] errpreset=conservative </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048008"></a>hbac hbac start=1 stop=1G dec=3</pre>

<p>
<a id="pgfId-1081367"></a>In this example, the capacitance of <code>C1</code> is frequency-dependent. Therefore, if you run hb and hbnoise analyses for different frequencies, the capacitance varies accordingly.</p>
<p>
<a id="pgfId-1048009"></a><strong>Frequency-dependent inductor component</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081408"></a>L1&#160;&#160;(1&#160;&#160;0) inductor l=1e-9+1e-9/(1+($freq)/1e9) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081409"></a>V1 (1 0 ) vsource type=sine freq=1G&#160;&#160;fundname=&quot;freq&quot;&#160;&#160;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081410"></a>ac ac start=1 stop=100M </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081411"></a>hb hb tstab=0n funds=[&quot;freq&quot;] maxharms=[5] errpreset=conservative </pre>

<p>
<a id="pgfId-1048010"></a>In this example, the inductance of <code>L1</code> is frequency-dependent. Therefore, if you run hb analysis for different frequencies, the inductance varies accordingly. </p>
<p>
<a id="pgfId-1081499"></a><strong>Charge model for capacitor</strong> </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081500"></a>cap&#160;&#160;(n1 n2) bsource q=1.0e-6*v(n1,n2) </pre>

<p>
<a id="pgfId-1081501"></a><strong>Voltage and current (Sinewave) source</strong> </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081514"></a>vsrc (n1 n2) bsource v=10.0*sin(2*pi*freq*$time) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081515"></a>isrc (n1 n2) bsource i=1.0e-3*sin(2*pi*freq*$time) </pre>

<p>
<a id="pgfId-1048016"></a><strong>Current-controlled current source </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081538"></a>vsrc (n1 n2) vsource v=10 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081539"></a>cccs1 (n3 n4) bsource i=gain*i(&quot;vsrc:1&quot;) </pre>

<p>
<a id="pgfId-1048019"></a><strong>Current-controlled voltage source </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081562"></a>vsrc (n1 n2) vsource v=10</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081563"></a>ccvs1 (n3 n4) bsource v=100*i(&quot;vsrc:1&quot;) </pre>

<p>
<a id="pgfId-1048022"></a><strong>Voltage-controlled voltage source </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081586"></a>vsrc (n1 n2) resistor r=100k </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081587"></a>vcvs1 (n3 n4) bsource v=gain*v(n1,n2)</pre>

<p>
<a id="pgfId-1048025"></a><strong>Voltage-controlled current source</strong> </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081610"></a>vsrc (n1 n2) resistor r=100k </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081633"></a>vccs1 (n3 n4) bsource i=v(n1,n2)/2000.0 </pre>

<p>
<a id="pgfId-1048028"></a><strong>Restricting voltage limit </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081644"></a>res (n1 n2) bsource r=100*(1+(1/2)*v(n1,n2)) max_val=105 min_val=95 </pre>

<p>
<a id="pgfId-1048030"></a><strong>Using temperature coefficient for resistor </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081659"></a>res (n1 n2) bsource r=100&#160;&#160;tc1=0.01 tc2=0.003 trise=10 tnom=30</pre>

<p>
<a id="pgfId-1048032"></a><strong>Using DC mismatch parameter for resistor </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081675"></a>res (n1 n2) bsource r=100&#160;&#160;mr=0.3</pre>

<p>
<a id="pgfId-1048034"></a><strong>Using model card </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081690"></a>model model_card_res resistor tc1=0.1 tc2=0.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081713"></a>res (n1 n2) model_card_res r=100*(1+(1/2)*v(n1,n2))</pre>

<p>
<a id="pgfId-1048038"></a><strong>Sample netlist with bsource </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081724"></a>vsrc1 (n1 n2) bsource v=10*sin(2*pi*freq1*$time)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081725"></a>vsrc2 (n3 n4) bsource v=10*cos(2*pi*freq2*$time)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081726"></a>cccs1 (n5 n6) bsource i=gain*i(&quot;vsrc1:1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081727"></a>res&#160;&#160; (n5 n6) bsource r=100*(1+(1/2)*v(n5,n6))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081728"></a>        </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081729"></a>tran1 tran stop=1u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081730"></a>        </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081731"></a>altAnal altergroup {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081732"></a> cccs1 (n5 n6) bsource i=gain*i(&quot;vsrc2:1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081733"></a> res&#160;&#160; (n5 n6) bsource r=100*(1+(1/3)*pow(v(n5,n6),2))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081734"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081735"></a>tran2 tran stop=1u</pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1067278"></a>With standard (simple) syntax for resistor/capacitor/inductor, the <code>bsource</code> keyword is not required in the statement. However, if the keyword is specified, Spectre treats the resistor/capacitor/inductor as a behavioral source.</div>
<h4>
<a id="pgfId-1070758"></a><a id="48977"></a>bsource Compilation</h4>

<p>
<a id="pgfId-1072044"></a>Spectre automatically translates bsource components into verilogA models for simulation. As such, they are compiled prior to simulation just like any other verilogA model.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap4_re_Using_analogmodel_for_Model_Passing_analogmodel.html" id="prev" title="Using analogmodel for Model Passing (analogmodel)">Using analogmodel for Model Pa ...</a></em></b><b><em><a href="chap4_re_Checkpoint_-_Restart_checkpoint.html" id="nex" title="Checkpoint - Restart (checkpoint)">Checkpoint - Restart (checkpoi ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>