
<html><head><title>Selecting a Run Mode</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sarita" />
<meta name="CreateDate" content="2023-09-14" />
<meta name="CreateTime" content="1694753567" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="The Dracula product offers a complete set of integrated applications for verifying IC layout design.  This book contains task-related information about the Dracula standalone verification product." />
<meta name="DocTitle" content="Dracula User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Selecting a Run Mode" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="draculauser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-14" />
<meta name="ModifiedTime" content="1694753567" />
<meta name="NextFile" content="chap5.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Physical Verification  Analysis" />
<meta name="PrevFile" content="chap3.html" />
<meta name="c_product" content="Dracula" />
<meta name="Product" content="Dracula" />
<meta name="ProductFamily" content="Dracula" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Dracula User Guide -- Selecting a Run Mode" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="draculauserIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="draculauserTOC.html">Contents</a></li><li><a class="prev" href="chap3.html" title="Working With 32 and 64-bit Applications">Working With 32 and 64-bit App ...</a></li><li style="float: right;"><a class="viewPrint" href="draculauser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap5.html" title="Extracting RC Parasitics">Extracting RC Parasitics</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Dracula User Guide<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>4
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1011663"></a><hr />
<a id="23622"></a>Selecting a Run Mode<hr />
</h1>

<p>
<a id="pgfId-1014231"></a>This chapter discusses the following topics:</p>

<ul><li>
<a id="pgfId-1014236"></a><a href="chap4.html#32303">About Run Modes</a></li><li>
<a id="pgfId-1014240"></a><a href="chap4.html#48725">Using Flat Mode</a></li><li>
<a id="pgfId-1014244"></a><a href="chap4.html#29152">Using Dracula Distributed Processing</a></li><li>
<a id="pgfId-1014248"></a><a href="chap4.html#48421">Using Hierarchical Mode</a></li><li>
<a id="pgfId-1014252"></a><a href="chap4.html#46519">Using Multilevel Mode</a></li><li>
<a id="pgfId-1014256"></a><a href="chap4.html#44953">Using Cell Mode</a></li><li>
<a id="pgfId-1014260"></a><a href="chap4.html#86238">Using Composite Mode</a></li><li>
<a id="pgfId-1014264"></a><a href="chap4.html#70156">Improving Performance</a></li></ul>







<h2>
<a id="pgfId-1014267"></a><a id="32303"></a>Ab<a id="about_run_modes"></a>out Run Modes</h2>

<p>
<a id="pgfId-1014268"></a>When you are verifying your design, you might want to run Dracula in one of these modes:</p>

<ul><li>
<a id="pgfId-1014269"></a>Flat mode<br />
<a id="pgfId-1014270"></a>Verifies every instance of every cell, and the interconnect between cells, on a single machine.</li><li>
<a id="pgfId-1014271"></a>Distributed flat mode<br />
<a id="pgfId-1014272"></a>Verifies every instance of every cell and the interconnect between cells. Different portions of the design are verified on different machines running at the same time.</li><li>
<a id="pgfId-1014273"></a>Hierarchical mode<br />
<a id="pgfId-1014274"></a>Verifies one instance of every cell and the interconnect between cells. The content of the cells is flattened to a single level.</li><li>
<a id="pgfId-1014275"></a>Multilevel hierarchical mode<br />
<a id="pgfId-1014276"></a>Verifies one instance of every cell and the interconnect between cells. The content of the cells can have many levels.</li><li>
<a id="pgfId-1014277"></a>Cell mode<br />
<a id="pgfId-1014278"></a>Verifies only the contents of cells.</li><li>
<a id="pgfId-1014279"></a>Composite mode<br />
<a id="pgfId-1014280"></a>Verifies only the interconnect between cells.</li></ul>






















<p>
<a id="pgfId-1014281"></a>In this chapter, you&#8217;ll learn the characteristics of these run modes and get suggestions about how to select and use them to verify your design. These suggestions are general, because designs vary in size, content, structure, input format, and technology. </p>
<p>
<a id="pgfId-1014282"></a>Different modes have different texting requirements. For details, see the texting section for each mode in this chapter. For a general discussion of texting in Dracula, see <h-hot><a actuate="user" class="URL" href="../dracularef/chap12.html#using_text" show="replace" xml:link="simple">&#8220;Using Text&#8221; in the &#8220;Input-Layer Block Commands&#8221; chapter</a></h-hot> of the <em>Dracula Reference</em>.</p>

<h2>
<a id="pgfId-1014286"></a><a id="48725"></a>Using Flat M<a id="marker-1014285"></a>ode</h2>

<p>
<a id="pgfId-1014288"></a>If you are verifying a s<a id="marker-1014287"></a>mall to medium-large layout database, use flat mode. You can use all D<a id="marker-1014289"></a>racula capabilities (Dracula<sup>&#174;</sup> design rule checker, Dracula<sup>&#174;</sup> electrical rules checker, Dracula<sup>&#174;</sup> flat layout versus schematic verifier, Dracula<sup>&#174;</sup> layout parameter extractor, and Dracula<sup>&#174;</sup> parasitic resistance extractor in flat mode. Because this mode creates a flat database, processing might take longer than a hierarchical, cell, or composite mode run.</p>

<h3>
<a id="pgfId-1014290"></a>Running Dracula in Flat Mode</h3>

<p>
<a id="pgfId-1014291"></a>To run a job in flat mode, in the Description block of your Dracula rules file you must do one of the following:</p>

<ul><li>
<a id="pgfId-1014293"></a>Use <code>CHECK-MODE=flat</code><a id="marker-1014292"></a></li><li>
<a id="pgfId-1014294"></a>Omit the <code>CHECK-MODE</code> function (flat is the default)</li></ul>


<p>
<a id="pgfId-1014295"></a>You can run Dracula in flat mode on designs as large as your computer system can handle.</p>

<h3>
<a id="pgfId-1014297"></a><a id="81315"></a>When To Use Flat Mode</h3>

<p>
<a id="pgfId-1014299"></a>Use Dracula in flat mode w<a id="marker-1014298"></a>hen</p>

<ul><li>
<a id="pgfId-1014300"></a>You are new to Dracula<br />
<a id="pgfId-1014301"></a>Start in flat mode. After you get proficient in verifying designs in flat mode, try cell, hierarchical, or composite mode runs.</li><li>
<a id="pgfId-1014302"></a>You need full functionality<br />
<a id="pgfId-1014303"></a>There are no limitations, methodology or design restrictions, or special requirements when you run Dracula in flat mode. You can include any or all of the Dracula<sup> </sup>capabilities (Dracula design rule checker, Dracula<sup> </sup>electrical rules checker, Dracula flat layout versus schematic verifier, Dracula layout parameter extractor, and Dracula parasitic resistance extractor in your rules file. <br />
<a id="pgfId-1014304"></a>For example, you can run these products and functions, which are not available in the hierarchical modes:<ul><li>
<a id="pgfId-1014306"></a>Operations that require n<a id="marker-1014305"></a>odal information to make connections and distinguish between nodes, such as electrical rules, antenna checks, and the <code>CONNECT</code> and <code>SCONNECT</code> functions</li><li>
<a id="pgfId-1014307"></a>The <code>COVERAGE</code>, <code>RELOCATE</code>, <code>SIZE WITHIN</code>, and <code>EXPLODE</code> functions</li><li>
<a id="pgfId-1014308"></a>Dracula distributed</li></ul></li></ul>











<h3>
<a id="pgfId-1014310"></a>Verifying <a id="43385"></a>Gate Arrays</h3>

<p>
<a id="pgfId-1014312"></a>G<a id="marker-1014311"></a>ate array designs consist of certain base layers overlaid by cells that create transistors, contacts, and other connections. If you run HLVS on this layout in composite mode, the base layers that lie within the cell boundaries are omitted, so devices are not formed. To correct this problem, you can do one of the following:</p>

<ul><li>
<a id="pgfId-1014313"></a>Run in flat mode.</li><li>
<a id="pgfId-1014314"></a>Use the <code>BASE-LAYER</code> function in the Input-Layer block of your Dracula rules file. For more information on this function, see <a href="chap6.html#32674">Using Composite Plane Geometries in Hcells</a> in Chapter 6 of this manual.</li></ul>

<h3>
<a id="pgfId-1014319"></a><a id="71021"></a>Texting for Flat Mode</h3>

<p>
<a id="pgfId-1014321"></a>T<a id="marker-1014320"></a>he only items you need to text for flat mode are the top-level I/Os.</p>

<h2>
<a id="pgfId-1014324"></a><a id="29152"></a>Using D<a id="marker-1014323"></a>racula Distributed Processing</h2>

<p>
<a id="pgfId-1014325"></a>To shorten run times, you can use distributed processing to run Dracula on multiple workstations at the same time. You supply the rules file, design, and a list of workstations to use in processing. Dracula divides the tasks among the separate workstations. Dracula automatically keeps track of which tasks can&#8217;t start until other tasks are finished and which tasks need a more powerful workstation.</p>
<p>
<a id="pgfId-1014326"></a>You can run Dracula distributed either on multiple workstations connected through an NFS network or on a multiple-CPU workstation. </p>

<h3>
<a id="pgfId-1014327"></a>When To Use Dracula Distributed Processing</h3>

<p>
<a id="pgfId-1014329"></a>You use <a id="marker-1014328"></a>Dracula distributed processing for</p>

<ul><li>
<a id="pgfId-1014331"></a>B<a id="marker-1014330"></a>etter throughput<br />
<a id="pgfId-1014332"></a>If you have multiple workstations available, you can improve performance on l<a id="marker-1014333"></a>arge, flat designs by using distributed processing.</li><li>
<a id="pgfId-1014335"></a>F<a id="marker-1014334"></a>lat processing<br />
<a id="pgfId-1014336"></a>Dracula distributed supports flat mode design rule checker, electrical rule checker, layout versus schematic verifier, layout parameter extractor, and parasitic resistance extractor jobs.</li><li>
<a id="pgfId-1014337"></a>Hierarchical processing<br />
<a id="pgfId-1014338"></a>Dracula distributed supports hierarchical design rule checker and composite mode layout versus schematic verifier jobs.</li></ul>










<p>
<a id="pgfId-1014340"></a>For more details about how to run Dracula distributed and the new enhancements in the 4.8 version, see the <h-hot><a actuate="user" class="URL" href="../dracularef/chap2.html#dracdistributed" show="replace" xml:link="simple">&#8220;Dracula Distributed Processing&#8221;</a></h-hot> section in Chapter 2 and the &#8220;<h-hot><a actuate="user" class="URL" href="../dracularef/chap11.html#multicpu" show="replace" xml:link="simple">MULTICPU</a></h-hot>&#8221; command and the &#8220;<h-hot><a actuate="user" class="URL" href="../dracularef/chap11.html#keepdata" show="replace" xml:link="simple">KEEPDATA</a></h-hot>&#8221; command sections in Chapter 11 of the <em>Dracula Reference</em>.</p>

<h2>
<a id="pgfId-1014343"></a><a id="48421"></a>Using Hierarchica<a id="marker-1014342"></a>l Mode</h2>

<p>
<a id="pgfId-1014344"></a>For design rule checks on hierarchical designs, you can maximize the advantages of your hierarchy by using Dracula in hierarchical mode. Dracula<sup>&#174; </sup>2-level hierarchical design rule checker (formerly called Dracula HDRC) verifies large layout databases. It takes advantage of your hierarchical design structure by recognizing repetitive cells, called <em>Hcells</em>, and performing operations on them only once, even though there might be many instances of these cells in your layout. If there are duplicate cell-to-cell and cell-to-composite relationships, these are processed only once as well. The results are reported in hierarchical form, with a single error cell for each Hcell.</p>
<p>
<a id="pgfId-1014346"></a>Hie<a id="marker-1014345"></a>rarchical DRC uses less disk space than flat mode. Because HDRC reports fewer errors, it simplifies debugging. Depending on the structure of your design, you might get better performance using hierarchical mode instead of flat mode.</p>

<h3>
<a id="pgfId-1014347"></a>Running Dracula in Hierarchical Mode</h3>

<p>
<a id="pgfId-1014349"></a>To run a hierarchical design rule checker<a id="marker-1014348"></a>, include this function in the Description block of your Dracula rules file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014350"></a>CHECK-MODE = hier</pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014351"></a>Hierarchical mode is supported only for hierarchical design rule checker.</div>
<h3>
<a id="pgfId-1014354"></a>What <a id="33985"></a>the Hierarchical Design Rule Checker C<a id="marker-1014353"></a>hecks</h3>

<p>
<a id="pgfId-1014355"></a>HDRC checks the following:</p>

<ul><li>
<a id="pgfId-1014356"></a>The contents of the Hcells</li><li>
<a id="pgfId-1014357"></a>The composite (non-Hcell) data</li><li>
<a id="pgfId-1014359"></a>Hcell-to-H<a id="marker-1014358"></a>cell interfaces</li><li>
<a id="pgfId-1014360"></a>Hcell-to-composite interfaces</li></ul>




<p>
<a id="pgfId-1014361"></a>HDRC allows overlaps between cells. Geometries from the top level or another cell can penetrate or cross a cell. You do not need protection frames or cell boundaries around each cell. However, excessive overlaps and penetrations will slow Dracula.</p>

<h3>
<a id="pgfId-1014363"></a><a id="27872"></a>When To Use the Hierarchical Design Rule Checker</h3>

<p>
<a id="pgfId-1014365"></a>U<a id="marker-1014364"></a>se the hierarchical design rule checker for</p>

<ul><li>
<a id="pgfId-1014367"></a>L<a id="marker-1014366"></a>arge databases<br />
<a id="pgfId-1014368"></a>Hierarchical design rule checker can handle large databases, for example, multimillion-transistor designs.</li><li>
<a id="pgfId-1014369"></a>Databases with repetitive structures<br />
<a id="pgfId-1014370"></a>Designs with large numbers of repetitive physical structures, such as memories and m<a id="marker-1014371"></a>emory cores, are good candidates for HDRC.</li><li>
<a id="pgfId-1014373"></a>H<a id="marker-1014372"></a>ierarchical databases<br />
<a id="pgfId-1014374"></a>This mode is good for circuits containing a moderate degree of hierarchy. For highly hierarchical designs, you might consider using multilevel mode.</li><li>
<a id="pgfId-1014376"></a>S<a id="marker-1014375"></a>horter run/debugging times<br />
<a id="pgfId-1014377"></a>Hierarchical design rule checker flags an error for an Hcell only once, rather than for all placements of the Hcell. This reduces memory requirements, error correction time, and the volume of information you need to debug your design.<br /><div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014379"></a>
To avoid p<a id="marker-1014378"></a>erformance problems, do not use HDRC on parts of your design that have these characteristics:</div><ul><li>
<a id="pgfId-1014380"></a><strong><em>A large number of overlapping cell instances</em></strong></li><li>
<a id="pgfId-1014381"></a><strong><em>A large amount of over-the-cell routing</em></strong></li></ul><br />
<a id="pgfId-1014382"></a><strong><em>In these cases, hierarchical processing might take longer than flat processing.</em></strong></li></ul>





















<h2>
<a id="pgfId-1014386"></a><a id="46519"></a>Usi<a id="multilevel_mode"></a>ng Multilevel M<a id="marker-1014385"></a>ode</h2>

<p>
<a id="pgfId-1014387"></a>If you are verifying a very large design that contains Hcells within other Hcells, you use multilevel mode. The major difference between hierarchical mode and multilevel mode is that an H<a id="marker-1014388"></a>cell in multilevel mode can contain other Hcells. You can use multilevel mode only for DRC. The goal of multilevel DRC is to support a multilevel design hierarchy to reduce verification time and disk storage requirements.</p>

<h3>
<a id="pgfId-1014389"></a>Running Dracula in Multilevel Mode</h3>

<p>
<a id="pgfId-1014391"></a>To run a D<a id="marker-1014390"></a>RC in multilevel mode, include this function in the Description block of your Dracula rules file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014392"></a>CHECK-MODE = multi</pre>

<p>
<a id="pgfId-1014393"></a>For details about running a multilevel DRC job, see the &#8220;Hierarchical and Multilevel Hierarchical Design Rules Checker&#8221; section in Chapter 3 of the <em>Dracula Reference.</em></p>

<h3>
<a id="pgfId-1014395"></a><a id="74462"></a>Selecting Hcells for a Multilevel Run</h3>

<p>
<a id="pgfId-1014397"></a>M<a id="marker-1014396"></a>ultilevel DRC selects suitable Hcells to check (multilevel cells with over 100,000 line segments). Because multilevel DRC is for very large designs, the criteria that Dracula uses to select multilevel Hcells is different than the criteria for selecting standard hierarchical Hcells. For a list of the multilevel Hcell selection criteria, see the &#8220;Hierarchical and Multilevel Hierarchical Design Rules Checker&#8221; section in Chapter 3 of the <em>Dracula Reference.</em></p>
<p>
<a id="pgfId-1014398"></a>If your circuit performs poorly in multilevel mode, you might be able to improve performance by choosing different Hcells. For more information, see <a href="chap6.html#25090">Selecting Hcells Manually To Improve Performance</a> in Chapter 6 of this manual.</p>

<h3>
<a id="pgfId-1014403"></a><a id="67542"></a>When To Use Multilevel Mode</h3>

<p>
<a id="pgfId-1014406"></a>U<a id="marker-1014404"></a>se multilevel mode for h<a id="marker-1014405"></a>ighly hierarchical designs. Designs that have repetitive structures with many levels of hierarchy, such as large D<a id="marker-1014407"></a>RAMs, are good candidates for multilevel mode DRC.</p>

<h2>
<a id="pgfId-1014411"></a><a id="44953"></a>Us<a id="cell_mode"></a>ing Cell Mo<a id="marker-1014410"></a>de</h2>

<p>
<a id="pgfId-1014412"></a>If you want to check an entire library of cells in one run instead of using one run per cell, use cell mode. Cell mode verifies a group of selected H<a id="marker-1014413"></a>cells and reports errors on a cell-by-cell basis. Cell mode verifies only the cells that qualify as Hcells, not non-Hcells or interconnect between Hcells. You can use cell mode for DRC, ERC, LVS, and LPE runs.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014415"></a>There is no cell mode P<a id="marker-1014414"></a>RE.</div>
<h3>
<a id="pgfId-1014416"></a>Running Dracula in Cell Mode</h3>

<p>
<a id="pgfId-1014418"></a>To r<a id="marker-1014417"></a>un a job in cell mode, include this function in the Description block of your Dracula rules file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014419"></a>CHECK-MODE = cell</pre>

<p>
<a id="pgfId-1014421"></a>You can let Dracula select H<a id="marker-1014420"></a>cells automatically, or you can select them yourself. Hcells can be intermediate- or bottom-level cells in the layout hierarchy. Dracula expands all cells nested in an Hcell and brings them up to the Hcell plane.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014423"></a>
Even though H<a id="marker-1014422"></a>DRC and HLVS use a similar two-level hierarchy, Hcells in HLVS are modeled differently than Hcells in HDRC. Therefore, the databases of these two checks are incompatible. You must run HDRC and HLVS separately.</div>
<h3>
<a id="pgfId-1014425"></a><a id="28678"></a>When To Use Cell Mode</h3>

<p>
<a id="pgfId-1014427"></a>T<a id="marker-1014426"></a>he usual flow for LVS/ERC/LPE is to check cells in cell mode first. Then, when all cells are verified, run a composite mode check on the cells&#8217; environment. The combination of cell- and composite-mode runs is a complete check, equivalent in completeness to a flat-mode run. Both cell mode and composite mode are required. Neither is sufficient by itself.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014428"></a>
Do not run DRC in cell and composite modes, because cell and composite DRCs do not check Hcell-to-Hcell or Hcell-to-composite connections. Use hierarchical mode for DRCs.</div>

<p>
<a id="pgfId-1014429"></a>Use cell mode for</p>

<ul><li>
<a id="pgfId-1014431"></a>Verifying l<a id="marker-1014430"></a>ibraries<br />
<a id="pgfId-1014432"></a>You can place one instance of each library cell, or each new cell to add to a library, and verify the cells in cell mode.</li><li>
<a id="pgfId-1014434"></a>Creating H<a id="marker-1014433"></a>cells<br />
<a id="pgfId-1014435"></a>Use cell mode to verify the cells that you plan to use as Hcells.</li><li>
<a id="pgfId-1014438"></a>Extracting H<a id="marker-1014436"></a>cell text for H<a id="marker-1014437"></a>LVS<br />
<a id="pgfId-1014439"></a>In some cases, you might want to run Dracula on a cell below the top-level cell. For example, top-level cell <em>TOP</em> contains a placement of cell <em>2NOR</em>. If the Hcell text is in <em>TOP</em>, and you specify <em>2NOR</em> as the primary cell, you do not get text in cell <em>2NOR</em>. <br />
<a id="pgfId-1015330"></a>If you want to use <em>2NOR</em> as an Hcell, you must text power, ground, and one input or output. You can then use automatic text generation to extract the text.<br />
<a id="pgfId-1015411"></a><div class="webflare-div-image">
<img width="679" height="230" src="images/chap4-3.gif" /></div>
<a id="pgfId-1015198"></a>Run HLVS on cell <em>2NOR</em> and use the <code>GEN-TEXT-FILE</code><a id="marker-1014480"></a> function in cell mode to extract Hcell text into a text file. You can then run HLVS in composite mode with the extracted text, reading the text file in with the <code>HEDTEXT</code> function. For more information, see <a href="chap4.html#62065">Using GEN-TEXT To Generate Hcell Text</a>.</li></ul>

















<h3>
<a id="pgfId-1014487"></a><a id="24366"></a>Tex<a id="cell_text"></a>ting for Cell Mode</h3>

<p>
<a id="pgfId-1014489"></a>Y<a id="marker-1014488"></a>ou must text the following on the layout for each Hcell in your design:</p>

<ul><li>
<a id="pgfId-1014491"></a>Power<a id="marker-1014490"></a></li><li>
<a id="pgfId-1014493"></a>Ground<a id="marker-1014492"></a></li><li>
<a id="pgfId-1014494"></a>The minimum number of I/Os necessary to distinguish parallel circuitry</li></ul>



<p>
<a id="pgfId-1014496"></a>I<a id="marker-1014495"></a>f you are running HLVS or HLPE using a netlist, the I/Os reflect the local pin names supplied in the <code>.SUBCKT</code><a id="marker-1014497"></a> definition in your SPICE/CDL netlist file. For example, here is a netlist for a design:<a id="marker-1014498"></a><a id="marker-1014499"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014500"></a>*.PIN VDD VSS<br />.SUBCKT INV ABAR A<br />MP1 ABAR A VDD VDD PMOS<br />MN1 ABAR A VSS VSS NMOS<br />.ENDS<br />.SUBCKT 2NOR OUT1 IN1 IN2<br />MP1 OUT1 IN1 A   VDD PMOS<br />MP2 A    IN2 VDD VDD PMOS<br />MN1 OUT1 IN1 VSS VSS NMOS<br />MN2 OUT1 IN2 VSS VSS NMOS</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1014501"></a>.ENDS</pre>
<p>
<a id="pgfId-1014531"></a></p>
<div class="webflare-div-image">
<img width="680" height="161" src="images/chap4-4.gif" /></div>

<p>
<a id="pgfId-1014533"></a>On the corresponding layout, these n<a id="marker-1014532"></a>odes must be texted:</p>

<ul><li>
<a id="pgfId-1014534"></a>Inverter &#8212; <em>VDD</em>, <em>VSS</em>, <em>A</em>, and <em>ABAR</em></li><li>
<a id="pgfId-1014535"></a>Two-Input NOR &#8212; <em>VDD</em>, <em>VSS</em>, <em>IN1</em>, <em>IN2</em>, and <em>OUT1</em></li></ul>

<h4>
<a id="pgfId-1014536"></a>Supplying Text from the Layout</h4>

<p>
<a id="pgfId-1014538"></a>Y<a id="marker-1014537"></a>ou can use Hcell text from your layout database using the <code>CTEXT</code> function in the <code>INPUT-LAYER</code> block of your Dracula rules file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014539"></a>*INPUT-LAYER<br />PWELL&#160;&#160;= 1 CTEXT = 27 A<a id="marker-1014540"></a>TTACH = METAL<br />ACTIVE = 2 CTEXT = 33<br />POLY   = 4<br />; &lt;functions omitted&gt;<br />CTEXT = 44<br />CONNECT-LAYER = NSUB PWELL PSD NSD POLY METAL<br />*END</pre>

<p>
<a id="pgfId-1014541"></a>The text on layer 27 attaches to the metal geometries of your defined Hcells. Hcell text on layers 33 and 44 is attached globally, as described in the &#8220;CTEXT and ATTACH&#8221; section in Chapter 12 of the <em>Dracula Reference.</em></p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014542"></a>
Dracula versions prior to 4.3 do not read the same layer for <code>TEXT</code> and <code>CTEXT</code><a id="marker-1014543"></a>. You must use different layers for Hcell text and composite text.</div>
<h4>
<a id="pgfId-1014546"></a><a id="25591"></a>Bri<a id="textup"></a>nging Text Up to the Hcell Level</h4>

<p>
<a id="pgfId-1014548"></a>B<a id="marker-1014547"></a>y default, Dracula uses only database text contained within Hcells at level zero (the text must not be obscured by any hierarchy). When a cell placed within an Hcell is expanded up to the Hcell level, the text it contains is not considered part of the Hcell text. </p>
<ul><li>
<a id="pgfId-1014549"></a>To include cell text as part of the Hcell text, add this function to the Description block of your Dracula rules file:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1014550">
<a id="pgfId-1014550"></a>CELL-CHILD-TEXT = YES</pre></li></ul>



<p>
<a id="pgfId-1014551"></a>If <code>CELL-CHILD-TEXT=YES</code> in the following example, text strings IN1, IN2, VDD, VSS, and OUT1 are considered part of this instance of the FFLOP Hcell.</p>

<p>
<a id="pgfId-1015670"></a></p>
<div class="webflare-div-image">
<img width="679" height="285" src="images/chap4-5.gif" /></div>
<h4>
<a id="pgfId-1014586"></a>Supplying Text from a Text File</h4>

<p>
<a id="pgfId-1014588"></a>Y<a id="marker-1014587"></a>ou can supply Hcell text from an external text file. You can use this file in place of layout text or in conjunction with layout text. Any text you supply through an external file takes precedence over layout text if</p>

<ul><li>
<a id="pgfId-1014589"></a>The origin of the text in the file is at the same X,Y location as the layout text</li><li>
<a id="pgfId-1014590"></a>The text in the file attaches to the same layer as the layout text</li></ul>


<p>
<a id="pgfId-1014593"></a>Use the <code>HEDTEXT</code><a id="marker-1014591"></a><a id="marker-1014592"></a> function in the Operation block of your Dracula rules file to specify an external texting file. For details, see the &#8220;HEDTEXT&#8221; section in Chapter 3 of the <em>Dracula Reference.</em></p>

<h4>
<a id="pgfId-1014596"></a><a id="62065"></a>Us<a id="gen-text"></a>ing GEN-TEXT To Generate Hcell Text</h4>

<p>
<a id="pgfId-1014599"></a>You c<a id="marker-1014597"></a>an u<a id="marker-1014598"></a>se Dracula in cell mode to generate Hcell text for a composite mode run by including the <code>GEN-TEXT-FILE</code> function in your Dracula rules file. </p>
<p>
<a id="pgfId-1014600"></a>To use the text generation functions, you need to know how to do the following:</p>

<ul><li>
<a id="pgfId-1014601"></a>Supply the minimum text required for automatic texting</li><li>
<a id="pgfId-1014602"></a>Specify texting layers</li></ul>


<p>
<a id="pgfId-1014603"></a>These techniques are described in the sections that follow.</p>
<p>
<a id="pgfId-1014604"></a>For basic information, see the GEN-TEXT Commands section in Chapter 6 of the <em>Dracula Reference.</em></p>

<h4><em>
<a id="pgfId-1014605"></a>Supplying Minimum Text</em></h4>

<p>
<a id="pgfId-1014606"></a>To use <code>GEN-TEXT</code>, you must supply the following minimum text for each Hcell:</p>

<ul><li>
<a id="pgfId-1014607"></a>Power</li><li>
<a id="pgfId-1014608"></a>Ground</li><li>
<a id="pgfId-1014609"></a>One I/O that has a path to every element in the Hcell</li></ul>



<p>
<a id="pgfId-1014610"></a>You need to text only one I/O on the cell on the left in the following figure, because each I/O has a path to every element in the Hcell. You must text both I/Os on the cell on the right.</p>

<p>
<a id="pgfId-1016043"></a></p>
<div class="webflare-div-image">
<img width="672" height="163" src="images/chap4-6.gif" /></div>

<p>
<a id="pgfId-1014686"></a>If Dracula can completely verify an Hcell with this minimum text by referring to the <code>.SUBCKT</code><a id="marker-1014687"></a> definition for that Hcell, all text for that Hcell is output to a file in <code>HEDTEXT</code><a id="marker-1014688"></a> format. You can use this file as the Hcell text for a subsequent composite mode run.</p>

<h4><em>
<a id="pgfId-1014691"></a><a id="51562"></a>S<a id="text_layers"></a>pecifying Texting Layers</em></h4>

<p>
<a id="pgfId-1014693"></a>If you u<a id="marker-1014692"></a>se the <code>GEN-TEXT-FILE</code> function and supply the minimum text for a composite mode run, all Dracula-generated text is attached to the layer you specified in the <code>CTEXT</code><a id="marker-1014694"></a> function or <code>HEDTEXT</code> file. If a node is not on a layer specified in one of these functions, that node is not texted in the <code>HEDTEXT</code><a id="marker-1014695"></a> file that Dracula creates.</p>
<p>
<a id="pgfId-1014696"></a>In the following example, the only layer that text can attach to is metal:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014697"></a>*INPUT-LAYER<br />POLY  = 5 CTEXT = 28 ATTACH = METAL<br />METAL = 6<br />;<br />; &lt;functions omitted&gt;<br />;<br />*END</pre>

<p>
<a id="pgfId-1014698"></a>Without <code>GEN-TEXT-LAYER</code>, the default is to attach to metal only, because it is the layer you specified with <code>ATTACH</code><a id="marker-1014699"></a> to supply the minimum text from layer 28.</p>
<ul><li>
<a id="pgfId-1014700"></a>To be sure that all possible nodes are texted, supply a list of layers with the <code>GEN-TEXT-LAYER</code><a id="marker-1014701"></a> function in the Input-Layer block. <br />
<a id="pgfId-1014741"></a><div class="webflare-div-image">
<img src="images/VddOutVss.gif" /></div></li></ul>




<p>
<a id="pgfId-1014742"></a>The IN node of the INV Hcell can only be texted on poly. To attach text correctly, you need to add this lin<a id="marker-1014743"></a>e to the Input-Layer block:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014744"></a>GEN-TEXT-LAYER = POLY METAL</pre>

<p>
<a id="pgfId-1014745"></a>When you include this function, Dracula attaches text to metal first. If it cannot attach to metal, it attaches to poly. </p>
<p>
<a id="pgfId-1014746"></a>Dracula attaches generated text only to the layers defined by the <code>GEN-TEXT-LAYER</code> function, not to layers specified in the <code>ATTACH</code> statement.</p>

<h4><em>
<a id="pgfId-1014747"></a>Texting in a Hierarchy</em></h4>

<p>
<a id="pgfId-1014749"></a>Y<a id="marker-1014748"></a>ou can use <code>GEN-TEXT</code> functions to provide text for your design as you work up the hierarchy tree. For example, you can do a cell-mode run using <code>GEN-TEXT </code>functions on the JKFF, DFF, and Controller cells shown in the figure. Using the generated text, you can do a composite-mode run on the register bank with <code>GEN-TEXT</code> functions. You then have all the text you need to verify the FIFO cell</p>

<p>
<a id="pgfId-1015604"></a>.</p>
<div class="webflare-div-image">
<img width="669" height="195" src="images/chap4-8.gif" /></div>
<h2>
<a id="pgfId-1014780"></a><a id="86238"></a>Using Composite M<a id="marker-1014779"></a>ode</h2>

<p>
<a id="pgfId-1014781"></a>The composite plane is the top level of the current design hierarchy. It contains all geometries not included in any Hcell boundaries.</p>
<p>
<a id="pgfId-1014782"></a>Composite mode DRC is not a comprehensive check. It can help you find composite-level errors when you don&#8217;t have time to do a full analysis of the database. However, only hierarchical or flat mode provides a complete check.</p>
<p>
<a id="pgfId-1014783"></a>Dracula expands all cells that are neither Hcells nor cells contained in Hcells and brings them to the c<a id="marker-1014784"></a>omposite plane. The composite plane can be an intermediate cell. It does not need to be the top level of your design. </p>

<h3>
<a id="pgfId-1014785"></a>Running Dracula in Composite Mode</h3>

<p>
<a id="pgfId-1014787"></a>To run a job in composite mode, include this function in the Description b<a id="marker-1014786"></a>lock of your Dracula rules file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014788"></a>CHECK-MODE = composite</pre>
<h3>
<a id="pgfId-1014790"></a><a id="98596"></a>Checks in Composite Mode</h3>

<p>
<a id="pgfId-1014792"></a>Use c<a id="marker-1014791"></a>omposite mode on hierarchical designs for HDRC, HERC, HLVS, HLPE, and HPRE checks. Composite mode first extracts interconnect information from cells, then processes the following checks:</p>

<ul><li>
<a id="pgfId-1014793"></a>HDRC <br />
<a id="pgfId-1014795"></a>T<a id="marker-1014794"></a>he interconnections between Hcells, and between Hcells and composite-level cells. Dracula doesn&#8217;t check inside Hcells.</li><li>
<a id="pgfId-1014796"></a>HERC, HLVS <br />
<a id="pgfId-1014798"></a>C<a id="marker-1014797"></a>omposite, Hcell, Hcell-to-Hcell, and composite-to-Hcell interconnect information.<br />
<a id="pgfId-1014799"></a>Composite-mode LVS does a complete electrical analysis of the contents every Hcell and verifies that there are no electrical violations between the contents and the composite data. Composite LVS doesn&#8217;t LVS-check the Hcells, but it electrically analyzes every net inside every Hcell. For this reason, composite-mode LVS can take a long time, even if there are only one or two placements of each Hcell.</li><li>
<a id="pgfId-1014800"></a>HLPE <br />
<a id="pgfId-1014802"></a>C<a id="marker-1014801"></a>omposite information and composite-to-cell parasitics. You can run HLPE in composite mode with the same functions as in HLVS.</li><li>
<a id="pgfId-1014803"></a>HPRE <br />
<a id="pgfId-1014806"></a>D<a id="marker-1014804"></a>esigned (<code>ELEMENT RES</code><a id="marker-1014805"></a>) and parasitic (<code>PARASITIC RES</code>) resistors on the composite plane, including interconnection between instances and placements.</li></ul>
















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014807"></a>Your design cannot have nonparasitic (<code>ELEMENT</code>) devices created by overlapping Hcells.</div>
<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014810"></a>
<a id="78862"></a>Even though H<a id="marker-1014809"></a>DRC and HLVS use a similar two-level hierarchy, Hcells in HLVS are modeled differently than Hcells in HDRC. Therefore, the databases of these two checks are incompatible. You must run HDRC and HLVS separately.</div>
<h3>
<a id="pgfId-1014811"></a>When To Use Composite Mode</h3>

<p>
<a id="pgfId-1014813"></a>T<a id="marker-1014812"></a>he usual flow for LVS/ERC/LPE is to check cells in cell mode first. Then, when all cells are verified, run a composite mode check on the cells&#8217; environment. The combination of cell- and composite-mode runs is a complete check, equivalent in completeness to a flat-mode run. Both cell mode and composite mode are required. Neither is sufficient by itself.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014814"></a>
Don&#8217;t run DRC in cell and composite modes, because cell and composite DRCs do not check Hcell-to-Hcell or Hcell-to-composite connections. Use hierarchical mode for DRCs.</div>

<p>
<a id="pgfId-1014816"></a>Use c<a id="marker-1014815"></a>omposite mode for</p>

<ul><li>
<a id="pgfId-1014817"></a>Simplified verification analysis<br />
<a id="pgfId-1014818"></a>Composite mode checks a subset of your design, so it is easier to debug.</li><li>
<a id="pgfId-1014821"></a>Decreased d<a id="marker-1014819"></a>isk s<a id="marker-1014820"></a>pace requirements<br />
<a id="pgfId-1014822"></a>A composite mode run requires less disk space than a flat verification run.</li><li>
<a id="pgfId-1014823"></a>Dracula-to-CDC-to-Verilog timing flow<br />
<a id="pgfId-1014825"></a>Use composite mode H<a id="marker-1014824"></a>PRE to extract RC parasitics for the interconnect, then calculate the delays from the parasitics using the Central Delay Calculator (CDC) and use the delay values in Verilog. For details, see <a href="chap1.html#62780">&#8220;&#8221;</a>.</li></ul>











<h3>
<a id="pgfId-1014830"></a><a id="61923"></a>Composite Mode and Blackbox LVS</h3>

<p>
<a id="pgfId-1014831"></a>If you have cells with internal pins, you might be able to speed up your composite LVS run by running blackbox LVS. Blackbox LVS removes the contents of Hcells, so Dracula does not read in cell data and does not consider overlapping and over-the-cell geometries. T<a id="marker-1014832"></a>he amount of time you save depends on the density of your Hcells and their interaction with each other and the composite plane.</p>
<p>
<a id="pgfId-1014833"></a>For information about running a blackbox LVS, see the <em>Dracula Blackbox LVS Verification</em> application note, available from your local Field Applications Engineer.</p>

<h3>
<a id="pgfId-1014835"></a><a id="63582"></a>Texting for Composite Mode</h3>

<p>
<a id="pgfId-1014838"></a>Y<a id="marker-1014836"></a>ou must text the following on the layout for each H<a id="marker-1014837"></a>cell in your design:</p>

<ul><li>
<a id="pgfId-1014840"></a>Power<a id="marker-1014839"></a></li><li>
<a id="pgfId-1014842"></a>Ground<a id="marker-1014841"></a></li><li>
<a id="pgfId-1014843"></a>All I/Os</li></ul>



<p>
<a id="pgfId-1014844"></a>If you have verified the cell in cell mode, you already have this text. </p>
<p>
<a id="pgfId-1014845"></a>In addition to Hcell text, you need to supply composite text:</p>

<ul><li>
<a id="pgfId-1014846"></a>All top-level I/Os</li></ul>

<p>
<a id="pgfId-1014847"></a>The following figure shows Hcell text in regular font (blue) and composite text in red:</p>

<p>
<a id="pgfId-1015758"></a></p>
<div class="webflare-div-image">
<img width="670" height="392" src="images/chap4-9.gif" /></div>
<h4>
<a id="pgfId-1014912"></a>Supplying Text from the Layout</h4>

<p>
<a id="pgfId-1014914"></a>Y<a id="marker-1014913"></a>ou extract cell and composite text from your layout database using the <code>TEXT</code> and <code>CTEXT</code><a id="marker-1014915"></a><a id="marker-1014916"></a> functions in the <code>INPUT-LAYER</code> block of your Dracula rules file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014917"></a>*INPUT-LAYER<br />PWELL  = 1 TEXT  = 27 ATTACH = METAL<br />ACTIVE = 2 TEXT  = 33<br />POLY   = 4 CTEXT = 29 ATTACH = METAL<br />;<br />; &lt;functions omitted&gt;<br />;<br />CONNECT-LAYER = NSUB PWELL PSD NSD POLY METAL<br />*END</pre>

<p>
<a id="pgfId-1014918"></a>In this example, both top-level text and Hcell text are extracted from the layout. This supplies sufficient text to run Dracula in composite mode.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014919"></a>
Dracula versions prior to 4.3 do not read the same layer for T<a id="marker-1014920"></a>EXT and CTEXT. You must use different layers for H<a id="marker-1014921"></a>cell text and composite text.</div>

<p>
<a id="pgfId-1014922"></a>In composite mode, you can include text for a cell inside an Hcell as part of the Hcell text. See <a href="chap4.html#25591">Bringing Text Up to the Hcell Level</a>.</p>

<h4>
<a id="pgfId-1014926"></a>Supplying Text from a Text File</h4>

<p>
<a id="pgfId-1014928"></a>Y<a id="marker-1014927"></a>ou can supply composite text from an external text file. You can use this file in place of layout text or in conjunction with layout text. Any text supplied through the external file takes precedence over the layout text if</p>

<ul><li>
<a id="pgfId-1014929"></a>The origin of the text in the file is at the same X,Y location as the layout text</li><li>
<a id="pgfId-1014930"></a>The text in the file attaches to the same layer as the layout text</li></ul>


<p>
<a id="pgfId-1014933"></a>To specify an external text file, use the <code>EDTEXT</code><a id="marker-1014931"></a><a id="marker-1014932"></a> function in the Operation block of your Dracula rules file. For details, see the &#8220;EDTEXT&#8221; section in Chapter 13 of the <em>Dracula Reference.</em></p>

<h2>
<a id="pgfId-1014936"></a><a id="70156"></a>Im<a id="improve_perf"></a>proving Performance</h2>

<p>
<a id="pgfId-1014937"></a>To improve performance, try the following techniques on your designs. Because designs vary in size, content, structure, input format, and technology, your results might vary from design to design.</p>

<h3>
<a id="pgfId-1014939"></a><a id="59808"></a>Grouping Functions</h3>

<p>
<a id="pgfId-1014942"></a>Y<a id="marker-1014940"></a>ou can gr<a id="marker-1014941"></a>oup similar functions to reduce overhead time in loading layers, so Dracula runs faster. Similar functions that you can group are as follows:</p>

<ul><li>
<a id="pgfId-1014944"></a>Booleans &#8212; <code>AND</code>, <code>NOT</code><a id="marker-1014943"></a>, <code>OR</code>, <code>XOR</code></li><li>
<a id="pgfId-1014945"></a>DRC checks &#8212; <code>EXT</code>, <code>ENC</code>, <code>WIDTH</code>, <code>INT</code></li></ul>


<p>
<a id="pgfId-1014946"></a>When you group similar functions, Dracula creates fewer stages and runs faster, because it doesn&#8217;t have to open and close modules as many times. Also, some modules can do multiple operations in one run. For example</p>
<table class="webflareTable" id="#id1014947">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1016053">
<a id="pgfId-1016053"></a>Random:</span>
</th>
<th class="webflareTh" colspan="3" rowspan="1">
<span class="tbl-head" id="#id1016057">
<a id="pgfId-1016057"></a>    Grouped:</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014957"></a><code>AND</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014959"></a>stage 1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014961"></a><code>AND</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014963"></a>stage 1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014965"></a><code>SELECT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014967"></a>stage 2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014969"></a><code>AND</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014971"></a>stage 1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014973"></a><code>AND</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014975"></a>stage 3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014977"></a><code>SELECT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014979"></a>stage 2</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014981"></a><code>SELECT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014983"></a>stage 4</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014985"></a><code>SELECT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014987"></a>stage 2</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1014988"></a>The rules on the left create four stages. Because they are not grouped, Dracula must keep re-calling the module. The rules on the right group the <code>AND</code> and <code>SELECT</code><a id="marker-1014989"></a> functions, so Dracula has to call the modules only once for each group, resulting in two stages rather than four.</p>
<p>
<a id="pgfId-1014991"></a>You can also group operations that use the same la<a id="marker-1014990"></a>yer. Grouping similar functions for the same layer, one after the other within the Dracula rules file, reduces the time required to access the same file over and over again.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014992"></a>
Be careful about grouping identical functions. Dracula loads all layers for identical functions at the same time, so you might run out of swap space. A <code>BREAK</code><a id="marker-1014993"></a> function ungroups functions within a stage. Use it to separate stages if swap space is a problem.</div>
<h3>
<a id="pgfId-1014995"></a><a id="32925"></a>Preallocating Swap Space</h3>

<p>
<a id="pgfId-1014997"></a>Dracula provides a function to preallocate s<a id="marker-1014996"></a>wap space. If you don&#8217;t use this function, you might need to reallocate swap space during Dracula processing. </p>
<ul><li>
<a id="pgfId-1014998"></a>To preallocate swap space, include this function in the Description block of your Dracula rules file:</li></ul>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016069"></a>    TRAN<a id="marker-1016067"></a>SISTO<a id="marker-1016068"></a>R-NUM = value</pre>

<p>
<a id="pgfId-1015003"></a>where <em>value</em> is an estimated number of top-level transistors. The default is 100000. If swap space has to be reallocated during a Dracula run, that individual operation must be re-run, which wastes CPU time.<a id="marker-1015002"></a></p>
<p>
<a id="pgfId-1015005"></a>You can tell by looking in the Dracula log f<a id="marker-1015004"></a>ile whether your run is reallocating additional memory. Search your log file for the word <code>reallocate</code>. You might see lines like this:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015006"></a>reallocate at: EXPANX&#160;&#160; icutex,fatt: 30&#160;&#160;   0.50           0       50000</pre>

<p>
<a id="pgfId-1015007"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015008"></a>reallocate at: HLOGIC&#160;&#160; icutex,fatt: 159&#160;&#160;   0.50           0        4000</pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015009"></a>You can also use the same function, with slightly different format, when you run LOGLVS:</div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015012"></a>    TRAN<a id="marker-1015010"></a>SISTO<a id="marker-1015011"></a>R value</pre>
<h3>
<a id="pgfId-1015013"></a>Optimizing Rules</h3>

<p>
<a id="pgfId-1015015"></a>D<a id="marker-1015014"></a>racula runs every operation you specify in your rules file. It is common for redundancies to occur within a rules file, such as two separate functions generating the same layer. </p>
<p>
<a id="pgfId-1015016"></a>Dracula cannot automatically recognize these redundancies and optimize the rules file. To reduce processing time, you might want to read through your rules file and delete these redundancies.</p>

<h3>
<a id="pgfId-1015018"></a><a id="19858"></a>X-to-Y Ratio of the Circuit</h3>

<p>
<a id="pgfId-1015021"></a>I<a id="marker-1015019"></a>f the x rang<a id="marker-1015020"></a>e of your circuit is significantly larger than the y range, you might experience performance problems. Long horizontal circuits take longer to process because of the horizontal band scan algorithm that Dracula uses. </p>
<p>
<a id="pgfId-1015022"></a>You can resolve this problem by rotating the circuit so that the larger dimension is in the y range. You can either place the circuit at a 90-degree rotation or use the <code>ROTATION=90</code> function in the Description block of your Dracula rules file. Be sure to consider what effect a rotation will have on your text.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap3.html" id="prev" title="Working With 32 and 64-bit Applications">Working With 32 and 64-bit App ...</a></em></b><b><em><a href="chap5.html" id="nex" title="Extracting RC Parasitics">Extracting RC Parasitics</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>