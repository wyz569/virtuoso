
<html><head><title>The Spectre X Circuit Simulator</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="namratam" />
<meta name="CreateDate" content="2023-09-01" />
<meta name="CreateTime" content="1693555270" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the features of Spectre Classic Simulator, Spectre APS, Spectre X, Spectre XPS, Spectre FMC analysis, and Legato reliability solution." />
<meta name="DocTitle" content="Spectre Classic Simulator, Spectre APS, Spectre X, Spectre XPS, Spectre FMC Analysis, and Legato Reliability Solution User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="The Spectre X Circuit Simulator" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="spectreuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-01" />
<meta name="ModifiedTime" content="1693555270" />
<meta name="NextFile" content="spectreFMC.html" />
<meta name="Order" content="1" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="spectrexps.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Classic Simulator, Spectre APS, Spectre X, Spectre XPS, Spectre FMC Analysis, and Legato Reliability Solution User Guide -- The Spectre X Circuit Simulator" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="23.1" />
<meta name="SpaceKey" content="spectreuser231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectreuserTOC.html">Contents</a></li><li><a class="prev" href="spectrexps.html" title="The Spectre XPS Circuit Simulator">The Spectre XPS Circuit Simula ...</a></li><li style="float: right;"><a class="viewPrint" href="spectreuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="spectreFMC.html" title="Spectre FMC Analysis">Spectre FMC Analysis</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Classic Simulator, Spectre APS, Spectre X, Spectre XPS, Spectre FMC Analysis, and Legato Reliability Solution User Guide<br />Product Version 23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>5
<a id="pgfId-1065082"></a> </h1>
<h1>
<a id="pgfId-1065083"></a><hr />
<a id="36930"></a>The Spectre X Circuit Simulator<hr />
</h1>

<p>
<a id="pgfId-1087241"></a>Recent technology developments, advanced node adoption, and more than Moore designs have forced analog and custom IC designers to adopt new design practices to benefit from these advancements. These changes have resulted in the need to simulate larger designs with more postlayout parasitics. In addition, many custom IC designs, such as flash memory, MRAM, and sensor arrays now require SPICE-accurate simulations. To meet these demands, a new SPICE engine with much more performance and capacity than the current generation of circuit simulators is needed. Spectre&#174; X is the next generation of the Spectre circuit simulator that addresses the need for a simulator capable of simulating the next generation of analog, mixed-signal, and custom IC designs.</p>
<p>
<a id="pgfId-1087292"></a>Spectre X includes two major technologies:</p>
<ul><li>
<a id="pgfId-1087293"></a>Enhanced simulation performance and capacity with a simple <code>+preset</code> use model</li><li>
<a id="pgfId-1087288"></a>Highly scalable multi-core simulation with <code>+mt</code>, and distributed multi-process simulation with <code>+xdp</code></li></ul>

<p>
<a id="pgfId-1088060"></a>This chapter discusses the following topics:</p>
<ul><li>
<a id="pgfId-1088110"></a><a href="spectrex.html#69397">License Requirements for Spectre X</a></li><li>
<a id="pgfId-1095380"></a><a href="spectrex.html#88364">Using the Spectre X +preset Option</a></li><li>
<a id="pgfId-1088142"></a><a href="spectrex.html#60972">Migrating from Spectre APS</a></li><li>
<a id="pgfId-1088149"></a><a href="spectrex.html#88517">Using the Spectre X +xdp Option</a></li><li>
<a id="pgfId-1095136"></a><a href="spectrex.html#12442">Using GPU with Spectre X</a></li></ul>





<h2>
<a id="pgfId-1095194"></a><a id="69397"></a>License Requirements for Spectre X</h2>

<p>
<a id="pgfId-1095235"></a>The number of MMSIM token checked out depends on the number of CPU cores, as described below.</p>
<ul><li>
<a id="pgfId-1095347"></a>Single core: 3 MMSIM tokens&#160;</li><li>
<a id="pgfId-1095348"></a>2 &#8211; 4 cores: 6 MMSIM tokens&#160;</li><li>
<a id="pgfId-1095349"></a>5 &#8211; 16 cores: 9 MMSIM tokens&#160;</li><li>
<a id="pgfId-1095350"></a>17 &#8211; 64 cores: 12 MMSIM tokens&#160;</li><li>
<a id="pgfId-1095351"></a>65 &#8211; 128 cores:&#160;15 MMSIM tokens&#160;</li><li>
<a id="pgfId-1095352"></a>129 &#8211; 256 cores:&#160;18 MMSIM tokens</li><li>
<a id="pgfId-1095343"></a>257 &#8211; 512 cores:&#160;21 MMSIM tokens</li></ul>







<h2>
<a id="pgfId-1087325"></a><a id="88364"></a>Using the Spectre X +preset Option</h2>

<p>
<a id="pgfId-1087326"></a>Spectre X provides five high-level <code>+preset</code> options (<code>cx</code>, <code>ax</code>, <code>mx</code>, <code>lx</code>, <code>vx</code>) that allow you to trade off accuracy and performance. These high-level options not only control solver settings, but also enable parasitic optimization after automatically detecting postlayout designs. The <code>cx</code> mode provides the highest accuracy, while the <code>vx</code> mode provides the highest performance. </p>
<p>
<a id="pgfId-1093492"></a>Spectre X ignores the Spectre APS command-line options <code>+aps</code>, <code>++aps</code>, <code>+postlayout</code>, <code>+errpreset</code>.</p>
<p>
<a id="pgfId-1087327"></a>To start a Spectre X simulation, type the following at the command line:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087328"></a>% spectre +preset=mx input.scs</pre>

<p>
<a id="pgfId-1087421"></a>The following provides guidance on the <code>+preset</code> selection options:</p>

<p>
<a id="pgfId-1087875"></a></p>
<table class="webflareTable" id="#id1087662">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1087728">
<a id="pgfId-1087728"></a>Option Name</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1087730">
<a id="pgfId-1087730"></a>When to Use...</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087732"></a><code>cx</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087734"></a>when a golden simulation reference is needed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087736"></a><code>ax</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087738"></a>for high-precision analog applications</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087769"></a><code>mx</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087771"></a>for most analog applications (default)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087773"></a><code>lx</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087775"></a>for power management and other relaxed analog applications</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087777"></a><code>vx</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087779"></a>for custom IC verification</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1087365"></a>Spectre X <code>+preset</code> uses the same multi-core simulation approach and use model as Spectre APS. By default, 8 cores are used.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087366"></a>% spectre +preset=mx input.scs +mt=4</pre>

<p>
<a id="pgfId-1087367"></a>While postlayout optimization enabled by the <code>+preset</code> settings is sufficient in most cases, there may be designs that require you to adjust, or disable postlayout optimization. You can do this by using the <code>+postlpreset</code> command-line option, which accepts the following values: <code>off</code>, <code>cx</code>, <code>ax</code>, <code>mx</code>, <code>lx</code>, and <code>vx</code>. The <code>+postlpreset</code> command-line option can also be used to enforce postlayout optimization in case Spectre X does not detect the postlayout nature of a design.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087368"></a>% spectre +preset=mx +postlpreset=cx input.scs</pre>

<p>
<a id="pgfId-1087369"></a>By default, Spectre X ignores the user-specified simulation options that trade off performance and accuracy. </p>
<ul><li>
<a id="pgfId-1089408"></a>Transient options: <code>method</code>, <code>relref</code>, <code>lteratio</code>, <code>maxiters</code>, <code>maxstep</code></li><li>
<a id="pgfId-1089443"></a>Netlist options: <code>reltol</code>, <code>residualtol</code>, <code>vabstol</code>, <code>iabstol</code>, <code>preserve_inst</code></li></ul>

<p>
<a id="pgfId-1089390"></a>However, you can use the <code>-preset_override</code> command-line option to tell Spectre X to honor the user-specified simulation options, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087370"></a>% spectre +preset=mx -preset_override input.scs</pre>

<p>
<a id="pgfId-1087371"></a>You can also specify the simulation options as a list, separated by a comma, with the <code>-preset_override</code> command-line option to tell Spectre X to selectively honor only those options and ignore the others, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087372"></a>% spectre +preset=mx -preset_override=reltol,method input.scs</pre>
<h3>
<a id="pgfId-1097625"></a>Dynamically Changing Parameters in Spectre X</h3>

<p>
<a id="pgfId-1097675"></a>You can use <code>steppreset</code>, a high-level solver parameter, to dynamically changed the Spectre X parameters. Possible values for this <code>steppreset</code> are cx, ax, mx, lx and vx.</p>
<p>
<a id="pgfId-1097838"></a>The following solver options are adjusted with the steppreset change:</p>

<p>
<a id="pgfId-1097836"></a></p>
<table class="webflareTable" id="#id1098021">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098023">
<a id="pgfId-1098023"></a>steppreset</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098025">
<a id="pgfId-1098025"></a>dis_lte_relax</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098027">
<a id="pgfId-1098027"></a>fastout</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098029">
<a id="pgfId-1098029"></a>trapversion</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098031">
<a id="pgfId-1098031"></a>reltol</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098033">
<a id="pgfId-1098033"></a>errpreset</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098035">
<a id="pgfId-1098035"></a>method</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098037">
<a id="pgfId-1098037"></a>relref</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098039">
<a id="pgfId-1098039"></a>maxiters</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098041">
<a id="pgfId-1098041"></a>vrefbins</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098043">
<a id="pgfId-1098043"></a>Iteration</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098045"></a>CX</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098047"></a>yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098049"></a>yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098051"></a>0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098053"></a>1.00E-04</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098055"></a>conservative_sigglobal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098057"></a>gear2only</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098059"></a>sigglobal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098061"></a>5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098063"></a>[1 3 5 10]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098065"></a>10</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098067"></a>AX</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098069"></a>yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098071"></a>yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098073"></a>0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098075"></a>1.00E-03</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098077"></a>moderate</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098079"></a>trap</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098081"></a>sigglobal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098083"></a>5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098085"></a>[1 3 5 10]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098087"></a>3.5</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098089"></a>MX</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098091"></a>no</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098093"></a>yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098095"></a>0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098097"></a>1.00E-03</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098099"></a>moderate</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098101"></a>trap</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098103"></a>allglobal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098105"></a>5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098107"></a>[1 3 5 10]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098109"></a>3.5</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098111"></a>LX</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098113"></a>yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098115"></a>no</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098117"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098119"></a>1.00E-03</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098121"></a>liberal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098123"></a>trap</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098125"></a>sigglobal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098127"></a>10</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098129"></a>[1 3 5 10]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098131"></a>3.5</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098133"></a>VX</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098135"></a>no</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098137"></a>yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098139"></a>0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098141"></a>3.50E-03</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098143"></a>liberal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098145"></a>trap</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098147"></a>sigglobal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098149"></a>5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098151"></a>[3 5 10]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098153"></a>1</p>
</td>
</tr>
</tbody></table>
<h2>
<a id="pgfId-1087925"></a><a id="60972"></a>Migrating from Spectre APS</h2>

<p>
<a id="pgfId-1087961"></a>Experienced users of the Spectre APS simulator may have established a preferred set of simulation options for their design styles. The following table provides guidance on which Spectre X mode to use when migrating from Spectre APS to Spectre X:</p>

<p>
<a id="pgfId-1093013"></a></p>
<table class="webflareTable" id="#id1087330">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093190"></a><strong>APS Setting</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093192"></a><code>conservative*</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093194"></a><code>moderate**</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093196"></a><code>liberal</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093198"></a><code>Custom IC Verification</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093200"></a><strong>Spectre X</strong></p>
<p>
<a id="pgfId-1093201"></a><code>+preset</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093203"></a><code>cx or ax</code></p>
<p>
<a id="pgfId-1093204"></a>(start with ax)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093206"></a><code>ax or mx</code></p>
<p>
<a id="pgfId-1093207"></a>(start with mx)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093209"></a><code>lx or vx</code></p>
<p>
<a id="pgfId-1093210"></a>(start with lx)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093212"></a><code>vx</code></p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1093017"></a>* The ax preset can in general provide sufficient accuracy in conservative runs. We recommend starting with ax and only use cx if your circuits require it.</p>
<p>
<a id="pgfId-1093018"></a>** The lx preset may provide sufficient accuracy compared to moderate runs with much better performance, for example PMIC, High Voltage designs.</p>

<h2>
<a id="pgfId-1087374"></a><a id="88517"></a>Using the Spectre X +xdp Option</h2>

<p>
<a id="pgfId-1089767"></a>Spectre X distributed simulation allows more computer cores across multiple computer hosts to further speed up DC and transient run time of large to very large, mainly postlayout circuits. A circuit is considered as large when there are at least 500,000 nodes. It has equivalent convergence and accuracy as Spectre X multi-core simulation. The netlist syntax, device models, analysis setups, and output formats are fully compatible with Spectre X multi-core simulation. </p>
<p>
<a id="pgfId-1089768"></a>Spectre X distributed simulation supports the following:</p>
<ul><li>
<a id="pgfId-1089769"></a>DC, transient, HB, assert, and output<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1090724"></a>The Spectre X distributed HB analysis flow requires a special license. To use this flow, contact your Cadence representative.</div></li><li>
<a id="pgfId-1089770"></a>alter; instance and model parameter alter including topology change is supported</li><li>
<a id="pgfId-1090599"></a>sweep; instance and model parameter alter including topology change is supported</li><li>
<a id="pgfId-1089771"></a>info (limited support); <code>what=inst|oppoint</code> is not supported</li><li>
<a id="pgfId-1089829"></a>Monte Carlo analysis</li><li>
<a id="pgfId-1097064"></a>Reliability analysis</li><li>
<a id="pgfId-1097098"></a><code>LSF</code>, <code>SGE</code>, <code>PBS</code>, and <code>rsh</code> (or <code>ssh</code>) methods for job distribution. The command-line options <code>+preset</code> and <code>+xdp</code> are required to invoke the distributed mode. If any of these options is missing, simulation is not run in distributed mode.</li></ul>







<p>
<a id="pgfId-1089772"></a>If an analysis or feature is not supported, Spectre X ignores it with a warning.</p>
<p>
<a id="pgfId-1089774"></a>You can use the following command to distribute a job locally using <code>rsh</code> across two hosts, <code>hostA</code> and <code>hostB</code> (with each host using 16 cores):</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089775"></a>% spectre +preset=mx +mt=16 +xdp=rsh +hosts &quot;hostA:1 hostB:1&quot; /hm/test/input.scs</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1089776"></a>The specified path, for example, <code>/hm/test/input.scs</code>, should be network accessible.</div>
<p>
<a id="pgfId-1089777"></a>If you need to use <code>ssh</code> instead of <code>rsh</code>, you must specify the <code>ssh</code> argument with the <code>+xdp</code> option; however, the <code>+hosts</code> argument may remain unchanged.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089778"></a>% spectre +preset=mx +mt=16 +xdp=ssh +hosts &quot;hostA:1 hostB:1&quot; /hm/test/input.scs</pre>

<p>
<a id="pgfId-1089779"></a>In the LSF use model, it is assumed that Spectre X is started using the LSF job submission command or a user-specific wrapper. Spectre X automatically detects this and queries LSF for a list of hosts allocated to the job by LSF and the number of cores allocated on each host. Add the <code>+xdp</code> command-line option only without <code>+mt</code> to ensure that distributed mode is started.</p>
<p>
<a id="pgfId-1089780"></a>In the following example, the <code>bsub</code> command is used to request a total of 32 cores, on two machines, with 16 cores on each machine. Spectre X automatically uses the allocated cores and machines supplied by LSF.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089781"></a>% bsub -n 32 -q rnd -P myProject -R &quot;OSREL==EE70 &amp;&amp; CPUS&gt;=16 span[ptile=16]&quot; spectre +preset=mx +xdp /hm/test/input.scs </pre>

<p>
<a id="pgfId-1089782"></a>If you want to use SGE instead of LSF, you can use the following equivalent command:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089783"></a>% qsub -l nodes=2,ppn=1,tpp=16 -V -cwd &quot;spectre +preset=mx +xdp /hm/test/input.scs </pre>

<p>
<a id="pgfId-1089784"></a>If you want to use PBS instead of LSF, you can use the following equivalent command:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089785"></a>% qsub -l select=2:ncpus=16 -q rnd -P myProject &quot;spectre +preset=mx +xdp /hm/test/input.scs </pre>

<p>
<a id="pgfId-1089851"></a>In the LSF use model, you can use the <code>+ppn</code><a id="ppn"></a> option to control the number of processes per host. In the example below, the simulation will run on a total of 32 cores using two hosts, two processes on each host, with each process using eight threads.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089852"></a>% bsub -n 32 -q rnd -P myProject -R &quot;OSREL==EE70 &amp;&amp; CPUS&gt;=16 span[ptile=16]&quot; spectre +preset=mx +xdp +ppn=2 /hm/test/input.scs</pre>

<p>
<a id="pgfId-1089853"></a>It is beneficial to use <code>+ppn</code> when you are running distributed HB simulation. It is recommended to set <code>+ppn</code> to the same number of sockets of the machines being used.</p>

<h4><em>
<a id="pgfId-1087395"></a>Notes on Spectre X Distributed Mode</em></h4>

<ul><li>
<a id="pgfId-1091577"></a>For DC and transient, Spectre X supports a process-based output by default where both master and worker processes simultaneously write the waveform output to individual files, thereby increasing the simulation speed. Currently, the process-based output is supported only in <code>psf</code>, <code>psfxl</code>, and <code>sst2</code> formats.</li><li>
<a id="pgfId-1087396"></a>It is recommended to use identical machine configurations for all the hosts, and an equal number of cores on each host for performance testing. </li><li>
<a id="pgfId-1087397"></a>Spectre X distributed mode supports up to 512 cores and can be used to simulate designs containing millions of devices.</li><li>
<a id="pgfId-1087398"></a>When running distributed simulation with <code>ssh</code>, it is required to use password-less mode by <code>ssh-keygen</code> to generate private and public key. Copy the public key to remote hosts before starting the simulation.</li><li>
<a id="pgfId-1087399"></a>Spectre APS <code>+dp</code> is no longer supported. Use Spectre X <code>+xdp</code> instead.</li></ul>





<h2>
<a id="pgfId-1093495"></a><a id="12442"></a>Using GPU w<a id="gpu"></a>ith Spectre X</h2>

<p>
<a id="pgfId-1093524"></a>Spectre X lets you use graphics processing units (GPUs) in addition to CPUs. If there are GPUs available in the setup and you have large designs that have long-running transient analyses, postlayout or advanced node simulations, you can use GPU mode of Spectre X to speed up simulations.</p>
<p>
<a id="pgfId-1093894"></a>Spectre X with GPU supports all <code>+preset</code> levels in the same way as done without GPU and there is no accuracy change in the results. When using GPUs, better performance is expected at high accuracy modes in the following order: CX &gt; AX &gt; MX &gt; LX.</p>
<p>
<a id="pgfId-1094209"></a>GPUs work in collaboration with CPUs. A CPU manages the simulation tasks and dispatches the heavy workload to the GPUs. </p>

<h3>
<a id="pgfId-1094258"></a>License Requirements for GPU</h3>

<p>
<a id="pgfId-1095887"></a>For details on the license requirements for GPU, contact Cadence Customer Support.</p>

<h3>
<a id="pgfId-1094448"></a>Use Model</h3>

<p>
<a id="pgfId-1094462"></a>To enable GPU for Spectre X, use the <code>+gpu</code> command-line option along with the <code>+preset</code> option.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1094681"></a>spectre &#8230; +gpu</pre>

<p>
<a id="pgfId-1094582"></a>When one or more GPUs are available and you want to use any of the available resources, the least loaded GPU device is automatically assigned.</p>
<p>
<a id="pgfId-1094704"></a>To use a specific GPU device, specify the name of the device in the <code>+gpudev</code> command-line option.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1094705"></a>spectre &#8230; +gpu +gpudev <code><em>device-id</em></code></pre>

<p>
<a id="pgfId-1094706"></a>For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1094912"></a>spectre &#8230; +gpu +gpudev 0</pre>

<p>
<a id="pgfId-1094573"></a>To specify multiple specific GPUs, use a range or list of device IDs.</p>
<p>
<a id="pgfId-1095002"></a>Examples:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1095021"></a>spectre -64 +preset cx +mt 8 +gpu=2 +gpudev 0,2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1095017"></a>spectre -64 +preset cx +mt 8 +gpu=4 +gpudev 0-3</pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="spectrexps.html" id="prev" title="The Spectre XPS Circuit Simulator">The Spectre XPS Circuit Simula ...</a></em></b><b><em><a href="spectreFMC.html" id="nex" title="Spectre FMC Analysis">Spectre FMC Analysis</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>