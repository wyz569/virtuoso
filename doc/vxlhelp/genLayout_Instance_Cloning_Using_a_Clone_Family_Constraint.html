
<html><head><title>Instance Cloning Using a Clone Family Constraint</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698328027" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of the Virtuoso Layout Suite XL connectivity-driven features in the current release." />
<meta name="DocTitle" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Instance Cloning Using a Clone Family Constraint" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vxlhelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698328027" />
<meta name="NextFile" content="genLayout_tk_Cloning_between_Multiple_Cellviews.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="genLayout_tk_Editing_a_Target_Structure_Before_Generation.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide -- Instance Cloning Using a Clone Family Constraint" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Layout XL" />
<meta name="prod_subfeature" content="Cloning,Layout Generation" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vxlhelpIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vxlhelpTOC.html">Contents</a></li><li><a class="prev" href="genLayout_tk_Editing_a_Target_Structure_Before_Generation.html" title="Editing a Target Structure Before Generation">Editing a Target Structure Bef ...</a></li><li style="float: right;"><a class="viewPrint" href="vxlhelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="genLayout_tk_Cloning_between_Multiple_Cellviews.html" title="Cloning between Multiple Cellviews">Cloning between Multiple Cellv ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:Instance_Cloning_Using_a_Clone_Family_Constraint" title="Instance Cloning Using a Clone Family Constraint"></a><h3>
<a id="pgfId-1105377"></a><a id="54501"></a>Instance<a id="cloneFamConstr"></a> Cloning Using a Clone Family Constraint</h3>

<p>
<a id="pgfId-1105378"></a>A Clone Family constraint represents a synchronous clone family, which consists of two or more Clone Defs, where a Clone Def is an ordered list of bound instances that are contained in a clone.</p>
<p>
<a id="pgfId-1105379"></a>In general, a Clone Family constraint can be represented by the illustration below:</p>

<p>
<a id="pgfId-1105383"></a></p>
<div class="webflare-div-image">
<img width="681" height="323" src="images/genLayout-53.gif" /></div>

<p>
<a id="pgfId-1105384"></a>This topic covers:</p>
<ul><li>
<a id="pgfId-1105388"></a><a href="genLayout_Instance_Cloning_Using_a_Clone_Family_Constraint.html#47662">Using the Constraint Manager to Generate the Clone Family Constraint</a> </li><li>
<a id="pgfId-1105392"></a><a href="genLayout_Instance_Cloning_Using_a_Clone_Family_Constraint.html#60668">Using the Generate Clones Form to Generate the Clone Family Constraint</a></li><li>
<a id="pgfId-1105396"></a><a href="genLayout_Instance_Cloning_Using_a_Clone_Family_Constraint.html#78343">Using Iterated Instances to Generate the Clone Family Constraint</a></li><li>
<a id="pgfId-1105400"></a><a href="genLayout_Instance_Cloning_Using_a_Clone_Family_Constraint.html#34980">Using Mfactored Instances to Generate the Clone Family Constraint</a></li></ul>



<p>
<a id="pgfId-1105401"></a>If a Clone Family constraint already exists in the schematic, the constraint is transferred to the layout Constraint Manager when the <em>Generate All From Source</em><h-hot />command is run. If possible, Layout XL creates clones using the devices generated by the command. If the instance masters are identical for the generated clones, Layout XL creates synchronous clones.</p>

<h4>
<a id="pgfId-1105404"></a><a id="47662"></a>Using the Constraint Manager to Generate the Clone Family Constraint</h4>

<p>
<a id="pgfId-1105405"></a>To add a Clone Family constraint using the Constraint Manager:</p>

<ul><li>
<a id="pgfId-1105406"></a>In the schematic or layout canvas, select the instances to be added to the constraint and choose the <em>cloneFamily</em> option in the <em>Constraint Creation</em> menu in Constraint Manager.</li></ul>

<p>
<a id="pgfId-1105407"></a>A new <em>Clone Family</em> constraint is added to the Constraint Manager and the selected instances are added to the constraint as members of the Clone Def associated with the constraint.</p>
<ul><li>
<a id="pgfId-1105408"></a>If the same instances end up being in two Clone Family constraints, the new Clone Family constraint is not created. For example, if a Clone Family constraint comprises instances <code>IM0</code> and <code>IM1</code>, Layout XL does not allow creating another Clone Family constraint that will contain these two instances.</li><li>
<a id="pgfId-1105409"></a>If the instances selected for creating a Clone Family constraint contain any unbound instances, the unbound instances are added to the Clone Def that is generated.<br />
<a id="pgfId-1105417"></a><div class="webflare-div-image">
<img width="637" height="571" src="images/genLayout-54.gif" /></div></li></ul>





<p>
<a id="pgfId-1105418"></a>You can also use the Constraint Manager to add new clones to an existing clone family. To do this, use the<em> Add Clone </em>option in the shortcut menu of the selected Clone Family constraint. </p>
<p>
<a id="pgfId-1105419"></a>To delete an existing Clone Family constraint or a Clone Def, select the <em>Delete</em> option in the associated shortcut menu. Deleting a clone from a Clone Family constraint does not desynchronize the clone family.</p>

<h4>
<a id="pgfId-1105421"></a><a id="60668"></a>Using the Generate Clones Form to Generate the Clone Family Constraint</h4>

<p>
<a id="pgfId-1105422"></a>In the layout view, the Generate Clones form provides the following options to generate and update the Clone Family constraint:</p>
<ul><li>
<a id="pgfId-1105423"></a><em>Search &#8211; Constraint Only</em><br />
<a id="pgfId-1105424"></a>Confines the clone target search to the Clone Family constraint within the selected search area&#8212;schematic or layout. See <a href="genLayout_Instance_Cloning_Using_a_Clone_Family_Constraint.html#59954"></a><em>Constraint Only</em>.<br />
<a id="pgfId-1105431"></a>Environment variable: <a href="xlEnvars_re_cloningSearchInConstraintOnly.html#70822">cloningSearchInConstraintOnly</a></li><li>
<a id="pgfId-1105432"></a><em>Create &#8211; Update Constraint</em><br />
<a id="pgfId-1105433"></a>Depending on what the clone source includes, the option creates a new Clone Family constraint, adds a new Clone Def to an existing constraint, or leaves the existing constraint unaltered. See <a href="genLayout_Instance_Cloning_Using_a_Clone_Family_Constraint.html#70024"><em>Update Constraint</em></a>.<br />
<a id="pgfId-1105440"></a>Environment variable: <a href="xlEnvars_re_cloningUpdateConstraint.html#99986">cloningUpdateConstraint</a></li></ul>






<h4><em>
<a id="pgfId-1105442"></a><em>Constraint Only</em><a id="59954"></a></em></h4>

<p>
<a id="pgfId-1105443"></a><em>Constraint Only</em> searches for matching target structures only within the other Clone Defs that belong to the same Clone Family constraint as the source. The option is enabled only when the clone source belongs to a Clone Def. The Clone Defs found during the search are ordered in the same manner as they exist in the constraint.</p>
<p>
<a id="pgfId-1105444"></a>If <em>Constraint Only</em> is deselected, the clone target search is first conducted within the source Clone Family constraint, followed by a search within the remaining clone target search space.</p>
<p>
<a id="pgfId-1105445"></a>If the clone source devices are not connected together, but belong to a Clone Def, the <em>Constraint Only </em>option is automatically selected, but disabled to prevent any manual change in state. In this case, the regular clone search cannot be performed because that requires the clone source devices to be connected. Therefore, only other Clone Defs from the Clone Family constraint will be listed as clone targets.</p>
<p>
<a id="pgfId-1105446"></a>Listed below are some conditions that determine whether a clone source can be considered as valid and what determines if a Clone Def can be found as a clone target:</p>
<ul><li>
<a id="pgfId-1105447"></a>If a Clone Family constraint is already present in the layout Constraint Manager, for the clone source to be considered valid, if an instance from the clone source belongs to a Clone Def, all the bound instances in the clone source should exactly match the Clone Def instances. The clone source is rejected if it has either less or more bound instances compared to those in the source Clone Def. In addition, the clone source can include shapes and/or ignored instances.</li><li>
<a id="pgfId-1105448"></a>If the clone source is a perfect Clone Def, instances that are members of another Clone Family constraint are not considered as clone targets.</li></ul>

<p>
<a id="pgfId-1105449"></a>Let us now consider some case scenarios that illustrate the conditions in which a clone source is considered valid. Let us assume that the Clone Def for these cases comprises instances <code>I1</code>, <code>I2</code>, and <code>I3.</code></p>
<p>
<a id="pgfId-1105450"></a><em>Scenario 1: </em>Clone source consists of instances <code>I1</code>, <code>I2</code>, and <code>I3</code>, and the instances are interconnected. </p>
<p>
<a id="pgfId-1105451"></a>The clone source is considered valid as it exactly matches the Clone Def. The clone search will find other Clone Defs from the same clone family but not the Clone Defs from other clone families.</p>
<p>
<a id="pgfId-1105452"></a><em>Scenario 2: </em>Clone source consists of instances <code>I1</code>, <code>I2</code>, and <code>I3</code>, but the instances are not interconnected.</p>
<p>
<a id="pgfId-1105453"></a>Search option <em>Constraint Only</em> is automatically selected and grayed out. Only the instances in the other Clone Defs belonging to the same Clone Family constraint are considered as candidates.</p>
<p>
<a id="pgfId-1105454"></a>In this case, the <em>Exact Connectivity </em>option is deselected and grayed out because an exact connectivity search cannot be triggered on instances that are not interconnected.</p>
<p>
<a id="pgfId-1105455"></a><em>Scenario 3</em>: Clone source consists of instances <code>I1</code>, <code>I2</code>, <code>I3</code>, and <code>I4</code> &#8211; the clone source contains an additional instance compared to the Clone Def.</p>
<p>
<a id="pgfId-1105456"></a>In this case, the clone source is rejected and a message displays suggesting that the clone source must be an exact match of the Clone Def for it to be considered valid.</p>
<p>
<a id="pgfId-1105457"></a>To use the clone source anyway, remove or disable the associated Clone Family constraint in the Constraint Manager and trigger the clone search again.</p>
<p>
<a id="pgfId-1105458"></a><em>Scenario 4</em>: Clone source consists of <code>I1</code> and <code>I2</code> &#8211; the clone source has one less instance compared to the Clone Def.</p>
<p>
<a id="pgfId-1105459"></a>In this case, the clone source is rejected and a message displays suggesting that the clone source must be an exact match of the Clone Def for it to be considered valid.</p>
<p>
<a id="pgfId-1105460"></a>To use the clone source anyway, remove or disable the associated Clone Family constraint in the Constraint Manager and trigger the clone search again.</p>

<h4><em>
<a id="pgfId-1105462"></a><em>Update Constraint</em><a id="70024"></a></em></h4>

<p>
<a id="pgfId-1105463"></a>If the Clone Family constraint is not already present for the selected instances, <em>Update Constraint</em> creates a new Clone Family constraint and the associated Clone Def in the Constraint Manager, based on the selected synchronous clone figGroups. If a Clone Family constraint already exists, <em>Update Constraint</em> either leaves the constraint as is, or adds a new Clone Def, if appropriate.</p>
<p>
<a id="pgfId-1105464"></a>The option is available even if the clone source does not belong to a Clone Def.</p>
<p>
<a id="pgfId-1105465"></a>By default, <em>Update Constraint </em>is deselected. Therefore, no constraints are created or updated unless the option is selected. </p>
<p>
<a id="pgfId-1105466"></a>If <em>Update Constraint</em> is selected and:</p>
<ul><li>
<a id="pgfId-1105467"></a>The clone source does not belong to a Clone Def, a new constraint is created in the layout Constraint Manager that comprises the clone source and the clone target(s).</li><li>
<a id="pgfId-1105468"></a>The clone source belongs to a Clone Def, no update is made to the Clone Family constraint, if the clone found is already part of a Clone Family constraint. Also, no new Clone Family constraint is created. But, if the clone found does not belong to a Clone Family constraint, the constraint is updated. A new Clone Def is added to the clone source Clone Family constraint in the layout Constraint Manager.</li></ul>


<h4>
<a id="pgfId-1105470"></a><a id="78343"></a>Using Iterated Instances to Generate the Clone Family Constraint</h4>

<p>
<a id="pgfId-1105471"></a>When the instances selected for generating a Clone Family constraint are iterated instances, the Constraint Member Select form displays to confirm which instances to use for the constraint. If the selected instances belong to a Clone Def, the instances in the form are sorted according to the iterated instance order. For example, in a Clone Def comprising instances <code>IM14.1</code> to <code>IM14.4</code>, IM14.1 is the first instance in the Clone Def. </p>

<h4>
<a id="pgfId-1105473"></a><a id="34980"></a>Using Mfactored Instances to Generate the Clone Family Constraint</h4>

<p>
<a id="pgfId-1105474"></a>An mfactored instance is considered a single instance in the schematic view. Therefore, the instances are not split in the schematic Constraint Manager.</p>

<h4><em>
<a id="pgfId-1105475"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1105477"></a><h-hot><a actuate="user" class="URL" href="../constraints/chap1.html#cloneFamily" show="replace" xml:link="simple">cloneFamily</a></h-hot> </p>
<p>
<a id="pgfId-1105479"></a><h-hot><a actuate="user" class="URL" href="../constraints/chap1.html#cloneFamily" show="replace" xml:link="simple">Constraint Manager</a></h-hot></p>
<p>
<a id="pgfId-1105483"></a><a href="xlForms_re_Generate_Clones_Form.html#74064">Generate Clones Form</a></p>
<p>
<a id="pgfId-1105485"></a><h-hot><a href="genLayout_tk_Generating_All_Components_from_Source.html#32515">Generating All Components from Source</a></h-hot></p>
<p>
<a id="pgfId-1105487"></a><em><a actuate="user" class="URL" href="https://support.cadence.com/COSAgreementPage?artId=a1Od00000066MKhEAM&amp;id=069d0000003Etg0AAC" show="replace" xml:link="simple">Clone Constraint</a></em> (RAK)</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="genLayout_tk_Editing_a_Target_Structure_Before_Generation.html" id="prev" title="Editing a Target Structure Before Generation">Editing a Target Structure Bef ...</a></em></b><b><em><a href="genLayout_tk_Cloning_between_Multiple_Cellviews.html" id="nex" title="Cloning between Multiple Cellviews">Cloning between Multiple Cellv ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>