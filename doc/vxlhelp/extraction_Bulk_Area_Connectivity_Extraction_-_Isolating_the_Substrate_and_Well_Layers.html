
<html><head><title>Bulk Area Connectivity Extraction - Isolating the Substrate and Well Layers</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698328000" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of the Virtuoso Layout Suite XL connectivity-driven features in the current release." />
<meta name="DocTitle" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Bulk Area Connectivity Extraction - Isolating the Substrate and Well Layers" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vxlhelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698328000" />
<meta name="NextFile" content="extraction_Bulk_Area_Connectivity_Extraction_-_Identify_the_Bulk_Area.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="extraction_Bulk_Area_Connectivity_Extraction_-_Identifying_the_Substrate_Area.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide -- Bulk Area Connectivity Extraction - Isolating the Substrate and Well Layers" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Layout XL" />
<meta name="prod_subfeature" content="Extraction" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vxlhelpIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vxlhelpTOC.html">Contents</a></li><li><a class="prev" href="extraction_Bulk_Area_Connectivity_Extraction_-_Identifying_the_Substrate_Area.html" title="Bulk Area Connectivity Extraction - Identifying the Substrate Area">Bulk Area Connectivity Extract ...</a></li><li style="float: right;"><a class="viewPrint" href="vxlhelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="extraction_Bulk_Area_Connectivity_Extraction_-_Identify_the_Bulk_Area.html" title="Bulk Area Connectivity Extraction - Identify the Bulk Area">Bulk Area Connectivity Extract ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:Bulk_Area_Connectivity_Extraction_-_Isolating_the_Substrate_and_Well_Layers" title="Bulk Area Connectivity Extraction - Isolating the Substrate and Well Layers"></a><h3>
<a id="pgfId-1134730"></a><a id="10785"></a>Bulk Area Connectivity Extraction - Isolating the Substrate and Well Layers</h3>

<p>
<a id="pgfId-1074364"></a>Isolating a portion of the substrate requires that the technology file mentions a given well layer as &#8220;stopping&#8221; the substrate. This helps the extractor recognize any shape drawn on a well layer as either:</p>
<ul><li>
<a id="pgfId-1074365"></a>&#8221;Connecting&#8221; to the substrate. For example, a p-well shape connects to a p-substrate.</li><li>
<a id="pgfId-1074366"></a>&#8220;Stopping&#8221; the substrate&#8212;providing an area isolated from the substrate or splitting it into two parts. For example, an n-well shape stops a p-substrate.</li></ul>

<p>
<a id="pgfId-1074367"></a>Isolating a portion of a well layer is similar to isolating the substrate because it requires some other well layers to be defined as &#8220;stopping&#8221; it. These &#8220;stopping&#8221; well layers should all be of the same type, opposite to the type of the well layer to be stopped.</p>
<p>
<a id="pgfId-1074368"></a>You can use dedicated isolation layers to stop the substrate or well layers. In that case, these isolation layers should be defined as &#8220;recognition&#8221; layers in the technology file.</p>
<p>
<a id="pgfId-1074369"></a>The details about a layer cutting or stopping another layer are specified in the technology file by using derived layers. For more information about derived layers, see <h-hot><a href="xltechfile_Prerequisites_for_Using_the_Layout_XL_Connectivity_Extractor.html#17915">Prerequisites for Using the Layout XL Connectivity Extractor</a></h-hot>.</p>
<p>
<a id="pgfId-1074373"></a>If the technology file does not define a well layer of the opposite type as the substrate as &#8220;stopping&#8221; the substrate, the extractor considers the corresponding well shapes as shorting to the substrate. In such a case, the extractor might produce some incorrect results during connectivity extraction. For more information, see <a href="extraction_Connectivity_Propagation_through_the_Substrate_and_Well_Areas.html#14093">Checking Connectivity</a>. </p>
<p>
<a id="pgfId-1074377"></a>Let us consider the following example.</p>
<p>
<a id="pgfId-1074378"></a>Consider a highly doped &#8220;P&#8221; region formed by a p-well shape on top of an n-substrate, as in the figure below. If you do not specify, by using appropriate derived layers, that the p-well layer stops the substrate, the extractor assumes that the p-well layer &#8220;shorts&#8221; to it. The extractor, therefore, propagates the connectivity between the p-well shape and the substrate, generating incorrect connectivity extraction results.</p>

<p>
<a id="pgfId-1074385"></a></p>
<div class="webflare-div-image">
<img width="483" height="231" src="images/extraction-27.gif" /></div>

<p>
<a id="pgfId-1074386"></a>It is, therefore, required that the technology file defines any well layer, which is of the reverse doping type compared to the substrate, as stopping the substrate. For example, the figure below displays a p-substrate stopped by an n-well shape. For the extractor to establish correct connectivity between the two, the n-well layer must be set as stopping the substrate.</p>
<p>
<a id="pgfId-1074390"></a></p>

<div class="webflare-div-image">
<img src="images/nTypeProcess.GIF" /></div>

<p>
<a id="pgfId-1074391"></a>To summarize, if a well layer is n-type and the substrate is p-type or vice versa, the technology file must indicate that the well layer stops the substrate. </p>
<p>
<a id="pgfId-1074392"></a>The v<a id="SubstrateIsolation"></a>arious methods that you can use to isolate a substrate and well layer are:</p>
<ul><li>
<a id="pgfId-1074396"></a><a href="extraction_Bulk_Area_Connectivity_Extraction_-_Isolating_the_Substrate_and_Well_Layers.html#93825">Substrate and Well Isolation by Drawing a Physical Shape on a Layer</a></li><li>
<a id="pgfId-1075062"></a><a href="extraction_Bulk_Area_Connectivity_Extraction_-_Isolating_the_Substrate_and_Well_Layers.html#55427">Substrate and Well Isolation Using an Isolation Layer</a></li><li>
<a id="pgfId-1075064"></a><a href="extraction_Bulk_Area_Connectivity_Extraction_-_Isolating_the_Substrate_and_Well_Layers.html#97324">Substrate and Well Isolation Using a Pseudo (Dummy) Isolation Layer</a></li><li>
<a id="pgfId-1075068"></a><a href="extraction_Bulk_Area_Connectivity_Extraction_-_Isolating_the_Substrate_and_Well_Layers.html#24261">Substrate and Well Isolation Using a Buried Layer</a></li></ul>



<p>
<a id="pgfId-1074408"></a><a id="93825"></a>Substrate and Well Isolation by Drawing a Physical Shape on a Layer </p>
<p>
<a id="pgfId-1074409"></a><a actuate="user" class="URL" href="../vlehelp/chap9.html#firstpage" show="replace" xml:link="simple">You can isolate an area of the substrate by creating a physical shape on a well layer. The well shape can be a simple rectangle or a </a><h-hot>guard ring</h-hot>. If you use a guard ring for isolation, the well shape that is formed isolates the substrate area lying inside the guard ring from the substrate area outside. </p>
<p>
<a id="pgfId-1074411"></a>If an Nwell layer completely cuts the substrate into two distinct parts, the two substrate areas are electrically isolated. For example, in the following figure, the n-well shape splits the substrate into two physically and electrically separated areas. If you now place &#8220;Nch&#8221; devices on the two substrate areas, there is no connectivity propagation across the bulk instance terminals of these devices. </p>
<p>
<a id="pgfId-1074412"></a>The two substrate areas must be physically distinct&#8212;without overlap or abutment&#8212;for the isolation to be effective and recognized by the extractor.</p>

<p>
<a id="pgfId-1074420"></a></p>
<div class="webflare-div-image">
<img width="371" height="279" src="images/extraction-29.gif" /></div>

<p>
<a id="pgfId-1074421"></a>Let us now consider another example. In this case, an n-well guard ring is drawn on the substrate. This guard ring cuts the substrate and, therefore, provides a local substrate within, which is isolated from the global substrate. The bulk instance terminals of devices placed inside the guard ring are not connected to the bulk instance terminals of devices placed outside the guard ring. </p>

<p>
<a id="pgfId-1074428"></a></p>
<div class="webflare-div-image">
<img width="462" height="285" src="images/extraction-30.gif" /></div>

<p>
<a id="pgfId-1074429"></a>If the n-well guard ring does not form a closed ring, the two substrate areas formed by the guard ring are not electrically isolated. Therefore, the bulk instance terminals of devices placed inside the guard ring are, in this case, connected to the instance terminals of devices placed outside the guard ring. </p>
<p>
<a id="pgfId-1074430"></a>Let us next consider an example where a p-well shape is placed over a p-substrate. In this case, the extractor considers the well shape as connecting to the substrate and propagates connectivity between the two. </p>

<p>
<a id="pgfId-1074437"></a></p>
<div class="webflare-div-image">
<img width="407" height="310" src="images/extraction-31.gif" /></div>

<p>
<a id="pgfId-1074438"></a>If you want to isolate the p-well shape from the substrate, you can surround it with an n-well <a actuate="user" class="URL" href="../vlehelp/chap9.html#firstpage" show="replace" xml:link="simple">guard ring</a> as shown in the figure below. </p>

<p>
<a id="pgfId-1074446"></a></p>
<div class="webflare-div-image">
<img width="481" height="320" src="images/extraction-32.gif" /></div>

<p>
<a id="pgfId-1074917"></a>Although not strictly required by the connectivity extractor for connectivity checking, you can additionally increase the isolation of the above p-well shape by overlapping it with an n-buried layer. For more information about increased substrate isolation using buried layers, see <a href="extraction_Bulk_Area_Connectivity_Extraction_-_Isolating_the_Substrate_and_Well_Layers.html#24261">Substrate and Well Isolation Using a Buried Layer</a>.</p>

<h4>
<a id="pgfId-1074458"></a>Substrate and Well Isolation <a id="55427"></a>Using an Isolation Layer </h4>

<p>
<a id="pgfId-1074459"></a>In addition to using a well shape for isolating an area of the substrate or another well layer, you can use a dedicated isolation layer. An isolation layer can be a shape&#8212;a rectangle, a guard ring, or any other shape&#8212;that cuts the substrate or the well layer into discrete areas. </p>
<p>
<a id="pgfId-1074460"></a>When isolating an area of the substrate or a well layer using an isolation layer, the bulk instance terminals of the devices on different substrate or well areas are not connected. Let us consider an example of a well-formed isolation made up of an isolation layer that completely cuts the substrate into two distinct parts.</p>

<p>
<a id="pgfId-1074467"></a></p>
<div class="webflare-div-image">
<img width="331" height="275" src="images/extraction-33.gif" /></div>

<p>
<a id="pgfId-1074468"></a>Here: </p>
<ul><li>
<a id="pgfId-1074469"></a>The isolation layer cuts the substrate into two discrete areas. </li><li>
<a id="pgfId-1074470"></a>The bulk instance terminal of device A is assigned to net A from the tap via through the substrate.</li><li>
<a id="pgfId-1074471"></a>The bulk instance terminal of device B is left unassigned because it lies in a different substrate region. </li><li>
<a id="pgfId-1074472"></a>Device C is not considered for connectivity extraction of the bulk terminal because it lies outside the PR boundary. Therefore, the bulk instance terminal of the device is left unassigned.</li></ul>



<p>
<a id="pgfId-1074473"></a>Let us next consider an example of a malformed isolation in which the isolation layer does not completely cut the substrate into two different parts.</p>

<p>
<a id="pgfId-1074480"></a></p>
<div class="webflare-div-image">
<img width="341" height="289" src="images/extraction-34.gif" /></div>

<p>
<a id="pgfId-1074481"></a>Here:</p>
<ul><li>
<a id="pgfId-1074482"></a>The isolation layer does not cut the substrate into two discrete areas. </li><li>
<a id="pgfId-1074483"></a>The bulk instance terminal of devices A and B is assigned to net A from the tap via through the substrate.</li><li>
<a id="pgfId-1074484"></a>Device C is not considered for connectivity extraction of the bulk terminal because it lies outside the PR boundary. Therefore, the bulk instance terminal of the device is left unassigned.</li></ul>


<p>
<a id="pgfId-1074485"></a>During connectivity checking, the extractor does not consider the distances between a tap via placed over a substrate or well area and the bulk terminal of the devices placed within this area. All the devices that are placed on this substrate or well area are polarized, irrespective of their distance from the tap via.</p>
<p>
<a id="pgfId-1074486"></a>An isolation layer can also be used to isolate a well layer from the substrate if the well layer is of the same type as the substrate. In the following figure, the Pwell shape is totally enclosed inside the isolation shape and it is, therefore, isolated from the substrate outside. In this example, the isolation layer is set as &#8216;stopping&#8217; the substrate but the extractor only considers its edges as cutting the substrate. Therefore, the extractor considers the inner area as an isolated portion of the same doping type as the outer area.</p>

<p>
<a id="pgfId-1074493"></a></p>
<div class="webflare-div-image">
<img width="527" height="419" src="images/extraction-35.gif" /></div>

<p>
<a id="pgfId-1074495"></a>For further isolation within a well area, you can use a <h-hot><a actuate="user" class="URL" href="../vlehelp/chap9.html#firstpage" show="replace" xml:link="simple">guard ring</a></h-hot>. In the figure below, a guard ring containing an isolation layer is placed over a p-well shape. This isolates the p-well area inside the guard ring from the p-well area outside. The p-well outside the guard ring shorts to the substrate. However, the p-well inside the guard ring forms an isolated area, which can be cut further by an n-well shape to provide an isolated area of the opposite polarity.</p>

<p>
<a id="pgfId-1074502"></a></p>
<div class="webflare-div-image">
<img width="626" height="411" src="images/extraction-36.gif" /></div>
<h4>
<a id="pgfId-1098404"></a><a id="97324"></a>Substrate and Well Iso<a id="dummyIsolation"></a>lation Using a Pseudo (Dummy) Isolation Layer</h4>

<p>
<a id="pgfId-1074521"></a>This methodology is not recommended because the pseudo isolation layer is not manufactured. Therefore, some real short violations can potentially be left undetected by the tool. However, if a pseudo isolation layer is used, the same extraction requirements and connectivity checking results will be observed as for a real isolation layer. </p>
<p>
<a id="pgfId-1074522"></a>A pseudo isolation layer is processed by the extractor the same way as a real isolation layer. For example, in the figure below, the pseudo isolation layer isolates the p-well area below it from the p-well area outside. The n-well shape further stops the p-type area and provides an isolated n-type area by itself.</p>

<p>
<a id="pgfId-1074529"></a></p>
<div class="webflare-div-image">
<img width="542" height="374" src="images/extraction-37.gif" /></div>
<h4>
<a id="pgfId-1074549"></a><a id="24261"></a>Substrate and Well Isolation Using a Buried Layer</h4>

<p>
<a id="pgfId-1074550"></a>Buried layers allow users to provide a more efficient isolation when used in addition to the isolation methods based on physical shapes or isolation layers.</p>
<p>
<a id="pgfId-1074551"></a>In the technology file, a buried layer has function &#8220;n-buried&#8221; or &#8220;p-buried&#8221;. Its polarity should be the opposite of the polarity of the substrate. A buried well layer is a well layer with a lower mask number compared to another well layer of the same polarity.</p>
<p>
<a id="pgfId-1074553"></a>A local p-substrate is formed by a p-well shape over an n-buried shape, as shown in the figure below, with the p-well shape surrounded by an n-well guard ring. </p>

<p>
<a id="pgfId-1074557"></a></p>
<div class="webflare-div-image">
<img src="images/DeepNwell.GIF" /></div>

<p>
<a id="pgfId-1074558"></a>The n-well guard ring provides sufficient isolation to prevent the current from flowing horizontally between the p-well and the substrate. The n-buried layer further increases the isolation by preventing the current from flowing vertically between the p-well and the substrate. Therefore, if an &#8220;Nch&#8221; device is placed over the p-well that lies above the n-buried layer, the bulk instance terminal of this &#8220;Nch&#8221; device is isolated from any other &#8220;Nch&#8221; device placed outside of the buried layer.</p>
<p>
<a id="pgfId-1074559"></a>For the isolation due to the buried layer to be considered effective, the buried shape must be assigned to a net.</p>
<p>
<a id="pgfId-1096686"></a>In the example below, the n-well guard ring defines a local substrate, which is further isolated from the global substrate by an n-buried shape. </p>
<p>
<a id="pgfId-1112377"></a>In this example, a p-well shape is not drawn. This could be intentional because the technology file does not define an explicit p-well layer.</p>

<p>
<a id="pgfId-1096694"></a></p>
<div class="webflare-div-image">
<img width="413" height="303" src="images/extraction-39.gif" /></div>
<h4><em>
<a id="pgfId-1074503"></a>Related topics</em></h4>

<p>
<a id="pgfId-1134806"></a><a href="extraction_Bulk_Area_Connectivity_Extraction.html#21808">Bulk Area Connectivity Extraction</a></p>
<p>
<a id="pgfId-1074507"></a><a href="extraction_Bulk_Area_Connectivity_Extraction_-_Isolating_the_Substrate_and_Well_Layers.html#10785">Bulk Area Connectivity Extraction - Isolating the Substrate and Well Layers</a></p>
<p>
<a id="pgfId-1074509"></a><h-hot><a href="extraction_Bulk_Area_Connectivity_Extraction_-_Isolating_the_Substrate_and_Well_Layers.html#97324">Substrate and Well Isolation Using a Pseudo (Dummy) Isolation Layer</a></h-hot></p>
<p>
<a id="pgfId-1074514"></a><a href="extraction_Bulk_Area_Connectivity_Extraction_-_Isolating_the_Substrate_and_Well_Layers.html#24261">Substrate and Well Isolation Using a Buried Layer</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="extraction_Bulk_Area_Connectivity_Extraction_-_Identifying_the_Substrate_Area.html" id="prev" title="Bulk Area Connectivity Extraction - Identifying the Substrate Area">Bulk Area Connectivity Extract ...</a></em></b><b><em><a href="extraction_Bulk_Area_Connectivity_Extraction_-_Identify_the_Bulk_Area.html" id="nex" title="Bulk Area Connectivity Extraction - Identify the Bulk Area">Bulk Area Connectivity Extract ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>