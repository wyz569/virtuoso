
<html><head><title>Hierarchical Layout Instance Flattening</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698328050" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of the Virtuoso Layout Suite XL connectivity-driven features in the current release." />
<meta name="DocTitle" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Hierarchical Layout Instance Flattening" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vxlhelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698328050" />
<meta name="NextFile" content="genLayout_tk_Flattening_a_Layout_Instance.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="genLayout_Unset_a_Transparent_Instance.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide -- Hierarchical Layout Instance Flattening" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Layout XL" />
<meta name="prod_subfeature" content="Layout Generation" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vxlhelpIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vxlhelpTOC.html">Contents</a></li><li><a class="prev" href="genLayout_Unset_a_Transparent_Instance.html" title="Unset a Transparent Instance">Unset a Transparent Instance</a></li><li style="float: right;"><a class="viewPrint" href="vxlhelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="genLayout_tk_Flattening_a_Layout_Instance.html" title="Flattening a Layout Instance">Flattening a Layout Instance</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:Hierarchical_Layout_Instance_Flattening" title="Hierarchical Layout Instance Flattening"></a><h2>
<a id="pgfId-1108413"></a>Hierarchical Layout Instance <a id="33266"></a>Fla<a id="flatten"></a>ttening</h2>

<p>
<a id="pgfId-1108414"></a>When used in Layout XL, the <em>Edit &#8211; Hierarchy &#8211; Flatten</em> command not only brings the contents of the flattened instance up to the top level to allow editing at the top level, but also preserves the connectivity of the flattened instance. The command also automatically sets a force descend on the flattened instance to allow binding it to the schematic instance.</p>

<p>
<a id="pgfId-1108432"></a></p>
<div class="webflare-div-image">
<img width="776" height="527" src="images/genLayout-174.gif" /></div>

<p>
<a id="pgfId-1108433"></a>By default, flattened instances have:</p>
<ul><li>
<a id="pgfId-1108434"></a><em>hierarchical instance names</em><br />
<a id="pgfId-1108435"></a>The flattened instances have hierarchical names, such as <code>I4|I0</code>, where the pipe separator (<code>|</code>) separates the original name of the instance, (<code>I4</code>), and the name after the instance is flattened (<code>I0</code>). <ul><li>
<a id="pgfId-1108436"></a>You can choose to not display the hierarchical name for the flattened instances by setting the <code>flattenHierNameSep</code> environment variable to <code>false</code>.</li><li>
<a id="pgfId-1108437"></a>Mosaic instances do not get a pipe-separated name, when flattened. Mosaics retain their dot-separated name format, such as <code>M50.I51.r0c0</code>, after flattening.</li><li>
<a id="pgfId-1108438"></a>Unless a shape is a pinFig and the <code>preservePins</code> variable is set to<code> t</code>, labels on shapes are discarded when the <em>Flatten</em> command is run in Layout XL. You can choose to retain labels on shapes by setting the environment variable <code>flattenKeepLabels</code> to <code>t</code>.</li></ul></li><li>
<a id="pgfId-1108439"></a><em>connectivity preserved</em><br />
<a id="pgfId-1108440"></a>By default, the connectivity of the flattened instance is preserved and can be verified using the Property Editor. You can also probe the selected nets. The nets that are local to the flattened instance display a hierarchical name, as shown in the figure below.<br />
<a id="pgfId-1108441"></a>You can choose to not have the connectivity of flattened instances preserved. For this, you must set the <code>flattenPreserveConn</code> environment variable to <code>false</code>.<br />
<a id="pgfId-1108450"></a><div class="webflare-div-image">
<img width="631" height="392" src="images/genLayout-175.gif" /></div></li><li>
<a id="pgfId-1108451"></a><em>physConfig view automatically updated</em><br />
<a id="pgfId-1108452"></a>When a layout instance is flattened, a hierarchy mismatch is introduced. To resolve the mismatch and to maintain the correct binding and XL compliance, Layout XL automatically sets a force descend on the flattened instance in the physConfig view. This ensures that Layout XL can <em>look</em> inside the schematic instance and bind its contents to the corresponding layout instances that have been flattened and brought up to the top level. <br />
<a id="pgfId-1108453"></a>The physConfig view is modified when Layout XL commands such as <em>Flatten</em>, <em>Move Hierarchy</em>, and <em>Make Transparent</em> are performed.<br />
<a id="pgfId-1108454"></a>If the physConfig and layout views are not kept synchronized, it leads to incorrect bindings and a layout that is no longer XL compliant.<br />
<a id="pgfId-1108455"></a>The changes to the physConfig view are automatically saved, unless the <code>autoPermuteNoAbutProp</code> environment variable is set to <code>false</code>. If the environment variable is set to <code>false</code>, the CPH window automatically opens and you can choose whether to save or discard the changes. <br />
<a id="pgfId-1108464"></a><div class="webflare-div-image">
<img width="637" height="461" src="images/genLayout-176.gif" /></div>
<a id="pgfId-1108465"></a>The physConfig view is synchronized with the layout if the <em>Undo</em> or <em>Redo</em> operations are performed after saving the layout.<br />
<a id="pgfId-1108466"></a>If you have multiple instances of the same nonparameterized cell master in your layout, but you would like to update only one or few of the instances, use the <em>Master Variant</em> command instead of <em>Flatten</em>. <em>Flatten</em> ungroups the instances at the top level, but <em>Master Variant </em>generates a different, individually editable variant of the instance, still keeping the schematic and layout correspondence in place. </li></ul>























<h4><em>
<a id="pgfId-1108467"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1108471"></a><a href="xlEnvars_re_flattenHierNameSep.html#89917">flattenHierNameSep</a> </p>
<p>
<a id="pgfId-1108473"></a><a href="xlEnvars_re_flattenKeepLabels.html#53146">flattenKeepLabels</a></p>
<p>
<a id="pgfId-1108477"></a><a href="xlEnvars_re_flattenPreserveConn.html#66004">flattenPreserveConn</a></p>
<p>
<a id="pgfId-1108481"></a><a href="xlEnvars_re_autoPermuteNoAbutProp.html#90500">autoPermuteNoAbutProp</a></p>
<p>
<a id="pgfId-1108483"></a><h-hot>Master Variant</h-hot><a id=""></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="genLayout_Unset_a_Transparent_Instance.html" id="prev" title="Unset a Transparent Instance">Unset a Transparent Instance</a></em></b><b><em><a href="genLayout_tk_Flattening_a_Layout_Instance.html" id="nex" title="Flattening a Layout Instance">Flattening a Layout Instance</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>