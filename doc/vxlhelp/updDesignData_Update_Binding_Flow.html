
<html><head><title>Update Binding Flow</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698328061" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of the Virtuoso Layout Suite XL connectivity-driven features in the current release." />
<meta name="DocTitle" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Update Binding Flow" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vxlhelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698328061" />
<meta name="NextFile" content="updDesignData_Update_Binding_Report.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="updDesignData_tk_Binding_Updates.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide -- Update Binding Flow" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Layout XL" />
<meta name="prod_subfeature" content="Update Layout" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vxlhelpIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vxlhelpTOC.html">Contents</a></li><li><a class="prev" href="updDesignData_tk_Binding_Updates.html" title="Binding Updates">Binding Updates</a></li><li style="float: right;"><a class="viewPrint" href="vxlhelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="updDesignData_Update_Binding_Report.html" title="Update Binding Report">Update Binding Report</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:Update_Binding_Flow" title="Update Binding Flow"></a><h3>
<a id="pgfId-1066537"></a><a id="11621"></a>Update Bindin<a id="ubFLOW"></a>g Flow</h3>

<p>
<a id="pgfId-1066538"></a>Before you run the <em>Update Binding</em> command to initialize the <em>Update Binding</em> flow, a dialog box confirming whether you want to proceed displays, if you have modified the layout or physConfig in the current session.</p>

<p>
<a id="pgfId-1066544"></a></p>
<div class="webflare-div-image">
<img width="671" height="557" src="images/updDesignData-32.gif" /></div>

<p>
<a id="pgfId-1066545"></a>When the <em>Update Binding</em> command is called, by default, the binder re-runs in the <h-hot><a actuate="user" class="URL" href="../virtuosoGloss/glossary.html#connDriven" show="replace" xml:link="simple">connectivity-driven</a></h-hot> mode, discarding any existing bindings other than those set to be preserved using one of the <em>Preserve</em> options. If all the user-defined and other existing bindings were to be preserved, the binder would only bind any unbound instances.</p>
<p>
<a id="pgfId-1066547"></a>When binding at the current level, the binder binds the schematic and layout devices only at the current level of hierarchy. <em>Current</em> level binding is best suited for designs that have matching hierarchies. A design that has matching hierarchies but was not bound correctly using <em>Name</em> binding after a Schematic ECO can benefit from <em>Current</em> level binding. It is recommended to run <em>Current</em> level binding in this situation, prior to running the <em>Update Components And Nets</em> command.</p>
<p>
<a id="pgfId-1066548"></a>A design does not need to be LVS clean to derive better results from <em>Current</em> level binding. Although, largely LVS-clean designs and designs that have mosaics with same connectivity are a good starting point for <em>Current</em> level binding.</p>
<p>
<a id="pgfId-1066549"></a>Hierarchical binding, on the other hand, by default, binds the schematic and layout instances across the hierarchy, based on the physical bindings defined in the current physConfig view. This type of binding is recommended for LVS-clean designs, because the design is flattened and the physical connectivity extracted.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1066550"></a>
A design that does not have any routing can result in bad bindings, if bound hierarchically.</div>

<p>
<a id="pgfId-1066551"></a>To avoid binding hierarchically by using the bindings defined in the current physConfig view, which is the default binding mechanism for hierarchical binding, deselect <em>Use &#8211; Physical bindings</em>.</p>
<p>
<a id="pgfId-1066552"></a>When performing a hierarchical binding run, you can stop the binder from binding beyond a particular schematic or layout library cellview by setting the <code>bindSourceStop</code> or <code>bindLayoutStop</code> environment variable. By doing so, the binder considers the specified schematic (source) or layout cellview as a leaf-level instance and stops looking beyond the instance for any devices to bind.</p>
<p>
<a id="pgfId-1066559"></a>If hierarchical binding is run with the <em>Flatten layout instances </em>option selected, <em>Update Binding</em> flattens the instances, if required, and creates leaf-level bindings. Since the leaf-level bindings have a one-to-one correspondence, full ECO capability is available for the design.</p>
<p>
<a id="pgfId-1066560"></a>With the <em>Flatten Layout Instances </em>option selected, you can choose to retain the flattened instances as free objects, or choose to create a <em>group</em> or a <em>synchronized family</em>. By default, the flattened instances form a synchronized family.</p>
<p>
<a id="pgfId-1066561"></a>For example, if you flatten an instance, <code>I1</code>, all the shapes that the instance flattens into form a figure group or a synchronized family. Therefore, for each flattened instance, a corresponding figure group or a synchronized family will be created. If hierarchical binding is run with the <em>Flatten layout instances </em>option deselected, the <em>Update Binding</em> command preserves the layout hierarchy and creates either <h-hot><a actuate="user" class="URL" href="../virtuosoGloss/glossary.html#complexBinding" show="replace" xml:link="simple">complex bindings </a></h-hot>or transparent instances to resolve hierarchy mismatches between the schematic and the layout. Whether hierarchical <em>Update Binding</em> will generate complex bindings or transparent instances depends on the <em>Create</em> option you select. Due to the creation of complex bindings and transparent instances, the Engineering Change Order (ECO) capability of the design is restricted.</p>
<p>
<a id="pgfId-1066563"></a>By default, the <em>Update Binding</em> command binds based on connectivity&#8212;both logical and physical. <h-hot><a actuate="user" class="URL" href="../virtuosoGloss/glossary.html#logicConn" show="replace" xml:link="simple">Logical connectivity</a></h-hot> refers to the connectivity information that is derived directly from the schematic. So, if the logical connectivity information in the layout is incorrect, it can lead to incorrect bindings. To overcome such situations, the <em>Update Binding</em> command provides the <em>Clear</em> and <em>Extract to Level</em> options. You can select these options to clear or remove any incorrect logical connectivity, re-extract the layout up to a desirable hierarchical level, and then bind based only on physical connectivity.</p>
<p>
<a id="pgfId-1066565"></a>However, the caveat with re-extracting through the hierarchy is that the extractor can extract through devices, causing shorts. To prevent this, you may need to define <code>stopLayers</code> in your technology file to indicate the layers that are being used for &#8220;Stopping&#8221; or &#8220;Cutting&#8221; the diffusion layers. The extractor will then ignore these layers for extraction and any false violations will not be reported. For more information about <code>stopLayers</code> and how you can set these up in your technology file, see <a href="xltechfile_validLayers__Stop_Layers_Specification.html#13166">validLayers &#8211; Stop Layers Specification</a></p>
<p>
<a id="pgfId-1066569"></a>The <em>Update Binding</em> command also provides you the options to preserve any bindings that exist by using the Define Device Correspondence form. Conversely, you can also choose to delete all the existing device correspondences and create new bindings. </p>
<p>
<a id="pgfId-1066573"></a>Contrary to using the hierarchical binder that flattens the schematic (physConfig) and layout hierarchies to the leaf level to determine the best bindings, which may not be at the leaf level, you can either specify a binding file that is derived from a PVS LVS run, or specify a PVS file that has the leaf-level binding information.</p>
<p>
<a id="pgfId-1066574"></a>The binding file, <code>updateBinding.bnd</code>, is automatically generated by the binder if the instance cross-reference file (.<code>ixf</code>) and the extracted netlist file (<code>.net</code> or <code>.spi</code>) generated from the PVS run are specified.</p>
<p>
<a id="pgfId-1066575"></a>However, if the generated binding file is empty, <em>Update Binding</em> cannot proceed.</p>
<ul><li>
<a id="pgfId-1066577"></a>The instance cross-reference file is created as a <code>.ixf</code> file and the extracted netlist file is created as a <code>.net</code> file in the <code>svdb</code> directory of the PVS run directory, if you run PVS with the <em>Create Quantus Input Data</em> option selected. </li><li>
<a id="pgfId-1066578"></a>If you run PVS in LVS mode with the <code>-qrc_data</code> argument specified, the extracted netlist gets created in the form of a .<code>spi</code> file in the same directory as the .<code>ixf file</code>. The .<code>spi</code> file provides a normalized output for <em>Quantus</em>. Therefore, it is not the preferred input for generating the binding file required by <em>Update Binding</em>. But, a <code>.spi</code> file can be used if a <code>.net</code> file cannot be generated for some reason.<br />
<a id="pgfId-1066579"></a>Cadence recommends that you set <code>lvs_keep_data</code> to <code>yes</code> in your <code>lvs.pvl</code> rule file so that the extracted netlist output file is a .<em>net</em> file.</li></ul>


<p>
<a id="pgfId-1066580"></a>To ensure better binding, the <em>Input Scale</em> value set on the Update Binding form must be the same as that used for the PVS LVS run. If the scale at which PVS is run is different from the layout scale, you can use the PVS rule deck to determine the PVS input_scale. By default, the PVS scale is set to <code>0</code>, which means the <code>dbuPerUu</code> for the layout is used. </p>
<p>
<a id="pgfId-1076176"></a>See <a href="xlEnvars_re_bindPVSScale.html#46856">bindPVSScale</a>.</p>
<p>
<a id="pgfId-1066584"></a>If you are using the same <em>Input Scale </em>for Update Binding as used for the PVS LVS run, but your binding results are not as expected, it is likely that the layout was either updated since the last PVS LVS run, or PVS LVS was run with a different precision setting. Ensure that the layout is up-to-date with the PVS run.</p>
<p>
<a id="pgfId-1066585"></a>For more information about running the PVS LVS and for generating the required .<code>ixf</code>, .<code>net</code>, and .<code>spi</code> files, see the Cadence Physical Verification User Guide.</p>
<p>
<a id="pgfId-1066586"></a>Here is an example illustrating the format of a binding file:</p>
<p class="webflare-indent1">
<a id="pgfId-1066587"></a><code>I I1/N0 |I2/MN0</code></p>
<p class="webflare-indent1">
<a id="pgfId-1066588"></a><code>I I2    M3(0,0)</code></p>
<p class="webflare-indent1">
<a id="pgfId-1066589"></a><code>I I3    M3(1,0) </code></p>
<p>
<a id="pgfId-1066590"></a>where,</p>
<p>
<a id="pgfId-1066591"></a><code>I: </code>Instance</p>
<p>
<a id="pgfId-1066592"></a><code>I1/N0: </code>Schematic hierarchy path</p>
<p>
<a id="pgfId-1066593"></a><code>|I2/MN0: </code>Corresponding layout hierarchy path</p>
<p>
<a id="pgfId-1066594"></a><code>M3(1</code>,<code>0): </code>Corresponding mosaic row/column</p>
<p>
<a id="pgfId-1066595"></a>Irrespective of the method used&#8212;automatic hierarchy match or binding file&#8212;when the leaf-level binding information is available, the layout is extracted to the specified depth to update the connectivity, and the binder sets the correspondence between the updated layout instances and their schematic counterparts.</p>
<p>
<a id="pgfId-1066596"></a>If the <em>Ignore &#8211; Route cells </em>option is selected and the extractor identifies any route cells&#8212;cells that do not contain any devices&#8212;the <em>Update Binding </em>command adds an <code>ignore</code> property to the instances of &#8220;route-only&#8221; cellviews to avoid binding to them. Any instances that have stop layers defined are not considered for the <code>ignore </code>property addition, as these instances are recognized as &#8220;devices&#8221; and, therefore, must be considered for binding during the<em> Update Binding </em>run. </p>
<p>
<a id="pgfId-1066600"></a>During the update, the physConfig also gets updated to set the physical bindings and a force descend ensures that the masters of the devices being bound match, and that the layout instances are being bound to the correct level in the schematic. If the physConfig gets modified during the update, the CPH window automatically opens after the update is complete to enable you to save or discard the edits.</p>

<h4>
<a id="pgfId-1077502"></a>Pre-populating the Update Binding Form Using SKILL</h4>

<p>
<a id="pgfId-1077503"></a>You can pre-populate the <em>Update Binding</em> form if you define a SKILL procedure using the <code>lxPreUpdateBinding</code> function that can control the environment variables associated with the form. If the procedure is defined before opening the <em>Update Binding</em> form, a button is added to the <em>Read File</em> group box, as displayed in the figure below.</p>

<p>
<a id="pgfId-1077508"></a></p>
<div class="webflare-div-image">
<img width="401" height="661" src="images/updDesignData-33.gif" /></div>

<p>
<a id="pgfId-1077509"></a>Click this button to call the user-defined SKILL procedure and reset the form based on the environment variable values defined in the procedure. </p>
<p>
<a id="pgfId-1077510"></a>For example, instead of manually specifying the instance cross reference and netlist files to generate the binding file, you can define an <code>lxPreUpdateBinding</code> procedure, such as the one below, to pre-populate the form.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077511"></a>procedure(lxPreUpdateBinding(cv)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077512"></a>   let((base)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077513"></a>       base = strcat(&quot;./pvs/&quot; cv~&gt;cellName)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077514"></a>       envSetVal(&quot;layoutXL&quot; &quot;bindCrossRefFile&quot; &#39;string strcat(base &quot;.ixf&quot;))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077515"></a>       envSetVal(&quot;layoutXL&quot; &quot;bindExtractedNetlistFile&quot; &#39;string strcat(base</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077516"></a>&quot;.net&quot;))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077517"></a>   )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077518"></a>)</pre>

<p>
<a id="pgfId-1077519"></a>When the above procedure is called, the <em>Update Binding</em> form opens pre-populated with data from a PVS LVS run.</p>

<div class="webflare-div-image">
<img width="361" height="138" src="images/updDesignData-34.gif" /></div>
<h4><em>
<a id="pgfId-1076126"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1076238"></a><a href="xlEnvars_re_bindSourceStop.html#80177">bindSourceStop</a> </p>
<p>
<a id="pgfId-1076258"></a><a href="xlEnvars_re_bindLayoutStop.html#45650">bindLayoutStop</a> </p>
<p>
<a id="pgfId-1077743"></a><h-hot><a actuate="user" class="URL" href="../sklayoutref/lx_re_lxUpdateBinding.html" show="replace" xml:link="simple">lxUpdateBinding</a></h-hot></p>
<p>
<a id="pgfId-1076189"></a><a href="xltechfile_validLayers__Stop_Layers_Specification.html#13166">validLayers &#8211; Stop Layers Specification</a>.</p>
<p>
<a id="pgfId-1076152"></a><a href="xltroubleshoot_Troubleshoot_Binding_Update_Issues.html#91299">Ignoring Route Cells</a></p>
<p>
<a id="pgfId-1077538"></a><h-hot><a href="updDesignData_tk_Binding_Updates.html#33434">Binding Updates</a></h-hot></p>
<p>
<a id="pgfId-1077544"></a><a href="genLayout_Transparent_Layout_Hierarchy_Generation.html#68169">Transparent Layout Hierarchy Generation</a></p>
<p>
<a id="pgfId-1077548"></a><a href="updDesignData_Device_Correspondence_Updates.html#95052">Device Correspondence Updates</a></p>
<p>
<a id="pgfId-1077552"></a><h-hot><a href="xlForms_re_Define_Device_Correspondence_Form.html#97615">Define Device Correspondence Form</a></h-hot></p>
<p>
<a id="pgfId-1077556"></a><h-hot><a href="xlForms_re_Update_Binding_Form.html#10082">Update Binding Form</a></h-hot></p>
<p>
<a id="pgfId-1077699"></a><a href="xltroubleshoot_Troubleshoot_Layout_XL_Compliance.html#22373">Issues Faced when Setting up the PDK to Improve Layout XL Compliance</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="updDesignData_tk_Binding_Updates.html" id="prev" title="Binding Updates">Binding Updates</a></em></b><b><em><a href="updDesignData_Update_Binding_Report.html" id="nex" title="Update Binding Report">Update Binding Report</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>