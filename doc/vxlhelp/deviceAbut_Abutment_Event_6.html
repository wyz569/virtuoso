
<html><head><title>Abutment Event 6</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698327975" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of the Virtuoso Layout Suite XL connectivity-driven features in the current release." />
<meta name="DocTitle" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Abutment Event 6" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vxlhelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698327975" />
<meta name="NextFile" content="deviceAbut_Abutment_Event_3.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="deviceAbut_Abutment_Event_1.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide -- Abutment Event 6" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Layout XL" />
<meta name="prod_subfeature" content="Abutment" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vxlhelpIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vxlhelpTOC.html">Contents</a></li><li><a class="prev" href="deviceAbut_Abutment_Event_1.html" title="Abutment Event 1">Abutment Event 1</a></li><li style="float: right;"><a class="viewPrint" href="vxlhelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="deviceAbut_Abutment_Event_3.html" title="Abutment Event 3">Abutment Event 3</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:Abutment_Event_6" title="Abutment Event 6"></a><h3>
<a id="pgfId-1070375"></a><a id="86909"></a>Abutment Eve<a id="event6"></a>nt 6</h3>

<p>
<a id="pgfId-1070378"></a>Abutment Event 6 is the final event triggered for a chain when the <code>abutChainEvent</code> environment variable is set to <code>true</code>. </p>
<p>
<a id="pgfId-1070380"></a>Abutment Event 6 is common to both the abutment and the unabutment flows. By default, the event is called at the end of an abutment (or an unabutment) flow. After abutment, the event gets triggered if the size of the chain is more than one. After unabutment, the event gets triggered if the size of the chain is equal to or more than one. </p>
<p>
<a id="pgfId-1070381"></a>Abutment Event 6 is an optional event that, when triggered, enables you to modify the resultant chain after abutment (or unabutment). For example, the event could be called to finalize the Source-Drain connections for a chain by adding (or removing) the top-level figures. To enable this, a new optional argument, <code>list of chain instances</code>, is passed to the PDK SKILL abutment function, <code>abutFunction</code>.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1070382"></a>procedure( AbutFunction (iA iB pA pB pinAside conn event @optional (group nil) (chain nil)))</pre>
<p>
<a id="pgfId-1070383"></a>The return value of the PDK SKILL abutment function for Abutment Event 6 does not get used by the abutment engine, unlike the return values of other abutment events, such as Abutment Event 2 and 5.</p>
<p>
<a id="pgfId-1070384"></a>The PDK abutment function needs to be modified to support the new optional argument. Between each top-level figure and an instance in the chain, the PDK abutment function establishes a parent-child relationship such that the instance in the chain is the parent and the top-level figure is the child.</p>
<p>
<a id="pgfId-1070385"></a>When abutted instances are part of a figGroup, during abutment Event 6, the top-level shapes are also added to the figGroup of the abutted instances.</p>
<p>
<a id="pgfId-1070386"></a>Given below is an example that illustrates how the Abutment Event 6 can be used to modify a chain that is formed as a result of a recent abutment (or an unabutment) event.</p>
<p>
<a id="pgfId-1070387"></a>For the Abutment Event 6 to be triggered, the <code>abutChainEvent</code> environment variable must be set to <code>t:</code></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070388"></a>envSetVal(&quot;layoutXL&quot; &quot;abutChainEvent&quot; &#39;boolean&#160;&#160;t)</pre>

<p>
<a id="pgfId-1070389"></a>The Abutment Event 6 is triggered using an optional <code>chain</code> argument in the abutment function callback, as illustrated below. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070390"></a>procedure(abutFunc(instA instB figA figB accessDir conn event @optional (group nil)&#160;&#160;   (chain nil))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070391"></a>prog( ()</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070392"></a>case( event</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070393"></a>( 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070394"></a>return( myMosDoItEvent1(instA instB figA figB accessDir conn group))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070395"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070396"></a>( 2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070397"></a>return(myMosDoItEvent2(instA instB figA figB accessDir conn group))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070398"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070399"></a>( 3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070400"></a>return(myMosDoItEvent3(instA instB group))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070401"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070402"></a>( 4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070403"></a>return(myMosDoItEvent4(instA instB))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070404"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070405"></a>( 5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070406"></a>return(myMosDoItEvent5(instA instB figA figB accessDir conn group))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070407"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070408"></a>; event 6 for post-process whenever a chain is modified</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070409"></a>( 6</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070410"></a>return(myMosDoItEvent6(instA instB figA figB accessDir conn group chain))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070411"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070412"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070413"></a>return(t)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070414"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070415"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070416"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070417"></a>; Event 6 can be used for modifying completed chains, after abutment or unabutment, to finalize the S-D connections by adding or removing top-level figures.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070418"></a>procedure(myMosDoItEvent6(instA instB figA figB accessDir conn group chain)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070419"></a>let((objs&#160;&#160;(inst car(chain)) (propname &quot;myEvent6PostProcPropName&quot; ) )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070420"></a>; destroy user-added shapes</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070421"></a>foreach(instId chain foreach(fig instId-&gt;children when(dbFindProp(fig propname) dbDeleteObject(fig))))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070422"></a>; execute event6 processes</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070423"></a>let(( (postcb list( &#39;myCallBackReturnDBObjList ) )&#160;&#160;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070424"></a>foreach(funcobj postcb</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070425"></a>when(getd(funcobj)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070426"></a>objs = apply(funcobj list(chain))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070427"></a>if(typep(objs) == &#39;list&#160;&#160; then</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070428"></a>when(length(objs) &gt; 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070429"></a>foreach(obj objs</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070430"></a>if(dbIsId(obj)&#160;&#160;then</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070431"></a>when(inst~&gt;figGroup dbAddFigToFigGroup(inst~&gt;figGroup obj)) ; add user-shapes to parent figGroup</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070432"></a>obj-&gt;parent = inst&#160;&#160;; add parent-child relationship</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070433"></a>dbReplaceProp(obj propname &quot;string&quot; symbolToString(funcobj))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070434"></a>else</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070435"></a>warn(&quot;invalid dbobject returned by %L&quot; funcobj)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070436"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070437"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070438"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070439"></a>else</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070440"></a>; warn(&quot;%L returns value illegal; should return a list of dbobjects.&quot; funcobj)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070441"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070442"></a>);when</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070443"></a>); foreach</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070444"></a>);let</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070445"></a>);let</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070446"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070447"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070448"></a>procedure( myCallBackReturnDBObjList(chain)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070449"></a>let((figs)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070450"></a>; modifies completed chains to finalize the S-D connections by adding top-level figures, adjusting Pcell CDF parameters on chain instance figs, and returns a list of added instances</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070451"></a>))</pre>
<h4><em>
<a id="pgfId-1056507"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1085096"></a><a href="xlEnvars_re_abutChainEvent.html#22449">abutChainEvent</a></p>
<p>
<a id="pgfId-1053379"></a><a href="deviceAbut_Unabutment_Flow.html#74819">Unabutment Flow</a></p>
<p>
<a id="pgfId-1053389"></a><h-hot><a href="deviceAbut_Dummy_Abutment_Example.html#30912">Dummy Abutment Example</a></h-hot></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="deviceAbut_Abutment_Event_1.html" id="prev" title="Abutment Event 1">Abutment Event 1</a></em></b><b><em><a href="deviceAbut_Abutment_Event_3.html" id="nex" title="Abutment Event 3">Abutment Event 3</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>