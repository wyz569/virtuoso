
<html><head><title>rectangularShapeDirection</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-06-15" />
<meta name="CreateTime" content="1686826635" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes Virtuoso Space-based Router Tcl constraints for setting and checking constraint-related values" />
<meta name="DocTitle" content="Virtuoso Space-based Router Constraint Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="rectangularShapeDirection" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vsrconstraint" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-06-15" />
<meta name="ModifiedTime" content="1686826635" />
<meta name="NextFile" content="constr_misc_re_trimShape.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="constr_misc_re_oaGateOrientation.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Space-based Router Constraint Reference -- rectangularShapeDirection" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="command reference" />
<meta name="prod_feature" content="Tcl Constraints" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vsrconstraintIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vsrconstraintTOC.html">Contents</a></li><li><a class="prev" href="constr_misc_re_oaGateOrientation.html" title="oaGateOrientation">oaGateOrientation</a></li><li style="float: right;"><a class="viewPrint" href="vsrconstraint.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="constr_misc_re_trimShape.html" title="trimShape">trimShape</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Space-based Router Constraint Reference<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_rectangularShapeDirection" title="rectangularShapeDirection"></a><h3>
<a id="pgfId-1099063"></a><a id="21460"></a>rec<a id="rectangularShapeDirection"></a>tangularShapeDirection</h3>

<p>
<a id="pgfId-1099064"></a>Specifies that shapes on a given layer must be rectangular and in a specified direction. Square shapes would meet both vertical and horizontal directions. You can optionally specify that the direction of the shape is dependent on the shape&#8217;s width and that the constraint does not apply to metal shapes of a specified size that contain vias on a given layer and of a given size.</p>
<p>
<a id="pgfId-1099065"></a>This constraint is used with <code>allowedWidthRange</code> which specifies a set of discrete widths for the layer. There should also be a corresponding <code>allowedLengthRange</code> to specify a minimum length greater than or equal to the minimum width to avoid ambiguity when determining the direction.</p>

<h4>
<a id="pgfId-1099094"></a>rectangularShapeDirection Quick Reference</h4>
<table class="webflareTable" id="#id1099066">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099068"></a>Constraint Type</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099070"></a>Layer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099072"></a>Value Types</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099080"></a><a href="constraints_Constraint_Value_Types.html#39346"><code>IntValue</code></a>, <a href="constraints_Constraint_Value_Types.html#13531"><code>Int1DTblValue</code></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099082"></a>Database Types</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099084"></a>Design, Technology</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099087"></a><h-hot><a href="constraints_Constraint_Definitions.html#constrScope">Scope</a></h-hot></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099089"></a>design, foundry</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099091"></a>Category</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099093"></a>Miscellaneous</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1099111"></a>Value Types</h4>
<table class="webflareTable" id="#id1099095">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099100"></a><a href="constraints_Constraint_Value_Types.html#39346"><code>IntValue</code></a> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099102"></a>Specifies the direction for shapes on the layer.</p>
<p>
<a id="pgfId-1099103"></a>Valid Values:<br />  0  any<br />  1  horizontal<br />  2  vertical</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099108"></a><a href="constraints_Constraint_Value_Types.html#13531"><code>Int1DTblValue</code></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099110"></a>Specifies the direction for shapes on the layer, indexed by the width of the shape in user units.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1099149"></a>Optional Parameters</h4>
<table class="webflareTable" id="#id1099112">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099114"></a><code>extendBy </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099116"></a>Specifies that all end-of-line edges between two convex corners must be extended by this distance in user units before checking. This parameter must be specified together with <code>widthRangeArray</code>.</p>
<p>
<a id="pgfId-1099120"></a>Type: <a href="constraints_Constraint_Value_Types.html#41645"><code>Value</code></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099122"></a><code>widthRangeArray</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099124"></a>Specifies that the <code>extendBy</code> parameter applies only to edges with lengths (in user units) that lie within in this range. This parameter must be specified together with <code>extendBy</code>.</p>
<p>
<a id="pgfId-1099128"></a>Type: <a href="constraints_Constraint_Value_Types.html#71845"><code>RangeArrayValue</code></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099130"></a><code>exceptExactSize</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1103269"></a>Together with <code>exceptViaSize</code> and <code>exceptViaLayer</code>, specifies that the constraint does not apply to metal shapes that satisfy the following conditions:</p>

<ul><li>
<a id="pgfId-1103047"></a>The size of the metal shape is equal to <code>exceptExactSize</code></li><li>
<a id="pgfId-1103059"></a>The metal shape has on it a via with size equal to <code>exceptViaSize</code> on layer <code>exceptViaLayer</code></li><li>
<a id="pgfId-1103081"></a>The metal shape has one of its edges (in the same direction as the constraint value) aligned to one of the edges of the other metal shapes</li></ul>



<p>
<a id="pgfId-1099134"></a>After removing the metal shapes that satisfy these conditions, the remaining shape must be a either a single rectangle or multiple completely aligned rectangles.</p>
<p>
<a id="pgfId-1099135"></a>Type: <code><a href="constraints_Constraint_Value_Types.html#18229">DualValue</a></code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102959"></a><code>exceptViaSize</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099139"></a>Specifies the xSpan and ySpan of via that causes a metal shape to be excluded from the constraint. See <code>exceptExactSize</code> for more information.</p>
<p>
<a id="pgfId-1099140"></a>Type: <a href="constraints_Constraint_Value_Types.html#18229"><code>DualValue</code></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102945"></a><code>exceptViaLayer</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1099144"></a>Specifies the via layer that causes a metal shape to be excluded from the constraint. See <code>exceptExactSize</code> for more information.</p>
<p>
<a id="pgfId-1099148"></a>Type: <a href="constraints_Constraint_Value_Types.html#26585"><code>LayerValue</code></a></p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1099150"></a>Examples</h4>
<h4><em>
<a id="pgfId-1099168"></a><a id="82879"></a>Example 1: rectangularShapeDirection using IntValue</em></h4>

<p>
<a id="pgfId-1120945"></a>Specifies that all shapes on layer <code>Metal1</code> must be rectangular and vertical.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1099169"></a>set_layer_constraint -layer Metal1 \<br /> -constraint rectangularShapeDirection -IntValue 2</pre>
<p>
<a id="pgfId-1099198"></a></p>
<div class="webflare-div-image">
<img width="668" height="177" src="images/constr_misc-4.gif" /></div>
<h4><em>
<a id="pgfId-1099200"></a><a id="91846"></a>Example 2: rectangularShapeDirection using Int1DTblValue</em></h4>

<p>
<a id="pgfId-1099202"></a>Specifies that all shapes on layer <code>Metal1</code> must be rectangular and shapes that are 0.10 user units wide must be vertical, shapes that are 0.15 user units may be horizontal or vertical.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1099201"></a>set_layer_constraint -layer Metal1 \<br /> -constraint rectangularShapeDirection -row_name width \<br /> -Int1DTblValue {0.10 2 0.15 0} -row_interpolation snap_down \<br /> -row_extrapolation {snap_up snap_down}</pre>
<p>
<a id="pgfId-1099253"></a></p>
<div class="webflare-div-image">
<img width="668" height="206" src="images/constr_misc-5.gif" /></div>
<h4><em>
<a id="pgfId-1099255"></a><a id="59730"></a>Example 3: rectangularShapeDirection with widthRangeArray and extendBy</em></h4>

<p>
<a id="pgfId-1099257"></a>Specifies that all end-of-line edges that are less than or equal to 0.3 user units or equal to 0.6 or 0.8 user units in length are to be extended by 0.2 user units. All resulting shapes must be rectangular.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1099256"></a>set_constraint_parameter -name widthRangeArray \<br /> -RangeArrayValue {&quot;&lt;=0.3&quot; &quot;0.6&quot; &quot;0.8&quot;}<br />set_constraint_parameter -name extendBy -Value 0.2<br />set_layer_constraint -constraint rectangularShapeDirection \<br /> -layer Metal2 -IntValue 0</pre>
<p>
<a id="pgfId-1099361"></a></p>
<div class="webflare-div-image">
<img width="668" height="551" src="images/constr_misc-6.gif" /></div>
<h4><em>
<a id="pgfId-1099363"></a><a id="13134"></a>Example 4: rectangularShapeDirection with exceptViaLayer, exceptViaSize, and exceptExactSize</em></h4>

<p>
<a id="pgfId-1121106"></a>Specifies that any metal shapes on layer <code>Metal1</code> must be horizontal rectangles, apart from metal shapes of size 0.09 by 0.12 that contain a via of size 0.03 by 0.06 on layer <code>V1</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1099364"></a>set_constraint_parameter -name exceptViaLayer -LayerValue &quot;V1&quot;<br />set_constraint_parameter -name exceptViaSize -DualValue {0.03 0.06}<br />set_constraint_parameter -name exceptExactSize -DualValue {0.09 0.12}<br />set_layer_constraint -layer Metal1 -constraint rectangularShapeDirection \<br /> -IntValue 1</pre>
<p>
<a id="pgfId-1099486"></a></p>
<div class="webflare-div-image">
<img width="668" height="650" src="images/constr_misc-7.gif" /></div>
<h4><em>
<a id="pgfId-1099492"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1120417"></a><a href="constr_misc.html#88826">Miscellaneous Constraints</a></p>
<p>
<a id="pgfId-1120405"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="constr_misc_re_oaGateOrientation.html" id="prev" title="oaGateOrientation">oaGateOrientation</a></em></b><b><em><a href="constr_misc_re_trimShape.html" id="nex" title="trimShape">trimShape</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>