
<html><head><title>Simplified Constraint Search Hierarchy</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-06-15" />
<meta name="CreateTime" content="1686826596" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes Virtuoso Space-based Router Tcl constraints for setting and checking constraint-related values" />
<meta name="DocTitle" content="Virtuoso Space-based Router Constraint Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Simplified Constraint Search Hierarchy" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vsrconstraint" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-06-15" />
<meta name="ModifiedTime" content="1686826596" />
<meta name="NextFile" content="constraints_Specialty_Routing_Constraints.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="constraints_Constraint_Group_Types.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Space-based Router Constraint Reference -- Simplified Constraint Search Hierarchy" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Routing Environment" />
<meta name="prod_subfeature" content="Constraints" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vsrconstraintIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vsrconstraintTOC.html">Contents</a></li><li><a class="prev" href="constraints_Constraint_Group_Types.html" title="Constraint Group Types">Constraint Group Types</a></li><li style="float: right;"><a class="viewPrint" href="vsrconstraint.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="constraints_Specialty_Routing_Constraints.html" title="Specialty Routing Constraints">Specialty Routing Constraints</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Space-based Router Constraint Reference<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:Simplified_Constraint_Search_Hierarchy" title="Simplified Constraint Search Hierarchy"></a><h2>
<a id="pgfId-2237939"></a><a id="78356"></a>Simplified Constraint Search Hierarchy</h2>

<p>
<a id="pgfId-2237942"></a>There are two types of hierarchies that determine the value of a constraint for an object: Rule Spec Hierarchy and Object Hierarchy. </p>

<h3>
<a id="pgfId-2237948"></a><a id="77599"></a>Rule Spec Hierarchy</h3>

<p>
<a id="pgfId-2237949"></a>If a constraint is not defined on a certain rule spec, that constraint might be defined by another rule spec in the fallback sequence. The rules system applies the fallback sequence to determine the constraint value to use.</p>

<h3>
<a id="pgfId-2237951"></a><a id="24327"></a>Object Hierarchy</h3>

<p>
<a id="pgfId-2237952"></a>The object hierarchy first looks for the constraint in the object&#8217;s constraint group. If the constraint is not found, the search extends to the architecture of the object&#8217;s owners, in hierarchical order. </p>
<p>
<a id="pgfId-2239347"></a>Virtuoso Space-based Router will search for all constraints in the Override, Design, and Foundry route specs, but in other levels of the hierarchy, only specific constraints are searched for, as shown in the following figure. </p>
<p>
<a id="pgfId-3824215"></a>When setting constraints, apply the constraint to the highest level of hierarchy for which it is appropriate.</p>
<p>
<a id="pgfId-3824216"></a>In addition to deciding the appropriate scope for your constraint in the object hierarchy, you must decide whether your constraint is application-specific. Application-specific constraints influence a particular application&#8217;s behavior, but might conflict with the requirements of another application. </p>
<p>
<a id="pgfId-3824217"></a>For example, if you add an application-specific constraint to the <code>Design</code> default constraint group that limits the valid routing layers to <code>Metal3</code>, <code>Metal4</code>, and <code>Metal5</code>, your application might be required to route only <code>Metal3</code>, <code>Metal4</code>, and <code>Metal5</code>, but it is not reasonable to restrict all other applications to use only those layers. </p>
<p>
<a id="pgfId-3824218"></a>Application-specific constraints should <em>not</em> be added to the built-in constraint groups, which apply to all applications. Instead, place your application-specific constraints into an application-specific constraint group and leave the application-specific constraint group unattached from any built-in constraint group, and the application can find it by name.</p>

<div class="ft-figtabl-title">
<a id="pgfId-3623188"></a><a id="79986"></a>Simplified Constraint Search Hierarchy</div>
<p>
<a id="pgfId-3623290"></a></p>
<div class="webflare-div-image">
<img width="668" height="787" src="images/constraints-8.gif" /></div>
<h4>
<a id="pgfId-2238080"></a>Override Rule Spec</h4>

<p>
<a id="pgfId-2238084"></a>At the highest level, if an override rule spec has been set , then all constraint values are taken from that rule spec. If the desired constraint does not exist in the override rule spec, then the search goes to the <h-hot>Region</h-hot>.</p>

<h4>
<a id="pgfId-2238089"></a><a id="58983"></a>Region</h4>

<p>
<a id="pgfId-3679880"></a>The <h-hot>oaPreferredRoutingDirection</h-hot> constraint can only be assigned to an area boundary, or region, which is specified using the <h-hot><a actuate="user" class="URL" href="../vsrcmdref/routeT_re_create_preferred_direction_region.html" show="replace" xml:link="simple">create_preferred_direction_region</a></h-hot> Tcl command. This overrides the global settings for the preferred routing direction in the region. If the desired constraint does not exist for the region, then the search goes to the <h-hot>Group Level</h-hot>.</p>

<h4>
<a id="pgfId-2238101"></a><a id="95359"></a>Group Level</h4>

<p>
<a id="pgfId-2239873"></a>The Group level applies only for constraints that are set in an InterChild, TransReflexive, or Reflexive constraint group for a group, typically a netGroup. InterChild constraints take precedence over the other two types. </p>
<p>
<a id="pgfId-2239005"></a>Only the <h-hot>minSpacing</h-hot> and <h-hot>crossTalkNeighborIndex</h-hot> constraints are searched for in <h-hot>InterChild</h-hot> constraint groups. For <h-hot>TransReflexive</h-hot>, and <h-hot>Reflexive</h-hot> constraints, the search is restricted to <h-hot>minSpacing</h-hot>. </p>
<p>
<a id="pgfId-2239214"></a>If there are no groups defined or the constraint is not defined for a group constraint group, the search continues to the <h-hot>Object Level</h-hot>.</p>

<h4>
<a id="pgfId-2238122"></a><a id="29676"></a>Object Level</h4>

<p>
<a id="pgfId-2238123"></a>The Object level applies for the constraints that are assigned to blockage shapes, routes, nets, and netGroups, as shown in <a href="constraints_Simplified_Constraint_Search_Hierarchy.html#79986">Simplified Constraint Search Hierarchy</a>. At this level, the search begins with the object, then to the object&#8217;s parent, and so on, until the constraint is found. If the constraint is not found, the search goes to the <h-hot>Global Net Default Route Spec</h-hot>, the <h-hot>Design Rules</h-hot>, and, finally, the foundry rules. </p>
<p>
<a id="pgfId-2238127"></a>To apply a constraint to an object, the constraint is added to a specific constraint group that is assigned to the object as shown in the table below. The function of the constraint group determines how the constraint is used. For example, <code>minSpacing</code> on the <code>shield</code> group of a net specifies the spacing between the net and its parallel shields, whereas <code>minSpacing</code> on the <code>inputtaper</code> group for the same net specifies the spacing required when tapering the net to input pins. The minimum spacing for an unshielded net could be found in the <code>default</code> constraint group for the net.</p>
<table class="webflareTable" id="#id2238133">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id2238135">
<a id="pgfId-2238135"></a>Object Type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id2238137">
<a id="pgfId-2238137"></a>Applicable Constraint Group(s)</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238139"></a>Blockage shape</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238144"></a><code>implicit</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238146"></a>Route</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238154"></a><code>shield</code>, <code>default</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238156"></a>InstTerm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238161"></a><code>taper</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238163"></a>Term</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238168"></a><code>taper</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238170"></a>Net</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238181"></a><code>shield</code>, <code>inputTaper</code>, <code>outputTaper</code>, <code>default</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238186"></a>Net Group</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238194"></a><code>reflexive</code>, <code>transreflexive</code>, <code>default</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238859"></a>Group to Group</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-2238861"></a><code>interChild</code></p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-2239894"></a><a id="21068"></a>Global Net Default Route Spec</h4>

<p>
<a id="pgfId-2239922"></a>Only <code>minSpacing</code>, <code>minWidth</code>, <code>validRoutingLayers</code>, <code>validRoutingVias</code>, <code>minNumCut</code>, and <code>oaPreferredRoutingDirection</code> constraints are searched for in the Global net default route spec. In addition, <h-hot><a actuate="user" class="URL" href="../vsrcmdref/routeT_re_create_derived_vias.html" show="replace" xml:link="simple">create_derived_vias</a></h-hot> will use <code>minDualExtension</code> from the Global net default route spec if the constraint is set.</p>
<p>
<a id="pgfId-2239926"></a>If the desired constraint does not exist in or cannot be read from the Global net default route spec, the search goes to the <h-hot>Design Rules</h-hot>.</p>

<h4>
<a id="pgfId-3791533"></a><a id="12193"></a>Design Rules</h4>

<p>
<a id="pgfId-3791534"></a>All constraints that are set in the Design route spec will be read. If the desired constraint does not exist in or cannot be read from the Design route spec, then the search goes to the <h-hot>Foundry Override Rules</h-hot>.</p>

<h4>
<a id="pgfId-3791550"></a><a id="71948"></a>Foundry Override Rules</h4>

<p>
<a id="pgfId-3791542"></a>One constraint group can be identified as the Foundry Override route spec. When set like this, all constraints that are in that constraint group will be read. If the desired constraint does not exist in or cannot be read from the Foundry Override route spec, then the search goes to the <h-hot>Foundry Rules</h-hot>.</p>
<p>
<a id="pgfId-3791566"></a>The assignment of a constraint group as the Foundry Override route spec is transient and cannot be saved. For more information, see <h-hot>set_foundry_override</h-hot>, <h-hot>unset_foundry_override</h-hot>, and <h-hot>get_foundry_override</h-hot>.</p>

<h4>
<a id="pgfId-3791501"></a><a id="39984"></a>Foundry Rules</h4>

<p>
<a id="pgfId-3791502"></a>All constraints that are set in the Foundry route spec will be read.</p>

<h4><em>
<a id="pgfId-3823081"></a>Related Topics</em></h4>

<p>
<a id="pgfId-3831883"></a><a href="constraints_Specialty_Routing_Constraints.html#95189">Specialty Routing Constraints</a></p>
<p>
<a id="pgfId-3823086"></a><em><a actuate="user" class="URL" href="../vsrcmdref/RoutePrepEnv_Using_Tapers.html" show="replace" xml:link="simple">Using Tapers</a></em></p>
<p>
<a id="pgfId-3823087"></a><h-hot><a href="constraints_tcl_re_set_override_rulespec.html#18382">set_override_rulespec</a></h-hot></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="constraints_Constraint_Group_Types.html" id="prev" title="Constraint Group Types">Constraint Group Types</a></em></b><b><em><a href="constraints_Specialty_Routing_Constraints.html" id="nex" title="Specialty Routing Constraints">Specialty Routing Constraints</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>