
<html><head><title>Creation of Power Domains</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="deeptig" />
<meta name="CreateDate" content="2023-09-08" />
<meta name="CreateTime" content="1694169239" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes Virtuoso Power Manager that specifies the power intent information of the designs" />
<meta name="DocTitle" content="Virtuoso Power Manager User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Creation of Power Domains" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="vpm" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-08" />
<meta name="ModifiedTime" content="1694169239" />
<meta name="NextFile" content="chap3_ct_power_view.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design,Custom IC Design,Custom IC Design" />
<meta name="PrevFile" content="chap3_ct_design_partition.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment,Virtuoso Layout Suite,Virtuoso Schematic Editor" />
<meta name="Product" content="Virtuoso Analog Design Environment,Virtuoso Layout Suite,Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment,Virtuoso Layout Suite,Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Power Manager User Guide -- Creation of Power Domains" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Power Manager" />
<meta name="prod_subfeature" content="1801 Extraction" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="vpmIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vpmTOC.html">Contents</a></li><li><a class="prev" href="chap3_ct_design_partition.html" title="Design Partitioning">Design Partitioning</a></li><li style="float: right;"><a class="viewPrint" href="vpm.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap3_ct_power_view.html" title="Power View">Power View</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Power Manager User Guide<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:ct_create_power_domains" title="Creation of Power Domains"></a><h2>
<a id="pgfId-942969"></a><a id="93307"></a>Creation of Power Domains</h2>

<p>
<a id="pgfId-942971"></a>While extracting power intent, Power Manager automatically identifies the power nets and ground nets in the design as described below. Further, for each power net, it finds the ground net associated with it and for each unique pair of power net and ground net, creates a power domain.</p>
<p>
<a id="pgfId-944611"></a>Identifying Switchable and Non-Switchable Power Nets and Ground Nets</p>

<ul><li>
<a id="pgfId-944612"></a>A net is identified as a non-switchable power net if either of the following conditions are met:<ul><li>
<a id="pgfId-944613"></a>The sigType property of the net is power</li><li>
<a id="pgfId-944614"></a>The net name is registered as a power net</li><li>
<a id="pgfId-944615"></a>The net is not an output of a switch cell and cannot be hierarchically traced to an output of a switch cell.</li></ul></li><li>
<a id="pgfId-944616"></a>A net is identified as a switchable power net if either of the following conditions are met:<ul><li>
<a id="pgfId-944617"></a>The net is an output of a head-switch cell</li><li>
<a id="pgfId-944618"></a>The net can be hierarchically traced to an output of a head-switch cell</li></ul></li><li>
<a id="pgfId-944619"></a>A net is identified as a non-switchable ground net if:<ul><li>
<a id="pgfId-944620"></a>The sigType of the net is ground.</li><li>
<a id="pgfId-944621"></a>The net name is registered as a ground net.</li><li>
<a id="pgfId-944622"></a>The net is not an output of a switch cell and cannot be hierarchically traced to an output of a switch cell.</li></ul></li><li>
<a id="pgfId-944623"></a>A net is identified as a switchable ground net if either of the following conditions are met:<ul><li>
<a id="pgfId-944624"></a>The net is an output of a foot-switch cell</li><li>
<a id="pgfId-944640"></a>The net can be hierarchically traced to an output of a foot-switch cell</li></ul></li></ul>




















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-942975"></a>If you have not registered any names for power nets and none of the nets in the design have their signal type set to power, then Power Manager does not extract any power domains.</div>
<p>
<a id="pgfId-942977"></a>After identifying the power nets and ground nets, the unique power net/ground net pairs (Supply sets) are identified. For this, the tool traces the paths from a power net to a ground net. The tool also considers the power net/ground net pairs registered in the setup.</p>
<p>
<a id="pgfId-944696"></a>Supply sets can be defined in the setup for the following scenarios.</p>

<ul><li>
<a id="pgfId-944697"></a>The primary supply set for the power domains mentioned in the setup.</li><li>
<a id="pgfId-944698"></a>The power and ground nets that cannot be paired by traversing the design hierarchy or parsing the Liberty in case of a Liberty cell.</li></ul>


<p>
<a id="pgfId-944757"></a>Supply set identification can be done explicitly in a setup template or by automatic identification. </p>
<p>
<a id="pgfId-944758"></a>If you want to partition the design for assigning a particular instance to some power domain, provide the list of domain, instances, and primary supply set. </p>
<p>
<a id="pgfId-944943"></a>If power domains and supply set information is provided in the setup, the following is the sequence of tasks being done:</p>

<ul><li>
<a id="pgfId-944944"></a><code>create_power_domain</code> commands are created in the exported 1801 file based on the number of power domains.</li><li>
<a id="pgfId-944945"></a>Primary supply set are referred from the setup.</li><li>
<a id="pgfId-944946"></a>Extra supplies that need not to be a part of setup are identified by the tool. </li><li>
<a id="pgfId-944947"></a><code>connect_supply_net</code> command is generated for supply nets that are a part of extra supplies.</li><li>
<a id="pgfId-944948"></a>For any other instance that is not a part of any power domain remains in the default domain.</li><li>
<a id="pgfId-944949"></a>If there is no power domain assignment, a single power domain is created and all the instances are connected by using <code>connect_supply_net</code>.</li></ul>






<p>
<a id="pgfId-944950"></a>The following examples show how power domains are created:</p>
<p>
<a id="pgfId-945248"></a>Example 1:</p>
<p>
<a id="pgfId-945249"></a>Consider the following design that does not have the user-defined supply sets and power domains specified in the setup:</p>

<p>
<a id="pgfId-945304"></a></p>
<div class="webflare-div-image">
<img src="images/PIA_pwrdmn_ext02.gif" /></div>

<p>
<a id="pgfId-945251"></a>In this case, the tool traverses though the design and creates the following power domains:</p>

<ul><li>
<a id="pgfId-945252"></a><code>SS__VDD1__GND1</code></li><li>
<a id="pgfId-945253"></a><code>SS__VDD2__GND2</code></li><li>
<a id="pgfId-945254"></a><code>SS__VDD3__GND3</code></li></ul>



<p>
<a id="pgfId-945255"></a>Example 2:</p>
<p>
<a id="pgfId-945256"></a>Now, consider the following design that contains a head-switch. </p>

<p>
<a id="pgfId-945257"></a></p>
<div class="webflare-div-image">
<img src="images/PIA_pwrdmn_ext01.gif" /></div>

<p>
<a id="pgfId-945258"></a>In this case, the tool creates one default power domain and two supply sets:</p>

<ul><li>
<a id="pgfId-945259"></a><code>pd__VDD__VSS</code></li><li>
<a id="pgfId-960241"></a><code>SS_VDD_VSS</code></li><li>
<a id="pgfId-945260"></a><code>SS_NET1_VSS</code></li></ul>



<p>
<a id="pgfId-945261"></a>Example 3:</p>
<p>
<a id="pgfId-942979"></a>If a primitive instance has one netSet property each for a power and ground supply, it is added to the power domain created for that power and ground supply pair even if the instance does not have any power/ground pins in the symbol/schematic view. If a power domain does not exist for that power and ground supply pair, a new power domain is created and the primitive instance is added to it. However, if the primitive instance has more than one netSet property for power or ground, it does not contribute towards the creation of a power domain and a warning message is displayed in the power intent extraction log.</p>

<h3>
<a id="pgfId-967561"></a>Default Power Domain</h3>

<p>
<a id="pgfId-967617"></a>If the <code>create_power_domain</code> command has the <code>-include_scope</code> or <code>-elements {.}</code> switch, it is considered as the default domain. When no such default domain is found, any <code>create_power_domain</code> command that does not have the <code>-elements</code> switch is considered as the default domain. However, multiple <code>create_power_domain</code> commands cause the 1801 import to fail with an appropriate error message.</p>

<h4><em>
<a id="pgfId-966594"></a>Related Topics</em></h4>

<p>
<a id="pgfId-966598"></a><a href="chap3_ct_export_flow.html#61628">Export Flow</a></p>
<p>
<a id="pgfId-966610"></a><a href="chap3_tk_export_1801_design_model.html#88464">Exporting 1801 Design Model</a></p>
<p>
<a id="pgfId-966614"></a><a href="chap3_tk_export_1801_power_model.html#37296">Exporting 1801 Power Model</a></p>
<p>
<a id="pgfId-966618"></a><a href="chap3_tk_export_liberty_power_model.html#27668">Exporting Liberty Power Model</a></p>
<p>
<a id="pgfId-966622"></a><a href="chap3_ct_special_iso_cell_power_model_exp.html#86351">Special Isolation Cells in Liberty Power Model Export</a></p>
<p>
<a id="pgfId-966590"></a><a href="chap1_tk_reg_supply_set_PD.html#61921">Registering Supply Set and Power Domain</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap3_ct_design_partition.html" id="prev" title="Design Partitioning">Design Partitioning</a></em></b><b><em><a href="chap3_ct_power_view.html" id="nex" title="Power View">Power View</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>