
<html><head><title>Grid Initialization during Floorplanning</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698333633" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes Virtuoso Floorplanner that includes automatic and interactive floorplanning tools that let you specify the rough topology of a physical chip." />
<meta name="DocTitle" content="Virtuoso Floorplanner User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Grid Initialization during Floorplanning" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="fphelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698333633" />
<meta name="NextFile" content="overview_ct_Block_Override_Support.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="overview_tk_Creating_a_Rectilinear_Polygon_in_Reinitialize_Floorplan.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Floorplanner User Guide -- Grid Initialization during Floorplanning" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="Virtuoso Layout Suite::Floorplanning::Initialization" />
<meta name="prod_feature" content="Floorplanning" />
<meta name="prod_subfeature" content="Initialization" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="fphelpIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="fphelpTOC.html">Contents</a></li><li><a class="prev" href="overview_tk_Creating_a_Rectilinear_Polygon_in_Reinitialize_Floorplan.html" title="Creating a Rectilinear Polygon in Reinitialize Floorplan">Creating a Rectilinear Polygon ...</a></li><li style="float: right;"><a class="viewPrint" href="fphelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="overview_ct_Block_Override_Support.html" title="Block Override Support in Virtuoso Floorplanner">Block Override Support in Virt ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Floorplanner User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:Grid_Initialization_during_Floorplanning" title="Grid Initialization during Floorplanning"></a><h2>
<a id="pgfId-1110758"></a><a id="42790"></a>Grid Initialization during Floorplanning</h2>

<p>
<a id="pgfId-1110759"></a>When you select <em>Initialize grids</em> option in the Reinitialize Floorplan form, it initializes the grids in a design. The following grid order will have a numbered list:</p>
<ul><li>
<a id="pgfId-1110760"></a>Detailed routing grid: Each detailed routing grid is defined by the following:<ul><li>
<a id="pgfId-1110761"></a>Direction (horizontal or vertical)</li><li>
<a id="pgfId-1110762"></a>Routing layer </li><li>
<a id="pgfId-1110763"></a>Starting point </li><li>
<a id="pgfId-1110764"></a>Routing pitch or step </li><li>
<a id="pgfId-1110765"></a>Number of grid lines. </li></ul><br />
<a id="pgfId-1110766"></a>All the routing layer information is read from the following section of the technology file:<br />
<a id="pgfId-1110770"></a><div class="webflare-div-image">
<img width="635" height="257" src="images/overview-21.gif" /></div>
<a id="pgfId-1110771"></a>Using these values and the design boundary, Floorplanner automatically calculates the starting point and the number of grid lines required to cover the entire design area. <br />
<a id="pgfId-1110772"></a>If you do not define a value for <code>pitch</code>, the command uses a default value derived from the line-to-via spacing rule defined in the technology file, and displays a warning message. <br />
<a id="pgfId-1110773"></a>If the routing offset is not defined for a routing layer in the technology file, then its value is considered by default as half of the routing pitch. <br />
<a id="pgfId-1110774"></a>Floorplanner calculates the starting point of the routing grid on each layer by adding the routing offset to the left most coordinate of the bBox of the design boundary. <br />
<a id="pgfId-1110775"></a>Floorplanner calculates the count (number of grids) from the step (routing pitch) and the bBox of the design boundary.<br />
<a id="pgfId-1110776"></a>If the routing grid cannot be created because the required information is not specified in the technology file, then the routing grid is created by using the values of the manufacturing grid for that layer. <br />
<a id="pgfId-1110777"></a>Routing grids in the non-preferred direction are created by using the pitch information. If a routing layer has horizontal as the preferred direction, then the grid in the non-preferred direction, which is vertical for the layer, is created by using the horizontal pitch. Similarly, if the preferred direction is vertical then the routing grid in the non-preferred direction, which is horizontal for the layer, is created by using the vertical pitch. <br />
<a id="pgfId-1110778"></a>For example, consider the following entries in the routingGrids and routingDirections section in the technology file: <pre class="webflare-pre-block webflare-courier-new" id="#id1110779">
<a id="pgfId-1110779"></a>routingDirections(</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110780">
<a id="pgfId-1110780"></a> ;( layer                       direction     )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110781">
<a id="pgfId-1110781"></a> ;( -----                       ---------     )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110782">
<a id="pgfId-1110782"></a>  ( Poly                        &quot;none&quot;       )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110783">
<a id="pgfId-1110783"></a>  ( Metal1                      &quot;horizontal&quot; )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110784">
<a id="pgfId-1110784"></a>  ( Metal2                      &quot;vertical&quot;   )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110785">
<a id="pgfId-1110785"></a>  ( Metal3                      &quot;horizontal&quot; )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110786">
<a id="pgfId-1110786"></a>routingGrids(</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110787">
<a id="pgfId-1110787"></a>;    (                             layer     pitch) </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110788">
<a id="pgfId-1110788"></a>;    ( -------                     -----     -----)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110789">
<a id="pgfId-1110789"></a>     ( horizontalPitch            &quot;Metal1&quot;   0.29 )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110790">
<a id="pgfId-1110790"></a>     ( verticalPitch              &quot;Metal1&quot;   0.29 )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110791">
<a id="pgfId-1110791"></a>     ( horizontalOffset           &quot;Metal1&quot;   0.145 )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110792">
<a id="pgfId-1110792"></a>     ( verticalOffset             &quot;Metal1&quot;   0.145 )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110793">
<a id="pgfId-1110793"></a>     ( horizontalPitch            &quot;Metal2&quot;   0.58 )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110794">
<a id="pgfId-1110794"></a>     ( verticalPitch              &quot;Metal2&quot;   0.58 )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110795">
<a id="pgfId-1110795"></a>     ( horizontalOffset           &quot;Metal2&quot;   0.145 )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110796">
<a id="pgfId-1110796"></a>     ( verticalOffset             &quot;Metal2&quot;   0.145 )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1110797">
<a id="pgfId-1110797"></a>    ) ;routingGrids</pre>
<a id="pgfId-1110798"></a>In the above, the preferred direction for <code>Metal1</code> is horizontal. For <code>Metal1</code>, grids in the non-preferred direction, which is vertical, are created by using the horizontal pitch for <code>Metal1</code> (0.29).<br />
<a id="pgfId-1110799"></a>Unlike in the above example, if the horizontal pitch for <code>Metal1</code> is not specified in the technology file, then the grids in the non-preferred direction is created by using the horizontal pitch of <code>Metal2</code> layer (0.58).<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1110800"></a>Routing grid is necessary for the routing and placement of pins.</div></li><li>
<a id="pgfId-1110801"></a>Placement grid: The placement grid information does not come from the technology file. It is calculated from the detailed routing grid settings. A placement grid is defined by the following:<ul><li>
<a id="pgfId-1110802"></a>Direction (horizontal or vertical)</li><li>
<a id="pgfId-1110803"></a>Starting Point</li><li>
<a id="pgfId-1110804"></a>Step</li><li>
<a id="pgfId-1110805"></a>Number of grid lines</li></ul><br />
<a id="pgfId-1110806"></a>Placement grids always begin at (0.0 0.0), and have unique step value for horizontal direction and vertical direction. <br />
<a id="pgfId-1110807"></a>The placement grid step is the same as the step for the parallel detailed routing grid on the lowest routing layer, i.e. step of horizontal placement grid is equal to the step of the detailed routing grid of the lowermost horizontal routing layer. Similarly step of vertical placement grid is equal to the step of the detailed routing grid of the lowermost vertical routing layer.<br />
<a id="pgfId-1110808"></a>The distance between any two parallel placement grid and detailed routing grid lines is defined by <code>offset</code>, a required property defined in the technology file. If you do not define a value for this property, by default the value is set to half the pitch for the detailed routing grid.</li><li>
<a id="pgfId-1110809"></a>Manufacturing grid: This grid gives the minimum possible resolution and is used for the placement of the analog blocks and their pins. All the grids are in multiples of manufacturing grid. The manufacturing grid value is read from the mfgGridResolutionSection section, which is a sub-section of the controls section in the technology file:<br />
<a id="pgfId-1110810"></a><code>mfgGridResolution(( 0.001000 )) </code><br />
<a id="pgfId-1110811"></a><code>;mfgGridResolution</code><br />
<a id="pgfId-1110812"></a>So, the manufacturing grid step is equal to the mfgGridResolution value and the start point is the lower-left of the design boundary. <br />
<a id="pgfId-1110813"></a>You must initialize grids before performing any action on a block.</li></ul>
























































<h4><em>
<a id="pgfId-1110814"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1110818"></a><a href="FPforms_re_Reinitialize_Floorplan_Form.html#12151">Reinitialize Floorplan Form</a></p>
<p>
<a id="pgfId-1110822"></a><a href="overview_tk_Reinitializing_a_Floorplan.html#95766">Reinitializing a Floorplan</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="overview_tk_Creating_a_Rectilinear_Polygon_in_Reinitialize_Floorplan.html" id="prev" title="Creating a Rectilinear Polygon in Reinitialize Floorplan">Creating a Rectilinear Polygon ...</a></em></b><b><em><a href="overview_ct_Block_Override_Support.html" id="nex" title="Block Override Support in Virtuoso Floorplanner">Block Override Support in Virt ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>