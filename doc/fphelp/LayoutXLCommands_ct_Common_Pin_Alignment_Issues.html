
<html><head><title>Common Pin Alignment Issues</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698333626" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes Virtuoso Floorplanner that includes automatic and interactive floorplanning tools that let you specify the rough topology of a physical chip." />
<meta name="DocTitle" content="Virtuoso Floorplanner User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Common Pin Alignment Issues" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="fphelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698333626" />
<meta name="NextFile" content="LayoutXLCommands_tk_Aligning_Unconnected_Bus_Pins.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="LayoutXLCommands_tk_Aligning_Pins.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Floorplanner User Guide -- Common Pin Alignment Issues" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="Virtuoso Layout Suite::Floorplanning::Pin Placement" />
<meta name="prod_feature" content="Floorplanning" />
<meta name="prod_subfeature" content="Pin Placement" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="fphelpIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="fphelpTOC.html">Contents</a></li><li><a class="prev" href="LayoutXLCommands_tk_Aligning_Pins.html" title="Aligning Pins">Aligning Pins</a></li><li style="float: right;"><a class="viewPrint" href="fphelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="LayoutXLCommands_tk_Aligning_Unconnected_Bus_Pins.html" title="Aligning Unconnected Bus Pins">Aligning Unconnected Bus Pins</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Floorplanner User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:ct_Common_Pin_Alignment_Issues" title="Common Pin Alignment Issues"></a><h3>
<a id="pgfId-1100967"></a><a id="78335"></a>Common Pin Alignment Issues</h3>

<p>
<a id="pgfId-1102333"></a>After aligning pins, the <em>Pin Alignment</em> command in the Align form performs a post-process check to determine any overlaps:</p>
<ul><li>
<a id="pgfId-1102334"></a>Within the target pins </li><li>
<a id="pgfId-1102335"></a>With other shapes that are part of the design, but are not the target pins</li></ul>

<p>
<a id="pgfId-1102336"></a>If any overlap exists, then the pin aligner displays a warning message indicating the previous location, layer, term name, and new location.</p>
<p>
<a id="pgfId-1102337"></a>For example, in the figure below, pins <code>1</code> to <code>5</code> of block <code>B1</code> are connected to pins <code>1</code> to <code>5</code> of block <code>B2</code>, respectively. If you select all the pins of block <code>B1</code> as the reference pins and the block <code>B2</code> as the target block, the pins of block <code>B2</code> are moved as shown in the figure marked <code>b</code>. Note that pin <code>1</code> of block <code>B2</code> is not moved at all because no edge is available to get it aligned. Any target pin connected to a reference pin is moved to the first edge of the target block encountered by an imaginary line orthogonal to the reference pin edge. </p>
<p>
<a id="pgfId-1102338"></a>If none of the imaginary orthogonal lines touch the target block, the pin will not be moved (for example, pin <code>1</code> in block <code>B2</code>). </p>

<div class="webflare-div-image">
<img width="594" height="175" src="images/LayoutXLCommands-34.gif" /></div>

<p>
<a id="pgfId-1102462"></a>If a reference pin is not on the edge or is on the corner (and has two edges) then out of two orthogonal imaginary lines, the one that hits the target edge point (see example below) is considered and the connected target pin is moved to this point. This may not be the closest point. In this figure, Blk2 is the reference and Blk1 the target. Pin 4 needs to be aligned. If imaginary orthogonal lines are drawn from the reference pin 4 to the target, three possible positions can be identified for pin 4 on the target block. these are marked as A, B and C. The target pin can be moved to any of these positions. Pin aligner chooses position A for the target pin for the best alignment although positions B and C could have helped reduce the net length.</p>

<p>
<a id="pgfId-1102490"></a></p>
<div class="webflare-div-image">
<img width="594" height="207" src="images/LayoutXLCommands-35.gif" /></div>

<p>
<a id="pgfId-1102491"></a>Fixed pins (with status &#8220;firm&#8221; or &#8220;locked&#8221;) are not moved by the pin aligner. A message is given in CIW:</p>
<p>
<a id="pgfId-1102492"></a>*Warning* Can not align pin &lt;name&gt; of instance &lt;name&gt;, as it is a &lt;status&gt; pin</p>
<p>
<a id="pgfId-1102329"></a>The Pin Alignment command supports multiple reference pins connected to multiple target pins on the same net. It also considers if multiple target pins can be aligned to the same reference pin based on the closest edge criteria. </p>
<p>
<a id="pgfId-1075996"></a>There are various cases in pin alignment some of which are described as follows. In the figures shown for various cases, the reference and target pins are shown as block pins but they can be top-level pins as well.</p>
<ul><li>
<a id="pgfId-1075685"></a>Case I - Reference in Different blocks, Target in the Same Block</li></ul>
<p>
<a id="pgfId-1075725"></a>In this case, you select the pins in different blocks as the reference pins, which are connected to multiple pins in the same target block. The target pins are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1075741"></a></p>
<div class="webflare-div-image">
<img width="668" height="359" src="images/LayoutXLCommands-36.gif" /></div>

<ul><li>
<a id="pgfId-1075690"></a>Case II - Reference in the Same Block, Target in Same Block</li></ul>
<p>
<a id="pgfId-1075780"></a>In this case, you select multiple pins in the same block as reference pins, which are connected to multiple top-level pins. The target pins are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1076006"></a></p>
<div class="webflare-div-image">
<img width="668" height="272" src="images/LayoutXLCommands-37.gif" /></div>

<ul><li>
<a id="pgfId-1076062"></a>Case III - Reference in Same Block, Target in Different Blocks</li></ul>
<p>
<a id="pgfId-1075832"></a>In this case, you select multiple pins in the same block as reference pins, which are connected to multiple pins in different target blocks. The target pins are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1075828"></a></p>
<div class="webflare-div-image">
<img width="668" height="368" src="images/LayoutXLCommands-38.gif" /></div>

<ul><li>
<a id="pgfId-1075683"></a>Case IV - Reference in Different Blocks, Target in Different Blocks</li></ul>
<p>
<a id="pgfId-1075885"></a>In this case, you select the pins in different blocks as reference pins, which are connected to multiple pins in different target blocks. The target pins are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1075900"></a></p>
<div class="webflare-div-image">
<img width="668" height="346" src="images/LayoutXLCommands-39.gif" /></div>

<ul><li>
<a id="pgfId-1075879"></a>Case V - Multiple Target Pins Aligned with same Reference Pin</li></ul>
<p>
<a id="pgfId-1075913"></a>In this case, you select a pin in a reference block, which is connected to multiple pins in the same or different target block(s). The target pins in different block(s) are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1075933"></a></p>
<div class="webflare-div-image">
<img width="668" height="334" src="images/LayoutXLCommands-40.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1076526"></a>The target pins can belong to same block of different blocks. The following figure shows the multiple pins in the same target block.</div>

<p>
<a id="pgfId-1076530"></a></p>
<div class="webflare-div-image">
<img width="668" height="230" src="images/LayoutXLCommands-41.gif" /></div>

<ul><li>
<a id="pgfId-1076448"></a>Case VI - Multiple Top-level Pins Aligned with same Reference Pin</li></ul>
<p>
<a id="pgfId-1075940"></a>In this case, you select a single pin in the reference block, which is connected to multiple top-level pins in the pr boundary. The pins at the top-level are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1075904"></a></p>
<div class="webflare-div-image">
<img width="668" height="282" src="images/LayoutXLCommands-42.gif" /></div>

<ul><li>
<a id="pgfId-1081526"></a>Case VII - Alignment of pins when the block having Reference Pins is Rotated</li></ul>
<p>
<a id="pgfId-1081527"></a>In this case, when the block having reference pins is rotated by 90o, the pin aligner automatically and intelligently aligns the pins in the target block with the pins in the reference block to get the shortest net length. </p>
<p>
<a id="pgfId-1081531"></a></p>

<div class="webflare-div-image">
<img width="668" height="265" src="images/LayoutXLCommands-43.gif" /></div>

<p>
<a id="pgfId-1081576"></a></p>
<p>
<a id="pgfId-1082459"></a>The pin aligner ignores any selected item that is not a pin, a block or the top level PRBoundary. A message is given in CIW:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1060836"></a>*Warning* Pin Alignment is not supported for object of type &lt;type&gt;</pre>

<p>
<a id="pgfId-1060837"></a>If the target block is not a soft block, its pins are not aligned. A message is given in CIW:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1060838"></a>*Warning* Can not align pins of instance &lt;name&gt; as it is not a soft block.</pre>

<p>
<a id="pgfId-1060839"></a>If the target soft block does not have a PR boundary, its pins are not aligned. A message is given in CIW:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1060840"></a>*Warning* Can not align pins of instance %s as it does not have PRBoundary.</pre>

<p>
<a id="pgfId-1060841"></a>If the block to which the target pin belongs is outside the top-level design boundary, then the pin is aligned but not snapped to the grid. A message is given in CIW:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076683"></a><a id="77955"></a>*Warning* Can not snap pin %s of instance %s as it is outside the design boundary.</pre>

<p>
<a id="pgfId-1082308"></a>After aligning the pins, a Pin Alignment report is displayed in the CIW. The Pin Alignment report provides a detailed listing of target pins that are not aligned, along with the reason for not aligning them.</p>

<p>
<a id="pgfId-1102188"></a></p>
<div class="webflare-div-image">
<img width="668" height="459" src="images/LayoutXLCommands-44.gif" /></div>
<h4><em>
<a id="pgfId-1094095"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1102204"></a><a href="LayoutXLCommands_tk_Aligning_Pins.html#36871">Aligning Pins</a></p>
<p>
<a id="pgfId-1102215"></a><a href="LayoutXLCommands_tk_Aligning_Unconnected_Bus_Pins.html#50862">Aligning Unconnected Bus Pins</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="LayoutXLCommands_tk_Aligning_Pins.html" id="prev" title="Aligning Pins">Aligning Pins</a></em></b><b><em><a href="LayoutXLCommands_tk_Aligning_Unconnected_Bus_Pins.html" id="nex" title="Aligning Unconnected Bus Pins">Aligning Unconnected Bus Pins</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>