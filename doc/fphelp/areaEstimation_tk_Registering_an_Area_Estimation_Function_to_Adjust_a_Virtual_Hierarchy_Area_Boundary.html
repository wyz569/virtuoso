
<html><head><title>Registering an Area Estimation Function to Adjust a Virtual Hierarchy Area Boundary</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698333587" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes Virtuoso Floorplanner that includes automatic and interactive floorplanning tools that let you specify the rough topology of a physical chip." />
<meta name="DocTitle" content="Virtuoso Floorplanner User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Registering an Area Estimation Function to Adjust a Virtual Hierarchy Area Boundary" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="fphelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698333587" />
<meta name="NextFile" content="areaEstimation_tk_Registering_an_Area_Estimation_Function_to_Adjust_a_Soft_Block_PR_Boundary.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="areaEstimation_re_Area_Estimation_Function_Registration.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Floorplanner User Guide -- Registering an Area Estimation Function to Adjust a Virtual Hierarchy Area Boundary" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="task" />
<meta name="reference_type" content="Virtuoso Layout Suite::Floorplanning::Area Estimation" />
<meta name="prod_feature" content="Floorplanning" />
<meta name="prod_subfeature" content="Area Estimation" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="fphelpIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="fphelpTOC.html">Contents</a></li><li><a class="prev" href="areaEstimation_re_Area_Estimation_Function_Registration.html" title="Area Estimation Function Registration">Area Estimation Function Regis ...</a></li><li style="float: right;"><a class="viewPrint" href="fphelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="areaEstimation_tk_Registering_an_Area_Estimation_Function_to_Adjust_a_Soft_Block_PR_Boundary.html" title="Registering an Area Estimation Function to Adjust a Soft Block PR Boundary">Registering an Area Estimation ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Floorplanner User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:tk_Registering_an_Area_Estimation_Function_to_Adjust_a_Virtual_Hierarchy_Area_Boundary" title="Registering an Area Estimation Function to Adjust a Virtual Hierarchy Area Boundary"></a><h3>
<a id="pgfId-1048361"></a>Registering an<a id="RTF34373635343a206832742068"></a> A<a id="RTF46696c656e616d653a417265"></a>rea Esti<a id="RTF726567417265614573744675"></a>mation Function to Adjust a Virt<a id="RTF766841646a75737441726561"></a>ual Hierarchy Area Boundary</h3>
<p>
<a id="pgfId-1048362"></a>You can adjust the area boundary of a virtual hierarchy. In the CIW, type the command given below to define an area estimator function for generating a virtual hierarchy of custom block size during a <em>Generate All From Source</em> or an <em>Update Components And Nets</em> run.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048363"></a>procedure(mySBAreaEstimationFunction(figGroupId)<br />(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048364"></a>list(f_area) | list(&#39;util f_util) | list([f_area] &#39;util f_util) | list(&#39;aspect f_aspect)<br />| list([f_area] &#39;aspect f_aspect) | list([f_area] &#39;width f_width) | list([f_area] &#39;height f_height)<br />| list(&#39;width f_width &#39;height f_height) | list([f_area] &#39;util f_util &#39;aspect &#39;f_aspect) <br />| list([f_area] &#39;aspect f_aspect &#39;util f_util) | list(&#39;height f_height &#39;width &#39;f_width) <br />| list([f_area] &#39;util f_util &#39;width f_width) | list([area] &#39;width f_width &#39;util f_util)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048365"></a>) </pre>
<table class="webflareTable" id="#id1049303">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1049305">
<a id="pgfId-1049305"></a>Term</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1049307">
<a id="pgfId-1049307"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049309"></a><span class="webflare-courier-new" style="white-space:pre"><em>f_area</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049311"></a>Specifies the area of a virtual hierarchy.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049313"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>f_area</em></span><code>)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049315"></a>Specifies the area of a virtual hierarchy as a list.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049317"></a><code>list</code>(<span class="webflare-courier-new" style="white-space:pre"><em>f_area</em></span> &#39;<code>util</code> <span class="webflare-courier-new" style="white-space:pre"><em>f_util</em></span>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049319"></a>Specifies the area utilization of a virtual hierarchy.</p>
<p>
<a id="pgfId-1049320"></a>The default value is specified on the form. It can be an integer or double <code>- 25</code> or <code>25.0</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049322"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>f_area</em></span> <code>&#39;aspect</code> <span class="webflare-courier-new" style="white-space:pre"><em>f_aspect</em></span><code>)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049324"></a>Specifies the aspect ratio of the virtual hierarchy. </p>
<p>
<a id="pgfId-1049325"></a>The default value is specified on the form, <code>1.0</code> can be an integer or double <code>- 1</code> or <code>1.0</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049327"></a><code>list</code>(<span class="webflare-courier-new" style="white-space:pre"><em>f_area</em></span> &#39;<code>util</code> <span class="webflare-courier-new" style="white-space:pre"><em>f_util</em></span> &#39;<code>aspect</code> <span class="webflare-courier-new" style="white-space:pre"><em>f_aspect</em></span>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049329"></a>Specifies both area utilization and aspect ratio of a virtual hierarchy.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049331"></a><code>list</code>(<span class="webflare-courier-new" style="white-space:pre"><em>f_area</em></span> &#39;<code>width</code> <span class="webflare-courier-new" style="white-space:pre"><em>f_width</em></span>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049333"></a>Specifies the width of a virtual hierarchy. </p>
<p>
<a id="pgfId-1049334"></a>It must be a float value.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049336"></a><code>list</code>(<span class="webflare-courier-new" style="white-space:pre"><em>f_area</em></span> &#39;<code>height</code> <span class="webflare-courier-new" style="white-space:pre"><em>f_height</em></span>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049338"></a>Specifies the height of a virtual hierarchy. </p>
<p>
<a id="pgfId-1049339"></a>It must be a float value.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049341"></a><code>list</code>(&#39;<code>width</code> <span class="webflare-courier-new" style="white-space:pre"><em>f_width</em></span> &#39;<code>heigh</code>t <span class="webflare-courier-new" style="white-space:pre"><em>f_height</em></span>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049343"></a>Specifies the width and height of the virtual hierarchy.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049345"></a><code>list</code>(&#39;<code>height</code> <span class="webflare-courier-new" style="white-space:pre"><em>f_height</em></span> &#39;<code>width</code> <span class="webflare-courier-new" style="white-space:pre"><em>f_width</em></span>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049347"></a>Specifies the width and height.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1048414"></a>If you specify the custom area function using an incorrect syntax, but specify the correct original area value, the original area value will be used.</p>
<p>
<a id="pgfId-1048415"></a>Alternatively, the area boundary of a virtual hierarchy can be adjusted by:</p>
<ol><li>
<a id="pgfId-1048416"></a>In the CIW, type the command given below to define an area estimator function:</li></ol>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048417"></a>procedure(myVHAreaEstimationFunction(figGroupId @optional (contactArea  1.0)<br />&#160;&#160;prog((area 0.0)<br />&#160;&#160;&#160;&#160;// Function body to calculate area involving virtual hierarchies<br />insts = setof(x figGroupId~&gt;members x~&gt;objType == &quot;inst&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048418"></a>       foreach(ins cellview~&gt;insts</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048419"></a>           area = area + ins~&gt;master~&gt;prBoundary~&gt;area * contactArea</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048420"></a>       ) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048421"></a>       return(area)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048422"></a>    )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048423"></a>)</pre>

<ol><li>
<a id="pgfId-1048424"></a>Type the commands given below to register the function in deferred, default, or direct modes.<ul><li>
<a id="pgfId-1048425"></a>In deferred mode, the function is applied only when all the required information is available, you can use the code block below:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1048426">
<a id="pgfId-1048426"></a>leRegAreaEstimator</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048427">
<a id="pgfId-1048427"></a>(&#39;myVHAreaEstimationFunction
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;simpleAreaEst&quot;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#39;((contactArea 1.0))
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;deferred&quot;)</pre>
<a id="pgfId-1048428"></a>In the code block above, the virtual hierarchies are considered for area estimation only when the Generate All From Source command is run.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048429"></a>If you register the area boundary area estimation function in deferred mode and then choose to generate virtual hierarchies with area boundaries, the area boundary estimation is deferred until the area boundary of the virtual hierarchy is created. This allows the area estimation function to use the virtual hierarchy area boundary values or the instance bounding box values to determine the area for the area boundary.</div></li><li>
<a id="pgfId-1048430"></a>In default mode, the virtual figGroup is passed to the area estimator function. In this mode, area estimation is based on the actual size of the layout components.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1048431">
<a id="pgfId-1048431"></a>leRegAreaEstimator</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048432">
<a id="pgfId-1048432"></a>(&#39;myVHAreaEstimationFunction &quot;simpleAreaEst&quot;(&#39;group)&#39;((contactArea 1.0))&quot;default&quot;)</pre></li><li>
<a id="pgfId-1048433"></a>In direct mode, the schematic cellview is passed to the area estimator function. This means that the area is estimated based on the size of the schematic components instead of being based on the actual size of the layout components.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1048434">
<a id="pgfId-1048434"></a>leRegAreaEstimator(&#39;mySBAreaEstimationFunction &quot;simpleAreaEst&quot;&#39;schCVId)&#39;((contactArea 1.0))&quot;direct&quot;)</pre>
<a id="pgfId-1048435"></a>Here, direct means the function is applied when you choose the PR Boundary based or Bbox based area estimators on the Adjust Boundary form or use the initAreaFuncName environment variable. </li></ul></li></ol>
















<h4><em>
<a id="pgfId-1048436"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1051317"></a><h-hot><a actuate="user" class="URL" href="../sklayoutref/layout_re_leRegAreaEstimator.html" show="replace" xml:link="simple">leRegAreaEstimator</a></h-hot></p>
<p>
<a id="pgfId-1048438"></a><h-hot><a actuate="user" class="URL" href="../vdpuser/appB_re_Adjust_Boundary_Form.html" show="replace" xml:link="simple">Adjust Boundary Form</a></h-hot></p>
<p>
<a id="pgfId-1048439"></a><h-hot><a actuate="user" class="URL" href="../vxlhelp/xlEnvars_re_initAreaFuncName.html" show="replace" xml:link="simple">initAreaFuncName</a></h-hot></p>
<p>
<a id="pgfId-1048443"></a><a href="areaEstimation_tk_Registering_an_Area_Estimation_Function_to_Adjust_a_Soft_Block_PR_Boundary.html#RTF38373435343a206832742068">Registering an Area Estimation Function to Adjust a Soft Block PR Boundary</a></p>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="areaEstimation_re_Area_Estimation_Function_Registration.html" id="prev" title="Area Estimation Function Registration">Area Estimation Function Regis ...</a></em></b><b><em><a href="areaEstimation_tk_Registering_an_Area_Estimation_Function_to_Adjust_a_Soft_Block_PR_Boundary.html" id="nex" title="Registering an Area Estimation Function to Adjust a Soft Block PR Boundary">Registering an Area Estimation ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>